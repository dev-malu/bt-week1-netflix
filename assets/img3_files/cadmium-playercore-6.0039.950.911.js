R7xOY[348248]=(function(){var b7v=2;for(;b7v !== 9;){switch(b7v){case 1:return globalThis;break;case 2:b7v=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var F$3;try{var V73=2;for(;V73 !== 6;){switch(V73){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x77\u004a\u0074\u005f\u0067',{'\x67\x65\x74':function(){var d_G=2;for(;d_G !== 1;){switch(d_G){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});F$3=wJt_g;F$3['\x43\x73\x59\x49\x6c']=F$3;V73=4;break;case 4:V73=typeof CsYIl === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";V73=9;break;case 9:delete F$3['\x43\x73\x59\x49\x6c'];var j9_=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete j9_['\u0077\x4a\u0074\x5f\x67'];V73=6;break;}}}catch(Q24){F$3=window;}return F$3;break;}}})();R7xOY.g1D=function(){return typeof R7xOY[2329].L$q3dyn === 'function'?R7xOY[2329].L$q3dyn.apply(R7xOY[2329],arguments):R7xOY[2329].L$q3dyn;};R7xOY[285142]="zNI";R7xOY[348248].b133=R7xOY;R7xOY[62531]=275;R7xOY[187280]=true;R7xOY[326056]=R7xOY[2329];R7xOY.v$C=function(){return typeof R7xOY[2329].j0d3p1f === 'function'?R7xOY[2329].j0d3p1f.apply(R7xOY[2329],arguments):R7xOY[2329].j0d3p1f;};R7xOY.g6M=function(){return typeof R7xOY[2329].j0d3p1f === 'function'?R7xOY[2329].j0d3p1f.apply(R7xOY[2329],arguments):R7xOY[2329].j0d3p1f;};R7xOY[2329]=(function(P0G){return {L$q3dyn:function(){var D8s,n_t=arguments;switch(P0G){case 14:D8s=n_t[3] / n_t[0] / n_t[1] - n_t[2];break;case 5:D8s=n_t[0] < n_t[1];break;case 12:D8s=n_t[0] === n_t[1];break;case 6:D8s=n_t[1] + n_t[0];break;case 0:D8s=n_t[1] * n_t[0] / n_t[2];break;case 2:D8s=n_t[1] / n_t[0];break;case 11:D8s=n_t[0] == n_t[1];break;case 8:D8s=n_t[4] + n_t[3] + n_t[0] + n_t[2] + n_t[1];break;case 13:D8s=-n_t[1] / n_t[2] + n_t[0];break;case 7:D8s=(n_t[2] - n_t[1]) * n_t[0];break;case 17:D8s=n_t[0] / n_t[1] | n_t[2];break;case 16:D8s=n_t[0] + n_t[1] / n_t[2] * n_t[3];break;case 18:D8s=(n_t[3] / n_t[1] | n_t[2]) * n_t[0];break;case 25:D8s=n_t[3] / n_t[4] + n_t[2] + n_t[0] - n_t[1];break;case 4:D8s=(n_t[3] / n_t[4] - n_t[0]) / n_t[1] - n_t[2];break;case 15:D8s=n_t[0] * n_t[1];break;case 26:D8s=(n_t[4] / n_t[3] - n_t[2]) * n_t[0] - n_t[1];break;case 20:D8s=(n_t[4] - n_t[2]) / n_t[3] - n_t[1] + n_t[0];break;case 10:D8s=-n_t[1] + n_t[0];break;case 1:D8s=n_t[1] - n_t[0];break;case 28:D8s=n_t[0] * n_t[1] * n_t[3] - n_t[2];break;case 19:D8s=n_t[2] * n_t[1] - n_t[0];break;case 27:D8s=n_t[0] + n_t[3] + n_t[2] - n_t[1];break;case 3:D8s=n_t[1] * n_t[3] / n_t[0] - n_t[2];break;case 22:D8s=n_t[3] * n_t[0] + n_t[1] - n_t[2];break;case 24:D8s=n_t[2] - n_t[0] + n_t[1];break;case 23:D8s=(n_t[3] + n_t[0]) * n_t[1] * n_t[2] - n_t[4];break;case 21:D8s=n_t[2] / n_t[1] + n_t[0];break;case 9:D8s=n_t[2] + n_t[1] + n_t[0];break;}return D8s;},j0d3p1f:function(Z76){P0G=Z76;}};})();R7xOY.G5G=function(){return typeof R7xOY[2329].L$q3dyn === 'function'?R7xOY[2329].L$q3dyn.apply(R7xOY[2329],arguments):R7xOY[2329].L$q3dyn;};R7xOY[837]=R7xOY[348248];R7xOY[128754]=R7xOY[2329];R7xOY[156563]=R7xOY[348248];function R7xOY(){}R7xOY[165785]=394;(function(){(function(mb,zb){var lc,wc,Pb,fd,Gb,Ib,Xb,ge,he,Nb,Mb,Fc,ie,gd,je,ke,zd,Ea,Cb,Uc,le,Ad,cb,ub,Eb,mc,fc,Ub,vb,Yb,Ob,Wc,Jb,xc,Lb,$b,hd,nc,jc,kc,id,Bd,me,yc,zc,Hc,Cd,Xc,oc,jd,Ec,Dd,ne,Nc,Ed,Fd,Gd,Hd,pc,Id,Jd,Kd,Pc,qc,rc,Qc,kd,ld,md,hc,nf,Rb,Gc,oe,nd,sc,pe,of,tc,qe,pf,od,re,qf,Tc,se,mf,rf,Ld,pd,sf,tf,de,uf,ee,te,gc,Yc,ue,Zc,ve,ic,we,xe,ye,ze,wf,fe,Ae,yd,Be,vf,Ce,Md,De,Ee,Fe,Nd,Dc,He,Ge,xf,ad,Ie,Pd,bd,Je,Od,Ke,Le,Qd,Ne,Oe,td,Ic,Rc,Jc,Pe,Qe,Re,Se,Te,Ue,ud,yf,Ve,We,Sd,Xe,ec,$c,Oc,qd,Ac,uc,rd,Bc,Vc,Me,Ye,cd,Ze,zf,dd,$e,Af,Bf,af,Rd,sd,bf,Df,Cf,Sc,ed,Ef,ce,Ff,Gf;function ac(eb,db){if(!db || "utf-8" === db)return vd(eb);throw Error("unsupported encoding");}function bc(eb,db){if(!db || "utf-8" === db)return wd(eb);throw Error("unsupported encoding");}function vd(eb){for(var db=0,bb,Xa=eb.length,jb="";db < Xa;){bb=eb[db++];if(bb & 128)if(192 === (bb & 224))bb=((bb & 31) << 6) + (eb[db++] & 63);else if(224 === (bb & 240))bb=((bb & 15) << 12) + ((eb[db++] & 63) << 6) + (eb[db++] & 63);else throw Error("unsupported character");jb+=String.fromCharCode(bb);}return jb;}function wd(eb){var db,bb,Xa,jb,tb;db=eb.length;bb=0;jb=0;for(Xa=db;Xa--;){tb=eb.charCodeAt(Xa);128 > tb?bb++:bb=2048 > tb?bb + 2:bb + 3;}bb=new Uint8Array(bb);for(Xa=0;Xa < db;Xa++){tb=eb.charCodeAt(Xa);128 > tb?bb[jb++]=tb:(2048 > tb?bb[jb++]=192 | tb >>> 6:(bb[jb++]=224 | tb >>> 12,bb[jb++]=128 | tb >>> 6 & 63),bb[jb++]=128 | tb & 63);}return bb;}function cc(eb,db){if(eb === db)return !0;if(!eb || !db || eb.length != db.length)return !1;for(var bb=0;bb < eb.length;++bb){if(eb[bb] != db[bb])return !1;}return !0;}function dc(eb){var Xa;if(!(eb && eb.constructor == Uint8Array || Array.isArray(eb)))throw new TypeError("Cannot compute the hash code of " + eb);for(var db=1,bb=0;bb < eb.length;++bb){Xa=eb[bb];if("number" !== typeof Xa)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + Xa);db=31 * db + Xa & 4294967295;}return db;}function Yd(eb,db){var gb;if(eb === db)return !0;if(!eb || !db)return !1;db instanceof Array || (db=[db]);for(var bb=0;bb < db.length;++bb){for(var Xa=db[bb],jb=!1,tb=0;tb < eb.length;++tb){gb=eb[tb];if(Xa.equals && "function" === typeof Xa.equals && Xa.equals(gb) || Xa == gb){jb=!0;break;}}if(!jb)return !1;}return !0;}function Zd(eb,db){return Yd(eb,db) && (eb.length == db.length || Yd(db,eb));}function Ka(eb,db,bb){var Xa,jb;bb && (Xa=bb);if("object" !== typeof eb || "function" !== typeof eb.result || "function" !== typeof eb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{jb=db.call(Xa,eb);jb !== zb && eb.result(jb);}catch(tb){try{eb.error(tb);}catch(gb){}}}function $a(eb,db,bb){if("object" !== typeof eb || "function" !== typeof eb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ka(eb,db,bb);}function U(eb,db,bb){1E5 > eb && (eb=1E5 + eb);Object.defineProperties(this,{internalCode:{value:eb,writable:!1,configurable:!1},responseCode:{value:db,writable:!1,configurable:!1},message:{value:bb,writable:!1,configurable:!1}});}function xd(eb){switch(eb){case Rb.PSK:case Rb.MGK:return !0;default:return !1;}}function $d(eb){switch(eb){case Rb.PSK:case Rb.MGK:case Rb.X509:case Rb.RSA:case Rb.NPTICKET:case Rb.ECC:return !0;default:return !1;}}function hf(eb){return eb.toJSON();}function ae(eb,db){ed?db.result(ed):Promise.resolve().then(function(){return Lb.getKeyByName(eb);}).catch(function(){return Lb.generateKey({name:eb},!1,["wrapKey","unwrapKey"]);}).then(function(bb){ed=bb;db.result(ed);}).catch(function(bb){db.error(new cb(U.INTERNAL_EXCEPTION,"Unable to get system key"));});}function be(eb,db){var bb,Xa;bb=db.masterToken;Xa=db.userIdToken;db=db.serviceTokens;return {NccpMethod:eb.method,UserId:eb.userId,UT:Xa && Xa.serialNumber,MT:bb && bb.serialNumber + ":" + bb.sequenceNumber,STCount:db && db.length};}function jf(eb){return eb.uniqueKey();}function kf(eb,db,bb,Xa,jb){var La;function tb(ua,na){ua.errorCode === Ea.ENTITY_REAUTH || ua.errorCode === Ea.ENTITYDATA_REAUTH?(Xa.clearCryptoContexts(),Ha()):ua.errorCode !== Ea.USER_REAUTH && ua.errorCode !== Ea.USERDATA_REAUTH || gb(na);}function gb(ua){if(ua=Xa.getUserIdToken(ua))(Xa.removeUserIdToken(ua),Ha());}function Aa(ua,na,fa){var Z;Z=[];(function W(){ua.read(-1,na,{result:function(ca){Ka(fa,function(){var Y,ia,va,sa,ja;if(ca)(Z.push(ca),W());else switch(Z.length){case 0:return new Uint8Array(0);case 1:return Z[0];default:(va=Z.length,sa=0);for(ia=Y=0;ia < va;ia++){Y+=Z[ia].length;}Y=new Uint8Array(Y);for(ia=0;ia < va;ia++){ja=Z[ia];Y.set(ja,sa);sa+=ja.length;}return Y;}});},timeout:function(){fa.timeout();},error:function(ca){fa.error(ca);}});})();}function Ha(){Xa.getStoreState({result:function(ua){for(var na=La.slice(),fa=0;fa < na.length;fa++){na[fa]({storeState:ua});}},timeout:function(){eb.error("Timeout getting store state","" + e);},error:function(ua){eb.error("Error getting store state","" + ua);}});}La=[];this.addEventHandler=function(ua,na){switch(ua){case "shouldpersist":La.push(na);}};this.send=function(ua){return new Promise(function(na,fa){var Z,V,W;Z=ua.timeout;V=new ce(eb,bb,ua,Xa.getKeyRequestData());W=new de(ua.url);eb.trace("Sending MSL request");db.request(bb,V,W,Z,{result:function(ca){var Y;eb.trace("Received MSL response",{Method:ua.method});if(ca){ua.allowTokenRefresh && Ha();Y=ca.getErrorHeader();Y?(tb(Y,ua.profileGuid || ua.userId),fa({success:!1,error:Y})):Aa(ca,Z,{result:function(ia){na({success:!0,body:ac(ia)});},timeout:function(){fa({success:!1,subCode:jb.MSL_READ_TIMEOUT});},error:function(ia){fa({success:!1,error:ia});}});}else fa({success:!1,error:new cb(U.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){fa({success:!1,subCode:jb.MSL_REQUEST_TIMEOUT});},error:function(ca){fa({success:!1,error:ca});}});});};this.hasUserIdToken=function(ua){return !!Xa.getUserIdToken(ua);};this.getUserIdTokenKeys=function(){return Xa.getUserIdTokenKeys();};this.removeUserIdToken=gb;this.clearUserIdTokens=function(){Xa.clearUserIdTokens();Ha();};this.isErrorReauth=function(ua){return ua && ua.errorCode == Ea.USERDATA_REAUTH;};this.isErrorHeader=function(ua){return ua instanceof Dc;};this.getErrorCode=function(ua){return ua && ua.errorCode;};this.getStateForMdx=function(ua){var na,fa;na=Xa.getMasterToken();ua=Xa.getUserIdToken(ua);fa=Xa.getCryptoContext(na);return {masterToken:na,userIdToken:ua,cryptoContext:fa};};this.buildPlayDataRequest=function(ua,na){var fa;fa=new ee();db.request(bb,new ce(eb,bb,ua),fa,ua.timeout,{result:function(){na.result(fa.getRequest());},error:function(){na.result(fa.getRequest());},timeout:function(){na.timeout();}});};this.rekeyUserIdToken=function(ua,na){Xa.rekeyUserIdToken(ua,na);Ha();};this.getServiceTokens=function(ua){var na;na=Xa.getMasterToken();(ua=Xa.getUserIdToken(ua)) && !ua.isBoundTo(na) && (ua=zb);return Xa.getServiceTokens(na,ua);};this.removeServiceToken=function(ua){var na;na=Xa.getMasterToken();Xa.getServiceTokens(na).find(function(fa){return fa.name === ua;}) && (Xa.removeServiceTokens(ua,na),Ha());};}function lf(eb,db,bb){var tb;function Xa(){return Promise.resolve().then(function(){return Lb.generateKey(db,!1,["wrapKey","unwrapKey"]);}).then(function(gb){return jb(gb.publicKey,gb.privateKey);});}function jb(gb,Aa){return Promise.all([new Promise(function(Ha,La){Ec(gb,{result:Ha,error:function(ua){La(new cb(U.INTERNAL_EXCEPTION,"Unable to create keyx public key",ua));}});}),new Promise(function(Ha,La){Nc(Aa,{result:Ha,error:function(ua){La(new cb(U.INTERNAL_EXCEPTION,"Unable to create keyx private key",ua));}});})]).then(function(Ha){Ha=new yd("rsaKeypairId",bb,Ha[0],Ha[1]);tb && (Ha.storeData={keyxPublicKey:gb,keyxPrivateKey:Aa});return Ha;});}tb=!eb.systemKeyWrapFormat;return Promise.resolve().then(function(){var gb,Aa;gb=eb.storeState;Aa=gb && gb.keyxPublicKey;gb=gb && gb.keyxPrivateKey;return tb && Aa && gb?jb(Aa,gb):Xa();}).then(function(gb){var Aa,Ha,La;Aa={};Aa[Rb.NONE]=new mf();Ha=new Tc(eb.esn);La=[new fe()];return {entityAuthFactories:Aa,entityAuthData:Ha,keyExchangeFactories:La,keyRequestData:gb,createKeyRequestData:tb?Xa:zb};});}wc=mb.nfCrypto || mb.msCrypto || mb.webkitCrypto || mb.crypto;Pb=wc && (wc.webkitSubtle || wc.subtle);fd=mb.nfCryptokeys || mb.msCryptokeys || mb.webkitCryptokeys || mb.cryptokeys;(function(eb){var db,bb;db=(function(){function Xa(jb,tb){jb instanceof db?(this.abv=jb.abv,this.position=jb.position):(this.abv=jb,this.position=tb || 0);}Xa.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(jb){this.abv[this.position++]=jb;},peekByte:function(jb){return this.abv[jb];},copyBytes:function(jb,tb,gb){var Aa;Aa=new Uint8Array(this.abv.buffer,this.position,gb);jb=new Uint8Array(jb.buffer,tb,gb);Aa.set(jb);this.position+=gb;},seek:function(jb){this.position=jb;},skip:function(jb){this.position+=jb;},getPosition:function(){return this.position;},setPosition:function(jb){this.position=jb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return Xa;})();bb={};(function(){var ca,Y,ia,va,sa,ja,qa,ya,ma;function Xa(ba,ea){var ha;ea.writeByte(ba.tagClass << 6 | ba.constructed << 5 | ba.tag);ha=ba.payloadLen;if(128 > ha)ea.writeByte(ha);else {for(var wa=ha,Oa=0;wa;){++Oa;wa>>=8;}ea.writeByte(128 | Oa);for(wa=0;wa < Oa;++wa){ea.writeByte(ha >> 8 * (Oa - wa - 1) & 255);}}if(ba.child)for((ba.tag == ca.BIT_STRING && ea.writeByte(0),ba=ba._child);ba;){if(!Xa(ba,ea))return !1;ba=ba.next;}else switch(ba.tag){case ca.INTEGER:ba.backingStore[ba.dataIdx] >> 7 && ea.writeByte(0);ea.copyBytes(ba.backingStore,ba.dataIdx,ba.dataLen);break;case ca.BIT_STRING:ea.writeByte(0);ea.copyBytes(ba.backingStore,ba.dataIdx,ba.dataLen);break;case ca.OCTET_STRING:ea.copyBytes(ba.backingStore,ba.dataIdx,ba.dataLen);break;case ca.OBJECT_IDENTIFIER:ea.copyBytes(ba.backingStore,ba.dataIdx,ba.dataLen);}return !0;}function jb(ba){var ea,ha;ea=ba.readByte();ha=ea & 127;if(ha == ea)return ha;if(3 < ha || 0 === ha)return -1;for(var wa=ea=0;wa < ha;++wa){ea=ea << 8 | ba.readByte();}return ea;}function tb(ba,ea,ha){var wa,Oa,Ia,Ma,Qa,pa,xa;wa=ba.backingStore;Oa=new db(wa,ea);ea+=ha;ha=ba;if(8 < sa++)return zb;for(;Oa.getPosition() < ea;){Oa.getPosition();Ma=Oa.readByte();if(31 == (Ma & 31)){for(Ia=0;Ma & 128;){Ia<<=8;Ia|=Ma & 127;}Ma=Ia;}Qa=Ma;Ia=Qa & 31;if(0 > Ia || 30 < Ia)return zb;Ma=jb(Oa);if(0 > Ma || Ma > Oa.getRemaining())return zb;ha.constructed=Qa & 32;ha.tagClass=(Qa & 192) >> 6;ha.tag=Ia;ha.dataLen=Ma;ha.dataIdx=Oa.getPosition();Ia=Oa;pa=Qa;Qa=Ma;if(pa & 32)Ia=!0;else if(pa < ca.BIT_STRING || pa > ca.OCTET_STRING)Ia=!1;else {xa=new db(Ia);pa == ca.BIT_STRING && xa.skip(1);xa.readByte() >> 6 & 1?Ia=!1:(pa=jb(xa),Ia=xa.getPosition() - Ia.getPosition() + pa == Qa);}Ia && (Ia=Oa.getPosition(),Qa=Ma,ha.tag == ca.BIT_STRING && (ha.dataIdx++,ha.dataLen--,Ia++,Qa--),ha.child=new Y(wa,ha),tb(ha.child,Ia,Qa));ha.tag == ca.INTEGER && (Ia=Oa.getPosition(),0 == Oa.peekByte(Ia) && Oa.peekByte(Ia + 1) >> 7 && (ha.dataIdx++,ha.dataLen--));Oa.skip(Ma);Oa.getPosition() < ea && (ha.next=new Y(wa,ha.parent),ha=ha.next);}sa--;return ba;}function gb(ba,ea,ha){if(9 != ha)return !1;for(ha=0;9 > ha;++ha){if(ba[ea++] != ja[ha])return !1;}return !0;}function Aa(ba){var ea;if(!(ba && ba.child && ba.child.next && ba.child.child && ba.child.next.child))return !1;ea=ba.child.child;return gb(ea.backingStore,ea.dataIdx,ea.dataLen) && 2 == ba.nChildren && 2 == ba.child.nChildren && 2 == ba.child.next.child.nChildren?!0:!1;}function Ha(ba){var ea;if(!(ba && ba.child && ba.child.next && ba.child.next.child && ba.child.next.next && ba.child.next.next.child))return !1;ea=ba.child.next.child;return gb(ea.backingStore,ea.dataIdx,ea.dataLen) && 3 == ba.nChildren && 2 == ba.child.next.nChildren && 9 == ba.child.next.next.child.nChildren?!0:!1;}function La(ba){var ea,ha;ea=ia.createSequenceNode();ha=new va(ea);ha.addChild(ia.createSequenceNode());ha.addChild(ia.createOidNode(ja));ha.addSibling(ia.createNullNode());ha.addToParent(ea,ia.createBitStringNode(null));ha.addChild(ia.createSequenceNode());ha.addChild(ia.createIntegerNode(ba.n));ha.addSibling(ia.createIntegerNode(ba.e));return ea;}function ua(ba){var ea;ba=ba.child.next.child.child;ea=ba.data;ba=ba.next;return new qa(ea,ba.data,null,null);}function na(ba){var ea,ha;ea=ia.createSequenceNode();ha=new va(ea);ha.addChild(ia.createIntegerNode(new Uint8Array([0])));ha.addSibling(ia.createSequenceNode());ha.addChild(ia.createOidNode(ja));ha.addSibling(ia.createNullNode());ha.addToParent(ea,ia.createOctetStringNode(null));ha.addChild(ia.createSequenceNode());ha.addChild(ia.createIntegerNode(new Uint8Array([0])));ha.addSibling(ia.createIntegerNode(ba.n));ha.addSibling(ia.createIntegerNode(ba.e));ha.addSibling(ia.createIntegerNode(ba.d));ha.addSibling(ia.createIntegerNode(ba.p));ha.addSibling(ia.createIntegerNode(ba.q));ha.addSibling(ia.createIntegerNode(ba.dp));ha.addSibling(ia.createIntegerNode(ba.dq));ha.addSibling(ia.createIntegerNode(ba.qi));return ea;}function fa(ba){var ea;ea=[];ba=ba.child.next.next.child.child.next;for(var ha=0;8 > ha;ha++){ea.push(ba.data);ba=ba.next;}return new ya(ea[0],ea[1],ea[2],ea[3],ea[4],ea[5],ea[6],ea[7]);}function Z(ba,ea,ha,wa){if(!(ba instanceof qa || ba instanceof ya))return zb;if(ha)for(var Oa=0;Oa < ha.length;++Oa){if(-1 == ma.indexOf(ha[Oa]))return zb;}ea={kty:"RSA",alg:ea,key_ops:ha || [],ext:wa == zb?!1:wa,n:Gb(ba.n,!0),e:Gb(ba.e,!0)};ba instanceof ya && (ea.d=Gb(ba.d,!0),ea.p=Gb(ba.p,!0),ea.q=Gb(ba.q,!0),ea.dp=Gb(ba.dp,!0),ea.dq=Gb(ba.dq,!0),ea.qi=Gb(ba.qi,!0));return ea;}function V(ba){var ea,ha,wa,Oa,Ia,Ma,Qa,pa,xa,Da;if(!ba.kty || "RSA" != ba.kty || !ba.n || !ba.e)return zb;ea=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(ba.alg && -1 == ea.indexOf(ba.alg))return zb;ea=[];ba.use?"enc" == ba.use?ea=["encrypt","decrypt","wrap","unwrap"]:"sig" == ba.use && (ea=["sign","verify"]):ea=ba.key_ops;ha=ba.ext;wa=Ib(ba.n,!0);Oa=Ib(ba.e,!0);if(ba.d){Ia=Ib(ba.d,!0);Ma=Ib(ba.p,!0);Qa=Ib(ba.q,!0);pa=Ib(ba.dp,!0);xa=Ib(ba.dq,!0);Da=Ib(ba.qi,!0);return new ya(wa,Oa,Ia,Ma,Qa,pa,xa,Da,ba.alg,ea,ha);}return new qa(wa,Oa,ha,ea);}function W(ba,ea,ha,wa){this.der=ba;this.type=ea;this.keyOps=ha;this.extractable=wa;}ca={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};Y=function(ba,ea,ha,wa,Oa,Ia){this._data=ba;this._parent=ea || zb;this._constructed=ha || !1;this._tagClass=0;this._tag=wa || 0;this._dataIdx=Oa || 0;this._dataLen=Ia || 0;};Y.prototype={_child:zb,_next:zb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(ba) {this._constructed=0 != ba?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(ba) {this._tagClass=ba;},get tag() {return this._tag;},set tag(ba) {this._tag=ba;},get dataIdx() {return this._dataIdx;},set dataIdx(ba) {this._dataIdx=ba;},get dataLen() {return this._dataLen;},set dataLen(ba) {this._dataLen=ba;},get child() {return this._child;},set child(ba) {this._child=ba;this._child.parent=this;},get next() {return this._next;},set next(ba) {this._next=ba;},get parent() {return this._parent;},set parent(ba) {this._parent=ba;},get payloadLen() {var ba;ba=0;if(this._child){for(var ea=this._child;ea;){ba+=ea.length;ea=ea.next;}this._tag == ca.BIT_STRING && ba++;}else switch(this._tag){case ca.INTEGER:ba=this._dataLen;this._data[this._dataIdx] >> 7 && ba++;break;case ca.BIT_STRING:ba=this._dataLen + 1;break;case ca.OCTET_STRING:ba=this._dataLen;break;case ca.NULL:ba=0;break;case ca.OBJECT_IDENTIFIER:gb(this._data,this._dataIdx,this._dataLen) && (ba=9);}return ba;},get length() {var ba,ea;ba=this.payloadLen;if(127 < ba)for(ea=ba;ea;){ea>>=8;++ba;}return ba + 2;},get der() {var ba,ea;ba=this.length;if(!ba)return zb;ba=new Uint8Array(ba);ea=new db(ba);return Xa(this,ea)?ba:zb;},get nChildren() {for(var ba=0,ea=this._child;ea;){ba++;ea=ea.next;}return ba;}};ia={createSequenceNode:function(){return new Y(null,null,!0,ca.SEQUENCE,null,null);},createOidNode:function(ba){return new Y(ba,null,!1,ca.OBJECT_IDENTIFIER,0,ba?ba.length:0);},createNullNode:function(){return new Y(null,null,!1,ca.NULL,null,null);},createBitStringNode:function(ba){return new Y(ba,null,!1,ca.BIT_STRING,0,ba?ba.length:0);},createIntegerNode:function(ba){return new Y(ba,null,!1,ca.INTEGER,0,ba?ba.length:0);},createOctetStringNode:function(ba){return new Y(ba,null,!1,ca.OCTET_STRING,0,ba?ba.length:0);}};va=function(ba){this._currentNode=this._rootNode=ba;};va.prototype={addChild:function(ba){this.addTo(this._currentNode,ba);},addSibling:function(ba){this.addTo(this._currentNode.parent,ba);},addTo:function(ba,ea){this._currentNode=ea;this._currentNode.parent=ba;if(ba.child){for(ba=ba.child;ba.next;){ba=ba.next;}ba.next=ea;}else ba.child=ea;},addToParent:function(ba,ea){this.findNode(ba) && this.addTo(ba,ea);},findNode:function(ba){for(var ea=this._currentNode;ea;){if(ba == ea)return !0;ea=ea.parent;}return !1;}};sa=0;ja=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(ba,ea,ha,wa){this.n=ba;this.e=ea;this.ext=ha;this.keyOps=wa;};ya=function(ba,ea,ha,wa,Oa,Ia,Ma,Qa,pa,xa,Da){this.n=ba;this.e=ea;this.d=ha;this.p=wa;this.q=Oa;this.dp=Ia;this.dq=Ma;this.qi=Qa;this.alg=pa;this.keyOps=xa;this.ext=Da;};ma=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");W.prototype.getDer=function(){return this.der;};W.prototype.getType=function(){return this.type;};W.prototype.getKeyOps=function(){return this.keyOps;};W.prototype.getExtractable=function(){return this.extractable;};bb.parse=function(ba){sa=0;return tb(new Y(ba),0,ba.length);};bb.show=function(ba,ea){};bb.isRsaSpki=Aa;bb.isRsaPkcs8=Ha;bb.NodeFactory=ia;bb.Builder=va;bb.tagVal=ca;bb.RsaPublicKey=qa;bb.RsaPrivateKey=ya;bb.buildRsaSpki=La;bb.parseRsaSpki=function(ba){ba=bb.parse(ba);return Aa?ua(ba):zb;};bb.buildRsaPkcs8=na;bb.parseRsaPkcs8=function(ba){ba=bb.parse(ba);return Ha(ba)?fa(ba):zb;};bb.buildRsaJwk=Z;bb.parseRsaJwk=V;bb.RsaDer=W;bb.rsaDerToJwk=function(ba,ea,ha,wa){ba=bb.parse(ba);if(!ba)return zb;if(Aa(ba))ba=ua(ba);else if(Ha(ba))ba=fa(ba);else return zb;return Z(ba,ea,ha,wa);};bb.jwkToRsaDer=function(ba){var ea,ha;ba=V(ba);if(!ba)return zb;if(ba instanceof qa){ea="spki";ha=La(ba).der;}else if(ba instanceof ya)(ea="pkcs8",ha=na(ba).der);else return zb;return new W(ha,ea,ba.keyOps,ba.ext);};bb.webCryptoAlgorithmToJwkAlg=function(ba){return "RSAES-PKCS1-v1_5" == ba.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == ba.name?"SHA-256" == ba.hash.name?"RS256":"SHA-384" == ba.hash.name?"RS384":"SHA-512" == ba.hash.name?"RS512":zb:zb;};bb.webCryptoUsageToJwkKeyOps=function(ba){return ba.map(function(ea){return "wrapKey" == ea?"wrap":"unwrapKey" == ea?"unwrap":ea;});};})();eb.ASN1=bb;})(mb);(function(){for(var eb={},db={},bb={"=":0,".":0},Xa={"=":0,".":0},jb=/\s+/g,tb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,gb=64;gb--;){eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=262144 * gb;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=4096 * gb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=64 * gb;Xa[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=gb;}for(gb=64;gb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb];){eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=262144 * gb;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=4096 * gb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=64 * gb;Xa[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=gb;}Gb=function(Aa,Ha){for(var La="",ua=0,na=Aa.length,fa=na - 2,Z=Ha?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V=Ha?"":"=";ua < fa;){Ha=65536 * Aa[ua++] + 256 * Aa[ua++] + Aa[ua++];La+=Z[Ha >>> 18] + Z[Ha >>> 12 & 63] + Z[Ha >>> 6 & 63] + Z[Ha & 63];}ua == fa?(Ha=65536 * Aa[ua++] + 256 * Aa[ua++],La+=Z[Ha >>> 18] + Z[Ha >>> 12 & 63] + Z[Ha >>> 6 & 63] + V):ua == na - 1 && (Ha=65536 * Aa[ua++],La+=Z[Ha >>> 18] + Z[Ha >>> 12 & 63] + V + V);return La;};Ib=function(Aa,Ha){Aa=Aa.replace(jb,"");if(Ha && (Ha=Aa.length % 4)){Ha=4 - Ha;for(var La=0;La < Ha;++La){Aa+="=";}}Ha=Aa.length;if(0 != Ha % 4 || !tb.test(Aa))throw Error("bad base64: " + Aa);for(var ua=Ha / 4 * 3 - ("=" == Aa[Ha - 1]?1:0) - ("=" == Aa[Ha - 2]?1:0),na=new Uint8Array(ua),fa=0,Z=0;fa < Ha;){La=eb[Aa[fa++]] + db[Aa[fa++]] + bb[Aa[fa++]] + Xa[Aa[fa++]];na[Z++]=La >>> 16;Z < ua && (na[Z++]=La >>> 8 & 255,Z < ua && (na[Z++]=La & 255));}return na;};})();Xb={};(function(){var tb,gb,Aa,La;function eb(ua){if(!(this instanceof eb))return new eb(ua);for(var na=0,fa=gb.length;na < fa;na++){this[gb[na]]="";}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ua || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Aa.BEGIN;this.stack=new tb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;db(this,"onready");}function db(ua,na,fa){if(ua[na])ua[na](fa);}function bb(ua,na){var fa,Z;fa=ua.opt;Z=ua.textNode;fa.trim && (Z=Z.trim());fa.normalize && (Z=Z.replace(/\s+/g," "));ua.textNode=Z;ua.textNode && db(ua,na?na:"onvalue",ua.textNode);ua.textNode="";}function Xa(ua,na){bb(ua);na+="\nLine: " + ua.line + "\nColumn: " + ua.column + "\nChar: " + ua.c;na=Error(na);ua.error=na;db(ua,"onerror",na);return ua;}function jb(ua){ua.state !== Aa.VALUE && Xa(ua,"Unexpected end");bb(ua);ua.c="";ua.closed=!0;db(ua,"onend");eb.call(ua,ua.opt);return ua;}tb=Array;Xb.parser=function(ua){return new eb(ua);};Xb.CParser=eb;Xb.MAX_BUFFER_LENGTH=65536;Xb.DEBUG=!1;Xb.INFO=!1;Xb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");gb=["textNode","numberNode"];Xb.EVENTS.filter(function(ua){return "error" !== ua && "end" !== ua;});Aa=0;Xb.STATE={BEGIN:Aa++,VALUE:Aa++,OPEN_OBJECT:Aa++,CLOSE_OBJECT:Aa++,OPEN_ARRAY:Aa++,CLOSE_ARRAY:Aa++,TEXT_ESCAPE:Aa++,STRING:Aa++,BACKSLASH:Aa++,END:Aa++,OPEN_KEY:Aa++,CLOSE_KEY:Aa++,TRUE:Aa++,TRUE2:Aa++,TRUE3:Aa++,FALSE:Aa++,FALSE2:Aa++,FALSE3:Aa++,FALSE4:Aa++,NULL:Aa++,NULL2:Aa++,NULL3:Aa++,NUMBER_DECIMAL_POINT:Aa++,NUMBER_DIGIT:Aa++};for(var Ha in Xb.STATE){Xb.STATE[Xb.STATE[Ha]]=Ha;}Aa=Xb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ua){return ua.__proto__;});La=/[\\"\n]/g;eb.prototype={end:function(){jb(this);},write:function(ua){var Z,V,W;if(this.error)throw this.error;if(this.closed)return Xa(this,"Cannot write after close. Assign an onready handler.");if(null === ua)return jb(this);for(var na=ua[0],fa;na;){fa=na;this.c=na=ua.charAt(this.index++);fa !== na?this.p=fa:fa=this.p;if(!na)break;this.position++;"\n" === na?(this.line++,this.column=0):this.column++;switch(this.state){case Aa.BEGIN:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"\r" !== na && "\n" !== na && " " !== na && "\t" !== na && Xa(this,"Non-whitespace before {[.");continue;case Aa.OPEN_KEY:case Aa.OPEN_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_KEY)this.stack.push(Aa.CLOSE_KEY);else if("}" === na){db(this,"onopenobject");db(this,"oncloseobject");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_OBJECT);'"' === na?this.state=Aa.STRING:Xa(this,'Malformed object key should start with "');continue;case Aa.CLOSE_KEY:case Aa.CLOSE_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;":" === na?(this.state === Aa.CLOSE_OBJECT?(this.stack.push(Aa.CLOSE_OBJECT),bb(this,"onopenobject")):bb(this,"onkey"),this.state=Aa.VALUE):"}" === na?(bb(this),db(this,"oncloseobject",void 0),this.state=this.stack.pop() || Aa.VALUE):"," === na?(this.state === Aa.CLOSE_OBJECT && this.stack.push(Aa.CLOSE_OBJECT),bb(this),this.state=Aa.OPEN_KEY):Xa(this,"Bad object");continue;case Aa.OPEN_ARRAY:case Aa.VALUE:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_ARRAY)if((db(this,"onopenarray"),this.state=Aa.VALUE,"]" === na)){db(this,"onclosearray");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_ARRAY);'"' === na?this.state=Aa.STRING:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"t" === na?this.state=Aa.TRUE:"f" === na?this.state=Aa.FALSE:"n" === na?this.state=Aa.NULL:"-" === na?this.numberNode+=na:"0" === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(na)?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):Xa(this,"Bad value");continue;case Aa.CLOSE_ARRAY:if("," === na)(this.stack.push(Aa.CLOSE_ARRAY),bb(this,"onvalue"),this.state=Aa.VALUE);else if("]" === na)(bb(this),db(this,"onclosearray",void 0),this.state=this.stack.pop() || Aa.VALUE);else if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;else Xa(this,"Bad array");continue;case Aa.STRING:fa=this.index - 1;(Z=this.slashed,V=this.unicodeI);a:for(;;){if(Xb.DEBUG)for(;0 < V;){if((this.unicodeS+=na,na=ua.charAt(this.index++),4 === V?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),V=0,fa=this.index - 1):V++,!na))break a;}if('"' === na && !Z){this.state=this.stack.pop() || Aa.VALUE;(this.textNode+=ua.substring(fa,this.index - 1)) || db(this,"onvalue","");break;}if("\\" === na && !Z && (Z=!0,this.textNode+=ua.substring(fa,this.index - 1),na=ua.charAt(this.index++),!na))break;if(Z)if((Z=!1,"n" === na?this.textNode+="\n":"r" === na?this.textNode+="\r":"t" === na?this.textNode+="\t":"f" === na?this.textNode+="\f":"b" === na?this.textNode+="\b":"u" === na?(V=1,this.unicodeS=""):this.textNode+=na,na=ua.charAt(this.index++),fa=this.index - 1,na))continue;else break;La.lastIndex=this.index;W=La.exec(ua);if(null === W){this.index=ua.length + 1;this.textNode+=ua.substring(fa,this.index - 1);break;}this.index=W.index + 1;na=ua.charAt(W.index);if(!na){this.textNode+=ua.substring(fa,this.index - 1);break;}}this.slashed=Z;this.unicodeI=V;continue;case Aa.TRUE:if("" === na)continue;"r" === na?this.state=Aa.TRUE2:Xa(this,"Invalid true started with t" + na);continue;case Aa.TRUE2:if("" === na)continue;"u" === na?this.state=Aa.TRUE3:Xa(this,"Invalid true started with tr" + na);continue;case Aa.TRUE3:if("" === na)continue;"e" === na?(db(this,"onvalue",!0),this.state=this.stack.pop() || Aa.VALUE):Xa(this,"Invalid true started with tru" + na);continue;case Aa.FALSE:if("" === na)continue;"a" === na?this.state=Aa.FALSE2:Xa(this,"Invalid false started with f" + na);continue;case Aa.FALSE2:if("" === na)continue;"l" === na?this.state=Aa.FALSE3:Xa(this,"Invalid false started with fa" + na);continue;case Aa.FALSE3:if("" === na)continue;"s" === na?this.state=Aa.FALSE4:Xa(this,"Invalid false started with fal" + na);continue;case Aa.FALSE4:if("" === na)continue;"e" === na?(db(this,"onvalue",!1),this.state=this.stack.pop() || Aa.VALUE):Xa(this,"Invalid false started with fals" + na);continue;case Aa.NULL:if("" === na)continue;"u" === na?this.state=Aa.NULL2:Xa(this,"Invalid null started with n" + na);continue;case Aa.NULL2:if("" === na)continue;"l" === na?this.state=Aa.NULL3:Xa(this,"Invalid null started with nu" + na);continue;case Aa.NULL3:if("" === na)continue;"l" === na?(db(this,"onvalue",null),this.state=this.stack.pop() || Aa.VALUE):Xa(this,"Invalid null started with nul" + na);continue;case Aa.NUMBER_DECIMAL_POINT:"." === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):Xa(this,"Leading zero not followed by .");continue;case Aa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(na)?this.numberNode+=na:"." === na?(-1 !== this.numberNode.indexOf(".") && Xa(this,"Invalid number has two dots"),this.numberNode+=na):"e" === na || "E" === na?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || Xa(this,"Invalid number has two exponential"),this.numberNode+=na):"+" === na || "-" === na?("e" !== fa && "E" !== fa && Xa(this,"Invalid symbol in number"),this.numberNode+=na):(this.numberNode && db(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Aa.VALUE);continue;default:Xa(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ua=Math.max(Xb.MAX_BUFFER_LENGTH,10);fa=na=0;for(Z=gb.length;fa < Z;fa++){V=this[gb[fa]].length;if(V > ua)switch(gb[fa]){case "text":break;default:Xa(this,"Max buffer length exceeded: " + gb[fa]);}na=Math.max(na,V);}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH - na + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var Xa,jb,tb;function eb(gb,Aa){Aa || (Aa=gb.length);return gb.reduce(function(Ha,La,ua){return ua < Aa?Ha + String.fromCharCode(La):Ha;},"");}for(var db={},bb=0;256 > bb;++bb){Xa=eb([bb]);db[Xa]=bb;}jb=Object.keys(db).length;tb=[];for(bb=0;256 > bb;++bb){tb[bb]=[bb];}ge=function(gb,Aa){var Y,ia;function Ha(va,sa){var ja;for(;0 < sa;){if(V >= Z.length)return !1;if(sa > W){ja=va;ja>>>=sa - W;Z[V]|=ja & 255;sa-=W;W=8;++V;}else sa <= W && (ja=va,ja<<=W - sa,ja&=255,ja>>>=8 - W,Z[V]|=ja & 255,W-=sa,sa=0,0 == W && (W=8,++V));}return !0;}for(var La in db){Aa[La]=db[La];}for(var ua=jb,na=[],fa=8,Z=new Uint8Array(gb.length),V=0,W=8,ca=0;ca < gb.length;++ca){Y=gb[ca];na.push(Y);La=eb(na);ia=Aa[La];if(!ia){na=eb(na,na.length - 1);if(!Ha(Aa[na],fa))return null;0 != ua >> fa && ++fa;Aa[La]=ua++;na=[Y];}}return 0 < na.length && (La=eb(na),ia=Aa[La],!Ha(ia,fa))?null:Z.subarray(0,8 > W?V + 1:V);};he=function(gb){var ca,Y;for(var Aa=tb.slice(),Ha=0,La=0,ua=8,na=new Uint8Array(Math.ceil(1.5 * gb.length)),fa=0,Z,V=[];Ha < gb.length && !(8 * (gb.length - Ha) - La < ua);){for(var W=Z=0;W < ua;){ca=Math.min(ua - W,8 - La);Y=gb[Ha];Y<<=La;Y&=255;Y>>>=8 - ca;W+=ca;La+=ca;8 == La && (La=0,++Ha);Z|=(Y & 255) << ua - W;}W=Aa[Z];0 == V.length?++ua:(W?V.push(W[0]):V.push(V[0]),Aa[Aa.length]=V,V=[],Aa.length == 1 << ua && ++ua,W || (W=Aa[Z]));Z=fa + W.length;Z >= na.length && (ca=new Uint8Array(Math.ceil(1.5 * Z)),ca.set(na),na=ca);na.set(W,fa);fa=Z;V=V.concat(W);}return na.subarray(0,fa);};})();(function(){var eb,db,bb;Nb="utf-8";Mb=9007199254740992;eb=Fc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Fc);ie=function(Xa){for(var jb=[eb.GZIP,eb.LZW],tb=0;tb < jb.length && 0 < Xa.length;++tb){for(var gb=jb[tb],Aa=0;Aa < Xa.length;++Aa){if(Xa[Aa] == gb)return gb;}}return null;};db=gd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(gd);je=function(Xa){return db.AES_CBC_PKCS5Padding == Xa?db.AES_CBC_PKCS5Padding:db.RSA_ECB_PKCS1Padding == Xa?db.RSA_ECB_PKCS1Padding:db[Xa];};bb=ke={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ke);zd=function(Xa){return bb[Xa];};Ea={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ea);})();Cb={isObjectLiteral:function(eb){return null !== eb && "object" === typeof eb && eb.constructor === Object;},extendDeep:function(){var eb,db,bb,Xa,jb,tb,gb,Aa;eb=arguments[0];db=1;bb=arguments.length;Xa=!1;"boolean" === typeof eb && (Xa=eb,eb=arguments[1],db=2);for(;db < bb;db++){if(null != (jb=arguments[db]))for(tb in jb){if(!(Xa && (tb in eb))){gb=jb[tb];if(eb !== gb && gb !== zb){Aa=eb[tb];eb[tb]=null !== Aa && null !== gb && "object" === typeof Aa && "object" === typeof gb?Cb.extendDeep(Xa,{},Aa,gb):gb;}}}}return eb;}};(function(){var gb,Aa;function eb(Ha,La){return function(){var ua,na;ua=Ha.base;Ha.base=La;na=Ha.apply(this,arguments);Ha.base=ua;return na;};}function db(Ha,La,ua){var na,fa,Z,V;ua=ua || Aa;fa=!!ua.extendAll;for(na in La){Z=La.__lookupGetter__(na);V=La.__lookupSetter__(na);Z || V?(Z && Ha.__defineGetter__(na,Z),V && Ha.__defineSetter__(na,V)):(Z=La[na],V=Ha[na],"function" === typeof Z && "function" === typeof V && Z !== V?(Z.base !== Function.prototype.base && (Z=eb(Z,V)),Z.base=V):(fa || ua[na]) && Cb.isObjectLiteral(Z) && Cb.isObjectLiteral(V) && (Z=Cb.extendDeep({},V,Z)),Ha[na]=Z);}}function bb(){var Ha,La;Ha=Array.prototype.slice;La=Ha.call(arguments,1);return this.extend({init:function na(){var fa;fa=Ha.call(arguments,0);na.base.apply(this,La.concat(fa));}});}function Xa(Ha,La){var ua;ua=new this(gb);db(ua,Ha,La);return tb(ua);}function jb(Ha,La){db(this.prototype,Ha,La);return this;}function tb(Ha){var La;La=function(){var ua;ua=this.init;ua && arguments[0] !== gb && ua.apply(this,arguments);};Ha && (La.prototype=Ha);La.prototype.constructor=La;La.extend=Xa;La.bind=bb;La.mixin=jb;return La;}gb={};Aa={actions:!0};Function.prototype.base=function(){};Cb.Class={create:tb,mixin:db,extend:function(Ha,La){var ua;ua=tb();ua.prototype=new Ha();return ua.extend(La);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");db.apply(null,arguments);};})();(function(){var gb,Aa,Ha;function eb(La,ua){return function(){var na,fa;na=La.base;La.base=ua;fa=La.apply(this,arguments);La.base=na;return fa;};}function db(La,ua,na){var fa,Z,V,W;na=na || Aa;Z=!!na.extendAll;for(fa in ua){V=ua.__lookupGetter__(fa);W=ua.__lookupSetter__(fa);V || W?(V && La.__defineGetter__(fa,V),W && La.__defineSetter__(fa,W)):(V=ua[fa],W=La[fa],"function" === typeof V && "function" === typeof W && V !== W?(V.base !== Ha && (V=eb(V,W)),V.base=W):(Z || na[fa]) && Cb.isObjectLiteral(V) && Cb.isObjectLiteral(W) && (V=Cb.extendDeep({},W,V)),La[fa]=V);}}function bb(){var La,ua;La=Array.prototype.slice;ua=La.call(arguments,1);return this.extend({init:function fa(){var Z;Z=La.call(arguments,0);fa.base.apply(this,ua.concat(Z));}});}function Xa(La,ua){var na;na=new this(gb);db(na,La,ua);return tb(na);}function jb(La,ua){db(this.prototype,La,ua);return this;}function tb(La){var ua;ua=function(){var na;na=this.init;na && arguments[0] !== gb && na.apply(this,arguments);};La && (ua.prototype=La);ua.prototype.constructor=ua;ua.extend=Xa;ua.bind=bb;ua.mixin=jb;return ua;}gb={};Aa={actions:!0};Ha=function(){};Function.prototype.base=Ha;Cb.Class={create:tb,mixin:db,extend:function(La,ua){var na;na=tb();na.prototype=new La();return na.extend(ua);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");db.apply(null,arguments);};})();(function(){function eb(bb){return bb == Mb?1:bb + 1;}function db(bb){if(0 === Object.keys(bb._waiters).length)return 0;for(var Xa=eb(bb._nextWaiter);!bb._waiters[Xa];){Xa=eb(Xa);}return Xa;}Uc=Cb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var Xa;if(this._waiters[bb]){Xa=this._waiters[bb];delete this._waiters[bb];bb == this._nextWaiter && (this._nextWaiter=db(this));Xa.call(this,zb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(bb,Xa){var jb,tb;jb=this;tb=eb(this._lastWaiter);this._lastWaiter=tb;$a(Xa,function(){var gb,Aa;if(0 < this._queue.length){gb=this._queue.shift();setTimeout(function(){Xa.result(gb);},0);}else {-1 != bb && (Aa=setTimeout(function(){delete jb._waiters[tb];tb == jb._nextWaiter && (jb._nextWaiter=db(jb));Xa.timeout();},bb));this._waiters[tb]=function(Ha){clearTimeout(Aa);setTimeout(function(){Xa.result(Ha);},0);};this._nextWaiter || (this._nextWaiter=tb);}},jb);return tb;},add:function(bb){var Xa;if(this._nextWaiter){Xa=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=db(this);Xa.call(this,bb);}else this._queue.push(bb);}});})();(function(){var eb;eb=0 - Mb;le=Cb.Class.create({nextBoolean:function(){var db;db=new Uint8Array(1);wc.getRandomValues(db);return db[0] & 1?!0:!1;},nextInt:function(db){var bb;if(null !== db && db !== zb){if("number" !== typeof db)throw new TypeError("n must be of type number");if(1 > db)throw new RangeError("n must be greater than zero");--db;bb=new Uint8Array(4);wc.getRandomValues(bb);return Math.floor(((bb[3] & 127) << 24 | bb[2] << 16 | bb[1] << 8 | bb[0]) / 2147483648 * (db - 0 + 1));}db=new Uint8Array(4);wc.getRandomValues(db);bb=(db[3] & 127) << 24 | db[2] << 16 | db[1] << 8 | db[0];return db[3] & 128?-bb:bb;},nextLong:function(){var bb;for(var db=eb;db == eb;){db=new Uint8Array(7);wc.getRandomValues(db);bb=16777216 * ((db[6] & 31) << 24 | db[5] << 16 | db[4] << 8 | db[3]) + (db[2] << 16 | db[1] << 8 | db[0]);db=db[6] & 128?-bb - 1:bb;}return db;},nextBytes:function(db){wc.getRandomValues(db);}});})();(function(){function eb(Xa){return Xa == Mb?1:Xa + 1;}function db(Xa){if(0 === Object.keys(Xa._waitingReaders).length)return 0;for(var jb=eb(Xa._nextReader);!Xa._waitingReaders[jb];){jb=eb(jb);}return jb;}function bb(Xa){if(0 === Object.keys(Xa._waitingWriters).length)return 0;for(var jb=eb(Xa._nextWriter);!Xa._waitingWriters[jb];){jb=eb(jb);}return jb;}Ad=Cb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(Xa){var jb;if(this._waitingReaders[Xa]){jb=this._waitingReaders[Xa];delete this._waitingReaders[Xa];Xa == this._nextReader && (this._nextReader=db(this));jb.call(this,!0);}this._waitingWriters[Xa] && (jb=this._waitingWriters[Xa],delete this._waitingWriters[Xa],Xa == this._nextWriter && (this._nextWriter=bb(this)),jb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(Xa,jb){var tb,gb;tb=this;gb=eb(this._lastNumber);this._lastNumber=gb;$a(jb,function(){var Aa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[gb]=!0,gb);-1 != Xa && (Aa=setTimeout(function(){delete tb._waitingReaders[gb];gb == tb._nextReader && (tb._nextReader=db(tb));jb.timeout();},Xa));this._waitingReaders[gb]=function(Ha){clearTimeout(Aa);Ha?setTimeout(function(){jb.result(zb);},0):(tb._readers[gb]=!0,setTimeout(function(){jb.result(gb);},0));};this._nextReader || (this._nextReader=gb);},tb);return gb;},writeLock:function(Xa,jb){var tb,gb;tb=this;gb=eb(this._lastNumber);this._lastNumber=gb;$a(jb,function(){var Aa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=gb;-1 != Xa && (Aa=setTimeout(function(){delete tb._waitingWriters[gb];gb == tb._nextWriter && (tb._nextWriter=bb(tb));jb.timeout();},Xa));this._waitingWriters[gb]=function(Ha){clearTimeout(Aa);Ha?setTimeout(function(){jb.result(zb);},0):(tb._writer=gb,setTimeout(function(){jb.result(gb);},0));};this._nextWriter || (this._nextWriter=gb);},tb);return gb;},unlock:function(Xa){if(Xa == this._writer)this._writer=null;else {if(!this._readers[Xa])throw new vb("There is no reader or writer with ticket number " + Xa + ".");delete this._readers[Xa];}if(this._nextWriter)0 < Object.keys(this._readers).length || (Xa=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=bb(this),Xa.call(this,!1));else {for(var jb=this._nextReader;0 < Object.keys(this._waitingReaders).length;jb=eb(jb)){this._waitingReaders[jb] && (Xa=this._waitingReaders[jb],delete this._waitingReaders[jb],Xa.call(this,!1));}this._nextReader=0;}}});})();Cb.Class.mixin(U,{JSON_PARSE_ERROR:new U(0,Ea.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new U(1,Ea.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new U(2,Ea.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new U(3,Ea.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new U(4,Ea.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new U(5,Ea.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new U(6,Ea.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new U(7,Ea.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new U(8,Ea.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new U(9,Ea.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new U(10,Ea.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new U(11,Ea.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new U(12,Ea.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new U(13,Ea.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new U(14,Ea.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new U(15,Ea.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new U(16,Ea.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new U(17,Ea.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new U(18,Ea.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new U(19,Ea.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new U(20,Ea.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new U(21,Ea.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new U(22,Ea.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new U(23,Ea.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new U(24,Ea.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new U(25,Ea.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new U(26,Ea.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new U(27,Ea.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new U(28,Ea.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new U(29,Ea.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new U(30,Ea.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new U(31,Ea.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new U(32,Ea.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new U(33,Ea.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new U(34,Ea.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new U(35,Ea.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new U(36,Ea.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new U(37,Ea.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new U(38,Ea.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new U(39,Ea.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new U(40,Ea.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new U(41,Ea.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new U(42,Ea.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new U(43,Ea.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new U(44,Ea.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new U(45,Ea.FAIL,"Error exporting key."),DIGEST_ERROR:new U(46,Ea.FAIL,"Error in digest."),UNSUPPORTED_KEY:new U(47,Ea.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new U(48,Ea.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new U(49,Ea.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new U(50,Ea.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new U(51,Ea.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new U(52,Ea.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new U(53,Ea.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new U(54,Ea.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new U(55,Ea.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new U(56,Ea.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new U(57,Ea.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new U(58,Ea.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new U(59,Ea.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new U(60,Ea.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new U(61,Ea.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new U(62,Ea.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new U(1E3,Ea.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new U(1001,Ea.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new U(1002,Ea.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new U(1003,Ea.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new U(1004,Ea.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(1005,Ea.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new U(1006,Ea.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new U(1007,Ea.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new U(1008,Ea.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new U(1009,Ea.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new U(1010,Ea.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new U(1011,Ea.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new U(1012,Ea.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new U(1013,Ea.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new U(1014,Ea.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new U(2E3,Ea.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new U(2001,Ea.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new U(2002,Ea.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new U(2003,Ea.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new U(2004,Ea.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new U(2005,Ea.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(2006,Ea.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(2007,Ea.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new U(2008,Ea.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new U(2009,Ea.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new U(2010,Ea.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new U(2011,Ea.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new U(2012,Ea.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new U(2013,Ea.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new U(2014,Ea.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new U(2015,Ea.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new U(2016,Ea.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new U(2017,Ea.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new U(2018,Ea.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new U(2019,Ea.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new U(2020,Ea.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new U(3E3,Ea.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new U(3001,Ea.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new U(3002,Ea.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new U(3003,Ea.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new U(3004,Ea.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(3005,Ea.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(3006,Ea.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new U(3007,Ea.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new U(3008,Ea.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new U(3009,Ea.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new U(4E3,Ea.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new U(4001,Ea.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new U(4002,Ea.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new U(4003,Ea.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new U(4004,Ea.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new U(4005,Ea.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new U(4006,Ea.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new U(4007,Ea.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new U(4008,Ea.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new U(4009,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new U(4010,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new U(4011,Ea.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new U(4012,Ea.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new U(4013,Ea.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new U(4014,Ea.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new U(4015,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new U(4016,Ea.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new U(4017,Ea.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new U(4018,Ea.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new U(4019,Ea.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new U(4020,Ea.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new U(4021,Ea.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new U(4022,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new U(4023,Ea.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new U(4024,Ea.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new U(4025,Ea.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new U(4026,Ea.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new U(5E3,Ea.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new U(5001,Ea.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new U(5002,Ea.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new U(5003,Ea.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new U(5004,Ea.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new U(5005,Ea.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new U(5006,Ea.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new U(5007,Ea.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new U(5008,Ea.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new U(5009,Ea.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new U(5010,Ea.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new U(5011,Ea.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new U(5012,Ea.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new U(5013,Ea.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new U(5014,Ea.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new U(5015,Ea.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new U(5016,Ea.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new U(5017,Ea.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new U(5018,Ea.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new U(5019,Ea.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new U(5020,Ea.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new U(5021,Ea.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new U(5022,Ea.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new U(5023,Ea.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new U(5024,Ea.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new U(5025,Ea.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new U(5026,Ea.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new U(5027,Ea.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new U(5028,Ea.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new U(5029,Ea.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new U(5030,Ea.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new U(5031,Ea.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new U(5032,Ea.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new U(5033,Ea.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new U(5034,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new U(5035,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new U(5036,Ea.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new U(5037,Ea.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new U(5038,Ea.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new U(5039,Ea.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new U(5040,Ea.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new U(6E3,Ea.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new U(6001,Ea.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new U(6002,Ea.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new U(6003,Ea.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new U(6004,Ea.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new U(6005,Ea.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new U(6006,Ea.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new U(6007,Ea.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new U(6008,Ea.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new U(6009,Ea.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new U(6010,Ea.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new U(6011,Ea.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new U(6012,Ea.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new U(6013,Ea.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new U(6014,Ea.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new U(6015,Ea.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new U(6016,Ea.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new U(6017,Ea.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new U(6018,Ea.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new U(6019,Ea.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new U(6020,Ea.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new U(6021,Ea.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new U(6022,Ea.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new U(6023,Ea.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new U(6024,Ea.FAIL,"Invalid header data."),PAYLOAD_INVALID:new U(6025,Ea.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new U(6026,Ea.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new U(6027,Ea.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new U(6028,Ea.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new U(6029,Ea.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new U(6030,Ea.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new U(6031,Ea.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new U(6032,Ea.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new U(6033,Ea.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new U(6034,Ea.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new U(6035,Ea.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new U(6036,Ea.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new U(6037,Ea.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new U(7E3,Ea.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new U(7001,Ea.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new U(7002,Ea.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new U(7003,Ea.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new U(7004,Ea.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new U(7005,Ea.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new U(7006,Ea.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new U(7007,Ea.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new U(7008,Ea.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new U(7009,Ea.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new U(7010,Ea.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new U(7011,Ea.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new U(7012,Ea.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new U(7013,Ea.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new U(7014,Ea.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new U(7015,Ea.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new U(7016,Ea.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new U(8E3,Ea.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new U(8001,Ea.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new U(8002,Ea.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new U(8003,Ea.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new U(8004,Ea.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new U(8005,Ea.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new U(8006,Ea.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new U(8007,Ea.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new U(8008,Ea.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new U(8009,Ea.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new U(8010,Ea.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new U(8011,Ea.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new U(8012,Ea.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new U(9E3,Ea.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new U(9001,Ea.FAIL,"Error communicating with MSL entity."),NONE:new U(9999,Ea.FAIL,"Special unit test error.")});Object.freeze(U);(function(){cb=Cb.Class.create(Error());cb.mixin({init:function(eb,db,bb){var jb,tb,gb;function Xa(){return tb?tb:this.cause && this.cause instanceof cb?this.cause.messageId:zb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=eb.message;db && (jb+=" [" + db + "]");gb=this.stack;Object.defineProperties(this,{message:{value:jb,writable:!1,configurable:!0},error:{value:eb,writable:!1,configurable:!0},cause:{value:bb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:Xa,set:function(Aa){if(0 > Aa || Aa > Mb)throw new RangeError("Message ID " + Aa + " is outside the valid range.");Xa() || (tb=Aa);},configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();gb && (Aa+="\n" + gb);bb && bb.stack && (Aa+="\nCaused by " + bb.stack);return Aa;},configurable:!0}});},setEntity:function(eb){!eb || this.masterToken || this.entityAuthenticationData || (eb instanceof ec?this.masterToken=eb:eb instanceof Gc && (this.entityAuthenticationData=eb));return this;},setUser:function(eb){!eb || this.userIdToken || this.userAuthenticationData || (eb instanceof Oc?this.userIdToken=eb:eb instanceof Vc && (this.userAuthenticationData=eb));return this;},setMessageId:function(eb){this.messageId=eb;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=cb.extend({init:function jb(db,bb,Xa){jb.base.call(this,db,bb,Xa);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Eb=cb.extend({init:function tb(bb,Xa,jb){tb.base.call(this,bb,Xa,jb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});mc=cb.extend({init:function gb(Xa,jb,tb){gb.base.call(this,Xa,jb,tb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){fc=Cb.Class.create(Error());fc.mixin({init:function(Xa,jb,tb){var gb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);gb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},requestCause:{value:tb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();gb && (Aa+="\n" + gb);jb && jb.stack && (Aa+="\nCaused by " + jb.stack);return Aa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Ub=Cb.Class.create(Error());Ub.mixin({init:function(Xa,jb){var tb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);tb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();tb && (gb+="\n" + tb);jb && jb.stack && (gb+="\nCaused by " + jb.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Cb.Class.create(Error());vb.mixin({init:function(Xa,jb){var tb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);tb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();tb && (gb+="\n" + tb);jb && jb.stack && (gb+="\nCaused by " + jb.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Cb.Class.create(Error());Yb.mixin({init:function(Xa,jb){var tb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);tb=this.stack;Object.defineProperties(this,{message:{value:Xa,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();tb && (gb+="\n" + tb);jb && jb.stack && (gb+="\nCaused by " + jb.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ob=cb.extend({init:function Aa(jb,tb,gb){Aa.base.call(this,jb,tb,gb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Wc=cb.extend({init:function Aa(tb,gb){Aa.base.call(this,tb);Object.defineProperties(this,{masterToken:{value:gb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Jb=cb.extend({init:function La(gb,Aa,Ha){La.base.call(this,gb,Aa,Ha);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});xc=cb.extend({init:function ua(Aa,Ha,La){ua.base.call(this,Aa,Ha,La);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var na;function Aa(fa){return "undefined" === typeof fa?!1:fa;}function Ha(fa){return fa && fa.length?($b === na.V2014_02 && (fa=fa.map(function(Z){return "wrap" == Z?"wrapKey":"unwrap" == Z?"unwrapKey":Z;})),fa):$b === na.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function La(fa,Z,V,W,ca){return Promise.resolve().then(function(){return Pb.importKey(fa,Z,V,W,ca);}).catch(function(Y){var ia;if("spki" !== fa && "pkcs8" !== fa)throw Y;Y=ASN1.webCryptoAlgorithmToJwkAlg(V);ia=ASN1.webCryptoUsageToJwkKeyOps(ca);Y=ASN1.rsaDerToJwk(Z,Y,ia,W);if(!Y)throw Error("Could not make valid JWK from DER input");Y=JSON.stringify(Y);return Pb.importKey("jwk",wd(Y),V,W,ca);});}function ua(fa,Z){return Promise.resolve().then(function(){return Pb.exportKey(fa,Z);}).catch(function(V){if("spki" !== fa && "pkcs8" !== fa)throw V;return Pb.exportKey("jwk",Z).then(function(W){W=JSON.parse(vd(new Uint8Array(W)));W=ASN1.jwkToRsaDer(W);if(!W)throw Error("Could not make valid DER from JWK input");return W.getDer().buffer;});});}na=hd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(hd);$b=na.LATEST;Lb={encrypt:function(fa,Z,V){switch($b){case na.LEGACY:return new Promise(function(W,ca){var Y;Y=Pb.encrypt(fa,Z,V);Y.oncomplete=function(ia){W(ia.target.result);};Y.onerror=function(ia){ca(ia);};});case na.V2014_01:case na.V2014_02:return Pb.encrypt(fa,Z,V).then(function(W){return new Uint8Array(W);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(fa,Z,V){switch($b){case na.LEGACY:return new Promise(function(W,ca){var Y;Y=Pb.decrypt(fa,Z,V);Y.oncomplete=function(ia){W(ia.target.result);};Y.onerror=function(ia){ca(ia);};});case na.V2014_01:case na.V2014_02:return Pb.decrypt(fa,Z,V).then(function(W){return new Uint8Array(W);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(fa,Z,V){switch($b){case na.LEGACY:return new Promise(function(W,ca){var Y;Y=Pb.sign(fa,Z,V);Y.oncomplete=function(ia){W(ia.target.result);};Y.onerror=function(ia){ca(ia);};});case na.V2014_01:case na.V2014_02:return Pb.sign(fa,Z,V).then(function(W){return new Uint8Array(W);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(fa,Z,V,W){switch($b){case na.LEGACY:return new Promise(function(ca,Y){var ia;ia=Pb.verify(fa,Z,V,W);ia.oncomplete=function(va){ca(va.target.result);};ia.onerror=function(va){Y(va);};});case na.V2014_01:case na.V2014_02:return Pb.verify(fa,Z,V,W);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(fa,Z){switch($b){case na.LEGACY:return new Promise(function(V,W){var ca;ca=Pb.digest(fa,Z);ca.oncomplete=function(Y){V(Y.target.result);};ca.onerror=function(Y){W(Y);};});case na.V2014_01:case na.V2014_02:return Pb.digest(fa,Z).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(fa,Z,V){var W,ca;W=Aa(Z);ca=Ha(V);switch($b){case na.LEGACY:return new Promise(function(Y,ia){var va;va=Pb.generateKey(fa,W,ca);va.oncomplete=function(sa){Y(sa.target.result);};va.onerror=function(sa){ia(sa);};});case na.V2014_01:case na.V2014_02:return Pb.generateKey(fa,W,ca);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(fa,Z,V,W,ca){var Y,ia;Y=Aa(W);ia=Ha(ca);switch($b){case na.LEGACY:return new Promise(function(va,sa){var ja;ja=Pb.deriveKey(fa,Z,V,Y,ia);ja.oncomplete=function(qa){va(qa.target.result);};ja.onerror=function(qa){sa(qa);};});case na.V2014_01:case na.V2014_02:return Pb.deriveKey(fa,Z,V,Y,ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(fa,Z,V,W,ca){var Y,ia;Y=Aa(W);ia=Ha(ca);switch($b){case na.LEGACY:return new Promise(function(va,sa){var ja;ja=Pb.importKey(fa,Z,V,Y,ia);ja.oncomplete=function(qa){va(qa.target.result);};ja.onerror=function(qa){sa(qa);};});case na.V2014_01:case na.V2014_02:return La(fa,Z,V,Y,ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(fa,Z){switch($b){case na.LEGACY:return new Promise(function(V,W){var ca;ca=Pb.exportKey(fa,Z);ca.oncomplete=function(Y){V(Y.target.result);};ca.onerror=function(Y){W(Y);};});case na.V2014_01:case na.V2014_02:return ua(fa,Z).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(fa,Z,V,W){switch($b){case na.LEGACY:return new Promise(function(ca,Y){var ia;ia=Pb.wrapKey(Z,V,W);ia.oncomplete=function(va){ca(va.target.result);};ia.onerror=function(va){Y(va);};});case na.V2014_01:case na.V2014_02:return Pb.wrapKey(fa,Z,V,W).then(function(ca){return new Uint8Array(ca);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(fa,Z,V,W,ca,Y,ia){switch($b){case na.LEGACY:return new Promise(function(va,sa){var ja;ja=Pb.unwrapKey(Z,ca,V);ja.oncomplete=function(qa){va(qa.target.result);};ja.onerror=function(qa){sa(qa);};});case na.V2014_01:case na.V2014_02:return Pb.unwrapKey(fa,Z,V,W,ca,Aa(Y),Ha(ia));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};fd && fd.getKeyByName && (Lb.getKeyByName=function(fa){switch($b){case na.LEGACY:return new Promise(function(Z,V){var W;W=fd.getKeyByName(fa);W.oncomplete=function(ca){Z(ca.target.result);};W.onerror=function(ca){V(ca);};});case na.V2014_01:case na.V2014_02:return fd.getKeyByName(fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});mb.netflix=mb.netflix || ({});mb.netflix.crypto=Lb;})();nc={name:"AES-KW"};jc={name:"AES-CBC"};kc={name:"HMAC",hash:{name:"SHA-256"}};id={name:"RSA-OAEP",hash:{name:"SHA-1"}};Bd={name:"RSAES-PKCS1-v1_5"};me={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};yc=["encrypt","decrypt"];zc=["wrap","unwrap"];Hc=["sign","verify"];(function(){Cd=Cb.Class.create({init:function(Aa,Ha,La){var na;function ua(fa){Ka(Ha,function(){var Z;Z=fa?Gb(fa):zb;Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},keyData:{value:fa,writable:!1,configurable:!1},keyDataB64:{value:Z,writable:!1,configurable:!1}});return this;},na);}na=this;Ka(Ha,function(){if(!Aa || "object" != typeof Aa)throw new ub(U.INVALID_SYMMETRIC_KEY);!La && Aa.extractable?Lb.exportKey("raw",Aa).then(function(fa){ua(new Uint8Array(fa));},function(fa){Ha.error(new ub(U.KEY_EXPORT_ERROR,"raw"));}):ua(La);},na);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Xc=function(Aa,Ha){new Cd(Aa,Ha);};oc=function(Aa,Ha,La,ua){Ka(ua,function(){try{Aa="string" == typeof Aa?Ib(Aa):Aa;}catch(na){throw new ub(U.INVALID_SYMMETRIC_KEY,"keydata " + Aa,na);}Lb.importKey("raw",Aa,Ha,!0,La).then(function(na){new Cd(na,ua,Aa);},function(na){ua.error(new ub(U.INVALID_SYMMETRIC_KEY));});});};})();(function(){jd=Cb.Class.create({init:function(Aa,Ha,La){var na;function ua(fa){Ka(Ha,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},na);}na=this;Ka(Ha,function(){if(!Aa || "object" != typeof Aa || "public" != Aa.type)throw new TypeError("Only original public crypto keys are supported.");!La && Aa.extractable?Lb.exportKey("spki",Aa).then(function(fa){ua(new Uint8Array(fa));},function(fa){Ha.error(new ub(U.KEY_EXPORT_ERROR,"spki"));}):ua(La);});},getEncoded:function(){return this.encoded;}});Ec=function(Aa,Ha){new jd(Aa,Ha);};Dd=function(Aa,Ha,La,ua){Ka(ua,function(){try{Aa="string" == typeof Aa?Ib(Aa):Aa;}catch(na){throw new ub(U.INVALID_PUBLIC_KEY,"spki " + Aa,na);}Lb.importKey("spki",Aa,Ha,!0,La).then(function(na){new jd(na,ua,Aa);},function(na){ua.error(new ub(U.INVALID_PUBLIC_KEY));});});};})();(function(){ne=Cb.Class.create({init:function(Aa,Ha,La){var na;function ua(fa){Ka(Ha,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},na);}na=this;Ka(Ha,function(){if(!Aa || "object" != typeof Aa || "private" != Aa.type)throw new TypeError("Only original private crypto keys are supported.");!La && Aa.extractable?Lb.exportKey("pkcs8",Aa).then(function(fa){ua(new Uint8Array(fa));},function(fa){Ha.error(new ub(U.KEY_EXPORT_ERROR,"pkcs8"));}):ua(La);});},getEncoded:function(){return this.encoded;}});Nc=function(Aa,Ha){new ne(Aa,Ha);};})();(function(){var Aa;Aa=Hd={V1:1,V2:2};Ed=Cb.Class.create({init:function(Ha,La,ua,na){Ka(na,function(){var fa,Z,V,W;fa=Aa.V1;Z=Ha;V=null;for(W in gd){if(gd[W] == Ha){fa=Aa.V2;Z=null;V=Ha;break;}}Object.defineProperties(this,{version:{value:fa,writable:!1,enumerable:!1,configurable:!1},keyId:{value:Z,writable:!1,configurable:!1},cipherSpec:{value:V,writable:!1,configurable:!1},iv:{value:La,writable:!1,configurable:!1},ciphertext:{value:ua,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ha;Ha={};switch(this.version){case Aa.V1:Ha.keyid=this.keyId;this.iv && (Ha.iv=Gb(this.iv));Ha.ciphertext=Gb(this.ciphertext);Ha.sha256="AA==";break;case Aa.V2:Ha.version=this.version;Ha.cipherspec=this.cipherSpec;this.iv && (Ha.iv=Gb(this.iv));Ha.ciphertext=Gb(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ha;}});Fd=function(Ha,La,ua,na){new Ed(Ha,La,ua,na);};Gd=function(Ha,La,ua){Ka(ua,function(){var na,fa,Z,V,W,ca,Y;na=Ha.keyid;fa=Ha.cipherspec;Z=Ha.iv;V=Ha.ciphertext;W=Ha.sha256;if(!La)if((La=Ha.version) && "number" === typeof La && La === La){ca=!1;for(Y in Aa){if(Aa[Y] == La){ca=!0;break;}}if(!ca)throw new ub(U.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ha));}else La=Aa.V1;switch(La){case Aa.V1:if("string" !== typeof na || Z && "string" !== typeof Z || "string" !== typeof V || "string" !== typeof W)throw new Eb(U.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ha));break;case Aa.V2:Y=Ha.version;if(Y != Aa.V2)throw new ub(U.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ha));if("string" !== typeof fa || Z && "string" !== typeof Z || "string" !== typeof V)throw new Eb(U.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ha));fa=je(fa);if(!fa)throw new ub(U.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ha));na=fa;break;default:throw new ub(U.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ha));}try{Z && (Z=Ib(Z));V=Ib(V);}catch(ia){throw new ub(U.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ha),ia);}new Ed(na,Z,V,ua);});};})();(function(){var Aa;Aa=Kd={V1:1,V2:2};pc=Cb.Class.create({init:function(Ha,La,ua){var na;switch(Ha){case Aa.V1:na=ua;break;case Aa.V2:na={};na.version=Ha;na.algorithm=La;na.signature=Gb(ua);na=bc(JSON.stringify(na),Nb);break;default:throw new vb("Signature envelope version " + Ha + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ha,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:La,writable:!1,configurable:!1},signature:{value:ua,writable:!1,configurable:!1},bytes:{value:na,writable:!1,configurable:!1}});}});Id=function(){var Ha,La,ua,na;if(2 == arguments.length){Ha=Aa.V1;La=arguments[0];ua=null;na=arguments[1];}else 3 == arguments.length && (Ha=Aa.V2,ua=arguments[0],La=arguments[1],na=arguments[2]);Ka(na,function(){return new pc(Ha,ua,La);});};Jd=function(Ha,La,ua){Ka(ua,function(){var na,fa,Z,V,W,ca,Y;if(La)switch(La){case Aa.V1:return new pc(Aa.V1,null,Ha);case Aa.V2:try{na=ac(Ha,Nb);fa=JSON.parse(na);Z=parseInt(fa.version);V=fa.algorithm;W=fa.signature;if(!Z || "number" !== typeof Z || Z != Z || "string" !== typeof V || "string" !== typeof W)throw new Eb(U.JSON_PARSE_ERROR,"signature envelope " + Gb(Ha));if(Aa.V2 != Z)throw new ub(U.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Gb(Ha));ca=zd(V);if(!ca)throw new ub(U.UNIDENTIFIED_ALGORITHM,"signature envelope " + Gb(Ha));Y=Ib(W);if(!Y)throw new ub(U.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ha));return new pc(Aa.V2,ca,Y);}catch(ia){if(ia instanceof SyntaxError)throw new Eb(U.JSON_PARSE_ERROR,"signature envelope " + Gb(Ha),ia);throw ia;}default:throw new ub(U.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Gb(Ha));}try{na=ac(Ha,Nb);fa=JSON.parse(na);}catch(ia){fa=null;}if(fa && fa.version){if((na=fa.version,"number" !== typeof na || na !== na))na=Aa.V1;}else na=Aa.V1;switch(na){case Aa.V1:return new pc(na,null,Ha);case Aa.V2:ca=fa.algorithm;W=fa.signature;if("string" !== typeof ca || "string" !== typeof W)return new pc(Aa.V1,null,Ha);ca=zd(ca);if(!ca)return new pc(Aa.V1,null,Ha);try{Y=Ib(W);}catch(ia){return new pc(Aa.V1,null,Ha);}return new pc(na,ca,Y);default:throw new ub(U.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ha);}});};})();Pc=Cb.Class.create({encrypt:function(Aa,Ha){},decrypt:function(Aa,Ha){},wrap:function(Aa,Ha){},unwrap:function(Aa,Ha,La,ua){},sign:function(Aa,Ha){},verify:function(Aa,Ha,La){}});(function(){var Aa;Aa=rc={RSA_OAEP:id.name,A128KW:nc.name};lc="A128GCM";qc=Cb.Class.create({init:function(Ha,La,ua,na,fa){switch(La){case Aa.RSA_OAEP:fa=fa && (fa.rawKey || fa);na=na && (na.rawKey || na);break;case Aa.A128KW:fa=na=na && (na.rawKey || na);break;default:throw new vb("Unsupported algorithm: " + La);}Object.defineProperties(this,{_ctx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_algo:{value:La,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ua,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:na,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ha,La){La.error(new ub(U.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ha,La){La.error(new ub(U.DECRYPT_NOT_SUPPORTED));},wrap:function(Ha,La){Ka(La,function(){Lb.wrapKey("jwe+jwk",Ha.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ua){La.result(ua);},function(ua){La.error(new ub(U.WRAP_ERROR));});},this);},unwrap:function(Ha,La,ua,na){function fa(Z){Ka(na,function(){switch(Z.type){case "secret":Xc(Z,na);break;case "public":Ec(Z,na);break;case "private":Nc(Z,na);break;default:throw new ub(U.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(na,function(){Lb.unwrapKey("jwe+jwk",Ha,this._unwrapKey,this._unwrapKey.algorithm,La,!1,ua).then(function(Z){fa(Z);},function(){na.error(new ub(U.UNWRAP_ERROR));});},this);},sign:function(Ha,La){La.error(new ub(U.SIGN_NOT_SUPPORTED));},verify:function(Ha,La,ua){ua.error(new ub(U.VERIFY_NOT_SUPPORTED));}});})();Qc=Pc.extend({encrypt:function(Aa,Ha){Ha.result(Aa);},decrypt:function(Aa,Ha){Ha.result(Aa);},wrap:function(Aa,Ha){Ha.result(Aa);},unwrap:function(Aa,Ha,La,ua){ua.result(Aa);},sign:function(Aa,Ha){Ha.result(new Uint8Array(0));},verify:function(Aa,Ha,La){La.result(!0);}});(function(){var Aa;Aa=ld={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};kd=Pc.extend({init:function V(La,ua,na,fa,Z){V.base.call(this);na && (na=na.rawKey);fa && (fa=fa.rawKey);Object.defineProperties(this,{id:{value:ua,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:na,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},transform:{value:Z == Aa.ENCRYPT_DECRYPT_PKCS1?Bd:Z == Aa.ENCRYPT_DECRYPT_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:Z == Aa.WRAP_UNWRAP_PKCS1?Bd:Z == Aa.WRAP_UNWRAP_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:Z == Aa.SIGN_VERIFY?me:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,ua){var na;na=this;Ka(ua,function(){if("nullOp" == this.transform)return La;if(!this.publicKey)throw new ub(U.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == La.length)return La;Lb.encrypt(na.transform,na.publicKey,La).then(function(fa){Fd(na.id,null,fa,{result:function(Z){var V;try{V=JSON.stringify(Z);ua.result(bc(V,Nb));}catch(W){ua.error(new ub(U.ENCRYPT_ERROR,null,W));}},error:function(Z){Z instanceof cb || (Z=new ub(U.ENCRYPT_ERROR,null,Z));ua.error(Z);}});},function(fa){ua.error(new ub(U.ENCRYPT_ERROR));});},this);},decrypt:function(La,ua){var na;na=this;Ka(ua,function(){var fa,Z;if("nullOp" == this.transform)return La;if(!this.privateKey)throw new ub(U.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == La.length)return La;try{fa=ac(La,Nb);Z=JSON.parse(fa);}catch(V){if(V instanceof SyntaxError)throw new ub(U.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,V);throw new ub(U.DECRYPT_ERROR,null,V);}Gd(Z,Hd.V1,{result:function(V){var W;try{if(V.keyId != na.id)throw new ub(U.ENVELOPE_KEY_ID_MISMATCH);W=ua.result;Lb.decrypt(na.transform,na.privateKey,V.ciphertext).then(W,function(ca){ua.error(new ub(U.DECRYPT_ERROR));});}catch(ca){ca instanceof cb?ua.error(ca):ua.error(new ub(U.DECRYPT_ERROR,null,ca));}},error:function(V){V instanceof Eb && (V=new ub(U.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,V));V instanceof cb || (V=new ub(U.DECRYPT_ERROR,null,V));ua.error(V);}});},this);},wrap:function(La,ua){Ka(ua,function(){var na;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(U.WRAP_NOT_SUPPORTED,"no public key");na=ua.result;Lb.wrapKey("jwk",La.rawKey,this.publicKey,this.wrapTransform).then(na,function(fa){ua.error(new ub(U.WRAP_ERROR));});},this);},unwrap:function(La,ua,na,fa){function Z(V){Ka(fa,function(){switch(V.type){case "secret":Xc(V,fa);break;case "public":Ec(V,fa);break;case "private":Nc(V,fa);break;default:throw new ub(U.UNSUPPORTED_KEY,"type: " + V.type);}});}Ka(fa,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(U.UNWRAP_NOT_SUPPORTED,"no private key");Lb.unwrapKey("jwk",La,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ua,!1,na).then(Z,function(V){fa.error(new ub(U.UNWRAP_ERROR));});},this);},sign:function(La,ua){Ka(ua,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(U.SIGN_NOT_SUPPORTED,"no private key");Lb.sign(this.algo,this.privateKey,La).then(function(na){Id(na,{result:function(fa){ua.result(fa.bytes);},error:ua.error});},function(na){ua.error(new ub(U.SIGNATURE_ERROR));});},this);},verify:function(La,ua,na){var fa;fa=this;Ka(na,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(U.VERIFY_NOT_SUPPORTED,"no public key");Jd(ua,Kd.V1,{result:function(Z){Ka(na,function(){var V;V=na.result;Lb.verify(this.algo,this.publicKey,Z.signature,La).then(V,function(W){na.error(new ub(U.SIGNATURE_ERROR));});},fa);},error:na.error});},this);}});})();(function(){md=Pc.extend({init:function Z(Ha,La,ua,na,fa){Z.base.call(this);ua=ua && ua.rawKey;na=na && na.rawKey;fa=fa && fa.rawKey;Object.defineProperties(this,{ctx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},id:{value:La,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:na,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ha,La){var ua;ua=this;Ka(La,function(){var na;if(!this.encryptionKey)throw new ub(U.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ha.length)return Ha;na=new Uint8Array(16);this.ctx.getRandom().nextBytes(na);Lb.encrypt({name:jc.name,iv:na},ua.encryptionKey,Ha).then(function(fa){fa=new Uint8Array(fa);Fd(ua.id,na,fa,{result:function(Z){var V;try{V=JSON.stringify(Z);La.result(bc(V,Nb));}catch(W){La.error(new ub(U.ENCRYPT_ERROR,null,W));}},error:function(Z){Z instanceof cb || (Z=new ub(U.ENCRYPT_ERROR,null,Z));La.error(Z);}});},function(fa){La.error(new ub(U.ENCRYPT_ERROR));});},this);},decrypt:function(Ha,La){var ua;ua=this;Ka(La,function(){var na,fa;if(!this.encryptionKey)throw new ub(U.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ha.length)return Ha;try{na=ac(Ha,Nb);fa=JSON.parse(na);}catch(Z){if(Z instanceof SyntaxError)throw new ub(U.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new ub(U.DECRYPT_ERROR,null,Z);}Gd(fa,Hd.V1,{result:function(Z){try{if(Z.keyId != ua.id)throw new ub(U.ENVELOPE_KEY_ID_MISMATCH);Lb.decrypt({name:jc.name,iv:Z.iv},ua.encryptionKey,Z.ciphertext).then(function(V){V=new Uint8Array(V);La.result(V);},function(){La.error(new ub(U.DECRYPT_ERROR));});}catch(V){V instanceof cb?La.error(V):La.error(new ub(U.DECRYPT_ERROR,null,V));}},error:function(Z){Z instanceof Eb && (Z=new ub(U.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof cb || (Z=new ub(U.DECRYPT_ERROR,null,Z));La.error(Z);}});},this);},wrap:function(Ha,La){Ka(La,function(){if(!this.wrapKey)throw new ub(U.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Lb.wrapKey("raw",Ha.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ua){La.result(ua);},function(ua){La.error(new ub(U.WRAP_ERROR));});},this);},unwrap:function(Ha,La,ua,na){function fa(Z){Ka(na,function(){switch(Z.type){case "secret":Xc(Z,na);break;case "public":Ec(Z,na);break;case "private":Nc(Z,na);break;default:throw new ub(U.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(na,function(){if(!this.wrapKey)throw new ub(U.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Lb.unwrapKey("raw",Ha,this.wrapKey,this.wrapKey.algorithm,La,!1,ua).then(function(Z){fa(Z);},function(Z){na.error(new ub(U.UNWRAP_ERROR));});},this);},sign:function(Ha,La){var ua;ua=this;Ka(La,function(){if(!this.hmacKey)throw new ub(U.SIGN_NOT_SUPPORTED,"no HMAC key.");Lb.sign(kc,this.hmacKey,Ha).then(function(na){Ka(La,function(){var fa;fa=new Uint8Array(na);Id(fa,{result:function(Z){La.result(Z.bytes);},error:La.error});},ua);},function(){La.error(new ub(U.HMAC_ERROR));});},this);},verify:function(Ha,La,ua){var na;na=this;Ka(ua,function(){if(!this.hmacKey)throw new ub(U.VERIFY_NOT_SUPPORTED,"no HMAC key.");Jd(La,Kd.V1,{result:function(fa){Ka(ua,function(){Lb.verify(kc,this.hmacKey,fa.signature,Ha).then(function(Z){ua.result(Z);},function(Z){ua.error(new ub(U.HMAC_ERROR));});},na);},error:ua.error});},this);}});})();hc=md.extend({init:function Z(Ha,La,ua,na,fa){if(ua || na || fa)Z.base.call(this,Ha,ua + "_" + La.sequenceNumber,na,fa,null);else {if(!La.isDecrypted())throw new Wc(U.MASTERTOKEN_UNTRUSTED,La);Z.base.call(this,Ha,La.identity + "_" + La.sequenceNumber,La.encryptionKey,La.hmacKey,null);}}});nf=Pc.extend({encrypt:function(Ha,La){La.result(Ha);},decrypt:function(Ha,La){La.result(Ha);},wrap:function(Ha,La){La.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ha,La,ua,na){na.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ha,La){La.result(new Uint8Array(0));},verify:function(Ha,La,ua){ua.result(!1);}});Rb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Rb);(function(){Gc=Cb.Class.create({init:function(Ha){Object.defineProperties(this,{scheme:{value:Ha,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ha){return this === Ha?!0:Ha instanceof Gc?this.scheme == Ha.scheme:!1;},toJSON:function(){var Ha;Ha={};Ha.scheme=this.scheme;Ha.authdata=this.getAuthData();return Ha;}});oe=function(Ha,La){var ua,na;ua=La.scheme;na=La.authdata;if(!ua || !na)throw new Eb(U.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(La));if(!Rb[ua])throw new mc(U.UNIDENTIFIED_ENTITYAUTH_SCHEME,ua);La=Ha.getEntityAuthenticationFactory(ua);if(!La)throw new mc(U.ENTITYAUTH_FACTORY_NOT_FOUND,ua);return La.createData(Ha,na);};})();nd=Cb.Class.create({init:function(Ha){Object.defineProperties(this,{scheme:{value:Ha,writable:!1,configurable:!1}});},createData:function(Ha,La){},getCryptoContext:function(Ha,La){}});(function(){sc=Gc.extend({init:function ua(La){ua.base.call(this,Rb.MGK);Object.defineProperties(this,{identity:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var La;La={};La.identity=this.identity;return La;},equals:function na(ua){return this === ua?!0:ua instanceof sc?na.base.call(this,this,ua) && this.identity == ua.identity:!1;}});pe=function(ua){var na;na=ua.identity;if(!na)throw new Eb(U.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ua));return new sc(na);};})();of=nd.extend({init:function ua(La){ua.base.call(this,Rb.MGK);Object.defineProperties(this,{localIdentity:{value:La,writable:!1,enumerable:!1,configurable:!1}});},createData:function(La,ua){return pe(ua);},getCryptoContext:function(La,ua){if(!(ua instanceof sc))throw new vb("Incorrect authentication data type " + JSON.stringify(ua) + ".");if(ua.identity != this.localIdentity)throw new mc(U.ENTITY_NOT_FOUND,"mgk " + ua.identity).setEntity(ua);return new Qc();}});(function(){tc=Gc.extend({init:function na(ua){na.base.call(this,Rb.PSK);Object.defineProperties(this,{identity:{value:ua,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ua;ua={};ua.identity=this.identity;return ua;},equals:function fa(na){return this === na?!0:na instanceof tc?fa.base.call(this,this,na) && this.identity == na.identity:!1;}});qe=function(na){var fa;fa=na.identity;if(!fa)throw new Eb(U.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(na));return new tc(fa);};})();pf=nd.extend({init:function na(ua){na.base.call(this,Rb.PSK);Object.defineProperties(this,{localIdentity:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ua,na){return qe(na);},getCryptoContext:function(ua,na){if(!(na instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.getIdentity() != this.localIdentity)throw new mc(U.ENTITY_NOT_FOUND,"psk " + na.identity).setEntity(na);return new Qc();}});(function(){od=Gc.extend({init:function Z(na,fa){Z.base.call(this,Rb.RSA);Object.defineProperties(this,{identity:{value:na,writable:!1,configurable:!1},publicKeyId:{value:fa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var na;na={};na.identity=this.identity;na.pubkeyid=this.publicKeyId;return na;},equals:function Z(fa){return this === fa?!0:fa instanceof od?Z.base.call(this,this,fa) && this.identity == fa.identity && this.publicKeyId == fa.publicKeyId:!1;}});re=function(fa){var Z,V;Z=fa.identity;V=fa.pubkeyid;if(!Z || "string" !== typeof Z || !V || "string" !== typeof V)throw new Eb(U.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(fa));return new od(Z,V);};})();qf=nd.extend({init:function fa(na){fa.base.call(this,Rb.RSA);Object.defineProperties(this,{store:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createData:function(na,fa){return re(fa);},getCryptoContext:function(na,fa){var Z,V,W;if(!(fa instanceof od))throw new vb("Incorrect authentication data type " + fa + ".");Z=fa.identity;V=fa.publicKeyId;W=this.store.getPublicKey(V);if(!W)throw new mc(U.RSA_PUBLICKEY_NOT_FOUND,V).setEntity(fa);return new kd(na,Z,null,W,ld.SIGN_VERIFY);}});(function(){Tc=Gc.extend({init:function Z(fa){Z.base.call(this,Rb.NONE);Object.defineProperties(this,{identity:{value:fa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var fa;fa={};fa.identity=this.identity;return fa;},equals:function V(Z){return this === Z?!0:Z instanceof Tc?V.base.call(this,this,Z) && this.identity == Z.identity:!1;}});se=function(Z){var V;V=Z.identity;if(!V)throw new Eb(U.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(Z));return new Tc(V);};})();mf=nd.extend({init:function fa(){fa.base.call(this,Rb.NONE);},createData:function(fa,Z){return se(Z);},getCryptoContext:function(fa,Z){if(!(Z instanceof Tc))throw new vb("Incorrect authentication data type " + JSON.stringify(Z) + ".");return new Qc();}});rf=Cb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(fa,Z){if(!(Z instanceof jd))throw new vb("Incorrect key data type " + Z + ".");this.rsaKeys[fa]=Z;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(fa){delete this.rsaKeys[fa];},getPublicKey:function(fa){return this.rsaKeys[fa];}});Ld=Cb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(fa,Z,V){}});pd=Cb.Class.create({abort:function(){},close:function(fa,Z){},write:function(fa,Z,V,W,ca){},flush:function(fa,Z){}});sf=Cb.Class.create({init:function(fa){Object.defineProperties(this,{_data:{value:fa,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Ub("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(fa,Z,V){$a(V,function(){var W;if(this._closed)throw new Ub("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == fa && (fa=this._data.length - this._currentPosition);W=this._data.subarray(this._currentPosition,this._currentPosition + fa);this._currentPosition+=W.length;return W;},this);}});tf=Cb.Class.create({init:function(){var fa;fa={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);},abort:function(){},close:function(fa,Z){this._closed=!0;Z.result(!0);},write:function(fa,Z,V,W,ca){$a(ca,function(){var Y;if(this._closed)throw new Ub("Stream is already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > V)throw new RangeError("Length cannot be negative.");if(Z + V > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");Y=fa.subarray(Z,V);this._buffered.push(Y);return Y.length;},this);},flush:function(fa,Z){var V;for(;0 < this._buffered.length;){if((fa=this._buffered.shift(),this._result)){V=new Uint8Array(this._result.length + fa.length);V.set(this._result);V.set(fa,this._result.length);this._result=V;}else this._result=new Uint8Array(fa);}Z.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});uf=Cb.Class.create({getResponse:function(fa,Z,V){}});(function(){var fa,Z;fa=pd.extend({init:function(V,W){V={_httpLocation:{value:V,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:W,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new tf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:zb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:zb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Uc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,V);},setTimeout:function(V){this._timeout=V;},getResponse:function(V,W){var ca;ca=this;this._responseQueue.poll(V,{result:function(Y){$a(W,function(){Y && this._responseQueue.add(Y);return Y;},ca);},timeout:function(){$a(W,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();W.timeout();},ca);},error:function(Y){$a(W,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw Y;},ca);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(V,W){var ca;ca=this;$a(W,function(){var Y;if(this._response)return !0;Y=this._buffer.toByteArray();0 < Y.length && (this._abortToken=this._httpLocation.getResponse({body:Y},this._timeout,{result:function(ia){ca._response={response:ia};ca._responseQueue.add(ca._response);},timeout:function(){ca._response={isTimeout:!0};ca._responseQueue.add(ca._response);},error:function(ia){ca._response={isError:!0,error:ia};ca._responseQueue.add(ca._response);}}));return !0;},this);},write:function(V,W,ca,Y,ia){$a(ia,function(){if(this._response)throw new Ub("HttpOutputStream already closed.");this._buffer.write(V,W,ca,Y,ia);},this);},flush:function(V,W){$a(W,function(){if(this._response)return !0;this._buffer.flush(V,W);},this);}});Z=Ld.extend({init:function(V){Object.defineProperties(this,{_out:{value:V,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:zb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:zb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(V,W,ca){var ia;function Y(va){$a(ca,function(){if(!va)return new Uint8Array(0);this._out.getResponse(W,{result:function(sa){$a(ca,function(){var ja;if(sa.isTimeout)(this._timedout=!0,ca.timeout());else {if(sa.isError)throw (this._exception=sa.error || new Ub("Unknown HTTP exception."),this._exception);if(!sa.response)throw (this._exception=new Ub("Missing HTTP response."),this._exception);sa.response.json !== zb && (this._json=sa.response.json,this.getJSON=function(){return ia._json;});ja=sa.response.content || wd("string" === typeof sa.response.body?sa.response.body:JSON.stringify(this._json));this._buffer=new sf(ja);this._buffer.read(V,W,ca);}},ia);},timeout:function(){ca.timeout();},error:function(sa){ca.error(sa);}});},ia);}ia=this;$a(ca,function(){if(this._exception)throw this._exception;if(this._timedout)ca.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(V,W,ca):this._out.close(W,{result:function(va){Y(va);},timeout:function(){ca.timeout();},error:function(va){ca.error(va);}});}},ia);}});de=Cb.Class.create({init:function(V,W){Object.defineProperties(this,{_httpLocation:{value:V,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:W,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(V){this._timeout=V;},openConnection:function(){var V;V=new fa(this._httpLocation,this._timeout);return {input:new Z(V),output:V};}});})();(function(){var fa,Z;fa=pd.extend({init:function(){var V;V={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,V);},setTimeout:function(){},getResponse:function(V,W){W.result({success:!1,content:null,errorHttpCode:zb,errorSubCode:zb});},abort:function(){},close:function(V,W){W.result(!0);},write:function(V,W,ca,Y,ia){var va,sa;try{if(0 > W)throw new RangeError("Offset cannot be negative.");if(0 > ca)throw new RangeError("Length cannot be negative.");if(W + ca > V.length)throw new RangeError("Offset plus length cannot be greater than the array length.");va=V.subarray(W,ca);sa=new Uint8Array(this._buffer.length + va.length);sa.set(this._buffer);sa.set(va,this._buffer.length);this._buffer=sa;ia.result(va.length);}catch(ja){ia.error(ja);}},flush:function(V,W){W.result(!0);},request:function(){return this._buffer;}});Z=Ld.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(V,W,ca){ca.result(new Uint8Array(16));}});ee=Cb.Class.create({init:function(){var V;V={output:{value:new fa(),writable:!1,enumerable:!1,configurable:!1},input:{value:new Z(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,V);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return vd(this.output.request());}});})();te=function(fa,Z,V){(function(W,ca,Y){W.read(-1,ca,{result:function(ia){ia && ia.length?Y(null,ia):Y(null,null);},timeout:function(){V.timeout();},error:function(ia){Y(ia,null);}});})(fa,Z,function(W,ca){var Y,ia;if(W)V.error(W);else if(ca){if(fa.getJSON !== zb && "function" === typeof fa.getJSON)V.result(fa.getJSON());else {W=V.result;ca=new vf(ac(ca,"utf-8"));Y=[];for(ia=ca.nextValue();ia !== zb;){Y.push(ia);ia=ca.nextValue();}W.call(V,Y);}}else V.result(null);});};gc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(gc);(function(){Yc=Cb.Class.create({init:function(fa){Object.defineProperties(this,{keyExchangeScheme:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof Yc?this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ue=function(fa,Z,V){Ka(V,function(){var W,ca,Y;W=Z.scheme;ca=Z.keydata;if(!W || !ca || "object" !== typeof ca)throw new Eb(U.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(Z));if(!gc[W])throw new Ob(U.UNIDENTIFIED_KEYX_SCHEME,W);Y=fa.getKeyExchangeFactory(W);if(!Y)throw new Ob(U.KEYX_FACTORY_NOT_FOUND,W);Y.createRequestData(fa,ca,V);});};})();(function(){Zc=Cb.Class.create({init:function(fa,Z){Object.defineProperties(this,{masterToken:{value:fa,writable:!1,configurable:!1},keyExchangeScheme:{value:Z,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.mastertoken=this.masterToken;fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof Zc?this.masterToken.equals(fa.masterToken) && this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ve=function(fa,Z,V){Ka(V,function(){var W,ca,Y;W=Z.mastertoken;ca=Z.scheme;Y=Z.keydata;if(!ca || !W || "object" !== typeof W || !Y || "object" !== typeof Y)throw new Eb(U.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(Z));if(!gc[ca])throw new Ob(U.UNIDENTIFIED_KEYX_SCHEME,ca);$c(fa,W,{result:function(ia){Ka(V,function(){var va;va=fa.getKeyExchangeFactory(ca);if(!va)throw new Ob(U.KEYX_FACTORY_NOT_FOUND,ca);return va.createResponseData(fa,ia,Y);});},error:function(ia){V.error(ia);}});});};})();(function(){var fa;fa=Cb.Class.create({init:function(Z,V){Object.defineProperties(this,{keyResponseData:{value:Z,writable:!1,configurable:!1},cryptoContext:{value:V,writable:!1,configurable:!1}});}});ic=Cb.Class.create({init:function(Z){Object.defineProperties(this,{scheme:{value:Z,writable:!1,configurable:!1}});},createRequestData:function(Z,V,W){},createResponseData:function(Z,V,W){},generateResponse:function(Z,V,W,ca){},getCryptoContext:function(Z,V,W,ca,Y){},generateSessionKeys:function(Z,V){Ka(V,function(){var W,ca;W=new Uint8Array(16);ca=new Uint8Array(32);Z.getRandom().nextBytes(W);Z.getRandom().nextBytes(ca);oc(W,jc,yc,{result:function(Y){oc(ca,kc,Hc,{result:function(ia){V.result({encryptionKey:Y,hmacKey:ia});},error:function(ia){V.error(new ub(U.SESSION_KEY_CREATION_FAILURE,null,ia));}});},error:function(Y){V.error(new ub(U.SESSION_KEY_CREATION_FAILURE,null,Y));}});});},importSessionKeys:function(Z,V,W){oc(Z,jc,yc,{result:function(ca){oc(V,kc,Hc,{result:function(Y){W.result({encryptionKey:ca,hmacKey:Y});},error:function(Y){W.error(Y);}});},error:function(ca){W.error(ca);}});}});ic.KeyExchangeData=fa;})();(function(){var Z,V,W;function fa(ca,Y,ia,va,sa){Ka(sa,function(){var ja,qa;switch(Y){case Z.PSK:(ja=new tc(va),qa=ca.getEntityAuthenticationFactory(Rb.PSK));if(!qa)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Y);ja=qa.getCryptoContext(ca,ja);return new qc(ca,rc.A128KW,lc,zb);case Z.MGK:ja=new sc(va);qa=ca.getEntityAuthenticationFactory(Rb.MGK);if(!qa)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Y);ja=qa.getCryptoContext(ca,ja);return new qc(ca,rc.A128KW,lc,zb);case Z.WRAP:ja=ca.getMslCryptoContext();ja.unwrap(ia,nc,zc,{result:function(ya){Ka(sa,function(){return new qc(ca,rc.A128KW,lc,ya);});},error:sa.error});break;default:throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Y);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};V=we=Yc.extend({init:function va(Y,ia){va.base.call(this,gc.JWE_LADDER);switch(Y){case Z.WRAP:if(!ia)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ia=null;}Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},wrapdata:{value:ia,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.mechanism=this.mechanism;this.wrapdata && (Y.wrapdata=Gb(this.wrapdata));return Y;},equals:function va(ia){return ia === this?!0:ia instanceof we?va.base.call(this,ia) && this.mechanism == ia.mechanism && cc(this.wrapdata,ia.wrapdata):!1;},uniqueKey:function va(){var sa;sa=va.base.call(this) + ":" + this.mechanism;this.wrapdata && (sa+=":" + dc(this.wrapdata));return sa;}});W=xe=Zc.extend({init:function ba(sa,ja,qa,ya,ma){ba.base.call(this,sa,gc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ja,writable:!1,configurable:!1},wrapdata:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var sa;sa={};sa.wrapkey=Gb(this.wrapKey);sa.wrapdata=Gb(this.wrapdata);sa.encryptionkey=Gb(this.encryptionKey);sa.hmackey=Gb(this.hmacKey);return sa;},equals:function qa(ja){return this === ja?!0:ja instanceof xe?qa.base.call(this,ja) && cc(this.wrapKey,ja.wrapKey) && cc(this.wrapdata,ja.wrapdata) && cc(this.encryptionKey,ja.encryptionKey) && cc(this.hmacKey,ja.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ic.extend({init:function ma(ya){ma.base.call(this,gc.JWE_LADDER);Object.defineProperties(this,{repository:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ya,ma,ba){Ka(ba,function(){var ea,ha,wa;ea=ma.mechanism;ha=ma.wrapdata;if(!ea || ea == Z.WRAP && (!ha || "string" !== typeof ha))throw new Eb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ma));if(!Z[ea])throw new Ob(U.UNIDENTIFIED_KEYX_MECHANISM,ea);switch(ea){case Z.WRAP:try{wa=Ib(ha);}catch(Oa){throw new Ob(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());}if(null == wa || 0 == wa.length)throw new Ob(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());break;default:wa=null;}return new V(ea,wa);});},createResponseData:function(ya,ma,ba){var ea,ha,wa,Oa,Ia,Ma,Qa;ya=ba.wrapkey;ea=ba.wrapdata;ha=ba.encryptionkey;wa=ba.hmackey;if(!(ya && "string" === typeof ya && ea && "string" === typeof ea && ha && "string" === typeof ha && wa) || "string" !== typeof wa)throw new Eb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Oa=Ib(ya);Ia=Ib(ea);}catch(pa){throw new ub(U.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ba),pa);}try{Ma=Ib(ha);}catch(pa){throw new ub(U.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),pa);}try{Qa=Ib(wa);}catch(pa){throw new ub(U.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),pa);}return new W(ma,Oa,Ia,Ma,Qa);},generateResponse:function(ya,ma,ba,ea){var Ma,Qa;function ha(pa,xa,Da){Ma.generateSessionKeys(ya,{result:function(Ga){Ka(ea,function(){wa(pa,xa,Da,Ga.encryptionKey,Ga.hmacKey);},Ma);},error:function(Ga){Ka(ea,function(){Ga instanceof cb && Ga.setEntity(Qa);throw Ga;});}});}function wa(pa,xa,Da,Ga,za){Ka(ea,function(){fa(ya,ma.mechanism,ma.wrapdata,pa,{result:function(Ra){Ra.wrap(xa,{result:function(Fa){Oa(xa,Da,Ga,za,Fa);},error:function(Fa){Ka(ea,function(){Fa instanceof cb && Fa.setEntity(Qa);throw Fa;});}});},error:function(Ra){Ka(ea,function(){Ra instanceof cb && Ra.setEntity(Qa);throw Ra;});}});},Ma);}function Oa(pa,xa,Da,Ga,za){Ka(ea,function(){var Ra;Ra=new qc(ya,rc.A128KW,lc,pa);Ra.wrap(Da,{result:function(Fa){Ra.wrap(Ga,{result:function(Wa){Ia(xa,za,Da,Fa,Ga,Wa);},error:function(Wa){Ka(ea,function(){Wa instanceof cb && Wa.setEntity(Qa);throw Wa;});}});},error:function(Fa){Ka(ea,function(){Fa instanceof cb && Fa.setEntity(Qa);throw Fa;});}});},Ma);}function Ia(pa,xa,Da,Ga,za,Ra){Ka(ea,function(){var Fa;Fa=ya.getTokenFactory();Qa?Fa.renewMasterToken(ya,Qa,Da,za,{result:function(Wa){Ka(ea,function(){var Za,Sa;Za=new hc(ya,Wa);Sa=new W(Wa,xa,pa,Ga,Ra);return new ic.KeyExchangeData(Sa,Za,ea);},Ma);},error:function(Wa){Ka(ea,function(){Wa instanceof cb && Wa.setEntity(Qa);throw Wa;});}}):Fa.createMasterToken(ya,ba,Da,za,{result:function(Wa){Ka(ea,function(){var Za,Sa;Za=new hc(ya,Wa);Sa=new W(Wa,xa,pa,Ga,Ra);return new ic.KeyExchangeData(Sa,Za,ea);},Ma);},error:ea.error});},Ma);}Ma=this;Ka(ea,function(){var pa,xa;if(!(ma instanceof V))throw new vb("Key request data " + JSON.stringify(ma) + " was not created by this factory.");pa=ba;if(ba instanceof ec){if(!ba.isVerified())throw new Wc(U.MASTERTOKEN_UNTRUSTED,ba);Qa=ba;pa=ba.identity;}xa=new Uint8Array(16);ya.getRandom().nextBytes(xa);oc(xa,nc,zc,{result:function(Da){Ka(ea,function(){ya.getMslCryptoContext().wrap(Da,{result:function(Ga){ha(pa,Da,Ga);},error:function(Ga){Ka(ea,function(){Ga instanceof cb && Ga.setEntity(Qa);throw Ga;},Ma);}});},Ma);},error:function(Da){Ka(ea,function(){throw new ub(U.WRAP_KEY_CREATION_FAILURE,null,Da).setEntity(Qa);},Ma);}});},Ma);},getCryptoContext:function(ya,ma,ba,ea,ha){var Oa;function wa(Ia,Ma,Qa,pa,xa){Ka(ha,function(){var Da;Da=new qc(ya,rc.A128KW,lc,xa);Da.unwrap(Ma.encryptionKey,jc,yc,{result:function(Ga){Da.unwrap(Ma.hmacKey,kc,Hc,{result:function(za){Ka(ha,function(){this.repository.addCryptoContext(Ma.wrapdata,Da);this.repository.removeCryptoContext(Qa);return new hc(ya,Ma.masterToken,pa,Ga,za);},Oa);},error:function(za){Ka(ha,function(){za instanceof cb && za.setEntity(Ia);throw za;});}});},error:function(Ga){Ka(ha,function(){Ga instanceof cb && Ga.setEntity(Ia);throw Ga;});}});},Oa);}Oa=this;Ka(ha,function(){var Ia,Ma;if(!(ma instanceof V))throw new vb("Key request data " + JSON.stringify(ma) + " was not created by this factory.");if(!(ba instanceof W))throw new vb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Ia=ma.mechanism;Ma=ma.wrapdata;ya.getEntityAuthenticationData(null,{result:function(Qa){Ka(ha,function(){var pa,xa,Da;pa=Qa.getIdentity();switch(Ia){case Z.PSK:xa=new tc(pa);Da=ya.getEntityAuthenticationFactory(Rb.PSK);if(!Da)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Ia).setEntity(Qa);xa=Da.getCryptoContext(ya,xa);xa=new qc(ya,rc.A128KW,lc,zb);break;case Z.MGK:xa=new sc(pa);Da=ya.getEntityAuthenticationFactory(Rb.MGK);if(!Da)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Ia).setEntity(Qa);xa=Da.getCryptoContext(ya,xa);xa=new qc(ya,rc.A128KW,lc,xa.wrapKey);break;case Z.WRAP:xa=this.repository.getCryptoContext(Ma);if(!xa)throw new Ob(U.KEYX_WRAPPING_KEY_MISSING,Gb(Ma)).setEntity(Qa);break;default:throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Ia).setEntity(Qa);}xa.unwrap(ba.wrapKey,nc,zc,{result:function(Ga){wa(Qa,ba,Ma,pa,Ga);},error:function(Ga){Ka(ha,function(){Ga instanceof cb && Ga.setEntity(Qa);throw Ga;});}});},Oa);},error:ha.error});},Oa);}});})();(function(){var Z,V,W,ca;function fa(Y,ia,va,sa,ja){Ka(ja,function(){var qa,ya;switch(ia){case Z.PSK:(qa=new tc(sa),ya=Y.getEntityAuthenticationFactory(Rb.PSK));if(!ya)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,ia);qa=ya.getCryptoContext(Y,qa);return new ca(zb);case Z.MGK:qa=new sc(sa);ya=Y.getEntityAuthenticationFactory(Rb.MGK);if(!ya)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,ia);qa=ya.getCryptoContext(Y,qa);return new ca(zb);case Z.WRAP:qa=Y.getMslCryptoContext();qa.unwrap(va,nc,zc,{result:function(ma){Ka(ja,function(){return new ca(ma);});},error:ja.error});break;default:throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,ia);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};V=ye=Yc.extend({init:function sa(ia,va){sa.base.call(this,gc.JWK_LADDER);switch(ia){case Z.WRAP:if(!va)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:va=null;}Object.defineProperties(this,{mechanism:{value:ia,writable:!1,configurable:!1},wrapdata:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.mechanism=this.mechanism;this.wrapdata && (ia.wrapdata=Gb(this.wrapdata));return ia;},equals:function sa(va){return va === this?!0:va instanceof ye?sa.base.call(this,va) && this.mechanism == va.mechanism && cc(this.wrapdata,va.wrapdata):!1;},uniqueKey:function sa(){var ja;ja=sa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ja+=":" + dc(this.wrapdata));return ja;}});W=ze=Zc.extend({init:function ea(ja,qa,ya,ma,ba){ea.base.call(this,ja,gc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:ya,writable:!1,configurable:!1},encryptionKey:{value:ma,writable:!1,configurable:!1},hmacKey:{value:ba,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.wrapkey=Gb(this.wrapKey);ja.wrapdata=Gb(this.wrapdata);ja.encryptionkey=Gb(this.encryptionKey);ja.hmackey=Gb(this.hmacKey);return ja;},equals:function ya(qa){return this === qa?!0:qa instanceof ze?ya.base.call(this,qa) && cc(this.wrapKey,qa.wrapKey) && cc(this.wrapdata,qa.wrapdata) && cc(this.encryptionKey,qa.encryptionKey) && cc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ca=Pc.extend({init:function(ya){ya && ya.rawKey && (ya=ya.rawKey);Object.defineProperties(this,{_wrapKey:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ya,ma){ma.error(new ub(U.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ya,ma){ma.error(new ub(U.DECRYPT_NOT_SUPPORTED));},wrap:function(ya,ma){Ka(ma,function(){Lb.wrapKey("jwk",ya.rawKey,this._wrapKey,nc).then(function(ba){ma.result(ba);},function(ba){ma.error(new ub(U.WRAP_ERROR));});},this);},unwrap:function(ya,ma,ba,ea){function ha(wa){Ka(ea,function(){switch(wa.type){case "secret":Xc(wa,ea);break;case "public":Ec(wa,ea);break;case "private":Nc(wa,ea);break;default:throw new ub(U.UNSUPPORTED_KEY,"type: " + wa.type);}});}Ka(ea,function(){Lb.unwrapKey("jwk",ya,this._wrapKey,nc,ma,!1,ba).then(function(wa){ha(wa);},function(wa){ea.error(new ub(U.UNWRAP_ERROR));});},this);},sign:function(ya,ma){ma.error(new ub(U.SIGN_NOT_SUPPORTED));},verify:function(ya,ma,ba){ba.error(new ub(U.VERIFY_NOT_SUPPORTED));}});ic.extend({init:function ba(ma){ba.base.call(this,gc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ma,ba,ea){Ka(ea,function(){var ha,wa,Oa;ha=ba.mechanism;wa=ba.wrapdata;if(!ha || ha == Z.WRAP && (!wa || "string" !== typeof wa))throw new Eb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));if(!Z[ha])throw new Ob(U.UNIDENTIFIED_KEYX_MECHANISM,ha);switch(ha){case Z.WRAP:try{Oa=Ib(wa);}catch(Ia){throw new Ob(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + ba.toString());}if(null == Oa || 0 == Oa.length)throw new Ob(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + ba.toString());break;default:Oa=null;}return new V(ha,Oa);});},createResponseData:function(ma,ba,ea){var ha,wa,Oa,Ia,Ma,Qa,pa;ma=ea.wrapkey;ha=ea.wrapdata;wa=ea.encryptionkey;Oa=ea.hmackey;if(!(ma && "string" === typeof ma && ha && "string" === typeof ha && wa && "string" === typeof wa && Oa) || "string" !== typeof Oa)throw new Eb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ea));try{Ia=Ib(ma);Ma=Ib(ha);}catch(xa){throw new ub(U.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ea),xa);}try{Qa=Ib(wa);}catch(xa){throw new ub(U.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ea),xa);}try{pa=Ib(Oa);}catch(xa){throw new ub(U.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ea),xa);}return new W(ba,Ia,Ma,Qa,pa);},generateResponse:function(ma,ba,ea,ha){var Qa,pa;function wa(xa,Da,Ga){Qa.generateSessionKeys(ma,{result:function(za){Ka(ha,function(){Oa(xa,Da,Ga,za.encryptionKey,za.hmacKey);},Qa);},error:function(za){Ka(ha,function(){za instanceof cb && za.setEntity(pa);throw za;});}});}function Oa(xa,Da,Ga,za,Ra){Ka(ha,function(){fa(ma,ba.mechanism,ba.wrapdata,xa,{result:function(Fa){Fa.wrap(Da,{result:function(Wa){Ia(Da,Ga,za,Ra,Wa);},error:function(Wa){Ka(ha,function(){Wa instanceof cb && Wa.setEntity(pa);throw Wa;});}});},error:function(Fa){Ka(ha,function(){Fa instanceof cb && Fa.setEntity(pa);throw Fa;});}});},Qa);}function Ia(xa,Da,Ga,za,Ra){Ka(ha,function(){var Fa;Fa=new ca(xa);Fa.wrap(Ga,{result:function(Wa){Fa.wrap(za,{result:function(Za){Ma(Da,Ra,Ga,Wa,za,Za);},error:function(Za){Ka(ha,function(){Za instanceof cb && Za.setEntity(pa);throw Za;});}});},error:function(Wa){Ka(ha,function(){Wa instanceof cb && Wa.setEntity(pa);throw Wa;});}});},Qa);}function Ma(xa,Da,Ga,za,Ra,Fa){Ka(ha,function(){var Wa;Wa=ma.getTokenFactory();pa?Wa.renewMasterToken(ma,pa,Ga,Ra,{result:function(Za){Ka(ha,function(){var Sa,hb;Sa=new hc(ma,Za);hb=new W(Za,Da,xa,za,Fa);return new ic.KeyExchangeData(hb,Sa,ha);},Qa);},error:function(Za){Ka(ha,function(){Za instanceof cb && Za.setEntity(pa);throw Za;});}}):Wa.createMasterToken(ma,ea,Ga,Ra,{result:function(Za){Ka(ha,function(){var Sa,hb;Sa=new hc(ma,Za);hb=new W(Za,Da,xa,za,Fa);return new ic.KeyExchangeData(hb,Sa,ha);},Qa);},error:ha.error});},Qa);}Qa=this;Ka(ha,function(){var xa,Da;if(!(ba instanceof V))throw new vb("Key request data " + JSON.stringify(ba) + " was not created by this factory.");xa=ea;if(ea instanceof ec){if(!ea.isVerified())throw new Wc(U.MASTERTOKEN_UNTRUSTED,ea);pa=ea;xa=ea.identity;}Da=new Uint8Array(16);ma.getRandom().nextBytes(Da);oc(Da,nc,zc,{result:function(Ga){Ka(ha,function(){ma.getMslCryptoContext().wrap(Ga,{result:function(za){wa(xa,Ga,za);},error:function(za){Ka(ha,function(){za instanceof cb && za.setEntity(pa);throw za;},Qa);}});},Qa);},error:function(Ga){Ka(ha,function(){throw new ub(U.WRAP_KEY_CREATION_FAILURE,null,Ga).setEntity(pa);},Qa);}});},Qa);},getCryptoContext:function(ma,ba,ea,ha,wa){var Ia;function Oa(Ma,Qa,pa,xa,Da){Ka(wa,function(){var Ga;Ga=new ca(Da);Ga.unwrap(Qa.encryptionKey,jc,yc,{result:function(za){Ga.unwrap(Qa.hmacKey,kc,Hc,{result:function(Ra){Ka(wa,function(){this.repository.addCryptoContext(Qa.wrapdata,Ga);this.repository.removeCryptoContext(pa);return new hc(ma,Qa.masterToken,xa,za,Ra);},Ia);},error:function(Ra){Ka(wa,function(){Ra instanceof cb && Ra.setEntity(Ma);throw Ra;});}});},error:function(za){Ka(wa,function(){za instanceof cb && za.setEntity(Ma);throw za;});}});},Ia);}Ia=this;Ka(wa,function(){var Ma,Qa;if(!(ba instanceof V))throw new vb("Key request data " + JSON.stringify(ba) + " was not created by this factory.");if(!(ea instanceof W))throw new vb("Key response data " + JSON.stringify(ea) + " was not created by this factory.");Ma=ba.mechanism;Qa=ba.wrapdata;ma.getEntityAuthenticationData(null,{result:function(pa){Ka(wa,function(){var xa,Da,Ga;xa=pa.getIdentity();switch(Ma){case Z.PSK:Da=new tc(xa);Ga=ma.getEntityAuthenticationFactory(Rb.PSK);if(!Ga)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(pa);Da=Ga.getCryptoContext(ma,Da);Da=new ca(Da.wrapKey);break;case Z.MGK:Da=new sc(xa);Ga=ma.getEntityAuthenticationFactory(Rb.MGK);if(!Ga)throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(pa);Da=Ga.getCryptoContext(ma,Da);Da=new ca(Da.wrapKey);break;case Z.WRAP:Da=this.repository.getCryptoContext(Qa);if(!Da)throw new Ob(U.KEYX_WRAPPING_KEY_MISSING,Gb(Qa)).setEntity(pa);break;default:throw new Ob(U.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(pa);}Da.unwrap(ea.wrapKey,nc,zc,{result:function(za){Oa(pa,ea,Qa,xa,za);},error:function(za){Ka(wa,function(){za instanceof cb && za.setEntity(pa);throw za;});}});},Ia);},error:wa.error});},Ia);}});})();wf=Cb.Class.create({addCryptoContext:function(fa,Z){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){}});(function(){var Z,V,W,ca;function fa(Y,ia,va,sa,ja){switch(va){case Z.JWE_RSA:case Z.JWEJS_RSA:return new qc(Y,rc.RSA_OAEP,lc,sa,ja);case Z.JWK_RSA:return new kd(Y,ia,sa,ja,ld.WRAP_UNWRAP_OAEP);case Z.JWK_RSAES:return new kd(Y,ia,sa,ja,ld.WRAP_UNWRAP_PKCS1);default:throw new ub(U.UNSUPPORTED_KEYX_MECHANISM,va);}}Z=Ae={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};V=yd=Yc.extend({init:function qa(ia,va,sa,ja){qa.base.call(this,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ia,writable:!1,configurable:!1},mechanism:{value:va,writable:!1,configurable:!1},publicKey:{value:sa,writable:!1,configurable:!1},privateKey:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.keypairid=this.keyPairId;ia.mechanism=this.mechanism;ia.publickey=Gb(this.publicKey.getEncoded());return ia;},equals:function sa(va){var ja;if(va === this)return !0;if(!(va instanceof yd))return !1;ja=this.privateKey === va.privateKey || this.privateKey && va.privateKey && cc(this.privateKey.getEncoded(),va.privateKey.getEncoded());return sa.base.call(this,va) && this.keyPairId == va.keyPairId && this.mechanism == va.mechanism && cc(this.publicKey.getEncoded(),va.publicKey.getEncoded()) && ja;},uniqueKey:function sa(){var ja,qa;ja=this.publicKey.getEncoded();qa=this.privateKey && this.privateKey.getEncoded();ja=sa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + dc(ja);qa && (ja+=":" + dc(qa));return ja;}});W=function(sa,ja){Ka(ja,function(){var qa,ya,ma,ba;qa=sa.keypairid;ya=sa.mechanism;ma=sa.publickey;if(!qa || "string" !== typeof qa || !ya || !ma || "string" !== typeof ma)throw new Eb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(sa));if(!Z[ya])throw new Ob(U.UNIDENTIFIED_KEYX_MECHANISM,ya);try{ba=Ib(ma);switch(ya){case Z.JWE_RSA:case Z.JWEJS_RSA:case Z.JWK_RSA:Dd(ba,id,zc,{result:function(ea){ja.result(new V(qa,ya,ea,null));},error:function(ea){ja.error(ea);}});break;case Z.JWK_RSAES:Dd(ba,Bd,zc,{result:function(ea){ja.result(new V(qa,ya,ea,null));},error:function(ea){ja.error(ea);}});break;default:throw new ub(U.UNSUPPORTED_KEYX_MECHANISM,ya);}}catch(ea){if(!(ea instanceof cb))throw new ub(U.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(sa),ea);throw ea;}});};ca=Be=Zc.extend({init:function ba(ja,qa,ya,ma){ba.base.call(this,ja,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.keypairid=this.keyPairId;ja.encryptionkey=Gb(this.encryptionKey);ja.hmackey=Gb(this.hmacKey);return ja;},equals:function ya(qa){return this === qa?!0:qa instanceof Be?ya.base.call(this,qa) && this.keyPairId == qa.keyPairId && cc(this.encryptionKey,qa.encryptionKey) && cc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + this.keyPairId + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});fe=ic.extend({init:function ma(){ma.base.call(this,gc.ASYMMETRIC_WRAPPED);},createRequestData:function(ma,ba,ea){W(ba,ea);},createResponseData:function(ma,ba,ea){var ha,wa,Oa,Ia;ma=ea.keypairid;ha=ea.encryptionkey;wa=ea.hmackey;if(!ma || "string" !== typeof ma || !ha || "string" !== typeof ha || !wa || "string" !== typeof wa)throw new Eb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ea));try{Oa=Ib(ha);}catch(Ma){throw new ub(U.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ea),Ma);}try{Ia=Ib(wa);}catch(Ma){throw new ub(U.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ea),Ma);}return new ca(ba,ma,Oa,Ia);},generateResponse:function(ma,ba,ea,ha){var Ia;function wa(Ma,Qa){Ka(ha,function(){var pa;pa=fa(ma,ba.keyPairId,ba.mechanism,null,ba.publicKey);pa.wrap(Ma,{result:function(xa){Ka(ha,function(){pa.wrap(Qa,{result:function(Da){Oa(Ma,xa,Qa,Da);},error:function(Da){Ka(ha,function(){Da instanceof cb && ea instanceof ec && Da.setEntity(ea);throw Da;},Ia);}});},Ia);},error:function(xa){Ka(ha,function(){xa instanceof cb && ea instanceof ec && xa.setEntity(ea);throw xa;},Ia);}});},Ia);}function Oa(Ma,Qa,pa,xa){Ka(ha,function(){var Da;Da=ma.getTokenFactory();ea instanceof ec?Da.renewMasterToken(ma,ea,Ma,pa,{result:function(Ga){Ka(ha,function(){var za,Ra;za=new hc(ma,Ga);Ra=new ca(Ga,ba.keyPairId,Qa,xa);return new ic.KeyExchangeData(Ra,za,ha);},Ia);},error:function(Ga){Ka(ha,function(){Ga instanceof cb && Ga.setEntity(ea);throw Ga;},Ia);}}):Da.createMasterToken(ma,ea,Ma,pa,{result:function(Ga){Ka(ha,function(){var za,Ra;za=new hc(ma,Ga);Ra=new ca(Ga,ba.keyPairId,Qa,xa);return new ic.KeyExchangeData(Ra,za,ha);},Ia);},error:ha.error});},Ia);}Ia=this;Ka(ha,function(){if(!(ba instanceof V))throw new vb("Key request data " + JSON.stringify(ba) + " was not created by this factory.");this.generateSessionKeys(ma,{result:function(Ma){wa(Ma.encryptionKey,Ma.hmacKey);},error:function(Ma){Ka(ha,function(){Ma instanceof cb && ea instanceof ec && Ma.setEntity(ea);throw Ma;},Ia);}});},Ia);},getCryptoContext:function(ma,ba,ea,ha,wa){var Oa;Oa=this;Ka(wa,function(){var Ia,Ma,Qa;if(!(ba instanceof V))throw new vb("Key request data " + JSON.stringify(ba) + " was not created by this factory.");if(!(ea instanceof ca))throw new vb("Key response data " + JSON.stringify(ea) + " was not created by this factory.");Ia=ba.keyPairId;Ma=ea.keyPairId;if(Ia != Ma)throw new Ob(U.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ia + "; response " + Ma).setEntity(ha);Ma=ba.privateKey;if(!Ma)throw new Ob(U.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ha);Qa=fa(ma,Ia,ba.mechanism,Ma,null);Qa.unwrap(ea.encryptionKey,jc,yc,{result:function(pa){Qa.unwrap(ea.hmacKey,kc,Hc,{result:function(xa){ma.getEntityAuthenticationData(null,{result:function(Da){Ka(wa,function(){var Ga;Ga=Da.getIdentity();return new hc(ma,ea.masterToken,Ga,pa,xa);},Oa);},error:function(Da){Ka(wa,function(){Da instanceof cb && Da.setEntity(ha);throw Da;},Oa);}});},error:function(xa){Ka(wa,function(){xa instanceof cb && xa.setEntity(ha);throw xa;},Oa);}});},error:function(pa){Ka(wa,function(){pa instanceof cb && pa.setEntity(ha);throw pa;},Oa);}});},Oa);}});})();vf=Cb.Class.create({init:function(fa){var Z,V,W,ca,Y,ia,va,sa;Z=Xb.parser();V=[];W=[];va=0;sa=!1;Z.onerror=function(ja){sa || (sa=!0,Z.end());};Z.onopenobject=function(ja){var qa;if(ca)(ca[ia]={},W.push(ca),ca=ca[ia]);else if(Y){qa={};W.push(Y);Y.push(qa);ca=qa;Y=zb;}else ca={};ia=ja;};Z.oncloseobject=function(){var ja;ja=W.pop();ja?"object" === typeof ja?ca=ja:(ca=zb,Y=ja):(V.push(ca),va=Z.index,ca=zb);};Z.onopenarray=function(){var ja;if(ca)(ca[ia]=[],W.push(ca),Y=ca[ia],ca=zb);else if(Y){ja=[];W.push(Y);Y.push(ja);Y=ja;}else Y=[];};Z.onclosearray=function(){var ja;ja=W.pop();ja?"object" === typeof ja?(ca=ja,Y=zb):Y=ja:(V.push(Y),va=Z.index,Y=zb);};Z.onkey=function(ja){ia=ja;};Z.onvalue=function(ja){ca?ca[ia]=ja:Y?Y.push(ja):(V.push(ja),va=Z.index);};Z.write(fa).close();Object.defineProperties(this,{_values:{value:V,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:va,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?zb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var fa,Z,V,W,ca;fa=Md="entityauthdata";Z=De="mastertoken";V=Ee="headerdata";W=Fe="errordata";ca=Nd="signature";Ce=function(Y,ia,va,sa){Ka(sa,function(){var ja,qa,ya,ma,ba,ea;ja=ia[fa];qa=ia[Z];ya=ia[ca];if(ja && "object" !== typeof ja || qa && "object" !== typeof qa || "string" !== typeof ya)throw new Eb(U.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ia));try{ma=Ib(ya);}catch(ha){throw new Jb(U.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ia),ha);}ba=null;ja && (ba=oe(Y,ja));ea=ia[V];if(ea != zb && null != ea){if("string" !== typeof ea)throw new Eb(U.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ia));qa?$c(Y,qa,{result:function(ha){Od(Y,ea,ba,ha,ma,va,sa);},error:function(ha){sa.error(ha);}}):Od(Y,ea,ba,null,ma,va,sa);}else if((ja=ia[W],ja != zb && null != ja)){if("string" !== typeof ja)throw new Eb(U.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ia));Ge(Y,ja,ba,ma,sa);}else throw new Eb(U.JSON_PARSE_ERROR,JSON.stringify(ia));});};})();(function(){function fa(Z,V){this.errordata=Z;this.signature=V;}Dc=Cb.Class.create({init:function(Z,V,W,ca,Y,ia,va,sa,ja,qa){var ya;ya=this;Ka(qa,function(){var ma,ba;0 > ia && (ia=-1);if(0 > ca || ca > Mb)throw new vb("Message ID " + ca + " is out of range.");if(!V)throw new Jb(U.MESSAGE_ENTITY_NOT_FOUND);if(ja)return (Object.defineProperties(this,{entityAuthenticationData:{value:V,writable:!1,configurable:!1},recipient:{value:W,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},errorCode:{value:Y,writable:!1,configurable:!1},internalCode:{value:ia,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:ja.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ja.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ma={};W && (ma.recipient=W);ma.messageid=ca;ma.errorcode=Y;0 < ia && (ma.internalcode=ia);va && (ma.errormsg=va);sa && (ma.usermsg=sa);try{ba=Z.getEntityAuthenticationFactory(V.scheme).getCryptoContext(Z,V);}catch(ea){throw (ea instanceof cb && (ea.setEntity(V),ea.setMessageId(ca)),ea);}ma=bc(JSON.stringify(ma),Nb);ba.encrypt(ma,{result:function(ea){Ka(qa,function(){ba.sign(ea,{result:function(ha){Ka(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:V,writable:!1,configurable:!1},recipient:{value:W,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},errorCode:{value:Y,writable:!1,configurable:!1},internalCode:{value:ia,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:ea,writable:!1,enumerable:!1,configurable:!1},signature:{value:ha,writable:!1,enumerable:!1,configurable:!1}});return this;},ya);},error:function(ha){Ka(qa,function(){ha instanceof cb && (ha.setEntity(V),ha.setMessageId(ca));throw ha;},ya);}});},ya);},error:function(ea){Ka(qa,function(){ea instanceof cb && (ea.setEntity(V),ea.setMessageId(ca));throw ea;},ya);}});},ya);},toJSON:function(){var Z;Z={};Z[Md]=this.entityAuthenticationData;Z[Fe]=Gb(this.errordata);Z[Nd]=Gb(this.signature);return Z;}});He=function(Z,V,W,ca,Y,ia,va,sa,ja){new Dc(Z,V,W,ca,Y,ia,va,sa,null,ja);};Ge=function(Z,V,W,ca,Y){Ka(Y,function(){var ia,va,sa;if(!W)throw new Jb(U.MESSAGE_ENTITY_NOT_FOUND);try{ia=W.scheme;va=Z.getEntityAuthenticationFactory(ia);if(!va)throw new mc(U.ENTITYAUTH_FACTORY_NOT_FOUND,ia);sa=va.getCryptoContext(Z,W);}catch(ja){throw (ja instanceof cb && ja.setEntity(W),ja);}try{V=Ib(V);}catch(ja){throw new Jb(U.HEADER_DATA_INVALID,V,ja).setEntity(W);}if(!V || 0 == V.length)throw new Jb(U.HEADER_DATA_MISSING,V).setEntity(W);sa.verify(V,ca,{result:function(ja){Ka(Y,function(){if(!ja)throw new ub(U.MESSAGE_VERIFICATION_FAILED).setEntity(W);sa.decrypt(V,{result:function(qa){Ka(Y,function(){var ya,ma,ba,ea,ha,wa,Oa,Ia;ya=ac(qa,Nb);try{ma=JSON.parse(ya);}catch(Qa){if(Qa instanceof SyntaxError)throw new Eb(U.JSON_PARSE_ERROR,"errordata " + ya,Qa).setEntity(W);throw Qa;}ba=ma.recipient !== zb?ma.recipient:null;ea=parseInt(ma.messageid);ha=parseInt(ma.errorcode);wa=parseInt(ma.internalcode);Oa=ma.errormsg;Ia=ma.usermsg;if(ba && "string" !== typeof ba || !ea || ea != ea || !ha || ha != ha || ma.internalcode && wa != wa || Oa && "string" !== typeof Oa || Ia && "string" !== typeof Ia)throw new Eb(U.JSON_PARSE_ERROR,"errordata " + ya).setEntity(W);if(0 > ea || ea > Mb)throw new Jb(U.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ya).setEntity(W);ma=!1;for(var Ma in Ea){if(Ea[Ma] == ha){ma=!0;break;}}ma || (ha=Ea.FAIL);if(wa){if(0 > wa)throw new Jb(U.INTERNAL_CODE_NEGATIVE,"errordata " + ya).setEntity(W).setMessageId(ea);}else wa=-1;ya=new fa(V,ca);new Dc(Z,W,ba,ea,ha,wa,Oa,Ia,ya,Y);});},error:function(qa){Ka(Y,function(){qa instanceof cb && qa.setEntity(W);throw qa;});}});});},error:function(ja){Ka(Y,function(){ja instanceof cb && ja.setEntity(W);throw ja;});}});});};})();xf=Cb.Class.create({getUserMessage:function(fa,Z){}});(function(){Pd=function(fa,Z){var V;if(!fa || !Z)return null;V=fa.compressionAlgorithms.filter(function(W){for(var ca=0;ca < Z.compressionAlgorithms.length;++ca){if(W == Z.compressionAlgorithms[ca])return !0;}return !1;});fa=fa.languages.filter(function(W){for(var ca=0;ca < Z.languages.length;++ca){if(W == Z.languages[ca])return !0;}return !1;});return new ad(V,fa);};ad=Cb.Class.create({init:function(fa,Z){fa || (fa=[]);Z || (Z=[]);fa.sort();Object.defineProperties(this,{compressionAlgorithms:{value:fa,writable:!1,enumerable:!0,configurable:!1},languages:{value:Z,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var fa;fa={};fa.compressionalgos=this.compressionAlgorithms;fa.languages=this.languages;return fa;},equals:function(fa){return this === fa?!0:fa instanceof ad?Zd(this.compressionAlgorithms,fa.compressionAlgorithms) && Zd(this.languages,fa.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ie=function(fa){var Z,V,ca;Z=fa.compressionalgos;V=fa.languages;if(Z && !(Z instanceof Array) || V && !(V instanceof Array))throw new Eb(U.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(fa));fa=[];for(var W=0;Z && W < Z.length;++W){ca=Z[W];Fc[ca] && fa.push(ca);}return new ad(fa,V);};})();(function(){var qa,ya;function fa(ma,ba,ea,ha,wa){this.customer=ma;this.sender=ba;this.messageCryptoContext=ea;this.headerdata=ha;this.signature=wa;}function Z(ma,ba,ea,ha,wa,Oa,Ia,Ma,Qa,pa,xa,Da,Ga,za,Ra,Fa,Wa,Za,Sa,hb){return {cryptoContext:{value:ba,writable:!1,configurable:!1},customer:{value:ea,writable:!1,configurable:!1},entityAuthenticationData:{value:ha,writable:!1,configurable:!1},masterToken:{value:wa,writable:!1,configurable:!1},sender:{value:Oa,writable:!1,configurable:!1},messageId:{value:Ia,writable:!1,configurable:!1},nonReplayableId:{value:Fa,writable:!1,configurable:!1},keyRequestData:{value:Ma,writable:!1,configurable:!1},keyResponseData:{value:Qa,writable:!1,configurable:!1},userAuthenticationData:{value:pa,writable:!1,configurable:!1},userIdToken:{value:xa,writable:!1,configurable:!1},serviceTokens:{value:Da,writable:!1,configurable:!1},peerMasterToken:{value:Ga,writable:!1,configurable:!1},peerUserIdToken:{value:za,writable:!1,configurable:!1},peerServiceTokens:{value:Ra,writable:!1,configurable:!1},messageCapabilities:{value:Za,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:hb,writable:!1,enumerable:!1,configurable:!1}};}function V(ma,ba,ea){var ha;if(ea){if(ba=ma.getMslStore().getCryptoContext(ea))return ba;if(!ea.isVerified() || !ea.isDecrypted())throw new Wc(U.MASTERTOKEN_UNTRUSTED,ea);return new hc(ma,ea);}ea=ba.scheme;ha=ma.getEntityAuthenticationFactory(ea);if(!ha)throw new mc(U.ENTITYAUTH_FACTORY_NOT_FOUND,ea);return ha.getCryptoContext(ma,ba);}function W(ma,ba,ea,ha,wa){Ka(wa,function(){ba.verify(ea,ha,{result:function(Oa){Ka(wa,function(){if(!Oa)throw new ub(U.MESSAGE_VERIFICATION_FAILED);ba.decrypt(ea,{result:function(Ia){Ka(wa,function(){return ac(Ia,Nb);});},error:function(Ia){wa.error(Ia);}});});},error:function(Oa){wa.error(Oa);}});});}function ca(ma,ba,ea){Ka(ea,function(){if(ba)ve(ma,ba,ea);else return null;});}function Y(ma,ba,ea,ha){Ka(ha,function(){if(ba)qd(ma,ba,ea,ha);else return null;});}function ia(ma,ba,ea,ha){Ka(ha,function(){if(ea)Me(ma,ba,ea,ha);else return null;});}function va(ma,ba,ea,ha,wa,Oa,Ia){var Qa;function Ma(pa,xa,Da){var Ga,za;if(xa >= pa.length){Ga=[];for(za in Qa){Ga.push(Qa[za]);}Da.result(Ga);}else {Ga=pa[xa];if("object" !== typeof Ga)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + Oa);rd(ma,Ga,ea,ha,wa,{result:function(Ra){Ka(Da,function(){Qa[Ra.uniqueKey()]=Ra;Ma(pa,xa + 1,Da);});},error:function(Ra){Da.error(Ra);}});}}Qa={};Ka(Ia,function(){if(ba){if(!(ba instanceof Array))throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + Oa);Ma(ba,0,Ia);}else return [];});}function sa(ma,ba,ea,ha,wa,Oa){function Ia(Qa,pa,xa){Ka(xa,function(){var Da;Da=pa.peermastertoken;if(Da && "object" !== typeof Da)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + wa);if(!Da)return null;$c(Qa,Da,xa);});}function Ma(Qa,pa,xa,Da){Ka(Da,function(){var Ga;Ga=pa.peeruseridtoken;if(Ga && "object" !== typeof Ga)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + wa);if(!Ga)return null;qd(Qa,Ga,xa,Da);});}Ka(Oa,function(){if(!ma.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ia(ma,ba,{result:function(Qa){Ka(Oa,function(){var pa;pa=ea?ea.masterToken:Qa;Ma(ma,ba,pa,{result:function(xa){Ka(Oa,function(){va(ma,ba.peerservicetokens,pa,xa,ha,wa,{result:function(Da){Ka(Oa,function(){return {peerMasterToken:Qa,peerUserIdToken:xa,peerServiceTokens:Da};});},error:function(Da){Ka(Oa,function(){Da instanceof cb && (Da.setEntity(pa),Da.setUser(xa));throw Da;});}});});},error:function(xa){Ka(Oa,function(){xa instanceof cb && xa.setEntity(pa);throw xa;});}});});},error:Oa.error});});}function ja(ma,ba,ea,ha){var Oa;function wa(Ia,Ma){Ka(ha,function(){if(Ma >= Ia.length)return Oa;ue(ma,Ia[Ma],{result:function(Qa){Ka(ha,function(){Oa.push(Qa);wa(Ia,Ma + 1);});},error:function(Qa){ha.error(Qa);}});});}Oa=[];Ka(ha,function(){var Ia;Ia=ba.keyrequestdata;if(!Ia)return Oa;if(!(Ia instanceof Array))throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + ea);wa(Ia,0);});}qa=Ke=Cb.Class.create({init:function(ma,ba,ea,ha,wa,Oa,Ia,Ma,Qa){Object.defineProperties(this,{messageId:{value:ma,writable:!1,configurable:!1},nonReplayableId:{value:ba,writable:!1,configurable:!1},renewable:{value:ea,writable:!1,configurable:!1},capabilities:{value:ha,writable:!1,configurable:!1},keyRequestData:{value:wa,writable:!1,configurable:!1},keyResponseData:{value:Oa,writable:!1,configurable:!1},userAuthData:{value:Ia,writable:!1,configurable:!1},userIdToken:{value:Ma,writable:!1,configurable:!1},serviceTokens:{value:Qa,writable:!1,configurable:!1}});}});ya=Le=Cb.Class.create({init:function(ma,ba,ea){Object.defineProperties(this,{peerMasterToken:{value:ma,writable:!1,configurable:!1},peerUserIdToken:{value:ba,writable:!1,configurable:!1},peerServiceTokens:{value:ea,writable:!1,configurable:!1}});}});bd=Cb.Class.create({init:function(ma,ba,ea,ha,wa,Oa,Ia){var Qa;function Ma(pa){Ka(Ia,function(){var xa,Da,Ga,za,Ra,Fa,Wa,Za,Sa,hb,lb,nb,qb,rb,yb,xb,r;ba=ea?null:ba;xa=ha.nonReplayableId;Da=ha.renewable;Ga=ha.capabilities;za=ha.messageId;Ra=ha.keyRequestData?ha.keyRequestData:[];Fa=ha.keyResponseData;Wa=ha.userAuthData;Za=ha.userIdToken;Sa=ha.serviceTokens?ha.serviceTokens:[];if(ma.isPeerToPeer()){hb=wa.peerMasterToken;lb=wa.peerUserIdToken;nb=wa.peerServiceTokens?wa.peerServiceTokens:[];}else (lb=hb=null,nb=[]);if(0 > za || za > Mb)throw new vb("Message ID " + za + " is out of range.");if(!ba && !ea)throw new vb("Message entity authentication data or master token must be provided.");if(Fa){if(ma.isPeerToPeer()){qb=ea;rb=Fa.masterToken;}else (qb=Fa.masterToken,rb=hb);}else (qb=ea,rb=hb);if(Za && (!qb || !Za.isBoundTo(qb)))throw new vb("User ID token must be bound to a master token.");if(lb && (!rb || !lb.isBoundTo(rb)))throw new vb("Peer user ID token must be bound to a peer master token.");Sa.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!Za || !b.isBoundTo(Za)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);nb.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Oa){r=Oa.customer;yb=Oa.messageCryptoContext;xb=Z(ma,yb,r,ba,ea,pa,za,Ra,Fa,Wa,Za,Sa,hb,lb,nb,xa,Da,Ga,Oa.headerdata,Oa.signature);Object.defineProperties(this,xb);return this;}r=Za?Za.customer:null;xb={};pa && (xb.sender=pa);xb.messageid=za;"number" === typeof xa && (xb.nonreplayableid=xa);xb.renewable=Da;Ga && (xb.capabilities=Ga);0 < Ra.length && (xb.keyrequestdata=Ra);Fa && (xb.keyresponsedata=Fa);Wa && (xb.userauthdata=Wa);Za && (xb.useridtoken=Za);0 < Sa.length && (xb.servicetokens=Sa);hb && (xb.peermastertoken=hb);lb && (xb.peeruseridtoken=lb);0 < nb.length && (xb.peerservicetokens=nb);try{yb=V(ma,ba,ea);}catch(b){throw (b instanceof cb && (b.setEntity(ea),b.setEntity(ba),b.setUser(Za),b.setUser(Wa),b.setMessageId(za)),b);}xb=bc(JSON.stringify(xb),Nb);yb.encrypt(xb,{result:function(b){Ka(Ia,function(){yb.sign(b,{result:function(a){Ka(Ia,function(){var c;c=Z(ma,yb,r,ba,ea,pa,za,Ra,Fa,Wa,Za,Sa,hb,lb,nb,xa,Da,Ga,b,a);Object.defineProperties(this,c);return this;},Qa);},error:function(a){Ka(Ia,function(){a instanceof cb && (a.setEntity(ea),a.setEntity(ba),a.setUser(Za),a.setUser(Wa),a.setMessageId(za));throw a;},Qa);}});},Qa);},error:function(b){Ka(Ia,function(){b instanceof cb && (b.setEntity(ea),b.setEntity(ba),b.setUser(Za),b.setUser(Wa),b.setMessageId(za));throw b;},Qa);}});},Qa);}Qa=this;Ka(Ia,function(){Oa?Ma(Oa.sender):ea?ma.getEntityAuthenticationData(null,{result:function(pa){pa=pa.getIdentity();Ma(pa);},error:Ia.error}):Ma(null);},Qa);},isEncrypting:function(){return this.masterToken || xd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ma;ma={};this.masterToken?ma[De]=this.masterToken:ma[Md]=this.entityAuthenticationData;ma[Ee]=Gb(this.headerdata);ma[Nd]=Gb(this.signature);return ma;}});Je=function(ma,ba,ea,ha,wa,Oa){new bd(ma,ba,ea,ha,wa,null,Oa);};Od=function(ma,ba,ea,ha,wa,Oa,Ia){Ka(Ia,function(){var Ma,Qa;ea=ha?null:ea;if(!ea && !ha)throw new Jb(U.MESSAGE_ENTITY_NOT_FOUND);Ma=ba;try{ba=Ib(Ma);}catch(pa){throw new Jb(U.HEADER_DATA_INVALID,Ma,pa);}if(!ba || 0 == ba.length)throw new Jb(U.HEADER_DATA_MISSING,Ma);try{Qa=V(ma,ea,ha);}catch(pa){throw (pa instanceof cb && (pa.setEntity(ha),pa.setEntity(ea)),pa);}W(ma,Qa,ba,wa,{result:function(pa){Ka(Ia,function(){var xa,Da,Ga,za,Ra;try{xa=JSON.parse(pa);}catch(Fa){if(Fa instanceof SyntaxError)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa,Fa).setEntity(ha).setEntity(ea);throw Fa;}Da=parseInt(xa.messageid);if(!Da || Da != Da)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ha).setEntity(ea);if(0 > Da || Da > Mb)throw new Jb(U.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + pa).setEntity(ha).setEntity(ea);Ga=ha?xa.sender:null;if(ha && (!Ga || "string" !== typeof Ga))throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ha).setEntity(ea).setMessageId(Da);za=xa.keyresponsedata;if(za && "object" !== typeof za)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ha).setEntity(ea).setMessageId(Da);Ra=Ia;Ia={result:function(Fa){Ra.result(Fa);},error:function(Fa){Fa instanceof cb && (Fa.setEntity(ha),Fa.setEntity(ea),Fa.setMessageId(Da));Ra.error(Fa);}};ca(ma,za,{result:function(Fa){Ka(Ia,function(){var Wa,Za;Wa=!ma.isPeerToPeer() && Fa?Fa.masterToken:ha;Za=xa.useridtoken;if(Za && "object" !== typeof Za)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa);Y(ma,Za,Wa,{result:function(Sa){Ka(Ia,function(){var hb;hb=xa.userauthdata;if(hb && "object" !== typeof hb)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa);ia(ma,Wa,hb,{result:function(lb){Ka(Ia,function(){var nb,qb,rb;if(lb){nb=lb.scheme;qb=ma.getUserAuthenticationFactory(nb);if(!qb)throw new xc(U.USERAUTH_FACTORY_NOT_FOUND,nb).setUser(Sa).setUser(lb);nb=ha?ha.identity:ea.getIdentity();rb=qb.authenticate(ma,nb,lb,Sa);}else rb=Sa?Sa.customer:null;va(ma,xa.servicetokens,Wa,Sa,Oa,pa,{result:function(yb){Ka(Ia,function(){var xb,r,b,a;xb=xa.nonreplayableid !== zb?parseInt(xa.nonreplayableid):null;r=xa.renewable;if(xb != xb || "boolean" !== typeof r)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa);if(0 > xb || xb > Mb)throw new Jb(U.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + pa);b=null;a=xa.capabilities;if(a){if("object" !== typeof a)throw new Eb(U.JSON_PARSE_ERROR,"headerdata " + pa);b=Ie(a);}ja(ma,xa,pa,{result:function(c){sa(ma,xa,Fa,Oa,pa,{result:function(l){Ka(Ia,function(){var g,h,d,f;g=l.peerMasterToken;h=l.peerUserIdToken;d=l.peerServiceTokens;f=new qa(Da,xb,r,b,c,Fa,lb,Sa,yb);g=new ya(g,h,d);h=new fa(rb,Ga,Qa,ba,wa);new bd(ma,ea,ha,f,g,h,Ia);});},error:Ia.error});},error:function(c){Ka(Ia,function(){c instanceof cb && (c.setUser(Sa),c.setUser(lb));throw c;});}});});},error:function(yb){Ka(Ia,function(){yb instanceof cb && (yb.setEntity(Wa),yb.setUser(Sa),yb.setUser(lb));throw yb;});}});});},error:Ia.error});});},error:Ia.error});});},error:Ia.error});});},error:Ia.error});});};})();(function(){function fa(Z,V){this.payload=Z;this.signature=V;}Qd=Cb.Class.create({init:function(Z,V,W,ca,Y,ia,va,sa){var ja;ja=this;Ka(sa,function(){var qa,ya;if(0 > Z || Z > Mb)throw new vb("Sequence number " + Z + " is outside the valid range.");if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");if(va)return (Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:V,writable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},data:{value:Y,writable:!1,configurable:!1},endofmsg:{value:W,writable:!1,enumerable:!1,configurable:!1},payload:{value:va.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ca){qa=Rd(ca,Y);qa || (ca=null,qa=Y);}else (ca=null,qa=Y);ya={};ya.sequencenumber=Z;ya.messageid=V;W && (ya.endofmsg=W);ca && (ya.compressionalgo=ca);ya.data=Gb(qa);qa=bc(JSON.stringify(ya),Nb);ia.encrypt(qa,{result:function(ma){Ka(sa,function(){ia.sign(ma,{result:function(ba){Ka(sa,function(){Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:V,writable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},data:{value:Y,writable:!1,configurable:!1},endofmsg:{value:W,writable:!1,enumerable:!1,configurable:!1},payload:{value:ma,writable:!1,enumerable:!1,configurable:!1},signature:{value:ba,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(ba){sa.error(ba);}});},ja);},error:function(ma){sa.error(ma);}});},ja);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var Z;Z={};Z.payload=Gb(this.payload);Z.signature=Gb(this.signature);return Z;}});Ne=function(Z,V,W,ca,Y,ia,va){new Qd(Z,V,W,ca,Y,ia,null,va);};Oe=function(Z,V,W){Ka(W,function(){var ca,Y,ia,va;ca=Z.payload;Y=Z.signature;if(!ca || "string" !== typeof ca || "string" !== typeof Y)throw new Eb(U.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(Z));try{ia=Ib(ca);}catch(sa){throw new Jb(U.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(Z),sa);}try{va=Ib(Y);}catch(sa){throw new Jb(U.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(Z),sa);}V.verify(ia,va,{result:function(sa){Ka(W,function(){if(!sa)throw new ub(U.PAYLOAD_VERIFICATION_FAILED);V.decrypt(ia,{result:function(ja){Ka(W,function(){var qa,ya,ma,ba,ea,ha,wa;qa=ac(ja,Nb);try{ya=JSON.parse(qa);}catch(Oa){if(Oa instanceof SyntaxError)throw new Eb(U.JSON_PARSE_ERROR,"payload chunk payload " + qa,Oa);throw Oa;}ma=parseInt(ya.sequencenumber);ba=parseInt(ya.messageid);ea=ya.endofmsg;ha=ya.compressionalgo;ya=ya.data;if(!ma || ma != ma || !ba || ba != ba || ea && "boolean" !== typeof ea || ha && "string" !== typeof ha || "string" !== typeof ya)throw new Eb(U.JSON_PARSE_ERROR,"payload chunk payload " + qa);if(0 > ma || ma > Mb)throw new cb(U.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + qa);if(0 > ba || ba > Mb)throw new cb(U.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + qa);ea || (ea=!1);if(ha && !Fc[ha])throw new Jb(U.UNIDENTIFIED_COMPRESSION,ha);try{wa=Ib(ya);}catch(Oa){throw new Jb(U.PAYLOAD_DATA_CORRUPT,ya,Oa);}if(wa && 0 != wa.length)qa=ha?sd(ha,wa):wa;else {if(0 < ya.length)throw new Jb(U.PAYLOAD_DATA_CORRUPT,ya);if(ea)qa=new Uint8Array(0);else throw new Jb(U.PAYLOAD_DATA_MISSING,ya);}wa=new fa(ia,va);new Qd(ma,ba,ea,ha,qa,V,wa,W);});},error:function(ja){W.error(ja);}});});},error:function(sa){W.error(sa);}});});};})();(function(){var W,ca;function fa(Y,ia,va,sa,ja){var ya,ma,ba,ea,ha;function qa(){Ka(ja,function(){var wa,Oa;ma >= ia.length && (ma=0,++ya);if(ya >= ba.length){if(ea)throw ea;throw new Ob(U.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ia));}wa=ba[ya];Oa=ia[ma];wa.scheme != Oa.keyExchangeScheme?(++ma,qa()):wa.generateResponse(Y,Oa,ha,{result:function(Ia){ja.result(Ia);},error:function(Ia){Ka(ja,function(){if(!(Ia instanceof cb))throw Ia;ea=Ia;++ma;qa();});}});});}ya=0;ma=0;ba=Y.getKeyExchangeFactories();ha=va?va:sa;qa();}function Z(Y,ia,va,sa,ja){Ka(ja,function(){var qa;qa=ia.keyRequestData;if(ia.isRenewable() && 0 < qa.length)sa?sa.isRenewable() || sa.isExpired()?fa(Y,qa,sa,null,ja):Y.getTokenFactory().isNewestMasterToken(Y,sa,{result:function(ya){Ka(ja,function(){if(ya)return null;fa(Y,qa,sa,null,ja);});},error:ja.error}):fa(Y,qa,null,va.getIdentity(),ja);else return null;});}function V(Y,ia,va,sa){Ka(sa,function(){var ja,qa,ya,ma;ja=ia.userIdToken;qa=ia.userAuthenticationData;ya=ia.messageId;if(ja && ja.isVerified()){if(ja.isRenewable() && ia.isRenewable() || ja.isExpired() || !ja.isBoundTo(va)){qa=Y.getTokenFactory();qa.renewUserIdToken(Y,ja,va,sa);return;}}else if(ia.isRenewable() && va && qa){ja=ia.customer;if(!ja){ja=qa.scheme;ma=Y.getUserAuthenticationFactory(ja);if(!ma)throw new xc(U.USERAUTH_FACTORY_NOT_FOUND,ja).setEntity(va).setUser(qa).setMessageId(ya);ja=ma.authenticate(Y,va.identity,qa,null);}qa=Y.getTokenFactory();qa.createUserIdToken(Y,ja,va,sa);return;}return ja;});}W=new Uint8Array(0);ca=Ic=function(Y){if(0 > Y || Y > Mb)throw new vb("Message ID " + Y + " is outside the valid range.");return Y == Mb?0:Y + 1;};Rc=function(Y){if(0 > Y || Y > Mb)throw new vb("Message ID " + Y + " is outside the valid range.");return 0 == Y?Mb:Y - 1;};Jc=function(Y,ia,va,sa,ja){Ka(ja,function(){var qa;if(sa == zb || null == sa){qa=Y.getRandom();do {sa=qa.nextLong();}while(0 > sa || sa > Mb);}else if(0 > sa || sa > Mb)throw new vb("Message ID " + sa + " is outside the valid range.");Y.getEntityAuthenticationData(null,{result:function(ya){Ka(ja,function(){var ma;ma=Y.getMessageCapabilities();return new td(Y,sa,ma,ya,ia,va,null,null,null,null,null);});},error:function(ya){ja.error(ya);}});});};Pe=function(Y,ia,va){Ka(va,function(){var ja,qa,ya,ma,ba,ea;function sa(ha){Ka(va,function(){ha instanceof cb && (ha.setEntity(ja),ha.setEntity(qa),ha.setUser(ya),ha.setUser(ma),ha.setMessageId(ba));throw ha;});}ja=ia.masterToken;qa=ia.entityAuthenticationData;ya=ia.userIdToken;ma=ia.userAuthenticationData;ba=ia.messageId;ea=ca(ba);Z(Y,ia,qa,ja,{result:function(ha){Ka(va,function(){var wa;wa=ha?ha.keyResponseData.masterToken:wa=ja;Y.getEntityAuthenticationData(null,{result:function(Oa){Ka(va,function(){V(Y,ia,wa,{result:function(Ia){Ka(va,function(){var Ma,Qa,pa;ya=Ia;Ma=Pd(ia.messageCapabilities,Y.getMessageCapabilities());Qa=ia.keyResponseData;pa=ia.serviceTokens;return Y.isPeerToPeer()?new td(Y,ea,Ma,Oa,Qa?Qa.masterToken:ia.peerMasterToken,ia.peerUserIdToken,ia.peerServiceTokens,ja,ya,pa,ha):new td(Y,ea,Ma,Oa,Qa?Qa.masterToken:ja,ya,pa,null,null,null,ha);});},error:sa});});},error:sa});});},error:sa});});};Qe=function(Y,ia,va,sa,ja){Ka(ja,function(){Y.getEntityAuthenticationData(null,{result:function(qa){Ka(ja,function(){var ya,ma;if(ia != zb && null != ia)ya=ca(ia);else {ma=Y.getRandom();do {ya=ma.nextInt();}while(0 > ya || ya > Mb);}He(Y,qa,ya,va.responseCode,va.internalCode,va.message,sa,ja);});},error:function(qa){ja.error(qa);}});});};td=Cb.Class.create({init:function(Y,ia,va,sa,ja,qa,ya,ma,ba,ea,ha){var wa,Oa,Ia,Ma,Qa;if(!Y.isPeerToPeer() && (ma || ba))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");wa=ha && !Y.isPeerToPeer()?ha.keyResponseData.masterToken:ja;Oa=[];wa=Y.getMslStore().getServiceTokens(wa,qa);Oa.push.apply(Oa,wa);ya && ya.forEach(function(pa){Oa.push(pa);},this);Ia=[];if(Y.isPeerToPeer()){Ma=ma;Qa=ba;ya=ha?ha.keyResponseData.masterToken:ma;ba=Y.getMslStore().getServiceTokens(ya,ba);Ia.push.apply(Ia,ba);ea && ea.forEach(function(pa){Ia.push(pa);},this);}Object.defineProperties(this,{_ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:sa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ja,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ia,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ha,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ma,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Qa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ia,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || xd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || xd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || $d(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || $d(this._entityAuthData.scheme);},getHeader:function(Y){Ka(Y,function(){var ia,va,sa;ia=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;va=[];for(sa in this._keyRequestData){va.push(this._keyRequestData[sa]);}if(this._nonReplayable){if(!this._masterToken)throw new Jb(U.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);sa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else sa=null;ia=new Ke(this._messageId,sa,this._renewable,this._capabilities,va,ia,this._userAuthData,this._userIdToken,this._serviceTokens);va=new Le(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Je(this._ctx,this._entityAuthData,this._masterToken,ia,va,Y);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(Y){this._nonReplayable=Y;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(Y){this._renewable=Y;return this;},setAuthTokens:function(Y,ia){var va,ja;if(ia && !ia.isBoundTo(Y))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{va=this._ctx.getMslStore().getServiceTokens(Y,ia);}catch(qa){if(qa instanceof cb)throw new vb("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){ja=this._serviceTokens[sa];(ja.isUserIdTokenBound() && !ja.isBoundTo(ia) || ja.isMasterTokenBound() && !ja.isBoundTo(Y)) && this._serviceTokens.splice(sa,1);}va.forEach(function(qa){this.excludeServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._serviceTokens.push(qa);},this);this._masterToken=Y;this._userIdToken=ia;},setUserAuthenticationData:function(Y){this._userAuthData=Y;return this;},setCustomer:function(Y,ia){var va;va=this;Ka(ia,function(){var sa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");sa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!sa)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,Y,sa,{result:function(ja){Ka(ia,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ja:(this._userIdToken=ja,this._userAuthData=null);return !0;},va);},error:function(ja){ia.error(ja);}});},va);},addKeyRequestData:function(Y){this._keyRequestData[Y.uniqueKey()]=Y;return this;},removeKeyRequestData:function(Y){delete this._keyRequestData[Y.uniqueKey()];return this;},addServiceToken:function(Y){var ia;ia=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(Y.isMasterTokenBound() && !Y.isBoundTo(ia))throw new Jb(U.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(Y) + "; mt " + JSON.stringify(ia)).setEntity(ia);if(Y.isUserIdTokenBound() && !Y.isBoundTo(this._userIdToken))throw new Jb(U.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(Y) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ia).setUser(this._userIdToken);this.excludeServiceToken(Y.name,Y.isMasterTokenBound(),Y.isUserIdTokenBound());this._serviceTokens.push(Y);return this;},addServiceTokenIfAbsent:function(Y){var va;for(var ia=this._serviceTokens.length - 1;0 <= ia;--ia){va=this._serviceTokens[ia];if(va.name == Y.name && va.isMasterTokenBound() == Y.isMasterTokenBound() && va.isUserIdTokenBound() == Y.isUserIdTokenBound())return this;}this.addServiceToken(Y);return this;},excludeServiceToken:function(){var Y,ia,va,ja;if(1 == arguments.length){Y=arguments[0];ia=Y.name;va=Y.isMasterTokenBound();Y=Y.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],va=arguments[1],Y=arguments[2]);for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){ja=this._serviceTokens[sa];ja.name == ia && ja.isMasterTokenBound() == va && ja.isUserIdTokenBound() == Y && this._serviceTokens.splice(sa,1);}return this;},deleteServiceToken:function(){var Y,ia,va,sa;if(2 == arguments.length){Y=arguments[0];ia=Y.name;Y.isMasterTokenBound();Y.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,ia=arguments[0],va=arguments[3]);sa=this;Ka(va,function(){var ja,qa;ja=originalToken.isMasterTokenBound()?this._masterToken:null;qa=originalToken.isUserIdTokenBound()?this._userIdToken:null;uc(this._ctx,ia,W,ja,qa,!1,null,new Qc(),{result:function(ya){Ka(va,function(){return this.addServiceToken(ya);},sa);},error:function(ya){ya instanceof cb && (ya=new vb("Failed to create and add empty service token to message.",ya));va.error(ya);}});},sa);},getServiceTokens:function(){var Y;Y=[];Y.push.apply(Y,this._serviceTokens);return Y;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(Y,ia){var va,ja;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ia && !Y)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(ia && !ia.isBoundTo(Y))throw new Jb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ia + "; mt " + Y).setEntity(Y).setUser(ia);try{va=this._ctx.getMslStore().getServiceTokens(Y,ia);}catch(qa){if(qa instanceof cb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){ja=this._peerServiceTokens[sa];(ja.isUserIdTokenBound() && !ja.isBoundTo(ia) || ja.isMasterTokenBound() && !ja.isBoundTo(Y)) && this._peerServiceTokens.slice(sa,1);}va.forEach(function(qa){this.excludePeerServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._peerServiceTokens.push(qa);},this);this._peerUserIdToken=ia;this._peerMasterToken=Y;return this;},addPeerServiceToken:function(Y){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(Y.isMasterTokenBound() && !Y.isBoundTo(this._peerMasterToken))throw new Jb(U.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(Y) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(Y.isUserIdTokenBound() && !Y.isBoundTo(this._peerUserIdToken))throw new Jb(U.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(Y) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(Y.name,Y.isMasterTokenBound(),Y.isUserIdTokenBound());this._peerServiceTokens.push(Y);return this;},addPeerServiceTokenIfAbsent:function(Y){var va;for(var ia=this._peerServiceTokens.length - 1;0 <= ia;--ia){va=this._peerServiceTokens[ia];if(va.name == Y.name && va.isMasterTokenBound() == Y.isMasterTokenBound() && va.isUserIdTokenBound() == Y.isUserIdTokenBound())return this;}this.addPeerServiceToken(Y);return this;},excludePeerServiceToken:function(){var Y,ia,va,ja;if(1 == arguments.length){Y=arguments[0];ia=Y.name;va=Y.isMasterTokenBound();Y=Y.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],va=arguments[1],Y=arguments[2]);for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){ja=this._peerServiceTokens[sa];ja.name == ia && ja.isMasterTokenBound() == va && ja.isUserIdTokenBound() == Y && this._peerServiceTokens.splice(sa,1);}return this;},deletePeerServiceToken:function(){var Y,ia,va,sa,ja,qa;if(2 == arguments.length){Y=arguments[0];ia=Y.name;va=Y.isMasterTokenBound();sa=Y.isUserIdTokenBound();ja=arguments[1];}else (arguments.length=4,ia=arguments[0],va=arguments[1],sa=arguments[2],ja=arguments[3]);qa=this;Ka(ja,function(){uc(this._ctx,ia,W,va?this._peerMasterToken:null,sa?this._peerUserIdToken:null,!1,null,new Qc(),{result:function(ya){Ka(ja,function(){return this.addPeerServiceToken(ya);},qa);},error:function(ya){ya instanceof cb && (ya=new vb("Failed to create and add empty peer service token to message.",ya));ja.error(ya);}});},qa);},getPeerServiceTokens:function(){var Y;Y=[];Y.push.apply(Y,this._peerServiceTokens);return Y;}});})();(function(){function fa(V,W){return W[V]?W[V]:W[""];}function Z(V){var W;W=V.builder.getKeyExchangeData();return W && !V.ctx.isPeerToPeer()?W.keyResponseData.masterToken:V.builder.getMasterToken();}Re=Cb.Class.create({init:function(V,W,ca){V={ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:W.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ca,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,V);},isPrimaryMasterTokenAvailable:function(){return Z(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(V){try{return (this.builder.addServiceToken(V),!0);}catch(W){if(W instanceof Jb)return !1;throw W;}},addPeerServiceToken:function(V){try{return (this.builder.addPeerServiceToken(V),!0);}catch(W){if(W instanceof Jb)return !1;throw W;}},addUnboundPrimaryServiceToken:function(V,W,ca,Y,ia){var va;va=this;Ka(ia,function(){var sa;sa=fa(V,this.cryptoContexts);if(!sa)return !1;uc(this.ctx,V,W,null,null,ca,Y,sa,{result:function(ja){Ka(ia,function(){try{this.builder.addServiceToken(ja);}catch(qa){if(qa instanceof Jb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},va);},error:function(ja){ia.error(ja);}});},va);},addUnboundPeerServiceToken:function(V,W,ca,Y,ia){var va;va=this;Ka(ia,function(){var sa;sa=fa(V,this.cryptoContexts);if(!sa)return !1;uc(this.ctx,V,W,null,null,ca,Y,sa,{result:function(ja){Ka(ia,function(){try{this.builder.addPeerServiceToken(ja);}catch(qa){if(qa instanceof Jb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},va);},error:function(ja){ia.error(ja);}});},va);},addMasterBoundPrimaryServiceToken:function(V,W,ca,Y,ia){var va;va=this;Ka(ia,function(){var sa,ja;sa=Z(this);if(!sa)return !1;ja=fa(V,this.cryptoContexts);if(!ja)return !1;uc(this.ctx,V,W,sa,null,ca,Y,ja,{result:function(qa){Ka(ia,function(){try{this.builder.addServiceToken(qa);}catch(ya){if(ya instanceof Jb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},va);},error:function(qa){ia.error(qa);}});},va);},addMasterBoundPeerServiceToken:function(V,W,ca,Y,ia){var va;va=this;Ka(ia,function(){var sa,ja;sa=this.builder.getPeerMasterToken();if(!sa)return !1;ja=fa(V,this.cryptoContexts);if(!ja)return !1;uc(this.ctx,V,W,sa,null,ca,Y,ja,{result:function(qa){Ka(ia,function(){try{this.builder.addPeerServiceToken(qa);}catch(ya){if(ya instanceof Jb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},va);},error:function(qa){ia.error(qa);}});},va);},addUserBoundPrimaryServiceToken:function(V,W,ca,Y,ia){var va;va=this;Ka(ia,function(){var sa,ja,qa;sa=Z(this);if(!sa)return !1;ja=this.builder.getUserIdToken();if(!ja)return !1;qa=fa(V,this.cryptoContexts);if(!qa)return !1;uc(this.ctx,V,W,sa,ja,ca,Y,qa,{result:function(ya){Ka(ia,function(){try{this.builder.addServiceToken(ya);}catch(ma){if(ma instanceof Jb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},va);},error:function(ya){ia.error(ya);}});},va);},addUserBoundPeerServiceToken:function(V,W,ca,Y,ia){var va;va=this;Ka(ia,function(){var sa,ja,qa;sa=this.builder.getPeerMasterToken();if(!sa)return !1;ja=this.builder.getPeerUserIdToken();if(!ja)return !1;qa=fa(V,this.cryptoContexts);if(!qa)return !1;uc(this.ctx,V,W,sa,ja,ca,Y,qa,{result:function(ya){Ka(ia,function(){try{this.builder.addPeerServiceToken(ya);}catch(ma){if(ma instanceof Jb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},va);},error:function(ya){ia.error(ya);}});},va);},excludePrimaryServiceToken:function(){var V,W,ca,Y;if(1 == arguments.length){V=arguments[0];W=V.name;ca=V.isMasterTokenBound();Y=V.isUserIdTokenBound();}else (arguments.length=3,W=arguments[0],ca=arguments[1],Y=arguments[2]);for(var ia=this.builder.getServiceTokens(),va=0;va < ia.length;++va){if((V=ia[va],V.name == W && V.isMasterTokenBound() == ca && V.isUserIdTokenBound() == Y))return (this.builder.excludeServiceToken(W,ca,Y),!0);}return !1;},excludePeerServiceToken:function(){var V,W,ca,Y;if(1 == arguments.length){V=arguments[0];W=V.name;ca=V.isMasterTokenBound();Y=V.isUserIdTokenBound();}else (arguments.length=3,W=arguments[0],ca=arguments[1],Y=arguments[2]);for(var ia=this.builder.getPeerServiceTokens(),va=0;va < ia.length;++va){if((V=ia[va],V.name == W && V.isMasterTokenBound() == ca && V.isUserIdTokenBound() == Y))return (this.builder.excludePeerServiceToken(W,ca,Y),!0);}return !1;},deletePrimaryServiceToken:function(){var V,W,ca,Y,ia;if(2 == arguments.length){V=arguments[0];W=V.name;ca=V.isMasterTokenBound();Y=V.isUserIdTokenBound();ia=arguments[1];}else 4 == arguments.length && (W=arguments[0],ca=arguments[1],Y=arguments[2],ia=arguments[3]);Ka(ia,function(){var ja;for(var va=this.builder.getServiceTokens(),sa=0;sa < va.length;++sa){ja=va[sa];if(ja.name == W && ja.isMasterTokenBound() == ca && ja.isUserIdTokenBound() == Y){this.builder.deleteServiceToken(W,ca,Y,{result:function(){ia.result(!0);},error:function(qa){ia.error(qa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var V,W,ca,Y,ia;if(2 == arguments.length){V=arguments[0];W=V.name;ca=V.isMasterTokenBound();Y=V.isUserIdTokenBound();ia=arguments[1];}else 4 == arguments.length && (W=arguments[0],ca=arguments[1],Y=arguments[2],ia=arguments[3]);Ka(ia,function(){var ja;for(var va=this.builder.getPeerServiceTokens(),sa=0;sa < va.length;++sa){ja=va[sa];if(ja.name == W && ja.isMasterTokenBound() == ca && ja.isUserIdTokenBound() == Y){this.builder.deletePeerServiceToken(W,ca,Y,{result:function(){ia.result(!0);},error:function(qa){ia.error(qa);}});return;}}return !1;},this);}});})();(function(){function fa(Z,V,W,ca){Ka(ca,function(){var ia,va,sa,ja,qa,ya;function Y(){Ka(ca,function(){var ma;if(ya >= W.length){if(qa)throw qa;throw new Ob(U.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(W));}ma=W[ya];sa != ma.keyExchangeScheme?(++ya,Y()):ja.getCryptoContext(Z,ma,va,ia,{result:ca.result,error:function(ba){Ka(ca,function(){if(!(ba instanceof cb))throw ba;qa=ba;++ya;Y();});}});});}ia=V.masterToken;va=V.keyResponseData;if(!va)return null;sa=va.keyExchangeScheme;ja=Z.getKeyExchangeFactory(sa);if(!ja)throw new Ob(U.KEYX_FACTORY_NOT_FOUND,sa);ya=0;Y();});}Se=Ld.extend({init:function(Z,V,W,ca,Y,ia,va){var sa;sa=this;$a(va,function(){var ea;function ja(){sa._ready=!0;sa._readyQueue.add(!0);}function qa(ha,wa){var Oa;try{Oa=wa.masterToken;ha.getTokenFactory().isMasterTokenRevoked(ha,Oa,{result:function(Ia){Ia?(sa._errored=new Wc(Ia,Oa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),ja()):ya(ha,wa);},error:function(Ia){Ia instanceof cb && (Ia.setEntity(wa.masterToken),Ia.setUser(wa.userIdToken),Ia.setUser(wa.userAuthenticationData),Ia.setMessageId(wa.messageId));sa._errored=Ia;ja();}});}catch(Ia){Ia instanceof cb && (Ia.setEntity(wa.masterToken),Ia.setUser(wa.userIdToken),Ia.setUser(wa.userAuthenticationData),Ia.setMessageId(wa.messageId));sa._errored=Ia;ja();}}function ya(ha,wa){var Oa,Ia;try{Oa=wa.masterToken;Ia=wa.userIdToken;Ia?ha.getTokenFactory().isUserIdTokenRevoked(ha,Oa,Ia,{result:function(Ma){Ma?(sa._errored=new MslUserIdTokenException(Ma,Ia).setEntity(Oa).setUser(Ia).setMessageId(wa.messageId),ja()):ma(ha,wa);},error:function(Ma){Ma instanceof cb && (Ma.setEntity(wa.masterToken),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;ja();}}):ma(ha,wa);}catch(Ma){Ma instanceof cb && (Ma.setEntity(wa.masterToken),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;ja();}}function ma(ha,wa){var Oa;try{Oa=wa.masterToken;Oa.isExpired()?wa.isRenewable() && 0 != wa.keyRequestData.length?ha.getTokenFactory().isMasterTokenRenewable(ha,Oa,{result:function(Ia){Ia?(sa._errored=new Jb(Ia,"Master token is expired and not renewable.").setEntity(Oa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),ja()):ba(ha,wa);},error:function(Ia){Ia instanceof cb && (Ia.setEntity(wa.masterToken),Ia.setUser(wa.userIdToken),Ia.setUser(wa.userAuthenticationData),Ia.setMessageId(wa.messageId));sa._errored=Ia;ja();}}):(sa._errored=new Jb(U.MESSAGE_EXPIRED,JSON.stringify(wa)).setEntity(Oa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),ja()):ba(ha,wa);}catch(Ia){Ia instanceof cb && (Ia.setEntity(wa.masterToken),Ia.setUser(wa.userIdToken),Ia.setUser(wa.userAuthenticationData),Ia.setMessageId(wa.messageId));sa._errored=Ia;ja();}}function ba(ha,wa){var Oa,Ia;try{Oa=wa.masterToken;Ia=wa.nonReplayableId;"number" === typeof Ia?Oa?ha.getTokenFactory().acceptNonReplayableId(ha,Oa,Ia,{result:function(Ma){Ma || (sa._errored=new Jb(U.MESSAGE_REPLAYED,JSON.stringify(wa)).setEntity(Oa).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId));ja();},error:function(Ma){Ma instanceof cb && (Ma.setEntity(Oa),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;ja();}}):(sa._errored=new Jb(U.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(wa)).setEntity(wa.entityAuthenticationData).setUser(wa.userIdToken).setUser(wa.userAuthenticationData).setMessageId(wa.messageId),ja()):ja();}catch(Ma){Ma instanceof cb && (Ma.setEntity(wa.masterToken),Ma.setEntity(wa.entityAuthenticationData),Ma.setUser(wa.userIdToken),Ma.setUser(wa.userAuthenticationData),Ma.setMessageId(wa.messageId));sa._errored=Ma;ja();}}ea={_source:{value:V,writable:!1,enumerable:!1,configurable:!1},_parser:{value:zb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:W,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!1,enumerable:!1,configurable:!1},_header:{value:zb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Uc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ea);te(sa._source,ia,{result:function(ha){sa._json=ha;sa._jsonIndex=0;null === sa._json?(sa._errored=new Eb(U.MESSAGE_DATA_MISSING),ja()):Ce(Z,sa._json[sa._jsonIndex++],Y,{result:function(wa){var Oa;sa._header=wa;if(sa._header instanceof Dc)(sa._keyxCryptoContext=null,sa._cryptoContext=null,ja());else {Oa=sa._header;fa(Z,Oa,ca,{result:function(Ia){var Ma;try{sa._keyxCryptoContext=Ia;Z.isPeerToPeer() || !sa._keyxCryptoContext?sa._cryptoContext=Oa.cryptoContext:sa._cryptoContext=sa._keyxCryptoContext;try{Ma=Oa.masterToken;Ma && (Z.isPeerToPeer() || Ma.isVerified())?qa(Z,Oa):ba(Z,Oa);}catch(Qa){Qa instanceof cb && (Qa.setEntity(Oa.masterToken),Qa.setUser(Oa.userIdToken),Qa.setUser(Oa.userAuthenticationData),Qa.setMessageId(Oa.messageId));sa._errored=Qa;ja();}}catch(Qa){Qa instanceof cb && (Qa.setEntity(Oa.masterToken),Qa.setEntity(Oa.entityAuthenticationData),Qa.setUser(Oa.userIdToken),Qa.setUser(Oa.userAuthenticationData),Qa.setMessageId(Oa.messageId));sa._errored=Qa;ja();}},error:function(Ia){Ia instanceof cb && (Ia.setEntity(Oa.masterToken),Ia.setEntity(Oa.entityAuthenticationData),Ia.setUser(Oa.userIdToken),Ia.setUser(Oa.userAuthenticationData),Ia.setMessageId(Oa.messageId));sa._errored=Ia;ja();}});}},error:function(wa){sa._errored=wa;ja();}});},timeout:function(){sa._timedout=!0;ja();},error:function(ha){sa._errored=ha;ja();}});return this;},sa);},nextData:function(Z,V){var W;W=this;$a(V,function(){var Y;function ca(ia){$a(ia,function(){var va;if(this._jsonIndex < this._json.length)return va=this._json[this._jsonIndex++];te(this._source,this._timeout,{result:function(sa){sa && sa.length && 0 < sa.length?(sa.forEach(function(ja){this._json.push(ja);}),ca(ia)):(this._eom=!0,ia.result(null));},timeout:function(){ia.timeout();},error:function(sa){ia.error(sa);}});},W);}Y=this.getMessageHeader();if(!Y)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ca({result:function(ia){$a(V,function(){if(!ia)return null;if("object" !== typeof ia)throw new Eb(U.MESSAGE_FORMAT_ERROR);Oe(ia,this._cryptoContext,{result:function(va){$a(V,function(){var sa,ja,qa,ya;sa=Y.masterToken;ja=Y.entityAuthenticationData;qa=Y.userIdToken;ya=Y.getUserAuthenticationData;if(va.messageId != Y.messageId)throw new Jb(U.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + va.messageId + " header mid " + Y.messageId).setEntity(sa).setEntity(ja).setUser(qa).setUser(ya);if(va.sequenceNumber != this._payloadSequenceNumber)throw new Jb(U.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + va.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(sa).setEntity(ja).setUser(qa).setUser(ya);++this._payloadSequenceNumber;va.isEndOfMessage() && (this._eom=!0);sa=va.data;this._payloads.push(sa);this._payloadIndex=-1;return sa;},W);},error:function(va){va instanceof SyntaxError && (va=new Eb(U.JSON_PARSE_ERROR,"payloadchunk",va));V.error(va);}});},W);},timeout:function(){V.timeout();},error:function(ia){V.error(ia);}});},W);},isReady:function(Z,V){var ca;function W(){$a(V,function(){if(this._aborted)return !1;if(this._timedout)V.timeout();else {if(this._errored)throw this._errored;return !0;}},ca);}ca=this;$a(V,function(){this._ready?W():this._readyQueue.poll(Z,{result:function(Y){$a(V,function(){if(Y === zb)return !1;W();},ca);},timeout:function(){V.timeout();},error:function(Y){V.error(Y);}});},ca);},getMessageHeader:function(){return this._header instanceof bd?this._header:null;},getErrorHeader:function(){return this._header instanceof Dc?this._header:null;},getIdentity:function(){var Z,V;Z=this.getMessageHeader();if(Z){V=Z.masterToken;return V?V.identity:Z.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var Z;Z=this.getMessageHeader();return Z?Z.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(Z){this._closeSource=Z;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(Z,V,W){var Y;function ca(){$a(W,function(){var va,sa,ja,qa;function ia(ya){$a(ya,function(){var ma,ba,ea;if(sa && qa >= sa.length)return sa.subarray(0,qa);ma=-1;if(this._currentPayload){ba=this._currentPayload.length - this._payloadOffset;if(!sa){ea=ba;if(-1 != this._payloadIndex)for(var ha=this._payloadIndex;ha < this._payloads.length;++ha){ea+=this._payloads[ha].length;}0 < ea && (sa=new Uint8Array(ea));}ba=Math.min(ba,sa?sa.length - qa:0);0 < ba && (ma=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + ba),sa.set(ma,ja),ma=ba,ja+=ba,this._payloadOffset+=ba);}-1 != ma?(qa+=ma,ia(ya)):this.nextData(V,{result:function(wa){$a(ya,function(){if(this._aborted)return sa?sa.subarray(0,qa):new Uint8Array(0);this._currentPayload=wa;this._payloadOffset=0;if(this._currentPayload)ia(ya);else return 0 == qa && 0 != Z?null:sa?sa.subarray(0,qa):new Uint8Array(0);},Y);},timeout:function(){ya.timeout(sa?sa.subarray(0,qa):new Uint8Array(0));},error:function(wa){$a(ya,function(){wa instanceof cb && (wa=new Ub("Error reading the payload chunk.",wa));if(0 < qa)return (Y._readException=wa,sa.subarray(0,qa));throw wa;},Y);}});},Y);}if(this._aborted)return new Uint8Array(0);if(this._timedout)W.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){va=this._readException;this._readException=null;throw va;}sa=-1 != Z?new Uint8Array(Z):zb;ja=0;qa=0;ia(W);}},Y);}Y=this;$a(W,function(){if(-1 > Z)throw new RangeError("read requested with illegal length " + Z);this._ready?ca():this._readyQueue.poll(V,{result:function(ia){ia === zb?W.result(!1):ca();},timeout:function(){W.timeout(new Uint8Array(0));},error:function(ia){W.error(ia);}});},Y);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Te=function(Z,V,W,ca,Y,ia,va){new Se(Z,V,W,ca,Y,ia,va);};})();(function(){Ue=pd.extend({init:function(fa,Z,V,W,ca,Y,ia){var va;va=this;$a(ia,function(){var ja,qa,ya;function sa(){va._ready=!0;va._readyQueue.add(!0);}ja=Pd(fa.getMessageCapabilities(),W.messageCapabilities);qa=null;ja && (qa=ie(ja.compressionAlgorithms));ja={_destination:{value:Z,writable:!1,enumerable:!1,configurable:!1},_charset:{value:V,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ja,writable:!1,enumerable:!1,configurable:!1},_header:{value:W,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:qa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ca,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Uc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);ya=bc(JSON.stringify(W),V);Z.write(ya,0,ya.length,Y,{result:function(ma){try{va._aborted?sa():ma < ya.length?(va._timedout=!0,sa()):Z.flush(Y,{result:function(ba){va._aborted || (va._timedout=!ba);sa();},timeout:function(){va._timedout=!0;sa();},error:function(ba){va._errored=ba;sa();}});}catch(ba){va._errored=ba;sa();}},timeout:function(){va._timedout=!0;sa();},error:function(ma){va._errored=ma;sa();}});return this;},va);},setCompressionAlgorithm:function(fa,Z,V){var ca;function W(){ca.flush(Z,{result:function(Y){$a(V,function(){if(!Y)throw new Ub("flush() aborted");this._compressionAlgo=fa;return !0;},ca);},timeout:function(){V.timeout();},error:function(Y){V.error(Y);}});}ca=this;$a(V,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == fa)return !0;if(fa){if(!this._capabilities)return !1;for(var Y=this._capabilities.compressionAlgorithms,ia=0;ia < Y.length;++ia){if(Y[ia] == fa){W();return;}}return !1;}W();},ca);},getMessageHeader:function(){return this._header instanceof bd?this._header:null;},getErrorMessage:function(){return this._header instanceof Dc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(fa,Z){var V;V=this;$a(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(fa,{result:function(W){$a(Z,function(){W && (this._currentPayload=null);return W;},V);},timeout:function(){Z.timeout();},error:function(W){Z.error(W);}});}},V);},flush:function(fa,Z){var W;function V(){$a(Z,function(){var ca,Y,ja;if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ca=this.getMessageHeader();if(!ca)return !0;Y=0;this._currentPayload && this._currentPayload.forEach(function(qa){Y+=qa.length;});for(var ia=new Uint8Array(Y),va=0,sa=0;this._currentPayload && sa < this._currentPayload.length;++sa){ja=this._currentPayload[sa];ia.set(ja,va);va+=ja.length;}Ne(this._payloadSequenceNumber,ca.messageId,this._closed,this._compressionAlgo,ia,this._cryptoContext,{result:function(qa){$a(Z,function(){var ya;this._payloads.push(qa);ya=bc(JSON.stringify(qa),this._charset);this._destination.write(ya,0,ya.length,fa,{result:function(ma){$a(Z,function(){if(this._aborted)return !1;ma < qa.length?Z.timeout():this._destination.flush(fa,{result:function(ba){$a(Z,function(){if(this._aborted)return !1;if(ba)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);Z.timeout();},W);},timeout:function(){Z.timeout();},error:function(ba){ba instanceof cb && (ba=new Ub("Error encoding payload chunk [sequence number " + W._payloadSequenceNumber + "].",ba));Z.error(ba);}});},W);},timeout:function(ma){Z.timeout();},error:function(ma){ma instanceof cb && (ma=new Ub("Error encoding payload chunk [sequence number " + W._payloadSequenceNumber + "].",ma));Z.error(ma);}});},W);},error:function(qa){qa instanceof cb && (qa=new Ub("Error encoding payload chunk [sequence number " + W._payloadSequenceNumber + "].",qa));Z.error(qa);}});}},W);}W=this;$a(Z,function(){this._ready?V():this._readyQueue.poll(fa,{result:function(ca){ca === zb?Z.result(!1):V();},timeout:function(){Z.timeout();},error:function(ca){Z.error(ca);}});},W);},write:function(fa,Z,V,W,ca){$a(ca,function(){var Y;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Ub("Message output stream already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > V)throw new RangeError("Length cannot be negative.");if(Z + V > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");Y=fa.subarray(Z,Z + V);this._currentPayload.push(Y);return Y.length;}},this);}});ud=function(fa,Z,V,W,ca,Y,ia){new Ue(fa,Z,V,W,ca,Y,ia);};})();yf=Cb.Class.create({sentHeader:function(fa){},receivedHeader:function(fa){}});Object.freeze({USERDATA_REAUTH:Ea.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ea.SSOTOKEN_REJECTED});Ve=Cb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(fa,Z,V,W){},getCustomer:function(){},getKeyRequestData:function(fa){},updateServiceTokens:function(fa,Z,V){},write:function(fa,Z,V){},getDebugContext:function(){}});Cb.Class.create({getInputStream:function(fa){},getOutputStream:function(fa){}});(function(){var va,sa,ja,qa,ya,ma,ba,ea,ha,wa,Oa,Ia;function fa(Ma){return function(){Ma.abort();};}function Z(Ma,Qa){Object.defineProperties(this,{masterToken:{value:Ma,writable:!1,configurable:!1},ticket:{value:Qa,writable:!1,configurable:!1}});}function V(Ma,Qa){Object.defineProperties(this,{builder:{value:Ma,writable:!1,configurable:!1},msgCtx:{value:Qa,writable:!1,configurable:!1}});}function W(Ma,Qa,pa){Object.defineProperties(this,{requestHeader:{value:Ma,writable:!1,configurable:!1},payloads:{value:Qa,writable:!1,configurable:!1},handshake:{value:pa,writable:!1,configurable:!1}});}function ca(Ma,Qa){Object.defineProperties(this,{requestHeader:{value:Qa.requestHeader,writable:!1,configurable:!1},payloads:{value:Qa.payloads,writable:!1,configurable:!1},handshake:{value:Qa.handshake,writable:!1,configurable:!1},response:{value:Ma,writable:!1,configurable:!1}});}function Y(Ma){for(;Ma;){if(Ma instanceof Yb)return !0;Ma=Ma instanceof cb?Ma.cause:zb;}return !1;}function ia(Ma,Qa,pa,xa,Da,Ga,za,Ra,Fa){Qe(Qa,xa,Da,Ga,{result:function(Wa){pa && pa.sentHeader(Wa);ud(Qa,za,Nb,Wa,null,null,Ra,{result:function(Za){Ma.setAbort(function(){Za.abort();});Za.close(Ra,{result:function(Sa){$a(Fa,function(){if(!Sa)throw new Yb("sendError aborted.");return Sa;});},timeout:function(){Fa.timeout();},error:function(Sa){Fa.error(Sa);}});},timeout:function(){},error:function(Za){Fa.error(Za);}});},error:function(Wa){Fa.error(Wa);}});}va=pd.extend({close:function(Ma,Qa){Qa.result(!0);},write:function(Ma,Qa,pa,xa,Da){Ka(Da,function(){return Math.min(Ma.length - Qa,pa);});},flush:function(Ma,Qa){Qa.result(!0);}});sa=xf.extend({getUserMessage:function(Ma,Qa){return null;}});ja=Ve.extend({init:function(Ma){Object.defineProperties(this,{_appCtx:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ma,Qa,pa,xa){this._appCtx.getUserAuthData(Ma,Qa,pa,xa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ma){this._appCtx.getKeyRequestData(Ma);},updateServiceTokens:function(Ma,Qa,pa){this._appCtx.updateServiceTokens(Ma,Qa,pa);},write:function(Ma,Qa,pa){this._appCtx.write(Ma,Qa,pa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=ja.extend({init:function xa(Qa,pa){xa.base.call(this,pa);Object.defineProperties(this,{_payloads:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Qa,pa,xa){var Ga;function Da(za,Ra){var Fa;if(za == Ga._payloads.length)xa.result(!0);else {Fa=Ga._payloads[za];Qa.setCompressionAlgorithm(Fa.compressionAlgo,pa,{result:function(Wa){Qa.write(Fa.data,0,Fa.data.length,pa,{result:function(Za){$a(xa,function(){Fa.isEndOfMessage()?Da(za + 1,Ra):Qa.flush(pa,{result:function(Sa){xa.result(Sa);},timeout:function(){xa.timeout();},error:function(Sa){xa.error(Sa);}});},Ga);},timeout:function(Za){xa.timeout(Za);},error:function(Za){xa.error(Za);}});},timeout:function(){},error:function(Wa){xa.error(Wa);}});}}Ga=this;Da(0);}});ya=ja.extend({init:function xa(pa){xa.base.call(this,pa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(pa,xa,Da){Da.result(!0);}});ma={};ba=Cb.Class.create({init:function(pa){pa || (pa=new sa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(pa){this._filterFactory=pa;},getNewestMasterToken:function(pa,xa,Da,Ga){var za;za=this;$a(Ga,function(){var Ra,Fa,Wa,Za,Sa;Ra=xa.getMslStore();Fa=Ra.getMasterToken();if(!Fa)return null;Wa=Fa.uniqueKey();Za=this._masterTokenLocks[Wa];Za || (Za=new Ad(),this._masterTokenLocks[Wa]=Za);Sa=Za.readLock(Da,{result:function(hb){$a(Ga,function(){var lb;if(hb === zb)throw new Yb("getNewestMasterToken aborted.");lb=Ra.getMasterToken();if(Fa.equals(lb))return new Z(Fa,hb);Za.unlock(hb);Za.writeLock(Da,{result:function(nb){$a(Ga,function(){if(nb === zb)throw new Yb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];Za.unlock(nb);return this.getNewestMasterToken(pa,xa,Da,Ga);},za);},timeout:function(){Ga.timeout();},error:function(nb){Ga.error(nb);}});},za);},timeout:function(){Ga.timeout();},error:function(hb){Ga.error(hb);}});pa.setAbort(function(){Sa && (Za.cancel(Sa),Sa=zb);});},za);},deleteMasterToken:function(pa,xa){var Da;if(xa){Da=this;setTimeout(function(){var Ga,za;Ga=xa.uniqueKey();za=Da._masterTokenLocks[Ga];za || (za=new Ad(),Da._masterTokenLocks[Ga]=za);za.writeLock(-1,{result:function(Ra){pa.getMslStore().removeCryptoContext(xa);delete Da._masterTokenLocks[Ga];za.unlock(Ra);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Ra){throw Ra;}});},0);}},releaseMasterToken:function(pa){var xa;if(pa && pa.masterToken){xa=pa.masterToken.uniqueKey();xa=this._masterTokenLocks[xa];if(!xa)throw new vb("Master token read/write lock does not exist when it should.");xa.unlock(pa.ticket);}},updateOutgoingCryptoContexts:function(pa,xa,Da){var Ga;Ga=pa.getMslStore();!pa.isPeerToPeer() && Da && (Ga.setCryptoContext(Da.keyResponseData.masterToken,Da.cryptoContext),this.deleteMasterToken(pa,xa.masterToken));},updateIncomingCryptoContexts:function(pa,xa,Da){var Ga,za;Ga=Da.getMessageHeader();if(Ga){za=pa.getMslStore();if(Ga=Ga.keyResponseData)(za.setCryptoContext(Ga.masterToken,Da.getKeyExchangeCryptoContext()),this.deleteMasterToken(pa,xa.masterToken));}},storeServiceTokens:function(pa,xa,Da,Ga){var Fa,Wa;pa=pa.getMslStore();for(var za=[],Ra=0;Ra < Ga.length;++Ra){Fa=Ga[Ra];if(!Fa.isBoundTo(xa) || !xa.isVerified()){Wa=Fa.data;Wa && 0 == Wa.length?pa.removeServiceTokens(Fa.name,Fa.isMasterTokenBound()?xa:null,Fa.isUserIdTokenBound()?Da:null):za.push(Fa);}}0 < za.length && pa.addServiceTokens(za);},buildRequest:function(pa,xa,Da,Ga,za){var Ra;Ra=this;this.getNewestMasterToken(pa,xa,Ga,{result:function(Fa){Ka(za,function(){var Wa,Za,Sa;Wa=Fa && Fa.masterToken;if(Wa){Za=Da.getUserId();Sa=xa.getMslStore();Za=(Za=Za?Sa.getUserIdToken(Za):null) && Za.isBoundTo(Wa)?Za:null;}else Za=null;Jc(xa,Wa,Za,null,{result:function(hb){Ka(za,function(){hb.setNonReplayable(Da.isNonReplayable());return {builder:hb,tokenTicket:Fa};});},error:function(hb){Ka(za,function(){this.releaseMasterToken(Fa);hb instanceof cb && (hb=new vb("User ID token not bound to master token despite internal check.",hb));throw hb;},Ra);}});},Ra);},timeout:function(){za.timeout();},error:function(Fa){za.error(Fa);}});},buildResponse:function(pa,xa,Da,Ga,za,Ra){var Fa;Fa=this;Pe(xa,Ga,{result:function(Wa){$a(Ra,function(){Wa.setNonReplayable(Da.isNonReplayable());if(!xa.isPeerToPeer() && !Ga.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(pa,xa,za,{result:function(Za){$a(Ra,function(){var Sa,hb,lb;Sa=Za && Za.masterToken;if(Sa){hb=Da.getUserId();lb=xa.getMslStore();hb=(hb=hb?lb.getUserIdToken(hb):null) && hb.isBoundTo(Sa)?hb:null;}else hb=null;Wa.setAuthTokens(Sa,hb);return {builder:Wa,tokenTicket:Za};},Fa);},timeout:function(){Ra.timeout();},error:function(Za){Ra.error(Za);}});},Fa);},error:function(Wa){Ra.error(Wa);}});},buildErrorResponse:function(pa,xa,Da,Ga,za,Ra,Fa){var Sa;function Wa(hb,lb){$a(Fa,function(){var nb,qb;nb=Ic(za.messageId);qb=new qa(lb,Da);Jc(xa,null,null,nb,{result:function(rb){$a(Fa,function(){xa.isPeerToPeer() && rb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);rb.setNonReplayable(qb.isNonReplayable());return {errorResult:new V(rb,qb),tokenTicket:null};},Sa);},error:function(rb){Fa.error(rb);}});},Sa);}function Za(hb,lb){Sa.getNewestMasterToken(pa,xa,Ra,{result:function(nb){$a(Fa,function(){var qb,rb,yb;qb=nb && nb.masterToken;rb=Ic(za.messageId);yb=new qa(lb,Da);Jc(xa,qb,null,rb,{result:function(xb){$a(Fa,function(){xa.isPeerToPeer() && xb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);xb.setNonReplayable(yb.isNonReplayable());return {errorResult:new V(xb,yb),tokenTicket:nb};},Sa);},error:function(xb){Fa.error(xb);}});},Sa);},timeout:function(){Fa.timeout();},error:function(nb){Fa.error(nb);}});}Sa=this;$a(Fa,function(){var hb,lb,nb,qb;hb=Ga.requestHeader;lb=Ga.payloads;nb=za.errorCode;switch(nb){case Ea.ENTITYDATA_REAUTH:case Ea.ENTITY_REAUTH:xa.getEntityAuthenticationData(nb,{result:function(rb){$a(Fa,function(){if(!rb)return null;Wa(hb,lb);},Sa);},error:function(rb){Fa.error(rb);}});break;case Ea.USERDATA_REAUTH:case Ea.SSOTOKEN_REJECTED:Da.getUserAuthData(nb,!1,!0,{result:function(rb){$a(Fa,function(){if(!rb)return null;Za(hb,lb);},Sa);},error:function(rb){Fa.error(rb);}});break;case Ea.USER_REAUTH:Za(hb,lb);break;case Ea.KEYX_REQUIRED:nb=Ic(za.messageId);qb=new qa(lb,Da);Jc(xa,null,null,nb,{result:function(rb){$a(Fa,function(){xa.isPeerToPeer() && rb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);rb.setRenewable(!0);rb.setNonReplayable(qb.isNonReplayable());return {errorResult:new V(rb,qb),tokenTicket:null};},Sa);},error:function(rb){Fa.error(rb);}});break;case Ea.EXPIRED:this.getNewestMasterToken(pa,xa,Ra,{result:function(rb){$a(Fa,function(){var yb,xb,r,b;yb=rb && rb.masterToken;xb=hb.userIdToken;r=Ic(za.messageId);b=new qa(lb,Da);Jc(xa,yb,xb,r,{result:function(a){$a(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(yb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new V(a,b),tokenTicket:rb};},Sa);},error:function(a){Fa.error(a);}},Sa);},Sa);},timeout:function(){Fa.timeout();},error:function(rb){Fa.error(rb);}});break;case Ea.REPLAYED:this.getNewestMasterToken(pa,xa,Ra,{result:function(rb){$a(Fa,function(){var yb,xb,r,b;yb=rb && rb.masterToken;xb=hb.userIdToken;r=Ic(za.messageId);b=new qa(lb,Da);Jc(xa,yb,xb,r,{result:function(a){$a(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(yb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new V(a,b),tokenTicket:rb};},Sa);},error:function(a){Fa.error(a);}});},Sa);},timeout:function(){Fa.timeout();},error:function(rb){Fa.error(rb);}});break;default:return null;}},Sa);},cleanupContext:function(pa,xa,Da){switch(Da.errorCode){case Ea.ENTITY_REAUTH:this.deleteMasterToken(pa,xa.masterToken);break;case Ea.USER_REAUTH:(Da=xa.userIdToken,xa.masterToken && Da && pa.getMslStore().removeUserIdToken(Da));}},send:function(pa,xa,Da,Ga,za,Ra,Fa){var nb;function Wa(qb,rb,yb){$a(Fa,function(){var xb;xb=za.getPeerUserIdToken();!xa.isPeerToPeer() && !rb || xa.isPeerToPeer() && !xb?(xb=Da.getCustomer())?za.setCustomer(xb,{result:function(r){$a(Fa,function(){rb=za.getUserIdToken();Za(qb,rb,yb);},nb);},error:function(r){Fa.error(r);}}):Za(qb,rb,yb):Za(qb,rb,yb);},nb);}function Za(qb,rb,yb){$a(Fa,function(){var xb,r;xb=!yb && (!Da.isEncrypted() || za.willEncryptPayloads()) && (!Da.isIntegrityProtected() || za.willIntegrityProtectPayloads()) && (!Da.isNonReplayable() || za.isNonReplayable() && qb);xb || za.setNonReplayable(!1);r=[];za.isRenewable() && (!qb || qb.isRenewable() || Da.isNonReplayable())?Da.getKeyRequestData({result:function(b){$a(Fa,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);za.addKeyRequestData(c);}Sa(qb,rb,xb,r);},nb);},error:function(b){Fa.error(b);}}):Sa(qb,rb,xb,r);},nb);}function Sa(qb,rb,yb,xb){$a(Fa,function(){var r;r=new Re(xa,Da,za);Da.updateServiceTokens(r,!yb,{result:function(b){za.getHeader({result:function(a){$a(Fa,function(){var c,l;c=Da.getDebugContext();c && c.sentHeader(a);c=za.getKeyExchangeData();this.updateOutgoingCryptoContexts(xa,a,c);this.storeServiceTokens(xa,qb,rb,a.serviceTokens);c=!xa.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(pa.isAborted())throw new Yb("send aborted.");l=null != this._filterFactory?this._filterFactory.getOutputStream(Ga):Ga;ud(xa,l,Nb,a,c,Ra,{result:function(g){pa.setAbort(function(){g.abort();});hb(g,a,yb);},timeout:function(){Fa.timeout();},error:function(g){Fa.error(g);}});},nb);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},error:function(b){Fa.error(b);}});},nb);}function hb(qb,rb,yb){var xb,r;if(yb)Da.write(qb,Ra,{result:function(b){$a(Fa,function(){if(pa.isAborted())throw new Yb("MessageOutputStream write aborted.");lb(qb,rb,yb);},nb);},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});else {xb=new va();r=new Qc();ud(xa,xb,Nb,rb,r,Ra,{result:function(b){Da.write(b,Ra,{result:function(a){$a(Fa,function(){if(pa.isAborted())throw new Yb("MessageOutputStream proxy write aborted.");b.close(Ra,{result:function(c){$a(Fa,function(){var l;if(!c)throw new Yb("MessageOutputStream proxy close aborted.");l=b.getPayloads();lb(qb,rb,yb,l);},nb);},timeout:function(){Fa.timeout();},error:function(c){Fa.error(c);}});},nb);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});}}function lb(qb,rb,yb,xb){qb.close(Ra,{result:function(r){$a(Fa,function(){if(!r)throw new Yb("MessageOutputStream close aborted.");xb || (xb=qb.getPayloads());return new W(rb,xb,!yb);},nb);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});}nb=this;$a(Fa,function(){var qb,rb,yb,xb;qb=za.getMasterToken();rb=za.getUserIdToken();yb=!1;if(Da.getUserId()){xb=!rb;Da.getUserAuthData(null,za.isRenewable(),xb,{result:function(r){$a(Fa,function(){r && (za.willEncryptHeader() && za.willIntegrityProtectHeader()?za.setUserAuthenticationData(r):yb=!0);Wa(qb,rb,yb);},nb);},error:function(r){Fa.error(r);}});}else Wa(qb,rb,yb);},nb);},receive:function(pa,xa,Da,Ga,za,Ra,Fa){var Wa;Wa=this;$a(Fa,function(){var Za,Sa,hb;if(pa.isAborted())throw new Yb("receive aborted.");Za=[];za && (Za=za.keyRequestData.filter(function(){return !0;}));Sa=Da.getCryptoContexts();hb=this._filterFactory?this._filterFactory.getInputStream(Ga):Ga;Te(xa,hb,Nb,Za,Sa,Ra,{result:function(lb){pa.setAbort(function(){lb.abort();});lb.isReady(Ra,{result:function(nb){$a(Fa,function(){var qb,rb,yb,xb;if(!nb)throw new Yb("MessageInputStream aborted.");qb=lb.getMessageHeader();rb=lb.getErrorHeader();yb=Da.getDebugContext();yb && yb.receivedHeader(qb?qb:rb);if(za && (yb=rb?rb.errorCode:null,qb || yb != Ea.FAIL && yb != Ea.TRANSIENT_FAILURE && yb != Ea.ENTITY_REAUTH && yb != Ea.ENTITYDATA_REAUTH)){yb=qb?qb.messageId:rb.messageId;xb=Ic(za.messageId);if(yb != xb)throw new Jb(U.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + yb);}xa.getEntityAuthenticationData(null,{result:function(r){$a(Fa,function(){var b,a,c,l;b=r.getIdentity();if(qb){a=qb.entityAuthenticationData;c=qb.masterToken;a=c?qb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Jb(U.UNEXPECTED_MESSAGE_SENDER,a);za && this.updateIncomingCryptoContexts(xa,za,lb);b=qb.keyResponseData;xa.isPeerToPeer()?(b=b?b.masterToken:qb.peerMasterToken,c=qb.peerUserIdToken,a=qb.peerServiceTokens):(b=b?b.masterToken:qb.masterToken,c=qb.userIdToken,a=qb.serviceTokens);l=Da.getUserId();l && c && !c.isVerified() && xa.getMslStore().addUserIdToken(l,c);this.storeServiceTokens(xa,b,c,a);}else if((a=rb.entityAuthenticationData.getIdentity(),b == a))throw new Jb(U.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Wa);},error:Fa.error});},Wa);},timeout:function(){Fa.timeout();},error:function(nb){Fa.error(nb);}});},timeout:function(){Fa.timeout();},error:function(lb){Fa.error(lb);}});},Wa);},sendReceive:function(pa,xa,Da,Ga,za,Ra,Fa,Wa,Za){var hb;function Sa(lb,nb){$a(Za,function(){Ra.setRenewable(nb);this.send(pa,xa,Da,za,Ra,Fa,{result:function(qb){$a(Za,function(){var rb;rb=qb.requestHeader.keyRequestData;Wa || qb.handshake || !rb.isEmpty()?this.receive(pa,xa,Da,Ga,qb.requestHeader,Fa,{result:function(yb){$a(Za,function(){nb && this.releaseRenewalLock(xa,lb,yb);return new ca(yb,qb);},hb);},timeout:function(){$a(Za,function(){nb && this.releaseRenewalLock(xa,lb,null);Za.timeout();},hb);},error:function(yb){$a(Za,function(){nb && this.releaseRenewalLock(xa,lb,null);throw yb;},hb);}}):$a(Za,function(){nb && this.releaseRenewalLock(xa,lb,null);return new ca(null,qb);},hb);},hb);},timeout:function(){$a(Za,function(){nb && this.releaseRenewalLock(xa,lb,null);Za.timeout();},hb);},error:function(qb){$a(Za,function(){nb && this.releaseRenewalLock(xa,lb,null);throw qb;},hb);}});},hb);}hb=this;$a(Za,function(){var lb;lb=new Uc();this.acquireRenewalLock(pa,xa,Da,lb,Ra,Fa,{result:function(nb){Sa(lb,nb);},timeout:function(){Za.timeout();},error:function(nb){nb instanceof Yb?Za.result(null):Za.error(nb);}});},hb);},acquireRenewalLock:function(pa,xa,Da,Ga,za,Ra,Fa){var Sa;function Wa(hb,lb,nb){$a(Fa,function(){var yb,xb;if(pa.isAborted())throw new Yb("acquireRenewalLock aborted.");for(var qb=null,rb=0;rb < this._renewingContexts.length;++rb){yb=this._renewingContexts[rb];if(yb.ctx === xa){qb=yb.queue;break;}}if(!qb)return (this._renewingContexts.push({ctx:xa,queue:Ga}),!0);xb=qb.poll(Ra,{result:function(r){$a(Fa,function(){var b;if(r === zb)throw new Yb("acquireRenewalLock aborted.");qb.add(r);if(r === ma || r.isExpired())Wa(r,lb,nb);else {if(nb && !lb || lb && !lb.isBoundTo(r)){b=xa.getMslStore().getUserIdToken(nb);lb=b && b.isBoundTo(r)?b:null;}za.setAuthTokens(r,lb);za.isRenewable() && r.equals(hb)?Wa(r,lb,nb):Da.isRequestingTokens() && !lb?Wa(r,lb,nb):Za(r,lb);}},Sa);},timeout:function(){},error:function(r){}});pa.setAbort(function(){xb && (qb.cancel(xb),xb=zb);});},Sa);}function Za(hb,lb){$a(Fa,function(){var rb;if(pa.isAborted())throw new Yb("acquireRenewalLock aborted.");if(!hb || hb.isRenewable() || !lb && Da.getUserId() || lb && lb.isRenewable()){for(var nb=null,qb=0;qb < this._renewingContexts.length;++qb){rb=this._renewingContexts[qb];if(rb.ctx === xa){nb=rb.queue;break;}}if(!nb)return (this._renewingContexts.push({ctx:xa,queue:Ga}),!0);}return !1;},Sa);}Sa=this;$a(Fa,function(){var hb,lb,nb;hb=za.getMasterToken();lb=za.getUserIdToken();nb=Da.getUserId();Da.isEncrypted() && !za.willEncryptPayloads() || Da.isIntegrityProtected() && !za.willIntegrityProtectPayloads() || za.isRenewable() || !hb && Da.isNonReplayable() || hb && hb.isExpired() || !(lb || !nb || za.willEncryptHeader() && za.willIntegrityProtectHeader()) || Da.isRequestingTokens() && (!hb || nb && !lb)?Wa(hb,lb,nb):Za(hb,lb);},Sa);},releaseRenewalLock:function(pa,xa,Da){var Fa;for(var Ga,za,Ra=0;Ra < this._renewingContexts.length;++Ra){Fa=this._renewingContexts[Ra];if(Fa.ctx === pa){Ga=Ra;za=Fa.queue;break;}}if(za !== xa)throw new vb("Attempt to release renewal lock that is not owned by this queue.");Da?(Da=Da.messageHeader)?(za=Da.keyResponseData)?xa.add(za.masterToken):(pa=pa.isPeerToPeer()?Da.peerMasterToken:Da.masterToken)?xa.add(pa):xa.add(ma):xa.add(ma):xa.add(ma);this._renewingContexts.splice(Ga,1);}});We=Cb.Class.create({init:function(){var pa;pa={_impl:{value:new ba(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,pa);},setFilterFactory:function(pa){this._impl.setFilterFactory(pa);},shutdown:function(){this._shutdown=!0;},receive:function(pa,xa,Da,Ga,za,Ra){var Fa;if(this._shutdown)throw new cb("MslControl is shutdown.");Fa=new ea(this._impl,pa,xa,Da,Ga,za);setTimeout(function(){Fa.call(Ra);},0);return fa(Fa);},respond:function(pa,xa,Da,Ga,za,Ra,Fa){var Wa;if(this._shutdown)throw new cb("MslControl is shutdown.");Wa=new ha(this._impl,pa,xa,Da,Ga,za,Ra);setTimeout(function(){Wa.call(Fa);},0);return fa(Wa);},error:function Da(pa,xa,Da,Ga,za,Ra,Fa){var Wa;if(this._shutdown)throw new cb("MslControl is shutdown.");Wa=new wa(this._impl,pa,xa,Da,Ga,za,Ra);setTimeout(function(){Wa.call(Fa);},0);return fa(Wa);},request:function(pa,xa){var Da,Ga,za,Ra,Fa,Wa;if(this._shutdown)throw new cb("MslControl is shutdown.");if(5 == arguments.length){Ga=arguments[2];za=Da=null;Ra=arguments[3];Fa=arguments[4];if(pa.isPeerToPeer()){Fa.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ga=null,Da=arguments[2],za=arguments[3],Ra=arguments[4],Fa=arguments[5],!pa.isPeerToPeer())){Fa.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Ia(this._impl,pa,xa,Ga,Da,za,null,0,Ra);setTimeout(function(){Wa.call(Fa);},0);return fa(Wa);}});ea=Cb.Class.create({init:function(pa,xa,Da,Ga,za,Ra){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:za,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},call:function(pa){var za;function xa(Ra){$a(pa,function(){var Fa;Fa=Ra.messageHeader;if(!Fa)return Ra;this.setAbort(function(){Ra.abort();});Ra.mark(Number.MAX_VALUE);Ra.read(1,za._timeout,{result:function(Wa){$a(pa,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Ra.reset(),Ra);Da(Ra);},za);},timeout:function(){pa.timeout();},error:function(Wa){$a(pa,function(){var Za,Sa,hb;if(Y(Wa))return null;Za=Fa?Fa.messageId:null;if(Wa instanceof Ub){Sa=U.MSL_COMMS_FAILURE;hb=Wa;}else (Sa=U.INTERNAL_EXCEPTION,hb=new vb("Error peeking into the message payloads."));ia(this,this._ctx,this._msgCtx.getDebugContext(),Za,Sa,null,this._output,this._timeout,{result:function(lb){pa.error(hb);},timeout:function(){pa.timeout();},error:function(lb){$a(pa,function(){if(Y(lb))return null;throw new fc("Error peeking into the message payloads.",lb,Wa);},za);}});},za);}});},za);}function Da(Ra){$a(pa,function(){Ra.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ra.messageHeader,this._timeout,{result:function(Fa){$a(pa,function(){var Wa,Za,Sa,hb,lb;Wa=Fa.builder;Za=Fa.tokenTicket;Sa=Ra.messageHeader;hb=new ya(this._msgCtx);if(!this._ctx.isPeerToPeer() || Sa.isEncrypting() || Sa.keyResponseData)Ga(Sa,Wa,hb,Za);else {lb=new Ia(this._ctrl,this._ctx,hb,null,this._input,this._output,Fa,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(pa);}},za);},timeout:function(){pa.timeout();},error:function(Fa){$a(pa,function(){var Wa,Za,Sa,hb;if(Y(Fa))return null;if(Fa instanceof cb){Wa=Fa.messageId;Za=Fa.error;Sa=Ra.messageHeader.messageCapabilities;Sa=this._ctrl.messageRegistry.getUserMessage(Za,Sa?Sa.languages:null);hb=Fa;}else (Wa=requestHeader?requestHeader.messageId:null,Za=U.INTERNAL_EXCEPTION,Sa=null,hb=new vb("Error creating an automatic handshake response.",Fa));ia(this,this._ctx,this._msgCtx.getDebugContext(),Wa,Za,Sa,this._output,this._timeout,{result:function(lb){pa.error(hb);},timeout:function(){pa.timeout();},error:function(lb){$a(pa,function(){if(Y(lb))return null;throw new fc("Error creating an automatic handshake response.",lb,Fa);},za);}});},za);}});},za);}function Ga(Ra,Fa,Wa,Za){$a(pa,function(){Fa.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Fa,this._timeout,{result:function(Sa){$a(pa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);return null;},za);},timeout:function(){$a(pa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);pa.timeout();},za);},error:function(Sa){$a(pa,function(){var hb,lb,nb,qb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);if(Y(Sa))return null;if(Sa instanceof cb){hb=Sa.messageId;lb=Sa.error;nb=Ra?Ra.messageCapabilities:null;nb=this._ctrl.messageRegistry.getUserMessage(lb,nb?nb.languages:null);qb=Sa;}else Sa instanceof Ub?(hb=Ra?Ra.messageId:null,lb=U.MSL_COMMS_FAILURE,nb=null,qb=Sa):(hb=Ra?Ra.messageId:null,lb=U.INTERNAL_EXCEPTION,nb=null,qb=new vb("Error sending an automatic handshake response.",Sa));ia(this,this._ctx,this._msgCtx.getDebugContext(),hb,lb,nb,this._output,this._timeout,{result:function(rb){pa.error(qb);},timeout:function(){pa.timeout();},error:function(rb){$a(pa,function(){if(Y(rb))return null;throw new fc("Error sending an automatic handshake response.",rb,Sa);},za);}});},za);}});},za);}za=this;$a(pa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ra){xa(Ra);},timeout:function(){pa.timeout();},error:function(Ra){$a(pa,function(){var Fa,Wa,Za,Sa;if(Y(Ra))return null;if(Ra instanceof cb){Fa=Ra.messageId;Wa=Ra.error;Za=this._ctrl.messageRegistry.getUserMessage(Wa,null);Sa=Ra;}else (Fa=null,Wa=U.INTERNAL_EXCEPTION,Za=null,Sa=new vb("Error receiving the message header.",Ra));ia(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Wa,Za,this._output,this._timeout,{result:function(hb){pa.error(Sa);},timeout:function(){pa.timeout();},error:function(hb){$a(pa,function(){if(Y(hb))return null;throw new fc("Error receiving the message header.",hb,Ra);},za);}});},za);}});},za);}});ha=Cb.Class.create({init:function(pa,xa,Da,Ga,za,Ra,Fa){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:za,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},trustedNetworkExecute:function(pa,xa,Da){var Ga;Ga=this;$a(Da,function(){var za,Ra;if(12 < xa + 1)return !1;if(za=this._msgCtx.isIntegrityProtected() && !pa.willIntegrityProtectHeader()?U.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !pa.willEncryptPayloads()?U.RESPONSE_REQUIRES_ENCRYPTION:null){Ra=Rc(pa.getMessageId());ia(this,this._ctx,this._msgCtx.getDebugContext(),Ra,za,null,this._output,this._timeout,{result:function(Fa){Da.result(!1);},timeout:function(){Da.timeout();},error:function(Fa){$a(Da,function(){if(Y(Fa))return !1;throw new fc("Response requires encryption or integrity protection but cannot be protected: " + za,Fa,null);},Ga);}});}else !this._msgCtx.getCustomer() || pa.getMasterToken() || pa.getKeyExchangeData()?(pa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,pa,this._timeout,{result:function(Fa){Da.result(!0);},timeout:function(){Da.timeout();},error:function(Fa){Da.error(Fa);}})):(Ra=Rc(pa.getMessageId()),ia(this,this._ctx,this._msgCtx.getDebugContext(),Ra,U.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Fa){Da.result(!1);},timeout:function(){Da.timeout();},error:function(Fa){$a(Da,function(){if(Y(Fa))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Fa,null);},Ga);}}));},Ga);},peerToPeerExecute:function(pa,xa,Da,Ga){var Ra;function za(Fa){$a(Ga,function(){var Wa;Wa=Fa.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Fa.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,pa,Fa,Wa,{result:function(Za){$a(Ga,function(){var Sa,hb;if(!Za)return !1;Sa=Za.errorResult;hb=Za.tokenTicket;this.peerToPeerExecute(Sa.msgCtx,Sa.builder,Da,{result:function(lb){$a(Ga,function(){this._ctrl.releaseMasterToken(hb);return lb;},Ra);},timeout:function(){$a(Ga,function(){this._ctrl.releaseMasterToken(hb);Ga.timeout();},Ra);},error:function(lb){$a(Ga,function(){this._ctrl.releaseMasterToken(hb);throw lb;},Ra);}});},Ra);}});},Ra);}Ra=this;$a(Ga,function(){var Fa;if(12 < Da + 2)return !1;if(null != pa.getCustomer() && null == xa.getPeerMasterToken() && null == xa.getKeyExchangeData()){Fa=Rc(xa.getMessageId());ia(this,this._ctx,pa.getDebugContext(),Fa,U.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Wa){$a(Ga,function(){if(Y(Wa))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Ra);}});}else this._ctrl.sendReceive(this._ctx,pa,this._input,this._output,xa,this._timeout,!1,{result:function(Wa){$a(Ga,function(){var hb,lb,nb;function Za(){hb.read(32768,Ra._timeout,{result:function(qb){$a(Ga,function(){qb?Za():Sa();},Ra);},timeout:function(){Ga.timeout();},error:function(qb){Ga.error(qb);}});}function Sa(){$a(Ga,function(){var qb;qb=new qa(Wa.payloads,pa);this._ctrl.buildResponse(this,this._ctx,qb,lb,this._timeout,{result:function(rb){$a(Ga,function(){var yb;yb=rb.tokenTicket;this.peerToPeerExecute(qb,rb.builder,Da,{result:function(xb){$a(Ga,function(){this._ctrl.releaseMasterToken(yb);return xb;},Ra);},timeout:function(){$a(Ga,function(){this._ctrl.releaseMasterToken(yb);Ga.timeout();},Ra);},error:function(xb){$a(Ga,function(){this._ctrl.releaseMasterToken(yb);throw xb;},Ra);}});},Ra);},timeout:function(){Ga.timeout();},error:function(rb){Ga.error(rb);}});},Ra);}hb=Wa.response;Da+=2;if(!hb)return !0;lb=hb.getMessageHeader();if(lb){nb=Wa.payloads;nb=0 < nb.length && 0 < nb[0].data.length;if(Wa.handshake && nb)Za();else return !0;}else za(Wa);},Ra);},timeout:function(){Ga.timeout();},error:function(Wa){Ga.error(Wa);}});},Ra);},call:function(pa){var xa;xa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Da){$a(pa,function(){var Ga,za;Ga=Da.builder;za=Da.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ga,3,{result:function(Ra){$a(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);return Ra;},xa);},timeout:function(){$a(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);pa.timeout();},xa);},error:function(Ra){$a(pa,function(){var Fa,Wa,Za,Sa;this._ctx.isPeerToPeer() && this.releaseMasterToken(za);if(Y(Ra))return !1;Fa=Rc(Ga.getMessageId());if(Ra instanceof cb){Wa=Ra.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Wa,Za?Za.languages:null);Sa=Ra;}else Ra instanceof Ub?(Wa=U.MSL_COMMS_FAILURE,Za=null,Sa=Ra):(Wa=U.INTERNAL_EXCEPTION,Za=null,Sa=new vb("Error sending the response.",Ra));ia(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Wa,Za,this._output,this._timeout,{result:function(hb){pa.error(Sa);},timeout:function(){pa.timeout();},error:function(hb){$a(pa,function(){if(Y(hb))return !1;throw new fc("Error sending the response.",hb,null);},xa);}});},xa);}}):this.trustedNetworkExecute(Ga,3,{result:function(Ra){$a(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);return Ra;},xa);},timeout:function(){$a(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);pa.timeout();},xa);},error:function(Ra){$a(pa,function(){var Fa,Wa,Za,Sa;this._ctx.isPeerToPeer() && this.releaseMasterToken(za);if(Y(Ra))return !1;Fa=Rc(Ga.getMessageId());if(Ra instanceof cb){Wa=Ra.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Wa,Za?Za.languages:null);Sa=Ra;}else Ra instanceof Ub?(Wa=U.MSL_COMMS_FAILURE,Za=null,Sa=Ra):(Wa=U.INTERNAL_EXCEPTION,Za=null,Sa=new vb("Error sending the response.",Ra));ia(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Wa,Za,this._output,this._timeout,{result:function(hb){pa.error(Sa);},timeout:function(){pa.timeout();},error:function(hb){$a(pa,function(){if(Y(hb))return !1;throw new fc("Error sending the response.",hb,null);},xa);}});},xa);}});},xa);},timeout:function(){pa.timeout();},error:function(Da){$a(pa,function(){var Ga,za,Ra,Fa;if(Y(Da))return !1;if(Da instanceof cb){Ga=Da.messageId;za=Da.error;Ra=this._request.messageCapabilities;Ra=this._ctrl.messageRegistry.getUserMessage(za,Ra?Ra.languages:null);Fa=Da;}else (Ga=null,za=U.INTERNAL_EXCEPTION,Ra=null,Fa=new vb("Error building the response.",Da));ia(this,this._ctx,this._msgCtx.getDebugContext(),Ga,za,Ra,this._output,this._timeout,{result:function(Wa){pa.error(Fa);},timeout:function(){pa.timeout();},error:function(Wa){$a(pa,function(){if(Y(Wa))return null;throw new fc("Error building the response.",Wa,Da);},xa);}});},xa);}});}});wa=Cb.Class.create({init:function(pa,xa,Da,Ga,za,Ra,Fa){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},call:function(pa){var xa;xa=this;$a(pa,function(){var Da,Ga;if(this._appError == ENTITY_REJECTED)Da=this._request.masterToken?U.MASTERTOKEN_REJECTED_BY_APP:U.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Da=this._request.userIdToken?U.USERIDTOKEN_REJECTED_BY_APP:U.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ga=this._request.messageCapabilities;Ga=this._ctrl.messageRegistry.getUserMessage(Da,Ga?Ga.languages:null);ia(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Da,Ga,this._output,this._timeout,{result:function(za){pa.result(za);},timeout:pa.timeout,error:function(za){$a(pa,function(){if(Y(za))return !1;if(za instanceof cb)throw za;throw new vb("Error building the error response.",za);},xa);}});},xa);}});Oa={result:function(){},timeout:function(){},error:function(){}};Ia=Cb.Class.create({init:function(pa,xa,Da,Ga,za,Ra,Fa,Wa,Za){var Sa;if(Fa){Sa=Fa.builder;Fa=Fa.tokenTicket;}else Fa=Sa=null;Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:za,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Fa,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Za,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},execute:function(pa,xa,Da,Ga,za){var Wa;function Ra(Za){function Sa(hb){$a(za,function(){var lb;lb=Za.response;return hb?hb:lb;},Wa);}$a(za,function(){var hb,lb;hb=Za.response;hb.close();lb=hb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Za.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,pa,Za,lb,Da,{result:function(nb){$a(za,function(){var qb,rb,yb,xb;if(!nb)return hb;qb=nb.errorResult;rb=nb.tokenTicket;yb=qb.builder;qb=qb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(qb,yb,this._timeout,Ga,{result:function(r){$a(za,function(){this._ctrl.releaseMasterToken(rb);Sa(r);},Wa);},timeout:function(){$a(za,function(){this._ctrl.releaseMasterToken(rb);za.timeout();},Wa);},error:function(r){$a(za,function(){this._ctrl.releaseMasterToken(rb);za.error(r);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(Da,Oa));xb=new Ia(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,{builder:yb,tokenTicket:rb},Ga,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(r){Sa(r);},timeout:function(){za.timeout();},error:function(r){za.error(r);}});}},Wa);},timeout:function(){za.timeout();},error:function(nb){za.error(nb);}});},Wa);}function Fa(Za){$a(za,function(){var lb,nb,qb,rb,yb;function Sa(){lb.read(32768,Wa._timeout,{result:function(xb){xb?Sa():hb();},timeout:function(){za.timeout();},error:function(xb){za.error(xb);}});}function hb(){$a(za,function(){var xb;xb=new qa(Za.payloads,pa);this._ctrl.buildResponse(this,this._ctx,pa,nb,Da,{result:function(r){$a(za,function(){var b;b=r.tokenTicket;this.execute(xb,r.builder,this._timeout,Ga,{result:function(a){$a(za,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){$a(za,function(){this._ctrl.releaseMasterToken(b);za.timeout();},Wa);},error:function(a){$a(za,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){za.timeout();},error:function(r){za.error(r);}});},Wa);}lb=Za.response;nb=lb.getMessageHeader();qb=Za.payloads;qb=0 < qb.length && 0 < qb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!Za.handshake || !qb)return lb;this._openedStreams && (this._input.close(),this._output.close(Da,Oa));rb=new qa(Za.payloads,pa);this._ctrl.buildResponse(this,this._ctx,pa,nb,Da,{result:function(xb){$a(za,function(){var r;r=new Ia(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,xb,Ga,this._timeout);this.setAbort(function(){r.abort();});r.call(za);},Wa);},timeout:function(){za.timeout();},error:function(xb){za.error(xb);}});}else if(Za.handshake && qb)Sa();else if(0 < nb.keyRequestData.length){yb=new ya(pa);this._ctrl.buildResponse(this,this._ctx,yb,nb,Da,{result:function(xb){$a(za,function(){var r,b;r=xb.builder;b=xb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){$a(za,function(){function c(){lb.read(32768,Wa._timeout,{result:function(g){g?c():l();},timeout:function(){za.timeout();},error:function(g){za.error(g);}});}function l(){Wa.execute(yb,r,Wa._timeout,Ga,{result:function(g){$a(za,function(){this._ctrl.releaseMasterToken(b);return g;},Wa);},timeout:function(){$a(za,function(){this._ctrl.releaseMasterToken(b);za.timeout();},Wa);},error:function(g){$a(za,function(){this._ctrl.releaseMasterToken(b);throw g;},Wa);}});}if(a){if((lb.reset(),12 >= Ga + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,yb,this._output,r,this._timeout,{result:function(g){$a(za,function(){this.releaseMasterToken(b);return lb;},Wa);},timeout:function(){za.timeout();},error:function(g){za.error(g);}}));else return (this.releaseMasterToken(b),lb);}else c();},Wa);},timeout:function(){$a(za,function(){this.releaseMasterToken(b);za.timeout();},Wa);},error:function(a){$a(za,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){za.timeout();},error:function(xb){za.error(xb);}});}},Wa);}Wa=this;$a(za,function(){if(12 < Ga + 2)return null;this._ctrl.sendReceive(this,this._ctx,pa,this._input,this._output,xa,Da,!0,{result:function(Za){$a(za,function(){var Sa;if(!Za)return null;Sa=Za.response;Ga+=2;Sa.getMessageHeader()?Fa(Za):Ra(Za);},Wa);},timeout:function(){za.timeout();},error:function(Za){za.error(Za);}});},Wa);},call:function(pa){var Da;function xa(Ga,za,Ra){$a(pa,function(){this.execute(this._msgCtx,Ga,Ra,this._msgCount,{result:function(Fa){$a(pa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && this._output.close(Ra,Oa);Fa && Fa.closeSource(this._openedStreams);return Fa;},Da);},timeout:function(){$a(pa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && (this._output.close(Ra,Oa),this._input.close());pa.timeout();},Da);},error:function(Fa){$a(pa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && (this._output.close(Ra,Oa),this._input.close());if(Y(Fa))return null;throw Fa;},Da);}});},Da);}Da=this;$a(pa,function(){var Ga,za,Ra;Ga=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);za=Date.now();Ra=this._remoteEntity.openConnection();this._output=Ra.output;this._input=Ra.input;-1 != Ga && (Ga=this._timeout - (Date.now() - za));this._openedStreams=!0;}catch(Fa){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Oa);this._input && this._input.close();if(Y(Fa))return null;throw Fa;}this._builder?xa(this._builder,this._tokenTicket,Ga):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Fa){$a(pa,function(){xa(Fa.builder,Fa.tokenTicket,Ga);},Da);},timeout:function(){$a(pa,function(){this._openedStreams && (this._output.close(this._timeout,Oa),this._input.close());pa.timeout();},Da);},error:function(Fa){$a(pa,function(){this._openedStreams && (this._output.close(this._timeout,Oa),this._input.close());if(Y(Fa))return null;throw Fa;},Da);}});},Da);}});})();(function(){Sd=Cb.Class.create({init:function(fa){Object.defineProperties(this,{id:{value:fa,writable:!1,configurable:!1}});},toJSON:function(){var fa;fa={};fa.id=this.id;return fa;},equals:function(fa){return this === fa?!0:fa instanceof Sd?this.id == fa.id:!1;},uniqueKey:function(){return this.id;}});Xe=function(fa){var Z;Z=fa.id;if(!Z)throw new Eb(U.JSON_PARSE_ERROR,JSON.stringify(fa));return new Sd(Z);};})();Cb.Class.create({isNewestMasterToken:function(fa,Z,V){},isMasterTokenRevoked:function(fa,Z){},acceptNonReplayableId:function(fa,Z,V,W){},createMasterToken:function(fa,Z,V,W,ca){},isMasterTokenRenewable:function(fa,Z,V){},renewMasterToken:function(fa,Z,V,W,ca){},isUserIdTokenRevoked:function(fa,Z,V,W){},createUserIdToken:function(fa,Z,V,W){},renewUserIdToken:function(fa,Z,V,W){}});(function(){function fa(Z,V,W,ca){this.sessiondata=Z;this.tokendata=V;this.signature=W;this.verified=ca;}ec=Cb.Class.create({init:function(Z,V,W,ca,Y,ia,va,sa,ja,qa,ya){var ma;ma=this;Ka(ya,function(){var ba,ea,ha,wa,Oa;if(W.getTime() < V.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ca || ca > Mb)throw new vb("Sequence number " + ca + " is outside the valid range.");if(0 > Y || Y > Mb)throw new vb("Serial number " + Y + " is outside the valid range.");ba=Math.floor(V.getTime() / 1E3);ea=Math.floor(W.getTime() / 1E3);if(qa)ha=qa.sessiondata;else {wa={};ia && (wa.issuerdata=ia);wa.identity=va;wa.encryptionkey=Gb(sa.toByteArray());wa.hmackey=Gb(ja.toByteArray());ha=bc(JSON.stringify(wa),Nb);}if(qa)return (Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ea,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ca,writable:!1,configurable:!1},serialNumber:{value:Y,writable:!1,configurable:!1},issuerData:{value:ia,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1},sessiondata:{value:ha,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Oa=Z.getMslCryptoContext();Oa.encrypt(ha,{result:function(Ia){Ka(ya,function(){var Ma,Qa;Ma={};Ma.renewalwindow=ba;Ma.expiration=ea;Ma.sequencenumber=ca;Ma.serialnumber=Y;Ma.sessiondata=Gb(Ia);Qa=bc(JSON.stringify(Ma),Nb);Oa.sign(Qa,{result:function(pa){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ea,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ca,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:Y,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ia,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1},sessiondata:{value:ha,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(pa){ya.error(pa);}});},ma);},error:function(Ia){ya.error(Ia);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(Z){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(Z){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(Z){var V;if(this.sequenceNumber == Z.sequenceNumber)return this.expiration > Z.expiration;if(this.sequenceNumber > Z.sequenceNumber){V=this.sequenceNumber - Mb + 127;return Z.sequenceNumber >= V;}V=Z.sequenceNumber - Mb + 127;return this.sequenceNumber < V;},toJSON:function(){var Z;Z={};Z.tokendata=Gb(this.tokendata);Z.signature=Gb(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof ec?this.serialNumber == Z.serialNumber && this.sequenceNumber == Z.sequenceNumber && this.expiration.getTime() == Z.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});$c=function(Z,V,W){Ka(W,function(){var ca,Y,ia,va,sa;ca=Z.getMslCryptoContext();Y=V.tokendata;ia=V.signature;if("string" !== typeof Y || "string" !== typeof ia)throw new Eb(U.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(V));try{va=Ib(Y);}catch(ja){throw new cb(U.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(V),ja);}if(!va || 0 == va.length)throw new Eb(U.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(V));try{sa=Ib(ia);}catch(ja){throw new cb(U.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(V),ja);}ca.verify(va,sa,{result:function(ja){Ka(W,function(){var qa,ya,ma,ba,ea,ha,wa,Oa,Ia,Ma;qa=ac(va,Nb);try{ya=JSON.parse(qa);ma=parseInt(ya.renewalwindow);ba=parseInt(ya.expiration);ea=parseInt(ya.sequencenumber);ha=parseInt(ya.serialnumber);wa=ya.sessiondata;}catch(Qa){if(Qa instanceof SyntaxError)throw new Eb(U.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa,Qa);throw Qa;}if(!ma || ma != ma || !ba || ba != ba || "number" !== typeof ea || ea != ea || "number" !== typeof ha || ha != ha || "string" !== typeof wa)throw new Eb(U.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa);if(ba < ma)throw new cb(U.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + qa);if(0 > ea || ea > Mb)throw new cb(U.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);if(0 > ha || ha > Mb)throw new cb(U.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);Oa=new Date(1E3 * ma);Ia=new Date(1E3 * ba);try{Ma=Ib(wa);}catch(Qa){throw new cb(U.MASTERTOKEN_SESSIONDATA_INVALID,wa,Qa);}if(!Ma || 0 == Ma.length)throw new cb(U.MASTERTOKEN_SESSIONDATA_MISSING,wa);ja?ca.decrypt(Ma,{result:function(Qa){Ka(W,function(){var pa,xa,Da,Ga,za,Ra;pa=ac(Qa,Nb);try{xa=JSON.parse(pa);Da=xa.issuerdata;Ga=xa.identity;za=xa.encryptionkey;Ra=xa.hmackey;}catch(Fa){if(Fa instanceof SyntaxError)throw new Eb(U.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + pa,Fa);throw Fa;}if(Da && "object" !== typeof Da || !Ga || "string" !== typeof za || "string" !== typeof Ra)throw new Eb(U.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + pa);oc(za,jc,yc,{result:function(Fa){oc(Ra,kc,Hc,{result:function(Wa){Ka(W,function(){var Za;Za=new fa(Qa,va,sa,ja);new ec(Z,Oa,Ia,ea,ha,Da,Ga,Fa,Wa,Za,W);});},error:function(Wa){W.error(new ub(U.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Fa){W.error(new ub(U.MASTERTOKEN_KEY_CREATION_ERROR,Fa));}});});},error:function(Qa){W.error(Qa);}}):(ma=new fa(null,va,sa,ja),new ec(Z,Oa,Ia,ea,ha,null,null,null,null,ma,W));});},error:function(ja){W.error(ja);}});});};})();(function(){function fa(Z,V,W){this.tokendata=Z;this.signature=V;this.verified=W;}Oc=Cb.Class.create({init:function(Z,V,W,ca,Y,ia,va,sa,ja){var qa;qa=this;Ka(ja,function(){var ya,ma,ba,ea,ha,wa,Oa;if(W.getTime() < V.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ca)throw new vb("Cannot construct a user ID token without a master token.");if(0 > Y || Y > Mb)throw new vb("Serial number " + Y + " is outside the valid range.");ya=Math.floor(V.getTime() / 1E3);ma=Math.floor(W.getTime() / 1E3);ba=ca.serialNumber;if(sa){ea=sa.tokendata;ha=sa.signature;wa=sa.verified;ba=ca.serialNumber;Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:Y,writable:!1,configurable:!1},issuerData:{value:ia,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:wa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ea,writable:!1,enumerable:!1,configurable:!1},signature:{value:ha,writable:!1,enumerable:!1,configurable:!1}});return this;}ea={};ia && (ea.issuerdata=ia);ea.identity=va;ea=bc(JSON.stringify(ea),Nb);Oa=Z.getMslCryptoContext();Oa.encrypt(ea,{result:function(Ia){Ka(ja,function(){var Ma,Qa;Ma={};Ma.renewalwindow=ya;Ma.expiration=ma;Ma.mtserialnumber=ba;Ma.serialnumber=Y;Ma.userdata=Gb(Ia);Qa=bc(JSON.stringify(Ma),Nb);Oa.sign(Qa,{result:function(pa){Ka(ja,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ca.serialNumber,writable:!1,configurable:!1},serialNumber:{value:Y,writable:!1,configurable:!1},issuerData:{value:ia,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(pa){Ka(ja,function(){pa instanceof cb && pa.setEntity(ca);throw pa;},qa);}});},qa);},error:function(Ia){Ka(ja,function(){Ia instanceof cb && Ia.setEntity(ca);throw Ia;},qa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(Z){return Z && Z.serialNumber == this.mtSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Gb(this.tokendata);Z.signature=Gb(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof Oc?this.serialNumber == Z.serialNumber && this.mtSerialNumber == Z.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});qd=function(Z,V,W,ca){Ka(ca,function(){var Y,ia,va,sa,ja;Y=Z.getMslCryptoContext();ia=V.tokendata;va=V.signature;if("string" !== typeof ia || "string" !== typeof va)throw new Eb(U.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(V)).setEntity(W);try{sa=Ib(ia);}catch(qa){throw new cb(U.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(V),qa).setEntity(W);}if(!sa || 0 == sa.length)throw new Eb(U.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(V)).setEntity(W);try{ja=Ib(va);}catch(qa){throw new cb(U.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(V),qa).setEntity(W);}Y.verify(sa,ja,{result:function(qa){Ka(ca,function(){var ya,ma,ba,ea,ha,wa,Oa,Ia,Ma,Qa;ya=ac(sa,Nb);try{ma=JSON.parse(ya);ba=parseInt(ma.renewalwindow);ea=parseInt(ma.expiration);ha=parseInt(ma.mtserialnumber);wa=parseInt(ma.serialnumber);Oa=ma.userdata;}catch(pa){if(pa instanceof SyntaxError)throw new Eb(U.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya,pa).setEntity(W);throw pa;}if(!ba || ba != ba || !ea || ea != ea || "number" !== typeof ha || ha != ha || "number" !== typeof wa || wa != wa || "string" !== typeof Oa)throw new Eb(U.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya).setEntity(W);if(ea < ba)throw new cb(U.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ya).setEntity(W);if(0 > ha || ha > Mb)throw new cb(U.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(W);if(0 > wa || wa > Mb)throw new cb(U.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(W);Ia=new Date(1E3 * ba);Ma=new Date(1E3 * ea);if(!W || ha != W.serialNumber)throw new cb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ha + "; mt " + JSON.stringify(W)).setEntity(W);try{Qa=Ib(Oa);}catch(pa){throw new cb(U.USERIDTOKEN_USERDATA_INVALID,Oa,pa).setEntity(W);}if(!Qa || 0 == Qa.length)throw new cb(U.USERIDTOKEN_USERDATA_MISSING,Oa).setEntity(W);qa?Y.decrypt(Qa,{result:function(pa){Ka(ca,function(){var xa,Da,Ga,za,Ra;xa=ac(pa,Nb);try{Da=JSON.parse(xa);Ga=Da.issuerdata;za=Da.identity;}catch(Fa){if(Fa instanceof SyntaxError)throw new Eb(U.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(W);throw Fa;}if(Ga && "object" !== typeof Ga || "object" !== typeof za)throw new Eb(U.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(W);try{Ra=Xe(za);}catch(Fa){throw new cb(U.USERIDTOKEN_IDENTITY_INVALID,"userdata " + xa,Fa).setEntity(W);}za=new fa(sa,ja,qa);new Oc(Z,Ia,Ma,W,wa,Ga,Ra,za,ca);});},error:function(pa){Ka(ca,function(){pa instanceof cb && pa.setEntity(W);throw pa;});}}):(ba=new fa(sa,ja,qa),new Oc(Z,Ia,Ma,W,wa,null,null,ba,ca));});},error:function(qa){Ka(ca,function(){qa instanceof cb && qa.setEntity(W);throw qa;});}});});};})();(function(){function fa(V,W){var ca,Y,ia;ca=V.tokendata;if("string" !== typeof ca)throw new Eb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V));try{Y=Ib(ca);}catch(va){throw new cb(U.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(V),va);}if(!Y || 0 == Y.length)throw new Eb(U.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(V));try{ia=JSON.parse(ac(Y,Nb)).name;}catch(va){if(va instanceof SyntaxError)throw new Eb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V),va);throw va;}if(!ia)throw new Eb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V));return W[ia]?W[ia]:W[""];}function Z(V,W,ca){this.tokendata=V;this.signature=W;this.verified=ca;}Ac=Cb.Class.create({init:function(V,W,ca,Y,ia,va,sa,ja,qa,ya){var ma;ma=this;Ka(ya,function(){var ba,ea,ha,wa,Oa;if(Y && ia && !ia.isBoundTo(Y))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");ba=Y?Y.serialNumber:-1;ea=ia?ia.serialNumber:-1;if(qa)return (Oa=qa.tokendata,Object.defineProperties(this,{ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},name:{value:W,writable:!1,configurable:!1},mtSerialNumber:{value:ba,writable:!1,configurable:!1},uitSerialNumber:{value:ea,writable:!1,configurable:!1},data:{value:ca,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(sa){ha=Rd(sa,ca);ha.length < ca.length || (sa=null,ha=ca);}else (sa=null,ha=ca);wa={};wa.name=W;-1 != ba && (wa.mtserialnumber=ba);-1 != ea && (wa.uitserialnumber=ea);wa.encrypted=va;sa && (wa.compressionalgo=sa);if(va && 0 < ha.length)ja.encrypt(ha,{result:function(Ia){Ka(ya,function(){var Ma;wa.servicedata=Gb(Ia);Ma=bc(JSON.stringify(wa),Nb);ja.sign(Ma,{result:function(Qa){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},name:{value:W,writable:!1,configurable:!1},mtSerialNumber:{value:ba,writable:!1,configurable:!1},uitSerialNumber:{value:ea,writable:!1,configurable:!1},data:{value:ca,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ma,writable:!1,enumerable:!1,configurable:!1},signature:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(Qa){Ka(ya,function(){Qa instanceof cb && (Qa.setEntity(Y),Qa.setUser(ia));throw Qa;});}});},ma);},error:function(Ia){Ka(ya,function(){Ia instanceof cb && (Ia.setEntity(Y),Ia.setUser(ia));throw Ia;});}});else {wa.servicedata=Gb(ha);Oa=bc(JSON.stringify(wa),Nb);ja.sign(Oa,{result:function(Ia){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},name:{value:W,writable:!1,configurable:!1},mtSerialNumber:{value:ba,writable:!1,configurable:!1},uitSerialNumber:{value:ea,writable:!1,configurable:!1},data:{value:ca,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ia,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(Ia){Ka(ya,function(){Ia instanceof cb && (Ia.setEntity(Y),Ia.setUser(ia));throw Ia;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(V){return V?V instanceof ec?V.serialNumber == this.mtSerialNumber:V instanceof Oc?V.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var V;V={};V.tokendata=Gb(this.tokendata);V.signature=Gb(this.signature);return V;},equals:function(V){return this === V?!0:V instanceof Ac?this.name == V.name && this.mtSerialNumber == V.mtSerialNumber && this.uitSerialNumber == V.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});uc=function(V,W,ca,Y,ia,va,sa,ja,qa){new Ac(V,W,ca,Y,ia,va,sa,ja,null,qa);};rd=function(V,W,ca,Y,ia,va){Ka(va,function(){var sa,ja,qa,ya,ma,ba,ea,ha,wa,Oa,Ia,Ma,Qa;!ia || ia instanceof Pc || (ia=fa(W,ia));sa=W.tokendata;ja=W.signature;if("string" !== typeof sa || "string" !== typeof ja)throw new Eb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(W)).setEntity(ca).setEntity(Y);try{qa=Ib(sa);}catch(pa){throw new cb(U.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(W),pa).setEntity(ca).setEntity(Y);}if(!qa || 0 == qa.length)throw new Eb(U.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(W)).setEntity(ca).setEntity(Y);try{ya=Ib(ja);}catch(pa){throw new cb(U.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(W),pa).setEntity(ca).setEntity(Y);}ma=ac(qa,Nb);try{ba=JSON.parse(ma);ea=ba.name;ha=ba.mtserialnumber?parseInt(ba.mtserialnumber):-1;wa=ba.uitserialnumber?parseInt(ba.uitserialnumber):-1;Oa=ba.encrypted;Ia=ba.compressionalgo;Ma=ba.servicedata;}catch(pa){if(pa instanceof SyntaxError)throw new Eb(U.JSON_PARSE_ERROR,"servicetokendata " + ma,pa).setEntity(ca).setEntity(Y);throw pa;}if(!ea || "number" !== typeof ha || ha != ha || "number" !== typeof wa || wa != wa || "boolean" !== typeof Oa || Ia && "string" !== typeof Ia || "string" !== typeof Ma)throw new Eb(U.JSON_PARSE_ERROR,"servicetokendata " + ma).setEntity(ca).setEntity(Y);if(ba.mtserialnumber && 0 > ha || ha > Mb)throw new cb(U.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ca).setEntity(Y);if(ba.uitserialnumber && 0 > wa || wa > Mb)throw new cb(U.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ca).setEntity(Y);if(-1 != ha && (!ca || ha != ca.serialNumber))throw new cb(U.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ha + "; mt " + ca).setEntity(ca).setEntity(Y);if(-1 != wa && (!Y || wa != Y.serialNumber))throw new cb(U.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + wa + "; uit " + Y).setEntity(ca).setEntity(Y);Oa=!0 === Oa;if(Ia){if(!Fc[Ia])throw new cb(U.UNIDENTIFIED_COMPRESSION,Ia);Qa=Ia;}else Qa=null;ia?ia.verify(qa,ya,{result:function(pa){Ka(va,function(){var xa,Da;if(pa){try{xa=Ib(Ma);}catch(Ga){throw new cb(U.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma,Ga).setEntity(ca).setEntity(Y);}if(!xa || 0 != Ma.length && 0 == xa.length)throw new cb(U.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma).setEntity(ca).setEntity(Y);if(Oa && 0 < xa.length)ia.decrypt(xa,{result:function(Ga){Ka(va,function(){var za,Ra;za=Qa?sd(Qa,Ga):Ga;Ra=new Z(qa,ya,pa);new Ac(V,ea,za,-1 != ha?ca:null,-1 != wa?Y:null,Oa,Qa,ia,Ra,va);});},error:function(Ga){Ka(va,function(){Ga instanceof cb && (Ga.setEntity(ca),Ga.setUser(Y));throw Ga;});}});else {xa=Qa?sd(Qa,xa):xa;Da=new Z(qa,ya,pa);new Ac(V,ea,xa,-1 != ha?ca:null,-1 != wa?Y:null,Oa,Qa,ia,Da,va);}}else (xa="" == Ma?new Uint8Array(0):null,Da=new Z(qa,ya,pa),new Ac(V,ea,xa,-1 != ha?ca:null,-1 != wa?Y:null,Oa,Qa,ia,Da,va));});},error:function(pa){Ka(va,function(){pa instanceof cb && (pa.setEntity(ca),pa.setUser(Y));throw pa;});}}):(sa="" == Ma?new Uint8Array(0):null,ja=new Z(qa,ya,!1),new Ac(V,ea,sa,-1 != ha?ca:null,-1 != wa?Y:null,Oa,Qa,ia,ja,va));});};})();Bc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Bc);(function(){Vc=Cb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(fa){return this === fa?!0:fa instanceof Vc?this.scheme == fa.scheme:!1;},toJSON:function(){var fa;fa={};fa.scheme=this.scheme;fa.authdata=this.getAuthData();return fa;}});Me=function(fa,Z,V,W){Ka(W,function(){var ca,Y,ia;ca=V.scheme;Y=V.authdata;if(!ca || !Y)throw new Eb(U.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(V));if(!Bc[ca])throw new xc(U.UNIDENTIFIED_USERAUTH_SCHEME,ca);ia=fa.getUserAuthenticationFactory(ca);if(!ia)throw new xc(U.USERAUTH_FACTORY_NOT_FOUND,ca);ia.createData(fa,Z,Y,W);});};})();Ye=Cb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},createData:function(fa,Z,V,W){},authenticate:function(fa,Z,V,W){}});(function(){cd=Vc.extend({init:function W(Z,V){W.base.call(this,Bc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:Z,writable:!1,configurable:!1},secureNetflixId:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.netflixid=this.netflixId;this.secureNetflixId && (Z.securenetflixid=this.secureNetflixId);return Z;},equals:function W(V){return this === V?!0:V instanceof cd?W.base.call(this,V) && this.netflixId == V.netflixId && this.secureNetflixId == V.secureNetflixId:!1;}});Ze=function(V){var W,ca;W=V.netflixid;ca=V.securenetflixid;if(!W)throw new Eb(U.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(V));return new cd(W,ca);};})();zf=Ye.extend({init:function Z(){Z.base.call(this,Bc.NETFLIXID);},createData:function(Z,V,W,ca){Ka(ca,function(){return Ze(W);});},authenticate:function(Z,V,W,ca){if(!(W instanceof cd))throw new vb("Incorrect authentication data type " + W + ".");Z=W.secureNetflixId;if(!W.netflixId || !Z)throw new xc(U.NETFLIXID_COOKIES_BLANK).setUser(W);throw new xc(U.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(W);}});(function(){dd=Vc.extend({init:function ca(V,W){ca.base.call(this,Bc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:V,writable:!1,configurable:!1},password:{value:W,writable:!1,configurable:!1}});},getAuthData:function(){var V;V={};V.email=this.email;V.password=this.password;return V;},equals:function ca(W){return this === W?!0:W instanceof dd?ca.base.call(this,this,W) && this.email == W.email && this.password == W.password:!1;}});$e=function(W){var ca,Y;ca=W.email;Y=W.password;if(!ca || !Y)throw new Eb(U.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(W));return new dd(ca,Y);};})();Af=Ye.extend({init:function V(){V.base.call(this,Bc.EMAIL_PASSWORD);},createData:function(V,W,ca,Y){Ka(Y,function(){return $e(ca);});},authenticate:function(V,W,ca,Y){if(!(ca instanceof dd))throw new vb("Incorrect authentication data type " + ca + ".");V=ca.password;if(!ca.email || !V)throw new xc(U.EMAILPASSWORD_BLANK).setUser(ca);throw new xc(U.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ca);}});Object.freeze({ENTITY_REAUTH:Ea.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ea.ENTITYDATA_REAUTH});Bf=Cb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(V,W){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(V){},getUserAuthenticationFactory:function(V){},getTokenFactory:function(){},getKeyExchangeFactory:function(V){},getKeyExchangeFactories:function(){},getMslStore:function(){}});af=Cb.Class.create({setCryptoContext:function(V,W){},getMasterToken:function(){},getNonReplayableId:function(V){},getCryptoContext:function(V){},removeCryptoContext:function(V){},clearCryptoContexts:function(){},addUserIdToken:function(V,W){},getUserIdToken:function(V){},removeUserIdToken:function(V){},clearUserIdTokens:function(){},addServiceTokens:function(V){},getServiceTokens:function(V,W){},removeServiceTokens:function(V,W,ca){},clearServiceTokens:function(){}});(function(){var V;V=Fc;Rd=function(W,ca){var Y;Y={};switch(W){case V.LZW:return ge(ca,Y);case V.GZIP:return gzip$compress(ca);default:throw new cb(U.UNSUPPORTED_COMPRESSION,W);}};sd=function(W,ca,Y){switch(W){case V.LZW:return he(ca);case V.GZIP:return gzip$uncompress(ca);default:throw new cb(U.UNSUPPORTED_COMPRESSION,W.name());}};})();af.extend({setCryptoContext:function(V,W){},getMasterToken:function(){return null;},getNonReplayableId:function(V){return 1;},getCryptoContext:function(V){return null;},removeCryptoContext:function(V){},clearCryptoContexts:function(){},addUserIdToken:function(V,W){},getUserIdToken:function(V){return null;},removeUserIdToken:function(V){},clearUserIdTokens:function(){},addServiceTokens:function(V){},getServiceTokens:function(V,W){if(W){if(!V)throw new cb(U.USERIDTOKEN_MASTERTOKEN_NULL);if(!W.isBoundTo(V))throw new cb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + W.mtSerialNumber + "; mt " + V.serialNumber);}return [];},removeServiceTokens:function(V,W,ca){if(ca && W && !ca.isBoundTo(W))throw new cb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ca.masterTokenSerialNumber + "; mt " + W.serialNumber);},clearServiceTokens:function(){}});(function(){bf=af.extend({init:function W(){W.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(W,ca){var Y;if(ca){Y=W.uniqueKey();this.masterTokens[Y]=W;this.cryptoContexts[Y]=ca;}else this.removeCryptoContext(W);},getMasterToken:function(){var W,ca,Y;W=null;for(ca in this.masterTokens){Y=this.masterTokens[ca];if(!W || Y.isNewerThan(W))W=Y;}return W;},getNonReplayableId:function(W){var ca;W=W.serialNumber;ca=this.nonReplayableIds[W] !== zb?this.nonReplayableIds[W]:0;if(0 > ca || ca > Mb)throw new vb("Non-replayable ID " + ca + " is outside the valid range.");ca=ca == Mb?0:ca + 1;return this.nonReplayableIds[W]=ca;},getCryptoContext:function(W){return this.cryptoContexts[W.uniqueKey()];},removeCryptoContext:function(W){var ca,Y,ia,va;ca=W.uniqueKey();if(this.masterTokens[ca]){Y=W.serialNumber;for(ia in this.masterTokens){va=this.masterTokens[ia];if(!va.equals(W) && va.serialNumber == Y){delete this.masterTokens[ca];delete this.cryptoContexts[ca];return;}}Object.keys(this.userIdTokens).forEach(function(sa){sa=this.userIdTokens[sa];sa.isBoundTo(W) && this.removeUserIdToken(sa);},this);try{this.removeServiceTokens(null,W,null);}catch(sa){if(sa instanceof cb)throw new vb("Unexpected exception while removing master token bound service tokens.",sa);throw sa;}delete this.nonReplayableIds[Y];delete this.masterTokens[ca];delete this.cryptoContexts[ca];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(W){for(var ca in W){delete W[ca];}},this);},addUserIdToken:function(W,ca){var Y,ia;Y=!1;for(ia in this.masterTokens){if(ca.isBoundTo(this.masterTokens[ia])){Y=!0;break;}}if(!Y)throw new cb(U.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ca.mtSerialNumber);this.userIdTokens[W]=ca;},getUserIdToken:function(W){return this.userIdTokens[W];},removeUserIdToken:function(W){var ca,Y,ia;ca=null;for(Y in this.masterTokens){ia=this.masterTokens[Y];if(W.isBoundTo(ia)){ca=ia;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(W)){try{this.removeServiceTokens(null,ca,W);}catch(sa){if(sa instanceof cb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",sa);throw sa;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var W in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[W]);}},addServiceTokens:function(W){W.forEach(function(ca){var Y,ia;if(ca.isMasterTokenBound()){Y=!1;for(ia in this.masterTokens){if(ca.isBoundTo(this.masterTokens[ia])){Y=!0;break;}}if(!Y)throw new cb(U.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ca.mtSerialNumber);}if(ca.isUserIdTokenBound()){Y=!1;for(var va in this.userIdTokens){if(ca.isBoundTo(this.userIdTokens[va])){Y=!0;break;}}if(!Y)throw new cb(U.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ca.uitSerialNumber);}},this);W.forEach(function(ca){var Y;if(ca.isUnbound())this.unboundServiceTokens[ca.uniqueKey()]=ca;else {if(ca.isMasterTokenBound()){Y=this.mtServiceTokens[ca.mtSerialNumber];Y || (Y={});Y[ca.uniqueKey()]=ca;this.mtServiceTokens[ca.mtSerialNumber]=Y;}ca.isUserIdTokenBound() && ((Y=this.uitServiceTokens[ca.uitSerialNumber]) || (Y={}),Y[ca.uniqueKey()]=ca,this.uitServiceTokens[ca.uitSerialNumber]=Y);}},this);},getServiceTokens:function(W,ca){var Y,ia,va;if(ca){if(!W)throw new cb(U.USERIDTOKEN_MASTERTOKEN_NULL);if(!ca.isBoundTo(W))throw new cb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ca.mtSerialNumber + "; mt " + W.serialNumber);}Y={};for(ia in this.unboundServiceTokens){va=this.unboundServiceTokens[ia];Y[va.uniqueKey()]=va;}if(W && (ia=this.mtServiceTokens[W.serialNumber]))for(var sa in ia){va=ia[sa];va.isUserIdTokenBound() || (Y[sa]=va);}if(ca && (ca=this.uitServiceTokens[ca.serialNumber]))for(var ja in ca){sa=ca[ja];sa.isBoundTo(W) && (Y[ja]=sa);}W=[];for(var qa in Y){W.push(Y[qa]);}return W;},removeServiceTokens:function(W,ca,Y){var ia,va,sa;if(Y && ca && !Y.isBoundTo(ca))throw new cb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.mtSerialNumber + "; mt " + ca.serialNumber);!W || ca || Y || Object.keys(this.unboundServiceTokens).forEach(function(ja){this.unboundServiceTokens[ja].name == W && delete this.unboundServiceTokens[ja];},this);if(ca && !Y && (ia=this.mtServiceTokens[ca.serialNumber])){sa=Object.keys(ia);sa.forEach(function(ja){var qa;qa=ia[ja];W && qa.name != W || delete ia[ja];},this);this.mtServiceTokens[ca.serialNumber]=ia;}Y && (va=this.uitServiceTokens[Y.serialNumber]) && (ca=Object.keys(va),ca.forEach(function(ja){var qa;qa=va[ja];W && qa.name != W || delete va[ja];},this),this.uitServiceTokens[Y.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(W){for(var ca in W){delete W[ca];}},this);}});})();wf.extend({init:function W(){W.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(W,ca){ca && W && W.length && (W=Gb(W),this._contextMap[W]=ca);},getCryptoContext:function(W){return W && W.length?(W=Gb(W),this._contextMap[W] || null):null;},removeCryptoContext:function(W){W && W.length && (W=Gb(W),delete this._contextMap[W]);}});of.extend({init:function sa(ca,Y,ia,va){sa.base.call(this,ca);Object.defineProperties(this,{_kde:{value:Y,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ia,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ca,Y){if(!(Y instanceof sc))throw new vb("Incorrect authentication data type " + JSON.stringify(Y) + ".");if(Y.identity != this.localIdentity)throw new mc(U.ENTITY_NOT_FOUND,"mgk " + Y.identity);return new md(ca,this.localIdentity,this._kde,this._kdh,this._kdw);}});pf.extend({init:function ja(Y,ia,va,sa){ja.base.call(this,Y);Object.defineProperties(this,{_kpe:{value:ia,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Y,ia){if(!(ia instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(ia) + ".");if(ia.identity != this.localIdentity)throw new mc(U.ENTITY_NOT_FOUND,"psk " + ia.identity);return new md(Y,this.localIdentity,this._kpe,this._kph,this._kpw);}});Df=bf.extend({init:function ma(ia,va,sa,ja,qa,ya){ma.base.call(this);this._log=ia;this._esn=va;this._keyRequestData=sa;this._createKeyRequestData=ja;this._systemKeyName=qa;this._systemKeyWrapFormat=ya;},setCryptoContext:function qa(va,sa,ja){var ya;ya=this;ya._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});qa.base.call(this,va,sa);!ja && (va=ya._createKeyRequestData) && (ya._log.trace("Generating new keyx request data"),va().then(function(ma){ya._keyRequestData=ma;},function(ma){ya._log.error("Unable to generate new keyx request data","" + ma);}));},addUserIdToken:function qa(sa,ja){this._log.trace("Adding UserIdToken",{UserId:sa,SerialNumber:ja.serialNumber,MTSerialNumber:ja.mtSerialNumber,Expiration:ja.expiration.getTime()});qa.base.call(this,sa,ja);},addServiceTokens:function qa(ja){qa.base.call(this,ja.filter(function(ya){return !Cf[ya.name];}));},getUserIdTokenKeys:function(){var ja,qa;ja=[];for(qa in this.userIdTokens){ja.push(qa);}return ja;},rekeyUserIdToken:function(ja,qa){this.userIdTokens[ja] && (this.userIdTokens[qa]=this.userIdTokens[ja],delete this.userIdTokens[ja]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ja){var qa;qa=this;Ka(ja,function(){var ya;ya=qa.getMasterToken();ya?qa.getKeysForStore(ya,{result:function(ma){Ka(ja,function(){var ba,ea,ha;ba=qa.userIdTokens;ea=Object.keys(ba).map(function(wa){var Oa;Oa=ba[wa];return {userId:wa,userIdTokenJSON:ba[wa].toJSON(),serviceTokenJSONList:qa.getServiceTokens(ya,Oa).map(hf)};});ma.esn=qa._esn;ma.masterTokenJSON=ya.toJSON();ma.userList=ea;ha=qa._keyRequestData.storeData;ha && Object.keys(ha).forEach(function(wa){ma[wa]=ha[wa];});return ma;});},timeout:ja.timeout,error:ja.error}):ja.result(null);});},getKeysForStore:function(ja,qa){var ya;ya=this;Ka(qa,function(){var ma;ma=ya.getCryptoContext(ja);ma={encryptionKey:ma.encryptionKey,hmacKey:ma.hmacKey};if(ma.encryptionKey && ma.hmacKey){if(ya._systemKeyWrapFormat)ya.wrapKeysWithSystemKey(ma,qa);else return ma;}else throw new cb(U.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ja,qa){var ya;ya=this;ae(this._systemKeyName,{result:function(ma){Ka(qa,function(){var ba,ea,ha,wa;ba=ja.encryptionKey;ea=ja.hmacKey;ha=ba[Sc];wa=ea[Sc];if(ha && wa)return {wrappedEncryptionKey:ha,wrappedHmacKey:wa};Promise.resolve().then(function(){return Promise.all([Lb.wrapKey(ya._systemKeyWrapFormat,ba,ma,ma.algorithm),Lb.wrapKey(ya._systemKeyWrapFormat,ea,ma,ma.algorithm)]);}).then(function(Oa){ha=Gb(Oa[0]);ba[Sc]=ha;wa=Gb(Oa[1]);ea[Sc]=wa;qa.result({wrappedEncryptionKey:ha,wrappedHmacKey:wa});}).catch(function(Oa){qa.error(new cb(U.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Oa));});});},timeout:qa.timeout,error:qa.error});},unwrapKeysWithSystemKey:function(ja,qa){var ya;ya=this;ae(this._systemKeyName,{result:function(ma){Ka(qa,function(){var ba,ea;ba=Ib(ja.wrappedEncryptionKey);ea=Ib(ja.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Lb.unwrapKey(ya._systemKeyWrapFormat,ba,ma,ma.algorithm,jc,!1,yc),Lb.unwrapKey(ya._systemKeyWrapFormat,ea,ma,ma.algorithm,kc,!1,Hc)]);}).then(function(ha){var wa;wa=ha[0];ha=ha[1];wa[Sc]=ja.wrappedEncryptionKey;ha[Sc]=ja.wrappedHmacKey;qa.result({encryptionKey:wa,hmacKey:ha});}).catch(function(ha){qa.error(new cb(U.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ha));});});},timeout:qa.timeout,error:qa.error});},loadStoreState:function(ja,qa,ya,ma){var ha,wa;function ba(Oa,Ia){var Ma;try{Ma=ya.userList.slice();}catch(Qa){}Ma?(function pa(){var xa;xa=Ma.shift();xa?qd(qa,xa.userIdTokenJSON,Oa,{result:function(Da){try{ha.addUserIdToken(xa.userId,Da);ea(Oa,Da,xa.serviceTokenJSONList,{result:pa,timeout:pa,error:pa});}catch(Ga){pa();}},timeout:pa,error:pa}):Ia.result();})():Ia.result();}function ea(Oa,Ia,Ma,Qa){var pa,xa;try{pa=Ma.slice();}catch(Da){}if(pa){xa=ha.getCryptoContext(Oa);(function Ga(){var za;za=pa.shift();za?rd(qa,za,Oa,Ia,xa,{result:function(Ra){ha.addServiceTokens([Ra]);Ga();},timeout:function(){Ga();},error:function(){Ga();}}):Qa.result();})();}else Qa.result();}ha=this;wa=ha._log;ya.esn != ha._esn?(wa.error("Esn mismatch, starting fresh"),ma.error()):(function(Oa){var Qa,pa,xa,Da;function Ia(){var Ga;if(!Qa && pa && xa && Da){Qa=!0;Ga=new hc(qa,pa,ja.esn,{rawKey:xa},{rawKey:Da});ha.setCryptoContext(pa,Ga,!0);Oa.result(pa);}}function Ma(Ga,za){wa.error(Ga,za && "" + za);Qa || (Qa=!0,Oa.error());}ya.masterTokenJSON?($c(qa,ya.masterTokenJSON,{result:function(Ga){pa=Ga;Ia();},timeout:function(){Ma("Timeout parsing MasterToken");},error:function(Ga){Ma("Error parsing MasterToken",Ga);}}),ha._systemKeyWrapFormat?ha.unwrapKeysWithSystemKey(ya,{result:function(Ga){xa=Ga.encryptionKey;Da=Ga.hmacKey;Ia();},timeout:function(){Ma("Timeout unwrapping keys");},error:function(Ga){Ma("Error unwrapping keys",Ga);}}):Promise.resolve().then(function(){return Lb.encrypt({name:jc.name,iv:new Uint8Array(16)},ya.encryptionKey,new Uint8Array(1));}).then(function(Ga){xa=ya.encryptionKey;}).catch(function(Ga){Ma("Error loading encryptionKey");}).then(function(){return Lb.sign(kc,ya.hmacKey,new Uint8Array(1));}).then(function(Ga){Da=ya.hmacKey;Ia();}).catch(function(Ga){Ma("Error loading hmacKey");})):Ma("Persisted store is corrupt");})({result:function(Oa){ba(Oa,ma);},timeout:ma.timeout,error:ma.error});}});Cf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Sc="$netflix$msl$wrapsys";Ef=Bf.extend({init:function(ja,qa,ya,ma,ba,ea){var ha,wa;ha=new ad([Fc.LZW]);wa=new rf();wa.addPublicKey(qa,ya);ma[Rb.RSA]=new qf(wa);qa={};qa[Bc.EMAIL_PASSWORD]=new Af();qa[Bc.NETFLIXID]=new zf();ja={_mslCryptoContext:{value:new nf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ha,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ba,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ma,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ea,writable:!1,enumerable:!1,configurable:!1},_store:{value:ja,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);},getTime:function(){return Date.now();},getRandom:function(){return new le();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ja,qa){qa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ja){return this._entityAuthFactories[ja];},getUserAuthenticationFactory:function(ja){return this._userAuthFactories[ja];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ja){return this._keyExchangeFactories.filter(function(qa){return qa.scheme == ja;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ce=Ve.extend({init:function(ja,qa,ya,ma){this._log=ja;this._mslContext=qa;this._mslRequest=ya;this._keyRequestData=ma;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ja,qa,ya,ma){var ba;ba=this._mslRequest;Ka(ma,function(){return ja || !ba.shouldSendUserAuthData?null:ba.email?new dd(ba.email,ba.password):ba.useNetflixUserAuthData || ya && ba.sendUserAuthIfRequired?new cd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ja){ja.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ja,qa,ya){var ma,ba,ea,ha,wa,Oa;ma=this._log;ba=(this._mslRequest.serviceTokens || []).slice();ea=this._mslContext;qa=ea.getMslStore();ha=ja.builder.getMasterToken();wa=this.getUserId();Oa=qa.getUserIdToken(wa);(function Ma(){var Qa;Qa=ba.shift();if(Qa)try{Qa instanceof Ac?(ja.addPrimaryServiceToken(Qa),Ma()):rd(ea,Qa,ha,Oa,null,{result:function(pa){try{ja.addPrimaryServiceToken(pa);}catch(xa){ma.warn("Exception adding service token","" + xa);}Ma();},timeout:function(){ma.warn("Timeout parsing service token");Ma();},error:function(pa){ma.warn("Error parsing service token","" + pa);Ma();}});}catch(pa){ma.warn("Exception processing service token","" + pa);Ma();}else ya.result(!0);})();},write:function(ja,qa,ya){var ma;ma=bc(this._mslRequest.body);ja.write(ma,0,ma.length,qa,{result:function(ba){ba != ma.length?ya.error(new Ub("Not all data was written to output.")):ja.flush(qa,{result:function(){ya.result(!0);},timeout:function(){ya.timeout();},error:function(ea){ya.error(ea);}});},timeout:function(){ya.timeout();},error:function(ba){ya.error(ba);}});},getDebugContext:function(){this._dc || (this._dc=new Ff(this._log,this._mslRequest));return this._dc;}});Ff=yf.extend({init:function(ja,qa){this._log=ja;this._mslRequest=qa;},sentHeader:function(ja){this._log.trace("Sent MSL header",be(this._mslRequest,ja),ja.serviceTokens && ja.serviceTokens.map(jf).join("\n"));},receivedHeader:function(ja){var qa,ya;qa=be(this._mslRequest,ja);ya=ja.errorCode;ya?this._log.warn("Received MSL error header",qa,{errorCode:ya,errorMessage:ja.errorMessage,internalCode:ja.internalCode}):this._log.trace("Received MSL header",qa);}});Gf={JWK_RSA:function(ja){return lf(ja,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ae.JWK_RSA);}};mb.netflix=mb.netflix || ({});mb.netflix.msl={createMslClient:function(ja,qa){var ya,ma,ba,ea,ha;ya=ja.log;ha=ja.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Pb && Pb.generateKey && Pb.importKey && Pb.unwrapKey))throw new cb(U.INTERNAL_EXCEPTION,"No WebCrypto");$b=Pb.generateKey({name:"AES-CBC",length:128},!0,yc).then?hd.V2014_02:hd.LEGACY;ha("mslisik");return Lb.importKey("spki",ja.serverIdentityKeyData,me,!1,["verify"]);}).then(function(wa){return new Promise(function(Oa,Ia){Ec(wa,{result:Oa,error:function(){Ia(new cb(U.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(wa){ma=wa;if(wa=Gf.JWK_RSA)return (ha("mslcc"),wa(ja));throw new cb(U.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(wa){var Oa;ba=new Df(ya,ja.esn,wa.keyRequestData,wa.createKeyRequestData,ja.authenticationKeyNames.s,ja.systemKeyWrapFormat);ea=new Ef(ba,ja.serverIdentityId,ma,wa.entityAuthFactories,wa.entityAuthData,wa.keyExchangeFactories);Oa=ja.storeState;if(Oa)return (ha("mslss"),ya.info("Loading store state"),new Promise(function(Ia,Ma){ba.loadStoreState(ja,ea,Oa,{result:Ia,timeout:Ia,error:Ia});}));ya.info("No store state, starting fresh");}).then(function(){var wa;wa=new We();ha("msldone");qa.result(new kf(ya,wa,ea,ba,ja.ErrorSubCodes));}).catch(function(wa){qa.error(wa);});},IHttpLocation:uf,MslIoException:Ub};(function(){var Za,Sa,hb,lb,nb,qb,rb,yb,xb;function ja(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function qa(r,b){var a,l;if(b)a:{a=Sa;r=r.split(".");for(var c=0;c < r.length - 1;c++){l=r[c];if(!((l in a)))break a;a=a[l];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && Za(a,r,{configurable:!0,writable:!0,value:b});}}function ya(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function ma(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:ja(r)};}function ba(r){for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}return a;}function ea(r){return r instanceof Array?r:ba(ma(r));}function ha(r,b){var c;r.prototype=hb(b.prototype);r.prototype.constructor=r;if(yb)yb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.rfc=b.prototype;}function wa(){this.WT=!1;this.HC=null;this.F$=void 0;this.PB=1;this.RVa=this.Itb=0;this.RQ=null;}function Oa(r){if(r.WT)throw new TypeError("Generator is already running");r.WT=!0;}function Ia(r,b){r.PB=2;return {value:b};}function Ma(r){this.qf=new wa();this.CVb=r;}function Qa(r,b){var a;Oa(r.qf);a=r.qf.HC;if(a)return pa(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.qf.return);r.qf.return(b);return xa(r);}function pa(r,b,a,c){var l,g;try{l=b.call(r.qf.HC,a);if(!(l instanceof Object))throw new TypeError("Iterator result " + l + " is not an object");if(!l.done)return (r.qf.WT=!1,l);g=l.value;}catch(h){return (r.qf.HC=null,r.qf.eX(h),xa(r));}r.qf.HC=null;c.call(r.qf,g);return xa(r);}function xa(r){var b;for(;r.qf.PB;){try{b=r.CVb(r.qf);if(b)return (r.qf.WT=!1,{value:b.value,done:!1});}catch(a){r.qf.F$=void 0;r.qf.eX(a);}}r.qf.WT=!1;if(r.qf.RQ){b=r.qf.RQ;r.qf.RQ=null;if(b.zLb)throw b.vCb;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Da(r){this.next=function(b){return r.WU(b);};this.throw=function(b){return r.eX(b);};this.return=function(b){return Qa(r,b);};this[Symbol.iterator]=function(){return this;};}function Ga(r,b){b=new Da(new Ma(b));yb && r.prototype && yb(b,r.prototype);return b;}function za(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Ra(r,b){var a,c,l;r instanceof String && (r+="");a=0;c=!1;l={next:function(){var g;if(!c && a < r.length){g=a++;return {value:b(g,r[g]),done:!1};}c=!0;return {done:!0,value:void 0};}};l[Symbol.iterator]=function(){return l;};return l;}function Fa(r,b,a){var g;r instanceof String && (r=String(r));for(var c=r.length,l=0;l < c;l++){g=r[l];if(b.call(a,g,l,r))return {sna:l,p$:g};}return {sna:-1,p$:void 0};}function Wa(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}Za="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Sa=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof mb && mb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);qa("Symbol",function(r){var c;function b(l){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (l || "") + "_" + c++,l);}function a(l,g){this.ddb=l;Za(this,"description",{configurable:!0,writable:!0,value:g});}if(r)return r;a.prototype.toString=function(){return this.ddb;};c=0;return b;});qa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Sa[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && Za(c.prototype,r,{configurable:!0,writable:!0,value:function(){return ya(ja(this));}});}return r;});hb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};lb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,l){a=b(a,c);l && Reflect.setPrototypeOf(a,l.prototype);return a;};}return function(a,c,l){void 0 === l && (l=a);l=hb(l.prototype || Object.prototype);return Function.prototype.apply.call(a,l,c) || l;};})();if("function" == typeof Object.setPrototypeOf)nb=Object.setPrototypeOf;else {a:{qb={a:!0};rb={};try{rb.__proto__=qb;nb=rb.a;break a;}catch(r){}nb=!1;}nb=nb?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}yb=nb;wa.prototype.WU=function(r){this.F$=r;};wa.prototype.eX=function(r){this.RQ={vCb:r,zLb:!0};this.PB=this.Itb || this.RVa;};wa.prototype.return=function(r){this.RQ={return:r};this.PB=this.RVa;};Ma.prototype.WU=function(r){Oa(this.qf);if(this.qf.HC)return pa(this,this.qf.HC.next,r,this.qf.WU);this.qf.WU(r);return xa(this);};Ma.prototype.eX=function(r){Oa(this.qf);if(this.qf.HC)return pa(this,this.qf.HC["throw"],r,this.qf.WU);this.qf.eX(r);return xa(this);};qa("Reflect",function(r){return r?r:{};});qa("Reflect.construct",function(){return lb;});qa("Reflect.setPrototypeOf",function(r){return r?r:yb?function(b,a){try{return (yb(b,a),!0);}catch(c){return !1;}}:null;});qa("Object.setPrototypeOf",function(r){return r || yb;});xb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var l in c){za(c,l) && (r[l]=c[l]);}}return r;};qa("Object.assign",function(r){return r || xb;});qa("Promise",function(r){var l,g;function b(h){var d;this.jN=0;this.mW=void 0;this.$L=[];this.r0a=!1;d=this.$ia();try{h(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.oA=null;}function c(h){return h instanceof b?h:new b(function(d){d(h);});}if(r)return r;a.prototype.hQa=function(h){var d;if(null == this.oA){this.oA=[];d=this;this.iQa(function(){d.wCb();});}this.oA.push(h);};l=Sa.setTimeout;a.prototype.iQa=function(h){l(h,0);};a.prototype.wCb=function(){var h,f;for(;this.oA && this.oA.length;){h=this.oA;this.oA=[];for(var d=0;d < h.length;++d){f=h[d];h[d]=null;try{f();}catch(n){this.jrb(n);}}}this.oA=null;};a.prototype.jrb=function(h){this.iQa(function(){throw h;});};b.prototype.$ia=function(){var d,f;function h(n){return function(k){f || (f=!0,n.call(d,k));};}d=this;f=!1;return {resolve:h(this.SXb),reject:h(this.$sa)};};b.prototype.SXb=function(h){var d;if(h === this)this.$sa(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof b)this.f_b(h);else {a:switch(typeof h){case "object":d=null != h;break a;case "function":d=!0;break a;default:d=!1;}d?this.RXb(h):this.CWa(h);}};b.prototype.RXb=function(h){var d;d=void 0;try{d=h.then;}catch(f){this.$sa(f);return;}"function" == typeof d?this.g_b(d,h):this.CWa(h);};b.prototype.$sa=function(h){this.F9a(2,h);};b.prototype.CWa=function(h){this.F9a(1,h);};b.prototype.F9a=function(h,d){if(0 != this.jN)throw Error("Cannot settle(" + h + ", " + d + "): Promise already settled in state" + this.jN);this.jN=h;this.mW=d;2 === this.jN && this.DYb();this.xCb();};b.prototype.DYb=function(){var h;h=this;l(function(){var d;if(h.TQb()){d=Sa.console;"undefined" !== typeof d && d.error(h.mW);}},1);};b.prototype.TQb=function(){var h,d,f;if(this.r0a)return !1;h=Sa.CustomEvent;d=Sa.Event;f=Sa.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof h?h=new h("unhandledrejection",{cancelable:!0}):"function" === typeof d?h=new d("unhandledrejection",{cancelable:!0}):(h=Sa.document.createEvent("CustomEvent"),h.initCustomEvent("unhandledrejection",!1,!0,h));h.promise=this;h.reason=this.mW;return f(h);};b.prototype.xCb=function(){if(null != this.$L){for(var h=0;h < this.$L.length;++h){g.hQa(this.$L[h]);}this.$L=null;}};g=new a();b.prototype.f_b=function(h){var d;d=this.$ia();h.e2(d.resolve,d.reject);};b.prototype.g_b=function(h,d){var f;f=this.$ia();try{h.call(d,f.resolve,f.reject);}catch(n){f.reject(n);}};b.prototype.then=function(h,d){var n,k,m;function f(p,q){return "function" == typeof p?function(v){try{n(p(v));}catch(t){k(t);}}:q;}m=new b(function(p,q){n=p;k=q;});this.e2(f(h,n),f(d,k));return m;};b.prototype.catch=function(h){return this.then(void 0,h);};b.prototype.e2=function(h,d){var n;function f(){switch(n.jN){case 1:h(n.mW);break;case 2:d(n.mW);break;default:throw Error("Unexpected state: " + n.jN);}}n=this;null == this.$L?g.hQa(f):this.$L.push(f);this.r0a=!0;};b.resolve=c;b.reject=function(h){return new b(function(d,f){f(h);});};b.race=function(h){return new b(function(d,f){for(var n=ma(h),k=n.next();!k.done;k=n.next()){c(k.value).e2(d,f);}});};b.all=function(h){var d,f;d=ma(h);f=d.next();return f.done?c([]):new b(function(n,k){var p,q;function m(v){return function(t){p[v]=t;q--;0 == q && n(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).e2(m(p.length - 1),k);f=d.next();}while(!f.done);});};return b;});qa("Array.prototype.keys",function(r){return r?r:function(){return Ra(this,function(b){return b;});};});qa("Array.prototype.find",function(r){return r?r:function(b,a){return Fa(this,b,a).p$;};});qa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});qa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,l,g;c=this;c instanceof String && (c=String(c));l=c.length;a=a || 0;for(0 > a && (a=Math.max(a + l,0));a < l;a++){g=c[a];if(g === b || Object.is(g,b))return !0;}return !1;};});qa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});qa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});qa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});qa("WeakMap",function(r){var h,d;function b(f){this.DT=(d+=Math.random() + 1).toString();if(f){f=ma(f);for(var n;!(n=f.next()).done;){n=n.value;this.set(n[0],n[1]);}}}function a(){}function c(f){var n;n=typeof f;return "object" === n && null !== f || "function" === n;}function l(f){var n;if(!za(f,h)){n=new a();Za(f,h,{value:n});}}function g(f){var n;n=Object[f];n && (Object[f]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && l(k);return n(k);});}if((function(){var f,n,k;if(!r || !Object.seal)return !1;try{f=Object.seal({});n=Object.seal({});k=new r([[f,2],[n,3]]);if(2 != k.get(f) || 3 != k.get(n))return !1;k.delete(f);k.set(n,4);return !k.has(f) && 4 == k.get(n);}catch(m){return !1;}})())return r;h="$jscomp_hidden_" + Math.random();g("freeze");g("preventExtensions");g("seal");d=0;b.prototype.set=function(f,n){if(!c(f))throw Error("Invalid WeakMap key");l(f);if(!za(f,h))throw Error("WeakMap key fail: " + f);f[h][this.DT]=n;return this;};b.prototype.get=function(f){return c(f) && za(f,h)?f[h][this.DT]:void 0;};b.prototype.has=function(f){return c(f) && za(f,h) && za(f[h],this.DT);};b.prototype.delete=function(f){return c(f) && za(f,h) && za(f[h],this.DT)?delete f[h][this.DT]:!1;};return b;});qa("Map",function(r){var g,h;function b(){var d;d={};return d.Ol=d.next=d.head=d;}function a(d,f){var n;n=d.Qx;return ya(function(){if(n){for(;n.head != d.Qx;){n=n.Ol;}for(;n.next != n.head;){return (n=n.next,{done:!1,value:f(n)});}n=null;}return {done:!0,value:void 0};});}function c(d,f){var n,k,m;n=f && typeof f;"object" == n || "function" == n?g.has(f)?n=g.get(f):(n="" + ++h,g.set(f,n)):n="p_" + f;k=d.Cx[n];if(k && za(d.Cx,n))for(d=0;d < k.length;d++){m=k[d];if(f !== f && m.key !== m.key || f === m.key)return {id:n,list:k,index:d,entry:m};}return {id:n,list:k,index:-1,entry:void 0};}function l(d){this.Cx={};this.Qx=b();this.size=0;if(d){d=ma(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,n,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new r(ma([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;n=f.entries();k=n.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=n.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !n.next().done?!1:!0;}catch(m){return !1;}})())return r;g=new WeakMap();l.prototype.set=function(d,f){var n;d=0 === d?0:d;n=c(this,d);n.list || (n.list=this.Cx[n.id]=[]);n.entry?n.entry.value=f:(n.entry={next:this.Qx,Ol:this.Qx.Ol,head:this.Qx,key:d,value:f},n.list.push(n.entry),this.Qx.Ol.next=n.entry,this.Qx.Ol=n.entry,this.size++);return this;};l.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Cx[d.id],d.entry.Ol.next=d.entry.next,d.entry.next.Ol=d.entry.Ol,d.entry.head=null,this.size--,!0):!1;};l.prototype.clear=function(){this.Cx={};this.Qx=this.Qx.Ol=b();this.size=0;};l.prototype.has=function(d){return !!c(this,d).entry;};l.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};l.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};l.prototype.keys=function(){return a(this,function(d){return d.key;});};l.prototype.values=function(){return a(this,function(d){return d.value;});};l.prototype.forEach=function(d,f){for(var n=this.entries(),k;!(k=n.next()).done;){k=k.value;d.call(f,k[1],k[0],this);}};l.prototype[Symbol.iterator]=l.prototype.entries;h=0;return l;});qa("Set",function(r){function b(a){this.qv=new Map();if(a){a=ma(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.qv.size;}if((function(){var a,c,l,g;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(ma([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;l=c.entries();g=l.next();if(g.done || g.value[0] != a || g.value[1] != a)return !1;g=l.next();return g.done || g.value[0] == a || 4 != g.value[0].x || g.value[1] != g.value[0]?!1:l.next().done;}catch(h){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.qv.set(a,a);this.size=this.qv.size;return this;};b.prototype.delete=function(a){a=this.qv.delete(a);this.size=this.qv.size;return a;};b.prototype.clear=function(){this.qv.clear();this.size=0;};b.prototype.has=function(a){return this.qv.has(a);};b.prototype.entries=function(){return this.qv.entries();};b.prototype.values=function(){return this.qv.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var l;l=this;this.qv.forEach(function(g){return a.call(c,g,g,l);});};return b;});qa("Array.prototype.entries",function(r){return r?r:function(){return Ra(this,function(b,a){return [b,a];});};});qa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){za(b,c) && a.push([c,b[c]]);}return a;};});qa("Object.getOwnPropertySymbols",function(r){return r?r:function(){return [];};});qa("Reflect.apply",function(r){var b;if(r)return r;b=Function.prototype.apply;return function(a,c,l){return b.call(a,c,l);};});qa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Wa(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var l=b.length;0 < l && 0 < a;){if(c[--a] != b[--l])return !1;}return 0 >= l;};});qa("Array.prototype.values",function(r){return r?r:function(){return Ra(this,function(b,a){return a;});};});qa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});qa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Fa(this,b,a).sna;};});qa("String.fromCodePoint",function(r){return r?r:function(b){var l;for(var a="",c=0;c < arguments.length;c++){l=Number(arguments[c]);if(0 > l || 1114111 < l || l !== Math.floor(l))throw new RangeError("invalid_code_point " + l);65535 >= l?a+=String.fromCharCode(l):(l-=65536,a+=String.fromCharCode(l >>> 10 & 1023 | 55296),a+=String.fromCharCode(l & 1023 | 56320));}return a;};});qa("Array.from",function(r){return r?r:function(b,a,c){var l,g;a=null != a?a:function(d){return d;};l=[];g="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof g){b=g.call(b);for(var h=0;!(g=b.next()).done;){l.push(a.call(c,g.value,h++));}}else for((g=b.length,h=0);h < g;h++){l.push(a.call(c,b[h],h));}return l;};});qa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){za(b,c) && a.push(b[c]);}return a;};});qa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,l,g;c=Wa(this,b,"startsWith");b+="";l=c.length;g=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var h=0;h < g && a < l;){if(c[a++] != b[h++])return !1;}return h >= g;};});qa("Promise.prototype.finally",function(r){return r?r:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});qa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});qa("Number.parseInt",function(r){return r || parseInt;});(function(r){var a;function b(c){var l;if(a[c])return a[c].exports;l=a[c]={sna:c,JMb:!1,exports:{}};r[c].call(l.exports,l,l.exports,b);l.JMb=!0;return l.exports;}a={};b.mdc=r;b.c=a;b.d=function(c,l,g){b.dRb(c,l) || Object.defineProperty(c,l,{enumerable:!0,get:g});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,l){var g;l & 1 && (c=b(c));if(l & 8 || l & 4 && "object" === typeof c && c && c.__esModule)return c;g=Object.create(null);b.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:c});if(l & 2 && "string" != typeof c)for(var h in c){b.d(g,h,(function(d){return c[d];}).bind(null,h));}return g;};b.n=function(c){var l;l=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(l,"a",l);return l;};b.dRb=function(c,l){return Object.prototype.hasOwnProperty.call(c,l);};b.p="";return b(b.nYb=571);})([function(r,b,a){var H,K;function c(){c=Object.assign || (function(O){for(var I,P=1,N=arguments.length;P < N;P++){I=arguments[P];for(var J in I){Object.prototype.hasOwnProperty.call(I,J) && (O[J]=I[J]);}}return O;});return c.apply(this,arguments);}function l(O,I){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(P,N){P.__proto__=N;}) || (function(P,N){for(var J in N){Object.prototype.hasOwnProperty.call(N,J) && (P[J]=N[J]);}});return l(O,I);}function g(O,I){function P(){this.constructor=O;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");l(O,I);O.prototype=null === I?Object.create(I):(P.prototype=I.prototype,new P());}function h(O,I){var P,N,J;P={};for(N in O){Object.prototype.hasOwnProperty.call(O,N) && 0 > I.indexOf(N) && (P[N]=O[N]);}if(null != O && "function" === typeof Object.getOwnPropertySymbols){J=0;for(N=Object.getOwnPropertySymbols(O);J < N.length;J++){0 > I.indexOf(N[J]) && Object.prototype.propertyIsEnumerable.call(O,N[J]) && (P[N[J]]=O[N[J]]);}}return P;}function d(O,I,P,N){var J,L,R;J=arguments.length;L=3 > J?I:null === N?N=Object.getOwnPropertyDescriptor(I,P):N;if("object" === typeof Reflect && "function" === typeof Reflect.AA)L=Reflect.AA(O,I,P,N);else for(var ka=O.length - 1;0 <= ka;ka--){if(R=O[ka])L=(3 > J?R(L):3 < J?R(I,P,L):R(I,P)) || L;}return (3 < J && L && Object.defineProperty(I,P,L),L);}function f(O,I){return function(P,N){I(P,N,O);};}function n(O,I){if("object" === typeof Reflect && "function" === typeof Reflect.ud)return Reflect.ud(O,I);}function k(O,I,P,N){function J(L){return L instanceof P?L:new P(function(R){R(L);});}return new (P || (P=Promise))(function(L,R){function ka(da){try{X(N.next(da));}catch(ta){R(ta);}}function la(da){try{X(N["throw"](da));}catch(ta){R(ta);}}function X(da){da.done?L(da.value):J(da.value).then(ka,la);}X((N=N.apply(O,I || [])).next());});}function m(O,I){var J,L,R,ka,la;function P(X){return function(da){return N([X,da]);};}function N(X){if(L)throw new TypeError("Generator is already executing.");for(;(la && (la=0,X[0] && (J=0)),J);){try{if((L=1,R && (ka=X[0] & 2?R["return"]:X[0]?R["throw"] || ((ka=R["return"]) && ka.call(R),0):R.next) && !(ka=ka.call(R,X[1])).done))return ka;if((R=0,ka))X=[X[0] & 2,ka.value];switch(X[0]){case 0:case 1:ka=X;break;case 4:return (J.label++,{value:X[1],done:!1});case 5:J.label++;R=X[1];X=[0];continue;case 7:X=J.kG.pop();J.Wm.pop();continue;default:if(!(ka=J.Wm,ka=0 < ka.length && ka[ka.length - 1]) && (6 === X[0] || 2 === X[0])){J=0;continue;}if(3 === X[0] && (!ka || X[1] > ka[0] && X[1] < ka[3]))J.label=X[1];else if(6 === X[0] && J.label < ka[1])(J.label=ka[1],ka=X);else if(ka && J.label < ka[2])(J.label=ka[2],J.kG.push(X));else {ka[2] && J.kG.pop();J.Wm.pop();continue;}}X=I.call(O,J);}catch(da){X=[6,da];R=0;}finally{L=ka=0;}}if(X[0] & 5)throw X[1];return {value:X[0]?X[1]:void 0,done:!0};}J={label:0,cb:function(){if(ka[0] & 1)throw ka[1];return ka[1];},Wm:[],kG:[]};return (la={next:P(0),"throw":P(1),"return":P(2)},"function" === typeof Symbol && (la[Symbol.iterator]=function(){return this;}),la);}function p(O,I){for(var P in O){"default" === P || Object.prototype.hasOwnProperty.call(I,P) || H(I,O,P);}}function q(O){var I,P,N;I="function" === typeof Symbol && Symbol.iterator;P=I && O[I];N=0;if(P)return P.call(O);if(O && "number" === typeof O.length)return {next:function(){O && N >= O.length && (O=void 0);return {value:O && O[N++],done:!O};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(O,I){var P,N,J;P="function" === typeof Symbol && O[Symbol.iterator];if(!P)return O;O=P.call(O);J=[];try{for(;(void 0 === I || 0 < I--) && !(N=O.next()).done;){J.push(N.value);}}catch(R){var L;L={error:R};}finally{try{N && !N.done && (P=O["return"]) && P.call(O);}finally{if(L)throw L.error;}}return J;}function t(){for(var O=[],I=0;I < arguments.length;I++){O=O.concat(v(arguments[I]));}return O;}function w(){var N;for(var O=0,I=0,P=arguments.length;I < P;I++){O+=arguments[I].length;}O=Array(O);N=0;for(I=0;I < P;I++){for(var J=arguments[I],L=0,R=J.length;L < R;(L++,N++)){O[N]=J[L];}}return O;}function u(O,I,P){if(P || 2 === arguments.length)for(var N=0,J=I.length,L;N < J;N++){!L && (N in I) || (L || (L=Array.prototype.slice.call(I,0,N)),L[N]=I[N]);}return O.concat(L || Array.prototype.slice.call(I));}function y(O){return this instanceof y?(this.p$=O,this):new y(O);}function x(O,I,P){var la,X,da;function N(ta){la[ta] && (X[ta]=function(Ba){return new Promise(function(Ja,Va){1 < da.push([ta,Ba,Ja,Va]) || J(ta,Ba);});});}function J(ta,Ba){var Ja;try{Ja=la[ta](Ba);Ja.value instanceof y?Promise.resolve(Ja.value.p$).then(L,R):ka(da[0][2],Ja);}catch(Va){ka(da[0][3],Va);}}function L(ta){J("next",ta);}function R(ta){J("throw",ta);}function ka(ta,Ba){(ta(Ba),da.shift(),da.length) && J(da[0][0],da[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");la=P.apply(O,I || []);da=[];return (X={},N("next"),N("throw"),N("return"),X[Symbol.asyncIterator]=function(){return this;},X);}function z(O){var P,N;function I(J,L){P[J]=O[J]?function(R){return (N=!N)?{value:y(O[J](R)),done:"return" === J}:L?L(R):R;}:L;}return (P={},I("next"),I("throw",function(J){throw J;}),I("return"),P[Symbol.iterator]=function(){return this;},P);}function A(O){var N,J;function I(L){J[L]=O[L] && (function(R){return new Promise(function(ka,la){R=O[L](R);P(ka,la,R.done,R.value);});});}function P(L,R,ka,la){Promise.resolve(la).then(function(X){L({value:X,done:ka});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=O[Symbol.asyncIterator];return N?N.call(O):(O="function" === typeof q?q(O):O[Symbol.iterator](),J={},I("next"),I("throw"),I("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(O,I){Object.defineProperty?Object.defineProperty(O,"raw",{value:I}):O.raw=I;return O;}function C(O){var I;if(O && O.__esModule)return O;I={};if(null != O)for(var P in O){"default" !== P && Object.prototype.hasOwnProperty.call(O,P) && H(I,O,P);}K(I,O);return I;}function D(O){return O && O.__esModule?O:{default:O};}function E(O,I,P,N){if("a" === P && !N)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?O !== I || !N:!I.has(O))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === P?N:"a" === P?N.call(O):N?N.value:I.get(O);}function G(O,I,P,N,J){if("m" === N)throw new TypeError("Private method is not writable");if("a" === N && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?O !== I || !J:!I.has(O))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === N?J.call(O,P):J?J.value=P:I.set(O,P),P);}function F(O,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof O?I === O:O.has(I);}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return h;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return n;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return m;});a.d(b,"__createBinding",function(){return H;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return u;});a.d(b,"__await",function(){return y;});a.d(b,"__asyncGenerator",function(){return x;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return F;});H=Object.create?function(O,I,P,N){var J;void 0 === N && (N=P);J=Object.getOwnPropertyDescriptor(I,P);if(!J || (("get" in J)?!I.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return I[P];}};Object.defineProperty(O,N,J);}:function(O,I,P,N){void 0 === N && (N=P);O[N]=I[P];};K=Object.create?function(O,I){Object.defineProperty(O,"default",{enumerable:!0,value:I});}:function(O,I){O["default"]=I;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(39);b.u8b=r;r=a(620);b.mY=r.mY;r=a(77);b.Er=r.Er;b.Ui=r.Ui;b.Jw=r.Jw;r=a(636);b.oya=r.oya;b.Xc=r.Xc;r=a(637);b.U=r.U;r=a(638);b.dab=r.dab;r=a(639);b.D3a=r.D3a;r=a(310);b.l=r.l;b.Nba=r.Nba;r=a(640);b.optional=r.optional;r=a(641);b.Xm=r.Xm;r=a(642);b.eG=r.eG;r=a(643);b.aX=r.aX;r=a(644);b.W5a=r.W5a;r=a(308);b.jca=r.jca;r=a(106);b.id=r.id;r=a(94);b.AA=r.AA;r=a(313);b.Xab=r.Xab;b.eab=r.eab;b.E3a=r.E3a;b.dbb=r.dbb;r=a(134);b.UK=r.UK;a=a(645);b.A3a=a.A3a;},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.ow=b.CBa=b.BBa=b.gba=b.ABa=b.JY=b.SZ=b.IZ=b.zBa=b.R=b.V=void 0;(function(l){l[l.Co=7001]="UNKNOWN";l[l.GLa=7002]="UNHANDLED_EXCEPTION";l[l.ghb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.Ggb=7004]="HLS_NOT_SUPPORTED";l[l.zba=7010]="INIT_ASYNCCOMPONENT";l[l.khb=7011]="INIT_HTTP";l[l.ehb=7014]="INIT_BADMOVIEID";l[l.qDa=7020]="INIT_PLAYBACK_LOCK";l[l.rDa=7022]="INIT_SESSION_LOCK";l[l.lhb=7029]="INIT_POSTAUTHORIZE";l[l.pDa=7031]="INIT_HEADER_MEDIA";l[l.mhb=7034]="INIT_TIMEDTEXT_TRACK";l[l.mdb=7037]="ASE_SESSION_ERROR";l[l.ldb=7038]="ASE_SEEK_THREW";l[l.ndb=7039]="ASE_SKIPPED_THREW";l[l.hhb=7041]="INIT_CORE_OBJECTS1";l[l.ihb=7042]="INIT_CORE_OBJECTS2";l[l.jhb=7043]="INIT_CORE_OBJECTS3";l[l.jDa=7053]="INIT_COMPONENT_STORAGE";l[l.kDa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.gDa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.Aba=7059]="INIT_COMPONENT_DEVICE";l[l.hDa=7063]="INIT_COMPONENT_MSL";l[l.fDa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.qz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.oDa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.eDa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.cDa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.bDa=7089]="INIT_COMPONENT_ASE";l[l.$H=7091]="INIT_COMPONENT_DRM_CACHE";l[l.fhb=7092]="INIT_COMPONENT_DRM";l[l.dDa=7094]="INIT_COMPONENT_FTL";l[l.iDa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.lDa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.mDa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.nDa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.eI=7111]="MANIFEST";l[l.Nhb=7114]="MANIFEST_MISTMATCH";l[l.QEa=7117]="MANIFEST_VERIFY";l[l.pkb=7120]="START";l[l.bI=7121]="LICENSE";l[l.oda=7122]="RELEASE";l[l.qkb=7123]="STOP";l[l.Hba=7125]="KEEPALIVE";l[l.fjb=7131]="PING";l[l.ogb=7134]="ENGAGE";l[l.Ihb=7137]="LOGBLOB";l[l.w9b=7138]="PAUSE";l[l.M9b=7139]="RESUME";l[l.VJa=7140]="SPLICE";l[l.Rdb=7142]="BIND";l[l.Sdb=7144]="BIND_DEVICE";l[l.Bgb=7145]="GENERATE_SCREENSHOTS";l[l.axa=7146]="AD_EVENT";l[l.jjb=7202]="PLAY_INIT_EXCEPTION";l[l.Bca=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.pjb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.OGa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.qjb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.Cca=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.ojb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.SGa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.NGa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.Dca=7355]="PLAY_MSE_SOURCEADD";l[l.MGa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.lP=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.RGa=7361]="PLAY_MSE_EVENT_ERROR";l[l.lI=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.Wp=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.sjb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.tjb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.ujb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.vjb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.zjb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.yjb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.xjb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.wjb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.TGa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.kjb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.ljb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.mjb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.PGa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.rjb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.QGa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.njb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.d_=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.lBa=7400]="EXTERNAL";l[l.c_=7500]="PAUSE_TIMEOUT";l[l.KZ=7502]="INACTIVITY_TIMEOUT";l[l.wdb=7510]="AUTHORIZATION_EXPIRED";l[l.ggb=7700]="EME_INVALID_KEYSYSTEM";l[l.YAa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.zO=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.HY=7703]="EME_GENERATEREQUEST_FAILED";l[l.eBa=7704]="EME_UPDATE_FAILED";l[l.cBa=7705]="EME_KEYSESSION_ERROR";l[l.bBa=7706]="EME_KEYMESSAGE_EMPTY";l[l.kgb=7707]="EME_REMOVE_FAILED";l[l.igb=7708]="EME_LOAD_FAILED";l[l.cgb=7709]="EME_CREATE_SESSION_FAILED";l[l.bba=7710]="EME_LDL_RENEWAL_ERROR";l[l.$Aa=7711]="EME_INVALID_INITDATA_DATA";l[l.aBa=7712]="EME_INVALID_LICENSE_DATA";l[l.hgb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.XAa=7716]="EME_CLOSE_FAILED";l[l.cba=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.mgb=7718]="EME_SET_SERVER_CERTIFICATE";l[l.gjb=7800]="PLAYDATA_STORE_FAILURE";l[l.fO=7900]="BRANCH_PLAY_FAILURE";l[l.gO=7901]="BRANCH_QUEUE_FAILURE";l[l.yya=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Zdb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.Rib=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.V || (b.V={}));(function(l){l[l.Co=1001]="UNKNOWN";l[l.cl=1003]="EXCEPTION";l[l.phb=1004]="INVALID_DI";l[l.qdb=1011]="ASYNCLOAD_EXCEPTION";l[l.rdb=1013]="ASYNCLOAD_TIMEOUT";l[l.b6b=1015]="ASYNCLOAD_BADCONFIG";l[l.odb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.pdb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.LO=1101]="HTTP_UNKNOWN";l[l.xba=1102]="HTTP_XHR";l[l.IO=1103]="HTTP_PROTOCOL";l[l.HO=1104]="HTTP_OFFLINE";l[l.KO=1105]="HTTP_TIMEOUT";l[l.UC=1106]="HTTP_READTIMEOUT";l[l.TC=1107]="HTTP_ABORT";l[l.ECa=1108]="HTTP_PARSE";l[l.ACa=1110]="HTTP_BAD_URL";l[l.JO=1111]="HTTP_PROXY";l[l.cca=1203]="MSE_AUDIO";l[l.dca=1204]="MSE_VIDEO";l[l.Whb=1250]="MSE_MEDIA_ERR_BASE";l[l.w8b=1251]="MSE_MEDIA_ERR_ABORTED";l[l.z8b=1252]="MSE_MEDIA_ERR_NETWORK";l[l.x8b=1253]="MSE_MEDIA_ERR_DECODE";l[l.A8b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.y8b=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.Gr=1260]="EME_MEDIA_KEYERR_BASE";l[l.t7b=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.o7b=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.s7b=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.r7b=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.q7b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.p7b=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.u7b=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.fgb=1270]="EME_INTERNAL_ERROR";l[l.bgb=1271]="EME_CLOSED_BY_APPLICATION";l[l.jgb=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.aba=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.lgb=1274]="EME_RESOURCE_EVICTED";l[l.egb=1280]="EME_ERROR_NODRMSESSSION";l[l.dgb=1281]="EME_ERROR_NODRMREQUESTS";l[l.l7b=1282]="EME_ERROR_INDIV_FAILED";l[l.m7b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.ngb=1284]="EME_TIMEOUT_MESSAGE";l[l.v7b=1285]="EME_TIMEOUT_KEYCHANGE";l[l.dBa=1286]="EME_UNDEFINED_DATA";l[l.TH=1287]="EME_INVALID_STATE";l[l.n7b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.ZAa=1289]="EME_EMPTY_DATA";l[l.AO=1290]="EME_TIMEOUT";l[l.P8b=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.S8b=1305]="NCCP_PARSEXML";l[l.Cjb=1309]="PROCESS_EXCEPTION";l[l.R8b=1311]="NCCP_NETFLIXID_MISSING";l[l.T8b=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.M8b=1313]="NCCP_HMAC_MISSING";l[l.L8b=1315]="NCCP_HMAC_MISMATCH";l[l.K8b=1317]="NCCP_HMAC_FAILED";l[l.J8b=1321]="NCCP_CLIENTTIME_MISSING";l[l.I8b=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.WBa=1331]="GENERIC";l[l.mib=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.nib=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.U8b=1341]="NCCP_TRANSACTION";l[l.N8b=1343]="NCCP_INVALID_DRMTYPE";l[l.O8b=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.Q8b=1345]="NCCP_MISSING_PAYLOAD";l[l.B9b=1346]="PROTOCOL_NOT_INITIALIZED";l[l.A9b=1347]="PROTOCOL_MISSING_FIELD";l[l.z9b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.Iw=1402]="STORAGE_NODATA";l[l.V9b=1403]="STORAGE_EXCEPTION";l[l.c$b=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.d$b=1407]="STORAGE_QUOTA_TO_SMALL";l[l.YJa=1411]="STORAGE_LOAD_ERROR";l[l.skb=1412]="STORAGE_LOAD_TIMEOUT";l[l.ZJa=1414]="STORAGE_SAVE_ERROR";l[l.vkb=1415]="STORAGE_SAVE_TIMEOUT";l[l.yda=1417]="STORAGE_DELETE_ERROR";l[l.XJa=1418]="STORAGE_DELETE_TIMEOUT";l[l.b$b=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.Z9b=1423]="STORAGE_FS_GETDIRECTORY";l[l.a$b=1425]="STORAGE_FS_READENTRIES";l[l.W9b=1427]="STORAGE_FS_FILEREAD";l[l.Y9b=1429]="STORAGE_FS_FILEWRITE";l[l.X9b=1431]="STORAGE_FS_FILEREMOVE";l[l.$9b=1432]="STORAGE_FS_PARSEJSON";l[l.ukb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.tkb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.d9b=1501]="NTBA_UNKNOWN";l[l.c9b=1502]="NTBA_EXCEPTION";l[l.Z8b=1504]="NTBA_CRYPTO_KEY";l[l.a9b=1506]="NTBA_CRYPTO_OPERATION";l[l.$8b=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.b9b=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.bAa=1553]="DEVICE_NO_ESN";l[l.jfb=1555]="DEVICE_ERROR_GETTING_ESN";l[l.X7b=1701]="FORMAT_UNKNOWN";l[l.wgb=1713]="FORMAT_XML";l[l.Y7b=1715]="FORMAT_XML_CONTENT";l[l.V7b=1721]="FORMAT_BASE64";l[l.W7b=1723]="FORMAT_DFXP";l[l.Sgb=1801]="INDEXDB_OPEN_EXCEPTION";l[l.$Ca=1802]="INDEXDB_NOT_SUPPORTED";l[l.Rgb=1803]="INDEXDB_OPEN_ERROR";l[l.aDa=1804]="INDEXDB_OPEN_NULL";l[l.Qgb=1805]="INDEXDB_OPEN_BLOCKED";l[l.Tgb=1807]="INDEXDB_OPEN_TIMEOUT";l[l.Pgb=1808]="INDEXDB_INVALID_STORE_STATE";l[l.LZ=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.fib=1901]="MSL_UNKNOWN";l[l.Zhb=1911]="MSL_INIT_NO_MSL";l[l.XEa=1913]="MSL_INIT_ERROR";l[l.$hb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.Xhb=1931]="MSL_ERROR";l[l.eib=1933]="MSL_REQUEST_TIMEOUT";l[l.dib=1934]="MSL_READ_TIMEOUT";l[l.Yhb=1935]="MSL_ERROR_HEADER";l[l.B8b=1936]="MSL_ERROR_ENVELOPE";l[l.C8b=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.WEa=1957]="MSL_ERROR_REAUTH";l[l.$da=2103]="WEBCRYPTO_MISSING";l[l.I$b=2105]="WEBCRYPTOKEYS_MISSING";l[l.Vkb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.H6b=2200]="CACHEDDATA_PARSEJSON";l[l.Xya=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.I6b=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.lz=2203]="CACHEDDATA_INVALID_FORMAT";l[l.Z5b=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.$5b=3001]="ACCOUNT_INVALID";l[l.e7b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.d7b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.b7b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.c7b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.a7b=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.e$b=3300]="STORAGE_VA_LOAD_ERROR";l[l.f$b=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.i$b=3302]="STORAGE_VA_SAVE_ERROR";l[l.j$b=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.g$b=3304]="STORAGE_VA_REMOVE_ERROR";l[l.h$b=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.yca=3077]="PBO_DEVICE_EOL_WARNING";l[l.EGa=3078]="PBO_DEVICE_EOL_FINAL";l[l.HGa=3100]="PBO_DEVICE_RESET";l[l.GGa=3101]="PBO_DEVICE_RELOAD";l[l.FGa=3102]="PBO_DEVICE_EXIT";l[l.djb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.Hib=5005]="PBO_ACCOUNT_ON_HOLD";l[l.Qib=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.IGa=5007]="PBO_INCORRECT_PIN";l[l.ajb=5008]="PBO_MOBILE_ONLY";l[l.ejb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.Iib=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.Lib=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.Jib=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.Kib=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.Mib=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.Yib=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.Xib=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.Vib=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.Oib=5059]="PBO_BLACKLISTED_IP";l[l.Nib=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.Pib=5080]="PBO_CHOICE_MAP_ERROR";l[l.bjb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.Zib=5091]="PBO_MALFORMED_REQUEST";l[l.Wib=5092]="PBO_INVALID_SERVICE_VERSION";l[l.$ib=5093]="PBO_MDX_INVALID_CTICKET";l[l.Uib=5094]="PBO_FREE_PREVIEW_ENDED";l[l.cjb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.Tib=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.Sib=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.efb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.gfb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.ffb=5102]="DECODER_TIMEOUT_PLAYING";l[l.Kfb=5200]="DOWNLOADER_IO_ERROR";l[l.xya=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.Vdb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.m6b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.paa=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.i6b=5304]="BRANCHING_ASE_FAILURE";l[l.j6b=5305]="BRANCHING_MOMENT_FAILURE";l[l.Tdb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.l6b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.Wdb=5308]="BRANCHING_SEEK_THREW";l[l.k6b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.Udb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Xdb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Ydb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.wkb=5500]="STUDIO_MUXED_MANIFEST";l[l.Zba=5600]="MANIFEST_HYDRATION_FAILURE";l[l.xdb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.ydb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.R || (b.R={}));(function(l){l[l.x6b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.n6b=5005]="BR_ACCOUNT_ON_HOLD";l[l.r6b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.u6b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.q6b=5059]="BR_BLACKLISTED_IP";l[l.o6b=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.v6b=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.s6b=2205]="BR_DRM_LICENSE_AQUISITION";l[l.w6b=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.t6b=2207]="BR_ENDPOINT_ERROR";l[l.p6b=2208]="BR_AUTHORIZATION_ERROR";})(b.zBa || (b.zBa={}));b.IZ={feb:"400",D$b:"401",aHa:"413"};b.SZ={T7b:1,v$b:2,y7b:3,B$b:4,m8b:5,x7b:6,Uda:7,A7b:8,L9b:9,S9b:10};b.JY=function(l,g,h,d){return l == a.c_ || l == a.KZ || l == a.Bca && 432E5 <= h || l == a.cba && g === c.aba && 0 < Number(d);};b.ABa=function(l){return 1100 <= l && 1199 >= l;};b.gba=function(l,g){return 1 <= l && 9 >= l?g + l:g;};b.BBa=function(l){return (0,b.gba)(l,c.Whb);};b.CBa=function(l){return (0,b.gba)(l,c.Gr);};b.ow=function(l){var g,h,d;g={};h=l.errorExternalCode || l.Ve;d=l.errorDetails || l.Ib;g.ErrorSubCode=l.errorSubCode || l.za || c.Co;h && (g.ErrorExternalCode=h);d && (g.ErrorDetails=d);return g;};},function(r,b,a){var g;function c(){return g.CP.apply(this,arguments) || this;}function l(h){return new g.Lr(h,b.na);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.OCa=b.lca=b.fm=b.na=b.cD=b.timestamp=b.MJb=b.Q6=b.th=b.Jb=b.Z5a=b.vPb=b.Kkb=void 0;g=a(314);ha(c,g.CP);b.Kkb=c;b.vPb=function(h){return new g.Lr(h,b.cD);};b.Z5a=function(h){return new g.Lr(h * b.fm.cg,b.cD);};b.Jb=l;b.th=function(h){return new g.Lr(h,b.fm);};b.Q6=function(h){return new g.Lr(h,b.lca);};b.MJb=function(h){return new g.Lr(h,b.OCa);};b.timestamp=function(h){return l(h);};b.cD=new c(1,"\u03bcs");b.na=new c(1E3,"ms",b.cD);b.fm=new c(1E3 * b.na.cg,"s",b.cD);b.lca=new c(60 * b.fm.cg,"min",b.cD);b.OCa=new c(60 * b.lca.cg,"hr",b.cD);b.Ia=l(0);},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);l=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.assert=function(g,h){var d;if(!g){d=new l(h || "Assertion failed");a(144).Sp.S.error("Assertion failed",{value:g,message:h,stack:d.stack});throw d;}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={vna:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xO=b.Va=b.Sba=b.Wi=void 0;r=b.Wi || (b.Wi={});r[r.ugb=0]="FATAL";r[r.wh=1]="ERROR";r[r.Zda=2]="WARN";r[r.yba=3]="INFO";r[r.$Ka=4]="TRACE";r[r.I=5]="DEBUG";b.Sba="LogFieldBuilderFactorySymbol";b.Va="LoggerFactorySymbol";b.xO={};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(814),b);},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Aa=b.CIa=b.QS=b.Gh=b.Ki=b.log=b.tf=b.JK=b.AQa=b.kq=b.hx=b.dc=b.$rb=b.rha=b.Yrb=b.Zrb=b.Fi=b.LN=b.xX=b.Zg=b.oc=b.ta=void 0;c=a(203);r=a(6);l=a(26);g=a(69);h=a(80);d=a(29);f=a(14);n=a(139);k=a(27);a=a(46);b.ta=c.Zb.get(k.wg);b.oc=c.Zb.get(a.wi);b.Zg=c.Zb.get(g.Yp);b.xX=b.Zg.encode.bind(b.Zg);b.LN=b.Zg.decode.bind(b.Zg);b.Fi=c.Zb.get(h.ew);b.Zrb=b.Fi.encode.bind(b.Fi);b.Yrb=b.Fi.decode.bind(b.Fi);b.rha=b.Fi.eF.bind(b.Fi);b.$rb=b.Fi.Hab.bind(b.Fi);b.dc=c.Zb.get(d.$g);b.hx=function(m){m=(0,f.rg)(m)?(0,b.LN)(m):m;return b.dc.encode(m);};b.kq=b.dc.decode.bind(b.dc);b.AQa=function(m){return (0,b.xX)((0,b.kq)(m));};b.JK=function(){return c.Zb.get(l.iw);};b.tf=c.Zb.get(r.Va);b.log=b.tf.Sa("General");b.Ki=function(m,p){return b.tf.Sa(m,void 0,p);};b.Gh=function(m,p,q){return b.tf.Sa(p,m,q);};b.QS=function(m,p,q,v){return b.tf.Sa(m,void 0,v,p,q);};b.CIa=function(m,p,q){return c.Zb.get(n.oP)(m,p,q).kX();};b.Aa=c.Zb;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.I=!1;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Gjb=b.XBa=void 0;r=a(0);r.__exportStar(a(382),b);r.__exportStar(a(101),b);r.__exportStar(a(21),b);r.__exportStar(a(898),b);r.__exportStar(a(899),b);r.__exportStar(a(900),b);r.__exportStar(a(901),b);r.__exportStar(a(902),b);r.__exportStar(a(903),b);r.__exportStar(a(904),b);r.__exportStar(a(395),b);r.__exportStar(a(905),b);c=r.__importDefault(a(906));b.XBa=c.default;a=r.__importDefault(a(397));b.Gjb=a.default;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bm={Oac:"casttv",jia:"chrome",Vac:"chromecast",gp:"edge",JUa:"edgeoss",gWa:"firefox",Occ:"ie",opera:"opera",q8a:"safari",iab:"tesla"};b.en={Mga:"android",N_a:"ios",LRa:"chromeos",w1a:"linux",W1a:"mac",Wwa:"windows"};b.HZ={jvb:"computer",phone:"phone",C1b:"tablet"};b.ac="ConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bpa=b.localStorage=b.AKb=b.indexedDB=b.aGa=b.fp=b.yz=b.xz=b.URL=b.XZ=b.qib=b.kFa=b.jFa=b.QZ=b.ZO=b.uw=b.Kr=b.dn=b.hib=b.gI=b.TKa=b.hAa=b.Eib=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.fx=b.pib=b.Ig=b.Yt=b.bGa=b.Zt=b.WZ=b.fD=void 0;r=mb;b.je=r.navigator;b.fD=null === b.je || void 0 === b.je?void 0:b.je.userAgent;b.WZ=r.location;b.Zt=r.screen;b.bGa=r.devicePixelRatio;b.Yt=r.performance;b.Ig=r.document;b.pib=b.Ig.documentElement;b.fx=Array.prototype;b.sort=b.fx.sort;b.map=b.fx.map;b.slice=b.fx.slice;b.every=b.fx.every;b.reduce=b.fx.reduce;b.filter=b.fx.filter;b.forEach=b.fx.forEach;b.pop=b.fx.pop;b.Eib=Object.create;b.hAa=Date.now;b.TKa=String.fromCharCode;b.gI=Math.floor;b.hib=Math.ceil;b.dn=Math.round;b.Kr=Math.max;b.uw=Math.min;b.ZO=Math.random;b.QZ=Math.abs;b.jFa=Math.pow;b.kFa=Math.sqrt;b.qib=r.escape;b.XZ=r.unescape;b.URL=r.URL || r.webkitURL;b.xz=r.MediaSource || r.WebKitMediaSource;b.yz=r.webkitCrypto || r.msCrypto || r.crypto;b.fp=b.yz && (b.yz.webkitSubtle || b.yz.subtle);b.aGa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.AKb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.bpa=a || "noex";}},function(r,b,a){b=a(102);b.kzb=0;r.exports={EventEmitter:b,Af:a(878)};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.up=b.S_a=b.qL=b.rg=b.voa=b.DLb=b.qLb=b.moa=b.tB=b.e0a=b.sb=b.uoa=b.isArray=b.z0a=b.Mq=b.Nc=b.is=void 0;r=a(202);b.is=r.WC;b.Nc=function(c){return b.is.qg(c);};b.Mq=function(c){return b.is.dR(c);};b.z0a=function(c){return b.is.Zfa(c);};b.isArray=function(c){return b.is.iA(c);};b.uoa=function(c){return b.is.EPa(c);};b.sb=function(c,l,g){return b.is.Rj(c,l,g);};b.e0a=function(c,l,g){return b.is.Kga(c,l,g);};b.tB=function(c,l,g){return b.is.eR(c,l,g);};b.moa=function(c){return b.is.OQ(c);};b.qLb=function(c){return b.is.$ob(c);};b.DLb=function(c){return b.is.apb(c);};b.voa=function(c){return b.is.FPa(c);};b.rg=function(c){return b.is.Po(c);};b.qL=function(c){return b.is.mm(c);};b.S_a=function(c){return b.is.e1(c);};b.up=function(c){return b.is.g1(c);};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sc=b.Ya=b.lf=b.Rb=b.ZX=b.ea=b.Eba=b.lD=b.Ka=void 0;(function(c){c.G1a="loadedtracks";c.F1a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Fn="currenttimechanged";c.nbb="unthrottledcurrenttimechanged";c.Y1="bufferedtimechanged";c.Uja="durationchanged";c.Owa="videosizechanged";c.n5a="pausedchanged";c.dsa="playingchanged";c.mVa="endedchanged";c.zJ="busychanged";c.M1="audiotracklistchanged";c.sl="audiotrackchanged";c.Ct="timedtexttracklistchanged";c.Wk="timedtexttrackchanged";c.nX="trickplayframeschanged";c.B3a="mutedchanged";c.Ccb="volumechanged";c.Vua="showsubtitle";c.bta="removesubtitle";c.i5b="watermark";c.qoa="isReadyToTransition";c.bL="inactivated";c.J_a="internalPlaybackError";c.RYb="segmentmaploaded";c.SYb="segmentpresenting";c.sQa="autoplaywasallowed";c.P1="autoplaywasblocked";c.pqb="adsstatechanged";c.BB="livestatechanged";})(b.Ka || (b.Ka={}));(b.lD || (b.lD={})).rW="playgraphsegmenttransition";b.Eba=a;a.V8a="serverTimeChanged";(function(c){c.jE="aseReport";c.d6="liveReport";c.c6="livePipelineFailover";c.iha="autoplayWasAllowed";c.Ch="autoplayWasBlocked";c.ix="bufferUnderrun";c.closed="closed";c.og="closing";c.Fn="currentTimeChanged";c.OE="downloadComplete";c.bL="inactivated";c.p1a="licenseAdded";c.kU="licensed";c.qU="locationSelected";c.ypa="manifestClosing";c.VF="manifestPresenting";c.v6="mediaBufferChanged";c.a7="nextBranchingSegmentChosen";c.ht="playbackStart";c.Lk="playbackReady";c.vj="repositioned";c.iC="repositioning";c.s8a="safePlayRequested";c.NG="segmentPresenting";c.uW="serverSwitch";c.O9a="shouldUpdateVideoDiagInfo";c.nN="subtitleError";c.Lva="throttledMediaTimeChanged";c.obb="unthrottledMediaTimeChanged";c.uN="timedTextRebuffer";c.Ct="timedTextTrackListChanged";c.nX="trickPlayFramesChanged";c.twa="updateNextBranchingSegmentWeights";c.fcb="userInitiatedPause";c.gcb="userInitiatedResume";c.Qab="tracksHydrated";c.BB="livestatechanged";})(b.ea || (b.ea={}));(b.ZX || (b.ZX={})).eA="adBreakComplete";(function(c){c[c.iI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Sd=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Rb || (b.Rb={}));(function(c){c[c.Sd=1]="NORMAL";c[c.ie=2]="BUFFERING";c[c.WJa=3]="STALLED";})(b.lf || (b.lf={}));(function(c){c[c.Bf=1]="WAITING";c[c.Td=2]="PLAYING";c[c.Rh=3]="PAUSED";c[c.Up=4]="ENDED";})(b.Ya || (b.Ya={}));(function(c){c[c.Hr=0]="INITIAL";c[c.Gw=1]="SEEK";c[c.PO=2]="LIVE_EDGE";c[c.G_=3]="TRACK_CHANGED";c[c.sI=4]="SEGMENT_CHANGED";c[c.LY=5]="FORCE_REBUFFER";})(b.Sc || (b.Sc={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YO=b.PZ=b.qeb=b.leb=b.neb=b.oeb=b.Lya=b.keb=b.meb=b.Kya=b.peb=b.web=b.ueb=b.veb=b.teb=b.Yfb=b.Xfb=b.Wfb=b.Qhb=b.Shb=b.Rhb=b.TEa=b.VEa=b.UEa=b.QAa=b.Zfb=b.$aa=b.GY=b.Aib=b.lkb=b.SEa=b.eeb=b.Zza=b.uca=b.kI=b.a_=b.REa=b.tw=b.deb=b.wya=b.Dhb=b.Qkb=b.Phb=b.Ohb=b.ekb=b.dkb=b.Jr=b.eg=b.wJa=b.zw=void 0;b.uya=b.pda=void 0;b.zw=function(){};b.wJa=function(){return !0;};b.eg={ia:!0};b.Jr=1E3;b.dkb=86400;b.ekb=604800;b.Ohb=1E4;b.Phb=1E7;b.Qkb=1.5;b.Dhb=.128;b.wya=7.8125;b.deb=128;b.tw=145152E5;b.REa=1E5;b.a_="$netflix$player$order";b.kI=-1;b.uca=1;b.Zza=["en-US"];b.eeb=8;b.SEa=65535;b.lkb=65536;b.Aib=Number.MAX_VALUE;b.GY="playready";b.$aa="widevine";b.Zfb="fps";b.QAa="clearkey";b.UEa='audio/mp4; codecs="mp4a.40.5"';b.VEa='audio/mp4; codecs="mp4a.40.42"';b.TEa='audio/mp4; codecs="mp4a.a6"';b.Rhb='video/mp4; codecs="avc1.640028"';b.Shb='video/mp4; codecs="hev1.2.6.L153.B0"';b.Qhb='video/mp4; codecs="dvhe.01000000"';b.Wfb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Xfb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Yfb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.teb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.veb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.ueb="4E657466-6C69-7846-7261-6D6552617465";b.web="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.peb="mp4a";b.Kya="enca";b.meb="ec-3";b.keb="avc1";b.Lya="encv";b.oeb="hvcC";b.neb="hev1";b.leb="dvhe";b.qeb="vp09";b.PZ=0;b.YO=1;b.pda="position:relative;width:100%;height:100%;overflow:hidden";b.uya="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gc="ApplicationSymbol";},function(r,b,a){var g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C;function c(D){return (D=b.config.d3b[l(D)])?D:{};}function l(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.kvb=b.lvb=b.uSa=b.u2=b.vSa=b.Iia=b.config=void 0;g=a(16);h=a(42);d=a(8);f=a(37);n=a(20);k=a(26);m=a(40);p=a(22);a(6);q=a(12);v=a(14);t=a(171);w=a(48);u=a(85);y=a(107);x=a(51);z=a(3);A=a(43);B=a(17);C=a(119);b.vSa=function(D,E){var Ja,Va,Ta,T,aa,Q,M,S,ra;function G(oa,Ca){(0,p.Wf)(oa,function(Ua,Pa){(0,v.up)(Pa)?Ca[Ua]=Pa.call(void 0,Ca[Ua]):(0,v.Mq)(Pa) && (Ca[Ua]=Ca[Ua] || ({}),G(Pa,Ca[Ua]));});}function F(oa,Ca,Ua,Pa){for(var Ya=[],ob=3;ob < arguments.length;++ob){Ya[ob - 3]=arguments[ob];}return function(pb){(0,v.Nc)(pb) && (Ua=pb);(0,n.ma)((0,v.up)(oa));return oa.apply(void 0,[Ca,Ua].concat(ea(Ya)));};}function H(oa){oa=oa.toLowerCase();T.hasOwnProperty(oa) && (Ta[oa]=T[oa],aa[oa]=T[oa]);return oa;}function K(oa,Ca,Ua){var Pa;oa=oa.toLowerCase();if(Ta.hasOwnProperty(oa)){Pa=Ta[oa];try{Pa=Ua?Ua(Pa):Pa;}catch(Ya){Pa=void 0;}if(void 0 !== Pa)return Pa;(0,n.ma)(!1);d.log.error("Invalid configuration value. Name: " + oa);}return Ca;}function O(oa,Ca,Ua,Pa){return K(oa,Ca,function(Ya){(0,v.rg)(Ya) && (Ya=(0,p.Ni)(Ya));if((0,v.e0a)(Ya,Ua,Pa))return Ya;});}function I(oa,Ca,Ua,Pa){return K(oa,Ca,function(Ya){(0,v.rg)(Ya) && (Ya=(0,p.Ni)(Ya));if((0,v.tB)(Ya,Ua,Pa))return Ya;});}function P(oa,Ca,Ua,Pa){return K(oa,Ca,function(Ya){(0,v.rg)(Ya) && (Ya=parseFloat(Ya));if((0,v.sb)(Ya,Ua,Pa))return Ya;});}function N(oa,Ca,Ua){return K(oa,Ca,function(Pa){if(Ua?Ua.test(Pa):(0,v.rg)(Pa))return Pa;});}function J(oa,Ca){return K(oa,Ca,function(Ua){if("true" == Ua || !0 === Ua)return !0;if("false" == Ua || !1 === Ua)return !1;});}function L(oa,Ca){return K(oa,Ca,function(Ua){if((0,v.rg)(Ua))return JSON.parse((0,q.XZ)(Ua));if((0,v.Mq)(Ua))return Ua;});}function R(oa,Ca,Ua,Pa,Ya,ob){var pb;oa=oa.toLowerCase();Ta.hasOwnProperty(oa) && (pb=Ta[oa]);if(!(0,v.Nc)(pb))return Ca;if((0,v.rg)(pb))if(pb[0] !== Ua)pb=Pa(pb);else try{pb=JSON.parse((0,q.XZ)(pb));}catch(Db){pb=void 0;}if(void 0 === pb)return Ca;for(oa=0;oa < Ya.length;oa++){if(!Ya[oa](pb))return Ca;}return ob?ob(pb):pb;}function ka(oa,Ca,Ua,Pa,Ya){return R(oa,Ca,"[",function(ob){ob=ob.split("|");for(var pb=ob.length;pb--;){ob[pb]=(0,p.Ni)(ob[pb]);}return ob;},[function(ob){return (0,v.isArray)(ob) && 0 < ob.length;},function(ob){for(var pb=ob.length;pb--;){if(!(0,v.tB)(ob[pb],Ua,Pa))return !1;}return !0;},function(ob){return void 0 === Ya || ob.length >= Ya;}]);}function la(oa,Ca){return R(oa,Ca,"[",function(Ua){Ua=(0,v.isArray)(Ua)?Ua:Ua.split("|");for(var Pa=Ua.length;Pa--;){try{Ua[Pa]=JSON.parse((0,q.XZ)(Ua[Pa]));}catch(Ya){Ua=void 0;break;}}return Ua;},[function(Ua){return (0,v.isArray)(Ua) && 0 < Ua.length;},function(Ua){for(var Pa=Ua.length;Pa--;){if(!(0,v.Nc)(Ua[Pa]) || !(0,v.Mq)(Ua[Pa]))return !1;}return !0;}]);}function X(oa,Ca){var Ua;Ua=da(oa,[]);return Ua && 0 < Ua.length?(0,C.sh)(Ua):la(oa,Ca);}function da(oa,Ca,Ua,Pa){return R(oa,Ca,"[",function(Ya){return (0,v.isArray)(Ya)?Ya:Ya.split("|");},[function(Ya){return (0,v.isArray)(Ya) && 0 < Ya.length;},function(Ya){for(var ob=Ya.length;ob--;){if(Ua?!Ua.test(Ya[ob]):!(0,v.qL)(Ya[ob]))return !1;}return !0;},function(Ya){return void 0 === Pa || Ya.length >= Pa;}]);}function ta(oa,Ca,Ua){return R(oa,Ca,"{",function(Pa){var Ya,pb,Db;Ya={};Pa=Pa.split(";");for(var ob=Pa.length;ob--;){pb=Pa[ob];Db=pb.indexOf(":");if(0 >= Db)return;Ya[pb.substring(0,Db)]=pb.substring(Db + 1);}return Ya;},[function(Pa){return (0,v.Mq)(Pa) && 0 < Object.keys(Pa).length;},function(Pa){if(Ua)for(var Ya in Pa){if(!Ua.test(Pa[Ya]))return !1;}return !0;}],function(Pa){var Ya;Ya={};(0,p.Jd)(Ya,Ca);(0,p.Jd)(Ya,Pa);return Ya;});}function Ba(oa){var Ca;Ca=[];(0,p.Wf)(oa,function(Ua,Pa){var Ya;try{Ya="videoapp" === Ua.toLowerCase()?"[object object]":JSON.stringify(Pa);}catch(ob){Ya="cantparse";}Ca.push(Ua + "=" + Ya);});return Ca.join("\n");}Ja=/^[0-9]+[%]?$/;Va=/^[0-9]*$/;aa={};Q=d.Aa.get(f.$m);M=d.Aa.get(y.iD);(function(oa){function Ca(Ua){Ua.split(",").forEach(function(Pa){var Ya;Ya=Pa.indexOf("=");0 < Ya && (Ta[Pa.substring(0,Ya).toLowerCase()]=Pa.substring(Ya + 1));});}Ta={};(0,p.Jd)(Ta,oa);D && D.length && q.forEach.call(D,function(Ua){(0,v.rg)(Ua)?Ca(Ua):(0,v.Mq)(Ua) && (0,p.Jd)(Ta,Ua,{vU:!0});});T=(0,p.Jd)({},(0,h.y4)(),{vU:!0});if(oa=(0,h.P6a)().cadmiumconfig)(d.log.info("Config cookie loaded",oa),Ca(oa));if(d.Aa.get(A.hn).q1 || Ta.istestaccount)((0,p.Jd)(Ta,T),aa=T);})(E);b.config={};S={QBb:F(J,H("enableXHEAAC"),!1),UUa:F(J,H("enableDDPlus20"),!0),TUa:F(J,H("enableDDPlus"),!0),iK:F(J,H("enableDDPlusAtmos"),!1),tBb:F(J,H("enableLSSDH"),!0),qBb:F(J,H("enableHEVC"),!1),W4a:F(J,H("overrideEnableHEVC"),!1),aka:F(J,H("enableHDR"),!1),V4a:F(J,H("overrideEnableHDR"),!1),U4a:F(J,H("overrideEnableDV"),!1),hK:F(J,H("enableAVCHigh"),M.hK),S4a:F(J,H("overrideEnableAVCHigh"),!1),$ja:F(J,H("enableAVCHighLive"),M.$ja),T4a:F(J,H("overrideEnableAVCHighLive"),!0),MBb:F(J,H("enableVP9"),!1),X4a:F(J,H("overrideEnableVP9"),!1),cBb:F(J,H("enableAV1"),!1),R4a:F(J,H("overrideEnableAV1"),!1),ISb:F(J,H("overrideEnableXHEAAC"),!1),GSb:F(J,"overrideEnableAllAudioProfiles",!1),HSb:F(J,"overrideEnableAllVideoProfiles",!1),CBb:F(J,H("enablePRK"),!1),mBb:F(J,H("enableDV"),!1),XUa:F(J,H("enableHWDRM"),!1),sBb:F(J,H("enableImageSubs"),!0),kE:F(X,H("audioProfiles"),M.kE),pBb:F(J,H("enableFullHdForWidevineL3"),!1),WUa:F(J,H("enableFullHdForWidevineL1"),!1),LBb:F(J,H("enableUHD"),!0),t$:F(I,"videoCapabilityDetectorType",k.ml.hw),fha:F(I,"audioCapabilityDetectorType",k.Nt.hw),$l:F(X,H("videoProfiles"),M.$l),Pq:F(X,H("liveVideoProfiles"),M.Pq),vPa:F(X,H("additionalVideoProfiles"),[]),Dob:F(da,H("timedTextProfiles"),M.Bt),Bt:function(){return S.Dob().filter(function(oa){return oa === m.kl.Jaa?S.tBb():oa === m.kl.hI?S.sBb():!0;});},endpoint:F(J,H("endpoint"),!1),version:F(N,"version","unknown"),rBb:F(J,H("enableHdcp"),!1),ar:F(J,H("prepareCadmium"),!1),epb:F(J,H("acceptManifestOnPrepareItemParams"),!0),rUb:F(L,"ppmconfig",{maxNumberTitlesScheduled:1}),pS:F(J,H("enableLdlPrefetch"),!1),dVa:F(J,H("enableMediaPrefetch"),!1),xBb:F(J,H("enableManifestCache"),!0),Gzb:F(J,H("deleteCachedManifestOnPlayback"),!1),Fzb:F(J,H("deleteCachedManifestOnCreate"),!1),Izb:F(J,H("deleteOtherManifestCacheOnCreate"),!1),Hzb:F(J,H("deleteOtherLdlCacheOnCreate"),!1),oec:F(I,H("periodicPrepareLogsIntervalMilliseconds"),36E5),MUb:F(I,H("prepareManifestCacheMaxCount"),50),KUb:F(I,H("prepareLdlCacheMaxCount"),30),d6a:F(I,H("prepareManifestExpiryMilliseconds"),12E5),LUb:F(I,H("prepareLdlExpiryMilliseconds"),78E4),EUb:F(I,H("prefetcherMaxWishlistSize"),10),DUb:F(I,H("prefetcherBudgetInBytes"),Infinity),FUb:F(J,H("prefetcherOverrideItemPriority"),!0),JUb:F(N,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Zfc:F(L,"videoApp"),vC:F(L,"storageRules"),X3:F(J,"ftlEnabled",M.X3),una:F(I,H("imageSubsResolution"),0),mKb:F(I,H("imageSubsMaxBuffer"),M.NOb.ca(x.Ot),0),CR:F(J,H("captureBatteryStatus"),!1),mFb:F(I,H("getBatteryApiTimeoutMilliseconds"),5E3),Fl:F(N,H("keySystemId"),M.Fl),T0a:F(da,H("keySystemList"),void 0,void 0),Hwa:F(J,H("validateKeySystemAccess"),!1),zPb:F(I,H("hdcpGlobalTimeout1"),1E4),APb:F(I,H("hdcpGlobalTimeout2"),1E4),Ddc:F(I,H("hdcpQueryTimeout1"),1E3),Edc:F(I,H("hdcpQueryTimeout2"),1E3),Y2a:F(I,H("hdcpQueryTimeout2"),100),BPb:F(J,H("microsoftHwdrmRequiresHevc"),!1),X2a:F(J,H("microsoftClearLeadRequiresSwdrm"),!1),wPb:F(J,H("microsoftEnableDeviceInfo"),!1),xPb:F(J,H("microsoftEnableHardwareInfo"),!1),yPb:F(J,H("microsoftEnableHardwareReset"),!1),i4b:F(J,H("useHevcCodecForDolbyVision"),!1),yBb:F(J,H("enableMediaCapabilities"),!1),qUb:F(J,H("powerEfficientForVideo"),!1),zBb:F(J,H("enableMediaCapabilitiesSourceBufferCheck"),!1),WNb:F(J,"logMediaPipelineStatus",!1),ZV:F(J,H("renderDomDiagnostics"),!0),O1a:function(){return -1;},zL:F(O,H("logDisplayMaxEntryCount"),M.zL,-1),$Nb:F(O,H("logToConsoleLevel"),-1),Dac:F(O,H("bladerunnerCmdHistorySize"),10),Jx:function(){return Q.Jx;},fpa:F(J,"logErrorIfEsnNotProvided",!0),gka:F(J,"enforceSinglePlayback",M.gka),o3:F(J,"enforceSingleSession",M.o3),uia:F(J,"closeOtherPlaybacks",!0),irb:F(I,"asyncLoadTimeout",15E3,1),kOb:F(I,"mainThreadMonitorPollRate",0),xF:function(){return Q.xF;},GJ:function(){return Q.GJ;},qX:function(){return Q.qX;},mcb:F(I,H("verbosePlaybackInfoDenominator"),0),y8:F(J,"renderTimedText",!0),sUb:F(J,"preBufferTimedText",!0),VCb:F(J,"fatalOnTimedTextLoadError",!0),yab:F(ta,"timedTextStyleDefaults",{}),Qva:F(ta,"timedTextStyleOverrides",{}),W9:F(ta,"timedTextFontFamilyMapping",M.W9 || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),vN:F(I,"timedTextSimpleFallbackThreshold",M.vN.ca(x.Ot)),aL:F(da,H("imscLanguageList"),M.aL,[]),Y5:F(da,H("lessBoldLanguageList"),M.Y5,[]),kja:F(N,H("customDfxpUrl")),KBb:F(J,H("enableSubtitleTrackerLogging"),!1),hZb:F(J,H("sendSubtitleQoeLogblobOnMidplay"),!1),Wha:F(ka,"cdnIdWhiteList",[]),Vha:F(ka,"cdnIdBlackList",[]),fla:F(N,H("forceAudioTrack")),jla:F(N,H("forceTimedTextTrack")),WOb:F(I,H("maxRetriesTimedTextDownload"),0),f2b:F(I,H("timedTextRetryInterval"),8E3),G0b:F(N,"storageType","idb",/^(none|fs|idb|ls)$/),L1a:F(I,"lockExpiration",1E4),UNb:F(I,"lockRefresh",3E3),Htb:F(J,"captureUnhandledExceptions",!0),lKb:F(J,"ignoreUnhandledExceptionDuringPlayback",!0),g3b:F(J,"unhandledExceptionsArePlaybackErrors",!1),jbb:F(N,"unhandledExceptionSource",""),XUb:F(J,"preserveLastFrame",!1),IPb:F(I,"minBufferingTimeInMilliseconds",4E3),DVb:F(I,"progressBackwardsGraceTimeMilliseconds",4E3),EVb:F(I,"progressBackwardsMinPercent",10),lsb:F(N,H("bookmarkIgnoreBeginning"),"0",Ja),msb:F(N,H("bookmarkIgnoreEnd"),"5%",Ja),nsb:F(N,H("bookmarkIgnoreEndForBranching"),"60000",Ja),Lpa:F(I,"maxParallelConnections",3),nta:F(J,"reportThroughputInLogblobs",!0),tv:F(I,"minAudioMediaRequestDuration",16E3),GPb:F(I,"minAudioMediaRequestDurationBranching",0),ny:F(I,"minVideoMediaRequestDuration",4E3),PPb:F(I,"minVideoMediaRequestDurationVariableGOP",0),OPb:F(I,"minVideoMediaRequestDurationBranching",0),fqa:F(I,"minAudioMediaRequestSizeBytes",0),jqa:F(I,"minVideoMediaRequestSizeBytes",0),JAb:F(J,"droppedFrameRateFilterEnabled",!1),KAb:F(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),MAb:F(function(oa,Ca,Ua,Pa,Ya,ob){return R(oa,Ca,"[",function(pb){pb=pb.split(";");for(var Db=pb.length;Db--;){pb[Db]=pb[Db].split("|");for(var Na=pb[Db].length;Na--;){pb[Db][Na]=(0,p.Ni)(pb[Db][Na]);}}return pb;},[function(pb){return (0,v.isArray)(pb) && 0 < pb.length;},function(pb){for(var Db=pb.length;Db-- && void 0 !== pb;){if(!(0,v.isArray)(pb[Db]))return !1;for(var Na=pb[Db].length;Na--;){if(!(0,v.tB)(pb[Db][Na],Ua,Pa))return !1;}}return !0;},function(pb){if(void 0 !== Ya)for(var Db=pb.length;Db--;){if(Ya !== pb[Db].length)return !1;}return !0;},function(pb){return void 0 === ob || pb.length >= ob;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),LAb:F(I,"droppedFrameRateFilterMinHeight",384),NAb:F(ka,"droppedFramesPercentilesList",[]),CPb:F(J,"microsoftScreenSizeFilterEnabled",!1),BMb:F(J,"keyStatusFilterEnabled",!1),GZa:F(I,"hdcpEngagementWaitTime",0),c3b:F(J,"uiLabelFilterEnabled",!0),b3b:F(L,"uiLabelFilter",{}),pzb:F(I,H("defaultVolume"),100,0,100),Mpa:F(I,H("maxPlaybackRate"),2,0,16),JVa:F(J,"fastForwardAds",!1),lUa:F(J,"disableVideoRightClickMenu",!1),J6:F(I,"minDecoderBufferMilliseconds",1E3,0,g.tw),TB:F(I,"optimalDecoderBufferMilliseconds",5E3,0,g.tw),mra:F(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,g.tw),P6:F(I,"minimumTimeBeforeBranchDecision",3E3,0,g.tw),o3a:F(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,g.tw),jy:F(I,"maxDecoderBufferMilliseconds",M.jy.ca(z.na),0,g.tw),ITa:F(I,"decoderTimeoutMilliseconds",1E4,1),S3a:F(I,"noRenderTimeoutMilliseconds",0),ocb:F(I,"videoGapsTimeoutMilliseconds",500),kTb:F(I,"pauseTimeoutLimitMilliseconds",18E5),yna:F(I,"inactivityMonitorInterval",3E4,0),dpb:F(ka,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),kK:F(J,"enableTrickPlay",!1),iqb:F(ka,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),J2b:F(I,"trickPlayHighResolutionBitrateThreshold",1E3),K2b:F(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),N2b:F(P,"trickplayBufferFactor",.5),I2b:F(I,"trickPlayDownloadRetryCount",1),Cpa:F(N,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),CCb:F(da,"experimentalFilter",["throughput-wssl"]),kia:F(N,"ciPredictorSource","throughput-ci"),bva:F(N,"simulationDurationStrategy","default"),uqa:F(N,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),MCa:F(L,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),y2a:F(O,"maxIQRSamples",Infinity),f3a:F(O,"minIQRSamples",5),acb:F(J,"useResourceTimingAPI",!1),jKb:F(J,"ignoreFirstByte",!0),Vpa:F(J,"mediaRequestAsyncLoadStart",M.Vpa),r4b:F(J,"useXHROnLoadStart",!1),Eka:F(ka,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),v2:F(I,"connectTimeoutMilliseconds",8E3,500),Bqa:F(I,"noProgressTimeoutMilliseconds",8E3,500),xab:F(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Vdc:F(I,"netflixRequestExpiryTimeout",0),j5b:F(J,"webkitDecodedFrameCountIncorrectlyReported",!1),P9:F(da,H("supportedAudioTrackTypes"),[],void 0,1),l5:F(I,"initialLogFlushTimeout",5E3),H5a:F(N,"playdataPersistKey",Q.Jx?"unsentplaydatatest":"unsentplaydata"),bfc:F(J,"sendPersistedPlaydata",!0),PTb:F(I,"playdataPersistIntervalMilliseconds",4E3),qec:F(I,"playdataSendDelayMilliseconds",1E4),cfc:F(J,"sendPlaydataBackupOnInit",!0),YNb:F(da,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),Z2a:F(J,"midplayEnabled",!0),F6:F(I,"midplayIntervalMilliseconds",3E5),$2a:F(ka,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),f3:F(I,"downloadReportDenominator",0),AAb:F(I,"downloadReportInterval",3E5),N1a:F(I,"logConfigApplyDenominator",0),IQa:F(ta,H("bookmarkByMovieId"),{}),KS:F(J,H("forceLimitedDurationLicense"),!1),zB:F(I,H("licenseRenewalRequestDelay"),0),Lra:F(I,H("persistedReleaseDelay"),1E4),hdc:F(J,H("limitedDurationFlagOverride"),void 0),r8a:F(I,"safariPlayPauseWorkaroundDelay",100),t5b:F(I,"workaroundValueForSeekIssue",1200),Rha:F(J,H("callEndOfStream"),M.Rha),tTb:F(J,"performRewindCheck",!0),XCb:F(J,"fatalOnUnexpectedSeeking",!0),WCb:F(J,"fatalOnUnexpectedSeeked",!0),UCb:F(J,"fatalOnManifestMistmatch",!0),d_b:F(J,H("setVideoElementSize")),Hub:F(J,H("clearVideoSrc"),!0),XTa:F(I,H("delayPlayPause"),0),zr:F(J,H("useTypescriptEme"),!1),Ubb:F(J,H("useEncryptedEvent"),!0),fS:F(N,H("drmPersistKey"),"unsentDrmData"),w6a:F(J,H("promiseBasedEme"),!1),WQb:F(J,H("nudgeSourceBuffer"),!1),F8a:F(O,H("seekDelta"),1),EV:F(J,H("preciseSeeking"),!1),tUb:F(J,H("preciseSeekingOnTwoCoreDevice"),!1),WTa:F(ta,H("delayErrorHandling")),Wj:F(N,"esn",""),LVa:F(N,"fesn",""),FBb:F(J,H("enablePerformanceLogging"),!1),VUa:F(J,H("enableEmeVerboseLogging"),!1),appId:F(N,"appId","",Va),sessionId:F(N,"sessionId","",Va),Yha:F(N,"cdnProxyUrl"),o4b:F(J,"usePlayReadyHeaderObject",!1),sWa:F(I,"forceXhrErrorResponseCode",void 0),gp:{Sdc:F(N,"mslApiPath","/msl/"),yec:F(N,"proxyPath",""),Tv:F(N,"uiVersion"),f$:F(N,"uiPlatform"),Qac:function(){return "0";},hsa:F(da,"preferredLanguages",g.Zza,/^[a-zA-Z-]{2,5}$/,1),aEb:F(N,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),n1b:F(J,"supportPreviewContentPin",!0),o1b:F(J,"supportWatermarking",!0),J_b:F(J,"showAllSubDubTracks",!1),Ybc:F(J,H("failOnGuidMismatch"),!1)},k8:{enabled:F(J,"qcEnabled",!1),Rm:F(N,"qcPackageId","")},yr:F(J,"useRangeHeader",!1),qS:F(J,"enableMilestoneEventList",!0),Mrb:F(ta,"authenticationKeyNames",(0,p.Jd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),z1b:F(N,"systemKeyWrapFormat"),D_b:F(J,"shouldSendUserAuthData",!0),rua:F(J,"sendUserAuthIfRequired",M.rua),w_b:F(J,"shouldClearUserData",!1),KN:F(J,"usesMsl",!0),gQb:F(J,"mslDeleteStore",!1),iQb:F(J,"mslPersistStore",!0),Hvb:F(J,"correctNetworkForShortTitles",!0),pUb:F(J,"postplayHighInitBitrate",!1),u1b:F(J,"supportsUnequalizedDownloadables",!0),ETa:F(I,H("debugAseDenominator"),100),A1:F(I,"aseAudioBufferSizeBytes",M.A1.ca(x.Ot)),D1:F(I,"aseVideoBufferSizeBytes",M.D1.ca(x.Ot)),Ws:F(I,"minInitVideoBitrate",560),KPb:F(I,"minHCInitVideoBitrate",560),ky:F(I,"maxInitVideoBitrate",Infinity),OU:F(I,"minInitAudioBitrate",0),K6:F(I,"minHCInitAudioBitrate",0),CU:F(I,"maxInitAudioBitrate",65535),G6:F(I,"minAcceptableVideoBitrate",235),IB:F(I,"minRequiredBuffer",3E4),Uq:F(I,"minPrebufSize",7800),gqa:F(I,"minCheckBufferingCompleteInterval",999999),Ssa:F(P,"rebufferingFactor",1),Sq:F(I,"maxBufferingTime",2600),Ewa:F(J,"useMaxPrebufSize",!0),FB:F(I,"maxPrebufSize",45E3),Npa:F(I,"maxRebufSize",Infinity),j5:F(la,"initialBitrateSelectionCurve",null),r_a:F(I,"initSelectionLowerBound",560),s_a:F(I,"initSelectionUpperBound",1050),dX:F(I,"throughputPercentForAudio",15),oha:F(I,"bandwidthMargin",10),pha:F(J,"bandwidthMarginContinuous",!1),qha:F(la,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Kia:F(I,"conservBandwidthMargin",20),Gva:F(J,"switchConfigBasedOnInSessionTput",!1),Mia:F(I,"conservBandwidthMarginTputThreshold",0),Lia:F(la,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),aab:F(J,"switchAlgoBasedOnHistIQR",!1),Hva:F(N,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),D2a:F(O,"maxPlayerStateToSwitchConfig",-1),S1a:F(N,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),uDa:F(P,"IQRThreshold",.5),PZa:F(N,"histIQRCalcToUse","simple"),FU:F(I,"maxTotalBufferLevelPerSession",0),lS:F(J,"enableCombinedPlaygraphs",!0),UE:F(J,"enableAdPlaygraphs",!0),J8:F(J,"retainSbrOnFade",!1),xka:F(da,"excludedContentPlaygraphIds",[]),m3:F(J,"enableDiscontiguousBuffering",!1),hla:F(ka,"forceImmediateTransitionTypeForTitles",[]),gla:F(I,"forceImmediateTransitionExitZone",0),k$:F(J,"useBufferSizeLimiter",!1),Dwa:F(J,"useLegacyFragmentRounding",!1),KZa:F(I,"highWatermarkLevel",3E4),Gab:F(I,"toStableThreshold",3E4),Y9:F(I,"toUnstableThreshold",M.Y9.ca(z.na)),dva:F(J,"skipBitrateInUpswitch",!1),Uwa:F(I,"watermarkLevelForSkipStart",8E3),hna:F(I,"highStreamRetentionWindow",9E4),ppa:F(I,"lowStreamTransitionWindow",51E4),jna:F(I,"highStreamRetentionWindowUp",3E5),rpa:F(I,"lowStreamTransitionWindowUp",3E5),ina:F(I,"highStreamRetentionWindowDown",6E5),qpa:F(I,"lowStreamTransitionWindowDown",0),gna:F(P,"highStreamInfeasibleBitrateFactor",.5),ey:F(I,"lowestBufForUpswitch",15E3),rU:F(I,"lockPeriodAfterDownswitch",15E3),upa:F(I,"lowWatermarkLevel",25E3),fy:F(I,"lowestWaterMarkLevel",2E4),vpa:F(J,"lowestWaterMarkLevelBufferRelaxed",!1),z6:F(P,"mediaRate",1),r6:F(I,"maxTrailingBufferLen",1E4),dha:F(I,"audioBufferTargetAvailableSize",262144),Jwa:F(I,"videoBufferTargetAvailableSize",1048576),L2a:F(I,"maxVideoTrailingBufferSize",8388608),q2a:F(I,"maxAudioTrailingBufferSize",393216),C3:F(P,"fastUpswitchFactor",3),Hka:F(P,"fastDownswitchFactor",1),YF:F(I,"maxMediaBufferAllowed",24E4),T9a:F(J,"simulatePartialBlocks",!0),S9a:F(J,"simulateBufferFull",!0),Nia:F(J,"considerConnectTime",!1),Jia:F(P,"connectTimeMultiplier",1),fOb:F(I,"lowGradeModeEnterThreshold",12E4),gOb:F(I,"lowGradeModeExitThreshold",9E4),t2a:F(I,"maxDomainFailureWaitDuration",3E4),p2a:F(I,"maxAttemptsOnFailure",18),zVa:F(J,"exhaustAllLocationsForFailure",!0),A2a:F(I,"maxNetworkErrorsDuringBuffering",20),m6:F(I,"maxBufferingTimeAllowedWithNetworkError",12E4),IVa:F(I,"fastDomainSelectionBwThreshold",2E3),oab:F(I,"throughputProbingEnterThreshold",4E4),pab:F(I,"throughputProbingExitThreshold",34E3),J1a:F(I,"locationProbingTimeout",1E4),PVa:F(I,"finalLocationSelectionBwThreshold",1E4),mab:F(P,"throughputHighConfidenceLevel",.75),nab:F(P,"throughputLowConfidenceLevel",.4),fVa:F(J,"enablePerfBasedLocationSwitch",!1),AG:F(J,"probeServerWhenError",!0),tsa:F(I,"probeRequestTimeoutMilliseconds",8E3),cR:F(J,"allowSwitchback",!0),j6a:F(I,"probeDetailDenominator",100),n6:F(I,"maxDelayToReportFailure",300),cpa:F(I,"locationStatisticsUpdateInterval",6E4),Jvb:F(J,"countGapInBuffer",!1),sqb:F(J,"allowCallToStreamSelector",!0),Csb:F(I,"bufferThresholdForAbort",1E4),VOb:F(I,"maxResponsesInitialTput",6),ZUa:F(J,"enableInitialTputLogging",!1),zTb:F(I,"pipelineScheduleTimeoutMs",2),FL:F(I,"maxPartialBuffersAtBufferingStart",2),$Ob:F(I,"maxStreamingSkew",4E3),TOb:F(I,"maxPendingBufferPercentage",10),X4:F(I,"headerRequestSize",4096),nka:F(J,"estimateHeaderSize",!1),I6:F(I,"minBufferLenForHeaderDownloading",1E4),zta:F(I,"reserveForSkipbackBufferMs",1E4),YQb:F(I,"numExtraFragmentsAllowed",2),io:F(J,"pipelineEnabled",!1),$9a:F(I,"socketReceiveBufferSize",0),K1:F(I,"audioSocketReceiveBufferSize",32768),v$:F(I,"videoSocketReceiveBufferSize",65536),ena:F(I,"headersSocketReceiveBufferSize",32768),O3b:F(I,"updatePtsIntervalMs",1E3),Fsb:F(I,"bufferTraceDenominator",100),OQa:F(I,"bufferLevelNotifyIntervalMs",2E3),iR:F(I,"aseReportDenominator",0),Zga:F(I,"aseReportIntervalMs",3E5),dBb:F(J,"enableAbortTesting",!1),bpb:F(I,"abortRequestFrequency",8),R0b:F(I,"streamingStatusIntervalMs",2E3),DV:F(I,"prebufferTimeLimit",24E4),c3a:F(I,"minBufferLevelForTrackSwitch",2E3),Era:F(I,"penaltyFactorForLongConnectTime",2),npa:F(I,"longConnectTimeThreshold",200),Bga:F(I,"additionalBufferingLongConnectTime",2E3),Cga:F(I,"additionalBufferingPerFailure",8E3),RV:F(I,"rebufferCheckDuration",6E4),wBb:F(J,"enableLookaheadHints",!1),dOb:F(I,"lookaheadFragments",2),VE:F(J,"enableOCSideChannel",!0),ZZ:F(L,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),vbb:F(J,"updateDrmRequestOnNetworkFailure",!1),Azb:F(J,"deferAseScheduling",!1),JOb:F(I,"maxDiffAudioVideoEndPtsMs",16E3),xja:F(I,"defaultHeaderCacheSize",4),wja:F(I,"defaultHeaderCacheDataPrefetchMs",8E3),vqa:F(J,"neverWipeHeaderCache",!0),tqa:F(I,"networkFailureResetWaitMs",2E3),sqa:F(I,"networkFailureAbandonMs",6E4),q6:F(I,"maxThrottledNetworkFailures",3),T9:F(I,"throttledNetworkFailureThresholdMs",200),tpa:F(O,"lowThroughputThreshold",400),wka:F(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),dQb:F(J,"mp4ParsingInNative",!1),g0b:F(J,"sourceBufferInOrderAppend",!0),JM:F(J,"requireAudioStreamToEncompassVideo",!0),rqb:F(J,"allowAudioToStreamPastVideo",!0),cVa:F(J,"enableManagerDebugTraces",!1),a2a:F(I,"managerDebugMessageInterval",1E3),$1a:F(I,"managerDebugMessageCount",20),bec:F(J,"notifyManifestCacheEom",!1),Esb:F(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Dsb:F(I,"bufferThresholdToSwitchToParallelConnMs",12E4),L7:F(I,"periodicHistoryPersistMs",3E5),W8:F(I,"saveVideoBitrateMs",18E4),NPa:F(J,"appendMediaRequestOnComplete",!0),Qwa:F(J,"waitForDrmToAppendMedia",!1),ela:F(J,H("forceAppendHeadersAfterDrm"),!1),YDb:F(J,H("forceAppendEncryptedStreamHeaderFirst"),!0),cWb:F(J,H("reappendRequestsOnSkip"),!1),nQb:F(I,"netIntrStoreWindow",36E3),MPb:F(I,"minNetIntrDuration",8E3),RCb:F(I,"fastHistoricBandwidthExpirationTime",10368E3),Trb:F(I,"bandwidthExpirationTime",5184E3),QCb:F(I,"failureExpirationTime",86400),IJb:F(I,"historyTimeOfDayGranularity",4),BCb:F(J,"expandDownloadTime",!1),VPb:F(I,"minimumMeasurementTime",500),UPb:F(I,"minimumMeasurementBytes",131072),W1b:F(I,"throughputMeasurementTimeout",2E3),MKb:F(I,"initThroughputMeasureDataSize",262144),X1b:F(N,"throughputPredictor","ewma"),V1b:F(I,"throughputMeasureWindow",5E3),a2b:F(I,"throughputWarmupTime",5E3),U1b:F(I,"throughputIQRMeasureWindow",5E3),Ahb:F(I,"IQRBucketizerWindow",15E3),nvb:F(I,"connectTimeHalflife",10),TXb:F(I,"responseTimeHalflife",10),HJb:F(I,"historicBandwidthUpdateInterval",2E3),TPb:F(I,"minimumBufferToStopProbing",1E4),gua:F(N,"secondThroughputEstimator","none"),C8a:F(O,"secondThroughputMeasureWindowInMs",Infinity),oBb:F(da,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),gDb:F(L,"filterDefinitionOverrides",{}),izb:F(N,"defaultFilter","throughput-ewma"),GYb:F(N,"secondaryFilter","none"),jzb:F(L,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),rqa:F(J,"needMinimumNetworkConfidence",!0),tha:F(J,"biasTowardHistoricalThroughput",!0),nga:F(J,"addHeaderDataToNetworkMonitor",!1),kva:F(J,"startMonitorOnLoadStart",!1),mta:F(J,"reportFailedRequestsToNetworkMonitor",!1),Ipa:F(O,"maxFastPlayBufferInMs",Infinity),v2a:F(O,"maxFastPlayBitThreshold",Infinity),Oga:F(J,"appendFirstHeaderOnComplete",!0),Wqb:F(N,"ase_stream_selector","optimized"),Kna:F(N,"initBitrateSelectorAlgorithm","default"),Bha:F(N,"bufferingSelectorAlgorithm","default"),Ryb:F(N,"ase_ls_failure_simulation",""),oja:F(J,"ase_dump_fragments",!1),pja:F(I,"ase_location_history",0),FTa:F(I,"ase_throughput",0),Syb:F(J,"ase_simulate_verbose",!1),kUb:F(I,"pollingPeriod",150),ONb:F(I,"loadTimeMs",18E4),COb:F(I,"marginTimeMs",1E4),Ila:F(J,"getDeviceIdFromBindDevice",!1),mga:F(J,"addFailedLogBlobsToQueue",!0),d3b:{"content-sampling":{Sq:F(I,"contentSamplingMaxBufferingTime",3E3),UM:F(N,"contentSamplingSelectStartingVMAFMethod","fallback"),UQ:F(J,"contentSamplingActivateSelectStartingVMAF",!0),Xs:F(I,"contentSamplingMinStartingVideoVMAF",80),MU:F(I,"contentSamplingMinAcceptableVMAF",70),bG:F(I,"contentSamplingMinAllowedVmaf",60)},billboard:{Ws:F(I,"billboardMinInitVideoBitrate",1050),ky:F(I,"billboardMaxInitVideoBitrate",null),Uq:F(I,"billboardMinPrebufSize",null),FB:F(I,"billboardMaxPrebufSize",null),Sq:F(I,"billboardMaxBufferingTime",null),FL:F(I,"billboardMaxPartialBuffersAtBufferingStart",null),fy:F(I,"billboardLowestWaterMarkLevel",6E3),ey:F(I,"billboardLowestBufForUpswitch",25E3),Hva:F(N,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Ws:F(I,"preplayMinInitVideoBitrate",1050),ky:F(I,"preplayMaxInitVideoBitrate",null),Uq:F(I,"preplayMinPrebufSize",null),FB:F(I,"preplayMaxPrebufSize",null),Sq:F(I,"preplayMaxBufferingTime",null),FL:F(I,"preplayMaxPartialBuffersAtBufferingStart",null),fy:F(I,"preplayLowestWaterMarkLevel",6E3),ey:F(I,"preplayLowestBufForUpswitch",25E3)},embedded:{Ws:F(I,"embeddedMinInitVideoBitrate",1050),ky:F(I,"embeddedMaxInitVideoBitrate",null),Uq:F(I,"embeddedMinPrebufSize",null),FB:F(I,"embeddedMaxPrebufSize",null),Sq:F(I,"embeddedMaxBufferingTime",null),FL:F(I,"embeddedMaxPartialBuffersAtBufferingStart",null),fy:F(I,"embeddedLowestWaterMarkLevel",6E3),ey:F(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Ws:F(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),ky:F(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Uq:F(I,"videoMerchBobHorizontalMinPrebufSize",null),FB:F(I,"videoMerchBobHorizontalMaxPrebufSize",null),Sq:F(I,"videoMerchBobHorizontalMaxBufferingTime",null),FL:F(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),fy:F(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),ey:F(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Ws:F(I,"miniModalHorizontalMinInitVideoBitrate",null),ky:F(I,"miniModalHorizontalMaxInitVideoBitrate",null),Uq:F(I,"miniModalHorizontalMinPrebufSize",null),FB:F(I,"miniModalHorizontalMaxPrebufSize",null),Sq:F(I,"miniModalHorizontalMaxBufferingTime",500),FL:F(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),fy:F(I,"miniModalHorizontalLowestWaterMarkLevel",null),ey:F(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},NBb:F(J,"enableVerbosePlaydelayLogging",!1),IBb:F(J,"enableSeamless",!1),NZa:F(I,"hindsightDenominator",0),MZa:F(I,"hindsightDebugDenominator",0),OZa:F(L,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),gVa:F(J,"enableSessionHistoryReport",!1),IUa:F(I,"earlyStageEstimatePeriod",1E4),m1a:F(I,"lateStageEstimatePeriod",3E4),B2a:F(I,"maxNumSessionHistoryStored",30),j3a:F(I,"minSessionHistoryDuration",3E4),BU:F(I,"maxActiveRequestsPerSession",3),n2a:F(I,"maxActiveRequestsSABCell100",2),Toa:F(J,"limitAudioDiscountByMaxAudioBitrate",!0),Vc:F(L,"browserInfo",{}),Psb:F(I,H("busyGracePeriod"),199),iZb:F(J,H("sendTransitionLogblob"),!0),VAb:F(J,H("editVideoFragments"),!0),HUa:F(J,H("earlyAppendSingleChildBranch"),!0),uKb:F(J,H("includeSegmentInfoOnLogblobs"),!0),HCb:F(J,"exposeTestData",!1),GCb:F(J,H("exposeErrorData"),!1),HTa:F(J,"declareBufferingCompleteAtSegmentEnd",!0),gR:F(J,H("applyProfileTimestampOffset"),!1),pm:F(J,H("applyProfileStreamingOffset"),!1),B6:F(J,H("mediaSourceSupportsNegativePts"),!1),xqb:F(J,H("allowSmallSeekDelta"),!1),Y_b:F(I,H("smallSeekDeltaThresholdMilliseconds"),t.v_),iBb:F(J,"enableCDMAttestedDescriptors",!1),uta:F(J,"requireDownloadDataAtBuffering",!1),vta:F(J,"requireSetupConnectionDuringBuffering",!1),h7a:F(J,"recordFirstFragmentOnSubBranchCreate",!1),Xbb:F(J,"useMobileVMAF",!1),cUa:F(N,"desiredVMAFTypeMobile","phone_plus_lts"),dUa:F(N,"desiredVMAFTypeNonMobile","plus_lts"),UQ:F(J,"activateSelectStartingVMAF",!1),Xs:F(I,"minStartingVideoVMAF",1),MU:F(I,"minAcceptableVMAF",1),bG:F(I,"minAllowedVmaf",1),Aqb:F(J,"alwaysNotifyEOSForPlaygraph",!0),ABb:F(J,"enableNewAse",!0),j4b:F(J,"useNewApi",!0),k6:F(I,"maxAllowedOutstandingRequests",4),sJ:F(J,"alwaysRunUnderflowTimer",!0),hqa:F(I,"minStreamableConcurrencyWindow",3E3),wva:F(P,"streamableConcurrencyFactor",.3),yR:F(I,"bufferingConcurrencyWindow",7800),S_b:F(J,"singleStreamablePerBranch",!0),n3:F(J,"enableResolutionVMAFStreamFilter",!1),I8:F(L,"resolutionVMAFCappingRuleList",{}),Hra:F(O,"percentCapTitlesForResolutionVMAFStreamFilter",100),iAb:F(J,"disableSkipping",!1),l$:F(J,"useHLSPlayer",M.l$),Cwa:F(J,H("useExitZones"),!0),BXb:F(J,"requestSegmentVmaf",!1),jM:F(L,"perFragmentVMAFConfig",{enabled:!1}),sra:F(I,"paddingDurationMs",1E3),tra:F(N,"paddingMediaType","padding"),Z$a:F(J,"supportsPtsChanged",!1),wUb:F(J,H("preferUnletterboxed"),!1),$Ua:F(J,"enableKeySystemRestrictor",!1),pCb:F(I,"errorEventToRestrict",2),oCb:F(ka,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),nCb:F(ka,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),SUa:F(J,"enableCachedErrors",!1),Zsb:F(I,"cachedErrorCountLimit",20),atb:F(I,"cachedErrorExpirationSeconds",604800),btb:F(I,"cachedErrorsStorageTimeoutSeconds",2E3),nU:F(I,"liveTargetBufferDuration",1E4),a6:F(I,"liveEdgeCushion",6E3),vNb:F(O,"liveEdgeThreshold",1E4),uBb:F(J,"enableLivePlaybackRateDriftCorrection",!1),CNb:F(P,"livePlaybackRateMin",.98),BNb:F(P,"livePlaybackRateMax",1.02),ANb:F(O,"livePlaybackRateAdjustmentThresholdMs",20),zNb:F(O,"livePlaybackRateAdjustmentIntervalMs",1E3),yNb:F(P,"livePlaybackRateAdjustmentFactor",.1),bEb:F(J,"forceDisableLiveUI",!1),cEb:F(ka,"forceDisableLiveUIByMovieIds",[]),$Db:F(O,"forceAstRelativeLiveBookmark",void 0),dEb:F(O,"forceEstRelativeLiveBookmark",void 0),x0b:F(O,"startSlateMs",void 0),ENb:F(O,"liveSlateMs",void 0)};ra=!0;b.Iia=function(oa){var Ca,Ua,Pa;Ca=d.Aa.get(B.Gc).id;if(0 < b.config.N1a && 0 === Ca % b.config.N1a)try{Ua=d.Aa.get(w.dm);Pa=d.Aa.get(u.rw).ss("config","info",{params:oa});Ua.mc(Pa);}catch(Ya){d.log.error("Failed to log config$apply",Ya);}mb._cad_global.config=b.config;(0,n.ma)(oa);oa && (Ta=(0,p.Jd)({},oa,{vU:!0}),(0,p.Jd)(Ta,aa,{vU:!0}),G(S,b.config),Ta.istestaccount && d.log.trace("Config applied for",Ba(ra?Ta:oa)),ra=!1);};(0,b.Iia)(Ta);};b.u2=function(D){D=c(D);return (0,p.Jd)({},a(172)(D),{z7:!0});};b.uSa=function(D,E,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={tv:D?b.config.GPb:b.config.tv,ny:D?b.config.OPb:G?b.config.PPb:b.config.ny,HUa:!E};return (0,p.Jd)({},a(172)(D),{z7:!0});};b.lvb=c;b.kvb=l;},function(r,b,a){var l;function c(g){return g.filter(function(h,d){return g.indexOf(h) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.YPa=b.e7=b.QIb=b.Ivb=b.flatten=b.d3a=b.avb=b.z1=b.ex=b.$Pa=b.hR=b.Vga=b.ks=b.Wga=b.uc=void 0;l=a(0);b.uc=function(g,h){for(var d=0;d < g.length;d++){if(h(g[d],d,g))return g[d];}};b.Wga=function(g,h){for(var d=g.length - 1;0 <= d;--d){if(h(g[d],d,g))return g[d];}};b.ks=function(g,h){var d;d=-1;return g.some(function(f,n,k){d=n;return h(f,n,k);})?d:-1;};b.Vga=function(g,h){for(var d=g.length - 1;0 <= d;d--){if(h(g[d],d,g))return d;}return -1;};b.hR=c;b.$Pa=function(g,h){h=g.indexOf(h);if(-1 === h)return !1;g.splice(h,1);return !0;};b.ex=function(g,h,d){return d?g.filter(function(f){return !h.some(function(n){return d(f,n);});}):g.filter(function(f){return -1 === h.indexOf(f);});};b.z1=function(g,h){return c(g.concat(h));};b.avb=function(g){return function(h,d){return g(h) - g(d);};};b.d3a=function(g){return function(h,d){return g(h) < g(d)?h:d;};};b.flatten=function(g){var h;return (h=[]).concat.apply(h,l.__spreadArray([],l.__read(g),!1));};b.Ivb=function(g,h){void 0 === h && (h=function(d){return d;});return g.reduce(function(d,f){f=h(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.QIb=function(g,h){return g.reduce(function(d,f){var n;n=h(f);return (void 0 === d[n]?d[n]=[f]:d[n].push(f),d);},{});};b.e7=function(g){return null !== g && void 0 !== g;};b.YPa=function(g){var h,f;h=[];if(Array.isArray(g))for(var d=0;d < g.length;d++){f=g[d];Array.isArray(f)?h=h.concat(f.filter(function(n){return void 0 !== n;})):void 0 !== f && h.push(f);}return h;};},function(r,b,a){var g,h,d;function c(){d || (d=g.Aa.get(h.gw));return d;}function l(f,n){return c().assert(f,n);}Object.defineProperty(b,"__esModule",{value:!0});b.Qyb=b.nja=b.Jyb=b.Nyb=b.XJ=b.TR=b.Myb=b.Oyb=b.UR=b.DTa=b.Lyb=b.Kyb=b.ma=b.Pyb=b.Pdb=void 0;g=a(8);h=a(108);b.Pdb=function(){l(!1);};b.Pyb=!0;d=void 0;b.ma=l;b.Kyb=function(f,n){return c().$qb(f,n);};b.Lyb=function(f,n){return c().arb(f,n);};b.DTa=function(f,n){return c().F1(f,n);};b.UR=function(f,n){return c().grb(f,n);};b.Oyb=function(f,n){return c().erb(f,n);};b.Myb=function(f,n){return c().E1(f,n);};b.TR=function(f,n){return c().crb(f,n);};b.XJ=function(f,n){return c().frb(f,n);};b.Nyb=function(f,n){return c().drb(f,n);};b.Jyb=function(f,n){return c().Zqb(f,n);};b.nja=function(f,n){return c().brb(f,n);};b.Qyb=function(){return c().gLb();};},function(r,b,a){var l;function c(g,h){return g && h?Math.abs(g * h / (0,l.QA)(g,h)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;l=a(383);r=(function(){function g(h,d){"object" === typeof h?(this.ec=h.xa,this.bb=h.T):(this.ec=h,this.bb=d);isFinite(this.ec) || (this.bb=1);}g.compare=function(h,d){return h.zk(d);};g.abs=function(h){return new g(Math.abs(h.ec),h.bb);};g.Na=function(h){return 0 === h?g.Ia:new g(h,1E3);};g.Wva=function(h,d){return Math.floor(1E3 * h / d);};g.y3a=function(h,d){return Math.floor(h * d / 1E3);};g.max=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(f,n){return f.greaterThan(n)?f:n;});};g.min=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(f,n){return f.lessThan(n)?f:n;});};g.QA=function(h,d){var f;if(h.bb === d.bb)return new g((0,l.QA)(h.ec,d.ec),h.bb);f=c(h.bb,d.bb);return new g((0,l.QA)(h.ec * f / h.bb,d.ec * f / d.bb),f);};Object.defineProperties(g.prototype,{xa:{get:function(){return this.ec;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{T:{get:function(){return this.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{G:{get:function(){return g.Wva(this.ec,this.bb);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yy:{get:function(){return 1E3 * this.ec / this.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{KG:{get:function(){var h;h=this.yy;return 0 > h?Math.ceil(h):Math.floor(h);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{th:{get:function(){return this.ec / this.bb;},enumerable:!1,configurable:!0}});g.prototype.Nd=function(h){h/=this.bb;return new g(Math.floor(this.ec * h),Math.floor(this.bb * h));};g.prototype.add=function(h){var d;if(this.bb === h.bb)return new g(this.ec + h.ec,this.bb);d=c(this.bb,h.bb);return new g(this.ec * d / this.bb + h.ec * d / h.bb,d);};g.prototype.wa=function(h){var d;if(this.bb === h.bb)return new g(this.ec - h.ec,this.bb);d=c(this.bb,h.bb);return new g(this.ec * d / this.bb - h.ec * d / h.bb,d);};g.prototype.uv=function(h){return new g(this.ec * h,this.bb);};g.prototype.Ii=function(h){var d;if("number" === typeof h){if(Math.floor(h) === h){d=c(this.ec,h);if(d !== this.ec)return this.Nd(d / this.ec * this.bb).Ii(h);}return new g(Math.floor(this.ec / h),this.bb);}if(this.bb === h.bb)return this.ec / h.ec;d=c(this.bb,h.bb);return this.ec * d / this.bb / (h.ec * d / h.bb);};g.prototype.$J=function(h){var d;if(this.bb === h.bb)return new g(Math.abs(this.ec - h.ec),this.bb);d=c(this.bb,h.bb);return new g(Math.abs(this.ec * d / this.bb - h.ec * d / h.bb),d);};g.prototype.f7a=function(){return new g(this.bb,this.ec);};g.prototype.compare=function(h,d){var f;if(this.bb === d.bb)return h(this.ec,d.ec);f=c(this.bb,d.bb);return h(this.ec * f / this.bb,d.ec * f / d.bb);};g.prototype.zk=function(h){var d;if(this.bb === h.bb)return this.xa === h.ec?0:this.ec - h.ec;d=c(this.bb,h.bb);return this.ec * d / this.bb - h.ec * d / h.bb;};g.prototype.equal=function(h){return this.compare(function(d,f){return d === f;},h);};g.prototype.Eqa=function(h){return this.compare(function(d,f){return d !== f;},h);};g.prototype.lessThan=function(h){return this.compare(function(d,f){return d < f;},h);};g.prototype.greaterThan=function(h){return this.compare(function(d,f){return d > f;},h);};g.prototype.yB=function(h){return this.compare(function(d,f){return d <= f;},h);};g.prototype.$h=function(h){return this.compare(function(d,f){return d >= f;},h);};g.prototype.isFinite=function(){return !!this.bb && isFinite(this.ec);};g.prototype.ZYa=function(h){return c(this.T,h);};g.prototype.toJSON=function(){return {ticks:this.ec,timescale:this.bb};};g.prototype.toString=function(){return ("").concat(this.ec,"/").concat(this.bb);};g.prototype.ob=function(){return ("").concat(this.ec,"/").concat(this.bb," (").concat(this.G,"ms)");};g.Ia=new g(0,1E3);g.qy=new g(1,1E3);g.Iq=new g(Infinity,1);return g;})();b.N=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.Cvb=b.zl=b.Xf=b.Rub=b.te=b.ov=b.trim=b.mna=b.L$a=b.K6a=b.SSb=b.Ni=b.aQa=b.jRa=b.Jd=b.Wf=void 0;c=a(20);l=a(12);g=a(14);b.Wf=function(h,d){for(var f in h){h.hasOwnProperty(f) && d(f,h[f]);}};b.Jd=b.Jd || (function(h,d,f){var n,k,m;if(d)if(f){n=f.vU;k=f.prefix;m=f.z7;(0,b.Wf)(d,function(p,q){if(!m || (0,g.Nc)(q))h[(k || "") + (n?p.toLowerCase():p)]=q;});}else (0,b.Wf)(d,function(p,q){h[p]=q;});return h;});b.jRa=function(h,d,f,n){var k;if(h){k=h[d];(0,g.up)(k) && (f=k.apply(h,l.slice.call(arguments,3)));}return f;};b.aQa=function(h){for(var d={},f=h.length;f--;){d[h[f]]=!0;}return d;};b.Ni=b.Ni || (function(h){return parseInt(h,10);});b.SSb=function(h){return (/^true$/i).test(h);};b.K6a=function(h,d){return (0,l.dn)(h + (0,l.ZO)() * (d - h));};b.L$a=function(h){return JSON.stringify(h,null,"  ");};b.mna=(function(){var d,f;function h(n){(0,c.ma)(void 0 !== d[n]);return d[n];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(n){return n.replace(f,h);};})();b.trim=(function(){var h;h=/^\s+|\s+$/gm;return function(d){return d.replace(h,"");};})();b.ov=function(h){return Array.isArray(h)?h:[h];};b.te=b.te || (function(h){var d,f,n;if(h){d=h.stack;f=h.number;n=h.message;n || (n="" + h);d?(h="" + d,0 != h.indexOf(n) && (h=n + "\n" + h)):h=n;f && (h+="\nnumber:" + f);return h;}});b.Rub=function(h){var n;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){n=arguments[d++];if((0,g.Nc)(n))return n;}};b.Xf=function(h){return (0,g.sb)(h)?h.toFixed(0):void 0;};b.zl=function(h){return (0,g.sb)(h)?(h / 1E3).toFixed(0):void 0;};b.Cvb=function(h){for(var d=[],f=0;f < h.length;f++){d[f]=h[f];}return d;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(99);b.I=!1;r=(function(){function l(g,h,d,f,n){this.Lb=g;this.type=h;this.byteOffset=d;this.byteLength=f;this.parent=n;this.yd={};this.lG=f;}l.Kx=function(g,h){var f,k;function d(m){m && m.Kx && (m=m.Kx(h),m.length && (f=f.concat(m)));}f=[];g.type === h && f.push(g);if(g.yd)for(var n in g.yd){k=g.yd[n];Array.isArray(k) && k.forEach(d);}return f;};l.$Q=function(g,h){void 0 === g.yd[h.type] && (g.yd[h.type]=[]);g.yd[h.type].push(h);};l.Ln=function(g,h){return l.Kx(g,h)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{M:{get:function(){return this.Lb;},enumerable:!0,configurable:!0}});l.prototype.Eg=function(){var g;g=this.Lb.Ub();this.version=g >> 24;this.flags=g & 16777215;};l.prototype.$Q=function(g){l.$Q(this,g);};l.prototype.Kx=function(g){return l.Kx(this,g);};l.prototype.Ln=function(g){return l.Ln(this,g);};l.prototype.parse=function(){return !0;};l.prototype.CS=function(){return !0;};l.prototype.ro=function(g){if((g=this.yd[g]) && Array.isArray(g) && 1 === g.length)return g[0];};l.prototype.Pl=function(g,h){h=void 0 === h?this.Lb.offset:h;c.assert(h >= this.startOffset + 8 && h + g <= this.startOffset + this.lG,"Removal range [0x" + h.toString(16) + "-0x" + (h + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.lG).toString(16) + ")");this.Lb.Pl(g,h,this);};l.prototype.A8=function(g,h,d){d=void 0 === d?this.Lb.offset:d;c.assert(d >= this.startOffset + 8 && d + g <= this.startOffset + this.lG,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.lG).toString(16) + ")");this.Lb.A8(g,h,d,this);};l.prototype.X6a=function(g,h,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.eOa(g,h));}return f;}return this.eOa(g,h);};l.prototype.Hv=function(g){var h,d;d=this;void 0 === h && (h={});g.forEach(function(f){var n,k;if("offset" === f.type){n=f.offset;if(0 < n % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.Lb.offset+=n / 8;}else for(n in f){k=f[n];h[n]="string" === typeof k?d.X6a(k):d.X6a(k.type,k.length,k.Qqb);}});return h;};l.prototype.eOa=function(g,h){var d;d=this.byteLength - this.Lb.offset + this.startOffset;"undefined" === typeof h && (h=d);switch(g){case "int8":g=this.Lb.$c();break;case "int64":g=this.Lb.gk();break;case "int32":g=this.Lb.Ub();break;case "int16":g=this.Lb.ug();break;case "string":g=this.Lb.WVb(Math.min(h,d));break;default:throw Error("Invalid type: " + g);}return g;};l.Mc=!1;return l;})();b.zf=r;},function(r){var b;b={sb:function(a){return "number" === typeof a;},Mq:function(a){return "object" === typeof a;},rg:function(a){return "string" === typeof a;},bi:function(a){return "undefined" === typeof a;},Ucc:function(a){return "boolean" === typeof a;},up:function(a){return "function" === typeof a;},Tb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},QSb:function(a){var c,l;l=[];if(!b.Mq(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.zs=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var g=0,h=a.length;g < h;g++){c.call(l,a[g],g,a);}else for(g in a){b.has(a,g) && c.call(l,a[g],g,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qf="IsTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iw=b.$La=b.Rkb=b.xo=b.Me=b.ml=b.Nt=b.v=void 0;(function(a){a[a.Audio=0]="Audio";a[a.SLa=1]="Video";})(b.v || (b.v={}));(function(a){a[a.hw=0]="Default";a[a.ww=1]="Microsoft";})(b.Nt || (b.Nt={}));(function(a){a[a.hw=0]="Default";a[a.PH=1]="Chrome";a[a.ww=2]="Microsoft";})(b.ml || (b.ml={}));(function(a){a[a.tP=0]="SD";a[a.WY=1]="HD";a[a.wI=2]="UHD";a[a.Qt=3]="DV";a[a.ZH=4]="HDR10";a[a.gz=5]="AVCHigh";a[a.Fz=6]="VP9";a[a.ti=7]="AV1";})(b.Me || (b.Me={}));(function(a){a[a.OZ=0]="Level_1_4";a[a.ZC=1]="Level_2_2";})(b.xo || (b.xo={}));b.Rkb=function(){};(function(a){a[a.H9b=0]="Platform";a[a.X6b=1]="CurrentTitle";})(b.$La || (b.$La={}));b.iw="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wg="ClockSymbol";},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sda=b.Qh=b.pc=void 0;c=a(0);l=a(892);g=a(19);(function(h){h[h.Fj=0]="startPlayback";h[h.mj=1]="endPlayback";h[h.Zl=2]="underflow";})(b.pc || (b.pc={}));b.Qh={pr:"startplay",my:"midplay",Hx:"endplay",OT:"intrplay",px:"chgstrm",mM:"playbackaborted",$V:"renderstrmswitch",hC:"repos",vt:"resumeplay",NW:"statechanged",jE:"aseReport"};r=(function(){function h(d){this.config=d;this.FG=[];}h.prototype.bf=function(d){var f,n;n=c.__read(this.config.Uqb.filter(function(k){return k.nd === d.nd;}),1)[0];this.config.gBb && (null !== (f=null === n || void 0 === n?void 0:n.enabled) && void 0 !== f?f:d.enabled)?this.FG.push(d):d.Ra && d.Ra();};h.prototype.RHb=function(d){return (0,g.uc)(this.FG,function(f){return f.nd === d.nd;});};h.prototype.pj=function(d,f){var n,k,m,v,t;k={};m=[];try{for(var p=c.__values(this.FG),q=p.next();!q.done;q=p.next()){v=q.value;try{t=v.pj({rj:d,DB:f});t && (v.Wq?k[v.Wq]=t:k=c.__assign(c.__assign({},k),t));}catch(u){m.push(Error(("").concat(v.nd,"::").concat(u)));}}}catch(u){var w;w={error:u};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}m.length && (k["rpt-error"]=l.X$.stringify(new l.X$("Reporting error",m)));return k;};return h;})();b.sda=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$g="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dh="UtilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Haa="ConfigurableInputsSymbol";b.ll="ValidatingConfigurableInputsSymbol";b.lY="ConfigNameSymbol";b.NO="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oh="AsyncComponentLoaderSymbol";},function(r,b,a){var h,d;function c(f,n){return f && f.uB && (n || !1 !== f.av);}function l(f,n,k){return !h.sb(f) || f < n?n:f > k?k:f;}function g(f){if(!(this instanceof g))return new g(f);this.Mh=h.sb(f)?f:void 0;}h=a(24);d=new (a(5).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(f,n){if(!f)throw (f=n?" : " + n:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},nL:c,Uka:function(f,n,k){var p,q,v,t;function m(w){var u;u=f[w];if(!u.uB || k && !k(u,w))return !1;t=w;return !0;}p=f.length;q=0;v=p;h.isArray(n) && (q=l(n[0],0,p),v=l(n[1],0,p),n=n[2]);n=l(n,q - 1,v);for(p=n - 1;p >= q;--p){if(m(p))return t;}for(p=n + 1;p < v;++p){if(m(p))return t;}return -1;},eQb:function(f,n){return Math.floor(f / (125 * n) * 1E3);},Ssb:function(f,n){return Math.ceil(f / 1E3 * n * 125);},Vcc:function(f,n){return !f.slice(n + 1).some(c);},kn:g,uc:function(f,n){var k;return f.some(function(m,p,q){k=m;return n(m,p,q);})?k:void 0;},ks:function(f,n){var k;return f.some(function(m,p,q){k=p;return n(m,p,q);})?k:-1;},KJ:l};},function(r,b,a){var l;function c(g,h,d,f,n,k,m,p,q,v,t,w){this.code=void 0 === g?l.V.Co:g;this.cc=h;this.Lc=d;this.Dm=f;this.oy=n;this.message=k;this.details=m;this.data=p;this.oj=q;this.NTb=v;this.alert=t;this.Fga=w;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Jc=void 0;l=a(2);c.te=function(g){var h,d,f;if(g){h=g.stack;d=g.number;f=g.message;f || (f="" + g);h?(g="" + h,0 !== g.indexOf(f) && (g=f + "\n" + g)):g=f;d && (g+="\nnumber:" + d);return g;}return "";};c.prototype.YR=function(g){this.details=c.te(g);this.data=g;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.cc,extCode:this.Lc,edgeCode:this.Dm,mslCode:this.oy,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.oj,playbackServiceError:this.NTb};};c.nla=function(g,h){return new c(g,l.R.cl,void 0,void 0,void 0,void 0,h.message,h.stack);};c.Mcb=function(g,h){return new c(g,h,void 0,void 0,void 0,void 0,void 0,void 0);};c.q5b=function(g,h,d){return new c(g,h,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Jc=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gMa="WindowTimersSymbol";b.XC="JSONSymbol";b.LLa="UserAgentSymbol";b.jI="NavigatorSymbol";b.iib="MediaSourceSymbol";b.vEa="LocationSymbol";b.iAa="DateSymbol";b.Oca="PerformanceSymbol";b.g_="PlatformExtraInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(990),b);r.__exportStar(a(153),b);r.__exportStar(a(991),b);r.__exportStar(a(992),b);r.__exportStar(a(993),b);r.__exportStar(a(994),b);r.__exportStar(a(419),b);r.__exportStar(a(995),b);r.__exportStar(a(996),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$m=b.Xt=b.nw=void 0;(function(a){a[a.cLa=0]="Test";a[a.JDa=1]="Int";a[a.Akb=2]="Staging";a[a.Rjb=3]="Prod";})(b.nw || (b.nw={}));(function(a){a[a.pP=0]="PreferMsl";a[a.dJa=1]="PreferNoMsl";a[a.zib=2]="NoMsl";})(b.Xt || (b.Xt={}));b.$m="GeneralConfigSymbol";},function(r,b,a){var h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D;function c(E){var G,F,H;G=A(E,0,1);F=A(E,-1);if("%" === G && "%" !== F)throw new h("invalid intrinsic syntax, expected closing `%`");if("%" === F && "%" !== G)throw new h("invalid intrinsic syntax, expected opening `%`");H=[];z(E,C,function(K,O,I,P){H[H.length]=I?z(P,D,"$1"):O || K;});return H;}function l(){throw new f();}function g(E){try{return d('"use strict"; return (' + E + ").constructor;")();}catch(G){}}h=SyntaxError;d=Function;f=TypeError;n=Object.getOwnPropertyDescriptor;if(n)try{n({},"");}catch(E){n=null;}b=n?(function(){try{return (arguments.callee,l);}catch(E){try{return n(arguments,"callee").get;}catch(G){return l;}}})():l;k=a(302)();m=Object.getPrototypeOf || (function(E){return E.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:m(Uint8Array);v={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":k?m([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?m(m([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && k?m(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && k?m(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k?m(("")[Symbol.iterator]()):void 0,"%Symbol%":k?Symbol:void 0,"%SyntaxError%":h,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(E){b=m(m(E));v["%Error.prototype%"]=b;}t=function F(G){var H,K;if("%AsyncFunction%" === G)H=g("async function () {}");else if("%GeneratorFunction%" === G)H=g("function* () {}");else if("%AsyncGeneratorFunction%" === G)H=g("async function* () {}");else if("%AsyncGenerator%" === G){K=F("%AsyncGeneratorFunction%");K && (H=K.prototype);}else "%AsyncIteratorPrototype%" === G && (K=F("%AsyncGenerator%")) && (H=m(K.prototype));return v[G]=H;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(198);u=a(105);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,F){var H,K,O,I,P,N,J,L,R;if("string" !== typeof G || 0 === G.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof F)throw new f('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");H=c(G);K=0 < H.length?H[0]:"";O="%" + K + "%";I=O;if(u(w,I)){P=w[I];I="%" + P[0] + "%";}if(u(v,I)){N=v[I];N === p && (N=t(I));if("undefined" === typeof N && !F)throw new f("intrinsic " + O + " exists, but is not available. Please file an issue!");}else throw new h("intrinsic " + O + " does not exist!");O=N;I=!1;P && (K=P[0],x(H,y([0,1],P)));P=1;for(N=!0;P < H.length;P+=1){J=H[P];L=A(J,0,1);R=A(J,-1);if(('"' === L || "'" === L || "`" === L || '"' === R || "'" === R || "`" === R) && L !== R)throw new h("property names with quotes must have matching quotes");"constructor" !== J && N || (I=!0);K+="." + J;L="%" + K + "%";if(u(v,L))O=v[L];else if(null != O){if(!((J in O))){if(!F)throw new f("base intrinsic for " + G + " exists, but the property is not available.");return;}n && P + 1 >= H.length?(R=n(O,J),O=(N=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:O[J]):(N=u(O,J),O=O[J]);N && !I && (v[L]=O);}}return O;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wz="named";b.TZ="name";b.BP="unmanaged";b.vGa="optional";b.MO="inject";b.aD="multi_inject";b.XKa="inversify:tagged";b.YKa="inversify:tagged_props";b.xca="inversify:paramtypes";b.ifb="design:paramtypes";b.mP="post_construct";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={PC:"playready-h264mpl30-dash",QC:"playready-h264mpl31-dash",VY:"playready-h264mpl40-dash",dCa:"h264mpl30-dash-playready-prk-qc",eCa:"h264mpl31-dash-playready-prk-qc",fCa:"h264mpl40-dash-playready-prk-qc",bCa:"playready-h264hpl22-dash",PY:"playready-h264hpl30-dash",RY:"playready-h264hpl31-dash",TY:"playready-h264hpl40-dash",cCa:"h264hpl22-dash-playready-live",QY:"h264hpl30-dash-playready-live",SY:"h264hpl31-dash-playready-live",UY:"h264hpl40-dash-playready-live",Vda:"vp9-profile0-L21-dash-cenc",N_:"vp9-profile0-L30-dash-cenc",O_:"vp9-profile0-L31-dash-cenc",EP:"vp9-profile0-L40-dash-cenc",pba:"hevc-main10-L30-dash-cenc",qba:"hevc-main10-L31-dash-cenc",rba:"hevc-main10-L40-dash-cenc",sba:"hevc-main10-L41-dash-cenc",EO:"hevc-main10-L50-dash-cenc",FO:"hevc-main10-L51-dash-cenc",qZ:"hevc-main10-L30-dash-cenc-prk",tZ:"hevc-main10-L31-dash-cenc-prk",wZ:"hevc-main10-L40-dash-cenc-prk",zZ:"hevc-main10-L41-dash-cenc-prk",rZ:"hevc-main10-L30-dash-cenc-prk-do",uZ:"hevc-main10-L31-dash-cenc-prk-do",xZ:"hevc-main10-L40-dash-cenc-prk-do",AZ:"hevc-main10-L41-dash-cenc-prk-do",CZ:"hevc-main10-L50-dash-cenc-prk-do",EZ:"hevc-main10-L51-dash-cenc-prk-do",pZ:"hevc-main10-L30-dash-cenc-live",sZ:"hevc-main10-L31-dash-cenc-live",vZ:"hevc-main10-L40-dash-cenc-live",yZ:"hevc-main10-L41-dash-cenc-live",BZ:"hevc-main10-L50-dash-cenc-live",DZ:"hevc-main10-L51-dash-cenc-live",pY:"hevc-dv5-main10-L30-dash-cenc-prk",rY:"hevc-dv5-main10-L31-dash-cenc-prk",vO:"hevc-dv5-main10-L40-dash-cenc-prk",uY:"hevc-dv5-main10-L41-dash-cenc-prk",wY:"hevc-dv5-main10-L50-dash-cenc-prk",yY:"hevc-dv5-main10-L51-dash-cenc-prk",Qaa:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Raa:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Saa:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Taa:"hevc-dv5-main10-L51-dash-cenc-prk-qc",qY:"hevc-dv5-main10-L30-dash-cenc-prk-do",sY:"hevc-dv5-main10-L31-dash-cenc-prk-do",tY:"hevc-dv5-main10-L40-dash-cenc-prk-do",vY:"hevc-dv5-main10-L41-dash-cenc-prk-do",xY:"hevc-dv5-main10-L50-dash-cenc-prk-do",zY:"hevc-dv5-main10-L51-dash-cenc-prk-do",YY:"hevc-hdr-main10-L30-dash-cenc-prk",aZ:"hevc-hdr-main10-L31-dash-cenc-prk",DO:"hevc-hdr-main10-L40-dash-cenc-prk",fZ:"hevc-hdr-main10-L41-dash-cenc-prk",iZ:"hevc-hdr-main10-L50-dash-cenc-prk",lZ:"hevc-hdr-main10-L51-dash-cenc-prk",ZY:"hevc-hdr-main10-L30-dash-cenc-prk-do",bZ:"hevc-hdr-main10-L31-dash-cenc-prk-do",dZ:"hevc-hdr-main10-L40-dash-cenc-prk-do",gZ:"hevc-hdr-main10-L41-dash-cenc-prk-do",jZ:"hevc-hdr-main10-L50-dash-cenc-prk-do",mZ:"hevc-hdr-main10-L51-dash-cenc-prk-do",XY:"hevc-hdr-main10-L30-dash-cenc-live",$Y:"hevc-hdr-main10-L31-dash-cenc-live",cZ:"hevc-hdr-main10-L40-dash-cenc-live",eZ:"hevc-hdr-main10-L41-dash-cenc-live",hZ:"hevc-hdr-main10-L50-dash-cenc-live",kZ:"hevc-hdr-main10-L51-dash-cenc-live",exa:"av1-main-L20-dash-cbcs-prk",fxa:"av1-main-L21-dash-cbcs-prk",ez:"av1-main-L30-dash-cbcs-prk",fz:"av1-main-L31-dash-cbcs-prk",ZN:"av1-main-L40-dash-cbcs-prk",$N:"av1-main-L41-dash-cbcs-prk",XX:"av1-main-L50-dash-cbcs-prk",YX:"av1-main-L51-dash-cbcs-prk"};b.cd={iY:[b.H.PC,b.H.QC,b.H.VY],TX:[b.H.PY,b.H.RY,b.H.TY],SX:[b.H.QY,b.H.SY,b.H.UY],K$:[b.H.N_,b.H.O_,b.H.EP],J6b:[b.H.pba,b.H.qba,b.H.rba,b.H.sba,b.H.EO,b.H.FO],zaa:[b.H.qZ,b.H.tZ,b.H.wZ,b.H.zZ,b.H.EO,b.H.FO],Aaa:[b.H.rZ,b.H.uZ,b.H.xZ,b.H.AZ,b.H.CZ,b.H.EZ],yaa:[b.H.pZ,b.H.sZ,b.H.vZ,b.H.yZ,b.H.BZ,b.H.DZ],waa:[b.H.YY,b.H.aZ,b.H.DO,b.H.fZ,b.H.iZ,b.H.lZ],xaa:[b.H.ZY,b.H.bZ,b.H.dZ,b.H.gZ,b.H.jZ,b.H.mZ],vaa:[b.H.XY,b.H.$Y,b.H.cZ,b.H.eZ,b.H.hZ,b.H.kZ],bza:[b.H.pY,b.H.vO,b.H.wY,b.H.rY,b.H.uY,b.H.yY],cza:[b.H.qY,b.H.tY,b.H.xY,b.H.sY,b.H.vY,b.H.zY],dza:[b.H.ez,b.H.fz,b.H.ZN,b.H.$N,b.H.XX,b.H.YX]};b.pd={RC:"heaac-2-dash",nZ:"heaac-5.1-dash",SC:"heaac-2hq-dash",Mw:"xheaac-dash",tO:"ddplus-2.0-dash",nY:"ddplus-5.1-dash",uO:"ddplus-atmos-dash"};b.kl={kkb:"simplesdh",Jaa:"dfxp-ls-sdh",ZCa:"imsc1.1",Q_:"webvtt-lssdh-ios8",hI:"nflx-cmisc"};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.tSa=b.Yna=b.Yla=b.hma=b.r4=b.VCa=b.$jb=b.St=b.FCa=b.z_=b.y_=b.dMa=b.eMa=b.LGa=b.KY=b.TEMPORARY=b.Pt=void 0;c=a(14);l=a(8);g=a(165);b.Pt="cenc";b.TEMPORARY="temporary";b.KY="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.LGa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.eMa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.dMa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.y_="SW_SECURE_CRYPTO";b.z_="SW_SECURE_DECODE";b.FCa="HW_SECURE_DECODE";b.St="HW_SECURE_ALL";b.$jb={y_:"SW_SECURE_CRYPTO",z_:"SW_SECURE_DECODE",FCa:"HW_SECURE_DECODE",St:"HW_SECURE_ALL"};b.VCa=[b.St];b.r4=function(h){var d;d=h.getConfiguration();return [b.St,b.z_,b.y_].find(function(f){var n;return null === (n=d.videoCapabilities) || void 0 === n?void 0:n.some(function(k){return k.robustness === f;});});};b.hma=function(h){var d,k;try{for(var f=/\((\d[^)]+)\)/g,n;n=f.exec(h);){k=Number(n[1]);(0,c.sb)(k) && (d=k);}}catch(m){}return d;};b.Yla=function(h){var d;d={};try{h.forEach(function(f){var n,k;if(f.RE){for(var m=(0,l.hx),p=f.RE,q=0,v=new Uint8Array(16),t=0;t < p.length;t+=2){v[q++]=parseInt(p.slice(t,t + 2),16);}m=m(v);f=null !== (n=f.height) && void 0 !== n?n:f.yta;d[m]=Math.max(f,null !== (k=d[m]) && void 0 !== k?k:0);}});}catch(f){}return d;};b.Yna=function(h){return g.wd.ti.test(h);};b.tSa=function(h){return h.robustness?h.keySystem + "." + h.robustness:h.keySystem;};},function(r,b,a){var n,k,m,p,q,v;function c(){var t,w;if(t=b.y4.bOa)return t;t=p.WZ.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.y4.bOa=t;}function l(t){for(var w=/[+]/g,u=(t || "").split("&"),y={},x,z=0;z < u.length;z++){t=(0,m.trim)(u[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(w,"%20")):y[t.toLowerCase()]=null;}return y;}function g(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function h(t){return g(t.constructor);}function d(t){return p.sort.call(t,function(w,u){return w - u;});}function f(t){for(var w=0,u=t.length;u--;){w+=t[u];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.nUb=b.tF=b.yXa=b.F5=b.iUb=b.q0a=b.reb=b.seb=b.TDb=b.FJ=b.ivb=b.M3=b.bDb=b.jG=b.Jdb=b.bO=b.Kdb=b.aY=b.Idb=b.dLb=b.createElement=b.NR=b.QUb=b.Oqa=b.Dla=b.getFunctionName=b.uV=b.y4=b.KHb=b.P6a=b.oPa=b.DSa=b.UVb=b.vA=b.kSa=void 0;n=a(16);k=a(8);m=a(22);p=a(12);q=a(14);v=a(41);b.kSa=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var u in t){if(t.hasOwnProperty(u) && (!w.hasOwnProperty(u) || t[u] !== w[u]))return !1;}return !0;};b.vA=b.vA || (function(t,w){if(t.length == w.length){for(var u=t.length;u--;){if(t[u] != w[u])return !1;}return !0;}return !1;});b.UVb=function(t){var w;if(t){w=t.length;if(w)return (w=(0,m.K6a)(0,w - 1),t[w]);}};b.DSa=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var u=t.length;u--;){if(t[u] !== w[u])return !1;}return !0;};b.oPa=function(t,w,u){function y(){t.removeEventListener(w,y);u.apply(this,arguments);}t.addEventListener(w,y);};b.P6a=function(){var t,w,u,y,x,z;t=p.Ig.cookie.split("; ");w=t.length;x={};for(u=0;u < w;u++){if(y=(0,m.trim)(t[u])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.KHb=c;b.y4=Object.assign(c,{bOa:void 0});b.uV=l;b.getFunctionName=g;b.Dla=h;b.Oqa=function(t){var w;w="";(0,q.isArray)(t) || (0,q.uoa)(t)?w=p.reduce.call(t,function(u,y){return u + (32 <= y && 128 > y?(0,p.TKa)(y):".");},""):(0,q.rg)(t)?w=t:(0,m.Wf)(t,function(u,y){w+=(w?", ":"") + "{" + u + ": " + ((0,q.up)(y)?g(y) || "function":y) + "}";});return "[" + h(t) + " " + w + "]";};b.QUb=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.NR=b.NR || (function(t){var w;w="";(0,m.Wf)(t,function(u,y){w+=(w?";":"") + u + ":" + y;});return w;});b.createElement=b.createElement || (function(t,w,u,y){var x;x=p.Ig.createElement(t);w && (x.style.cssText=w);u && (x.innerHTML=u);y && (0,m.Wf)(y,function(z,A){x.setAttribute(z,A);});return x;});b.dLb=function(t,w){var u;u=t[0];if(w <= u[0])return u.slice(1);for(var y=1,x;x=t[y++];){if(w <= x[0]){t=(w - u[0]) / (x[0] - u[0]);w=[];for(y=1;y < u.length;y++){w.push((u[y] || 0) + t * ((x[y] || 0) - (u[y] || 0)));}return w;}u=x;}return u.slice(1);};b.Idb=function(t,w){var x;for(var u={},y=0;y < w.length;y++){x=w[y];if("string" != typeof x && "number" != typeof x)return !1;u[w[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!u[x]))return !1;}return !0;};b.aY=d;b.Kdb=f;b.bO=function(t,w){var u,y,x,z;u=-1;y=t.length;if(1 === arguments.length){for(;++u < y && !(null != (x=t[u]) && x <= x);){x=void 0;}for(;++u < y;){null != (z=t[u]) && z > x && (x=z);}}else {for(;++u < y && !(null != (x=w.call(t,t[u],u)) && x <= x);){x=void 0;}for(;++u < y;){null != (z=w.call(t,t[u],u)) && z > x && (x=z);}}return x;};b.Jdb=function(t,w){var u,y,x,z;u=-1;y=t.length;if(1 === arguments.length){for(;++u < y && !(null != (x=t[u]) && x <= x);){x=void 0;}for(;++u < y;){null != (z=t[u]) && x > z && (x=z);}}else {for(;++u < y && !(null != (x=w.call(t,t[u],u)) && x <= x);){x=void 0;}for(;++u < y;){null != (z=w.call(t,t[u],u)) && x > z && (x=z);}}return x;};b.jG=function(t){return (0,q.up)(t.then)?t:new Promise(function(w,u){t.oncomplete=function(){w(t.result);};t.onerror=function(){u(t.error);};});};b.bDb=function(t,w){var y,x,z,A,B,C;function u(D){0 > y.indexOf(D) && (0,q.sb)(D) && y.push(D);}t=t.slice();d(t);y=[];if(!w || !w.length)return t;if(!t.length)return [];x=w.length;try{for(;x--;){A="" + w[x];B=(0,m.Ni)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < B){u(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > B)){u(C);break;}}break;default:0 <= t.indexOf(B) && u(B);}}}catch(D){}y.length || y.push(t[0]);d(y);return y;};b.M3=b.M3 || (function(t,w,u){var y;if(t / w > u){y=(0,p.dn)(w * u);t=w;}else (y=t,t=(0,p.dn)(t / u));return {width:y,height:t};});b.ivb=function(t,w,u){for(var y=[],x=0;x < w;x++){y.push((0,p.jFa)(t[x] - u,2));}return (0,p.kFa)(f(y) / y.length);};b.FJ=function(t,w){var u;u=t.length;w=(u - 1) * w + 1;if(1 === w)return t[0];if(w == u)return t[u - 1];u=(0,p.gI)(w);return t[u - 1] + (w - u) * (t[u] - t[u - 1]);};b.TDb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var u=t.length,y=0;y < u;y++){for(var x=0;x < w.length;x++){if(t[y].type == w[x])return t[y];}}throw Error("Box not found " + w);};b.seb=function(t){return t.MFb("trak/mdia/minf/stbl/stsd/" + n.Kya + "|" + n.Lya).children.filter(function(w){return "sinf" == w.type && w.$bc.schm.Tec == v.Pt;})[0].MFb("schi/tenc").Wn;};b.reb=function(t){var u;function w(y,x){var z;z=u[y];u[y]=u[x];u[x]=z;}u=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return u;};b.q0a=function(){return (0,q.up)(p.je.requestMediaKeySystemAccess);};b.iUb=function(t){return function(w){return w && w[t];};};(0,q.up)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var u,y;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);u=new ArrayBuffer(w - t);y=new Uint8Array(u);t=new Uint8Array(this,t,w - t);y.set(t);return u;});b.F5=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.yXa=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.tF=function(){var t,w,u;try{t=/playercore.*js/;w=p.Yt.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(w && 0 < w.length){u=(0,p.dn)(w[0].duration);return JSON.stringify(u);}}catch(y){}};b.nUb=function(t,w,u){if(t && t.length){if(u && u.pub)try{t.forEach(function(y,x){var z;z=(x=u.pub[x]) && x.media;z && (0,q.rg)(z)?(!1,z=(0,k.kq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:w,qc:x.cdn}):k.log.warn("chunk not in cache",y.sg);});}catch(y){k.log.error("error reading cached chunks",y);}else k.log.warn("chunks not available in cached stream",u.type);}else k.log.warn("chunks not available in mediabuffer",u.type);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hn="PlatformSymbol";b.h_="PlatformMutableSymbol";},function(r,b,a){var h,d,f;function c(n){return function(k,m){return k.Qsa(m,n);};}function l(n,k){return n.l8.OVb[k] || g(n,k);}function g(n,k){n=n.Ux.data[k];switch(typeof n){case "undefined":break;case "string":case "number":case "boolean":return n.toString();default:return JSON.stringify(n);}}Object.defineProperty(b,"__esModule",{value:!0});b.dx=b.Wsa=b.object=b.hCb=b.url=b.va=b.ck=b.iwa=b.fLb=b.eH=b.string=b.Wy=b.Kc=b.kB=b.config=void 0;h=a(51);d=a(3);f=a(137);b.config=function(n,k,m){m=void 0 === m?!1:m;return function(p,q,v){var t,w;t=void 0 !== k?k:q;w=v.get;void 0 !== w && (v.get=function(){var u;if(!this.XLb(q))return this.UHb(q);a:{u=(this.vqb || m?l:g)(this,t.toString());if(void 0 !== u)if((u=n(this.$U,u),u instanceof f.yo))this.vWa(t,u);else break a;u=w.bind(this)();}this.Fta(q,u);return u;});return v;};};b.kB=function(n,k){return n.T6a(k);};b.Kc=function(n,k){return n.Nsa(k);};b.Wy=function(n,k){return n.Hp(k);};b.string=function(n,k){return n.Qsa(k);};b.eH=function(n,k){return n.uj(k,b.string);};b.fLb=function(n,k){return n.uj(k,b.kB);};b.iwa=function(n,k){return n.uj(k,b.Wy);};b.ck=function(n,k){n=n.Hp(k);return n instanceof f.yo?n:(0,d.Jb)(n);};b.va=function(n,k){n=n.Hp(k);return n instanceof f.yo?n:(0,h.va)(n);};b.url=c(/^\S+$/);b.hCb=function(n){return function(k,m){return k.S6a(m,n);};};b.object=function(){return function(n,k){return n.U6a(k);};};b.Wsa=c;b.dx=function(n,k){return function(m,p){return m.uj(p,n,k);};};},function(r,b,a){var g,h,d,f;function c(n,k){var m;m=f.call(this,n,k) || this;m.ySa=k;m.debug=n.debug;m.la=n.tf.Sa(m.ySa);return m;}function l(n,k){this.ySa=k;this.Bsa={};this.Ux=n.Ux;this.$U=n.$U;this.l8=n.l8;}Object.defineProperty(b,"__esModule",{value:!0});b.Le=b.hO=b.ZKa=void 0;r=a(0);g=a(706);h=a(1);d=a(137);b.ZKa="isTestAccount";l.prototype.vWa=function(){};l.prototype.Fta=function(n,k){this.Bsa[n]=[k,this.Ux.L8];};l.prototype.XLb=function(n){return g.wca.of(this.Bsa[n]).map(function(k){return k[1];}).or(-1) < this.Ux.L8;};l.prototype.UHb=function(n){return g.wca.of(this.Bsa[n]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Sa.Object.defineProperties(l.prototype,{vqb:{configurable:!0,enumerable:!0,get:function(){var n,k;if(this && this.Ux && this.Ux.data){n=this.Ux.data[b.ZKa];"undefined" !== typeof n && (k=n.toString());n=this.$U.Nsa(k);n=n instanceof d.yo?!1:n;}else n=!1;return n;}}});f=l;f=r.__decorate([(0,h.U)(),r.__param(0,(0,h.Xm)()),r.__param(1,(0,h.Xm)())],f);b.hO=f;ha(c,f);c.prototype.vWa=function(n,k){this.la.error("Invalid configuration value.",{name:n},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,h.Xm)()),r.__param(1,(0,h.Xm)())],a);b.Le=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wi="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v=void 0;b.v={ga:0,Z:1,Za:2};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qba="LogBatcherConfigSymbol";b.dm="LogBatcherSymbol";b.yEa="LogBatcherProviderSymbol";},function(r,b,a){var h,d,f;function c(n){var k,m,p,t;p=Object.getOwnPropertyNames(n);for(n=Object.getPrototypeOf(n);n !== Object.prototype;){try{for(var q=(k=void 0,h.__values(Object.getOwnPropertyNames(n))),v=q.next();!v.done;v=q.next()){t=v.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){k={error:w};}finally{try{v && !v.done && (m=q.return) && m.call(q);}finally{if(k)throw k.error;}}n=Object.getPrototypeOf(n);}return p;}function l(n,k,m,p,q){var v;Object.getOwnPropertyNames(n).filter(function(t){return q(t) && (m || !Object.prototype.hasOwnProperty.call(k,t)) && (p || !((t in k)));}).forEach(function(t){v=Object.getOwnPropertyDescriptor(n,t);void 0 !== v && Object.defineProperty(k,t,v);});}function g(n,k,m,p){var q,v;q=[];m || (q=Object.getOwnPropertyNames(k));p || (q=c(k));v=Object.getPrototypeOf(n);null !== v && v !== Object.prototype && g(v,k,m,p);l(n,k,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.si=b.Fvb=void 0;h=a(0);d=a(4);b.Fvb=g;f=Object.getOwnPropertyNames(Function);b.si=function(n,k,m,p){void 0 === m && (m=!0);void 0 === p && (p=!0);p || (0,d.assert)(!m);n.prototype?(g(n.prototype,k.prototype,m,p),l(n,k,m,p,function(q){return -1 === f.indexOf(q);})):l(n,k.prototype,m,p,function(q){return -1 === f.indexOf(q);});return k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.il="PboCommandContextSymbol";},function(r,b,a){var g;function c(){return g.CP.apply(this,arguments) || this;}function l(h){return new g.Lr(h,b.JC);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.KFa=b.Kba=b.Ot=b.JC=b.nPb=b.IMb=b.va=b.mq=b.Ceb=void 0;g=a(314);ha(c,g.CP);b.Ceb=c;b.mq=l;b.va=function(h){return new g.Lr(h,b.Ot);};b.IMb=function(h){return new g.Lr(h,b.Kba);};b.nPb=function(h){return new g.Lr(h,b.KFa);};b.JC=new c(1,"b");b.Ot=new c(8 * b.JC.cg,"B",b.JC);b.Kba=new c(1024 * b.Ot.cg,"KB",b.JC);b.KFa=new c(1024 * b.Kba.cg,"MB",b.JC);b.Ia=l(0);},function(r,b,a){var c,l;c=a(121);l=a(163);r.exports=function(g){return function n(d,f){switch(arguments.length){case 0:return n;case 1:return l(d)?n:c(function(k){return g(d,k);});default:return l(d) && l(f)?n:l(d)?c(function(k){return g(k,f);}):l(f)?c(function(k){return g(d,k);}):g(d,f);}};};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(113);b.default={y6b:{eu:0,U9b:1,name:["STARTUP","STEADY"]},oZ:{Lj:0,T9b:1,Nkb:2,name:["STARTING","STABLE","UNSTABLE"]},cn:{ga:r.v.ga,Z:r.v.Z,Za:r.v.Za,name:["AUDIO","VIDEO","TEXT"]},t8b:{ga:r.v.ga,Z:r.v.Z,Za:r.v.Za,name:["AUDIO","VIDEO","TEXT"]},Hg:{URL:0,nD:1,LOCATION:2,yw:3,name:["URL","SERVER","LOCATION","NETWORK"]},fl:{HAVE_NOTHING:0,YH:1,XH:2,CO:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},du:{g6b:0,U7b:1,y9b:2,V8b:3,s9b:4,t$b:5,Z7b:6,s8b:7,eu:8,wh:9,Eca:10,Bjb:11,oaa:12,Hhb:13,Ghb:14,ikb:15,hkb:16,Mhb:17,zkb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},w7b:{yw:0,Y6b:1,name:["NETWORK","DECODE"]},R9b:{Z6b:"delayedSeamless",g8b:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.Yn=b.S0b=b.n4a=void 0;b.n4a=function(a,c){return a - c;};b.S0b=function(a,c){return a.localeCompare(c);};b.Yn=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ea(a));};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lfb="Cannot apply @injectable decorator multiple times.";b.Mfb="Metadata key was used more than once in a parameter:";b.hP="NULL argument";b.QDa="Key Not Found";b.gdb="Ambiguous match found for serviceIdentifier:";b.Deb="Could not unbind serviceIdentifier:";b.rib="No matching bindings found for serviceIdentifier:";b.Uhb="Missing required @injectable annotation in:";b.Vhb="Missing required @inject or @multiInject annotation in:";b.Mkb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Geb="Circular dependency found:";b.X8b="Sorry, this feature is not fully implemented yet.";b.nhb="Invalid binding type:";b.tib="No snapshot available to restore.";b.rhb="Invalid return type in middleware. Middleware must return!";b.qhb="Value provided to function binding must be a function!";b.shb="The toSelf function can only be applied when a constructor is used as service identifier";b.ohb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.jdb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Veb="Invalid Container constructor argument. Container options must be an object.";b.Teb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Seb="Invalid Container option. Auto bind injectable must be a boolean";b.Ueb="Invalid Container option. Skip base check must be a boolean";b.gib="Cannot apply @postConstruct decorator multiple times in the same class";b.Ajb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Heb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.okb="Maximum call stack size exceeded";},function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.cm=b.Oa=b.$i=void 0;(function(g){g[g.em=0]="STANDARD";g[g.bn=1]="LIMITED";g[g.x9b=2]="PREVIEW";})(c || (c={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(g){g.udb="asl_start";g.sdb="asl_comp";g.c6b="asl_exc";g.tdb="asl_fail";g.rkb="stf_creat";g.Xgb="idb_open";g.Ugb="idb_block";g.dhb="idb_upgr";g.chb="idb_succ";g.Vgb="idb_error";g.Wgb="idb_invalid_state";g.Zgb="idb_open_timeout";g.ahb="idb_open_wrkarnd";g.bhb="idb_storelen_exc";g.Ygb="idb_open_exc";g.$gb="idb_timeout_invalid_storelen";g.aib="msl_load_data";g.cib="msl_load_no_data";g.bib="msl_load_failed";})(r=b.$i || (b.$i={}));(function(g){g.Aca="PlaybackRequestStart";g.zca="PlaybackRequestEnd";g.p_="RequestPrefetchManifestStart";g.o_="RequestPrefetchManifestEnd";g.n_="RequestManifestStart";g.m_="RequestManifestEnd";g.l_="RequestLicenseStart";g.k_="RequestLicenseEnd";g.nO="RequestTimedTextUrlStart";g.mO="RequestTimedTextUrlEnd";g.lO="RequestAudioUrlStart";g.kO="RequestAudioUrlEnd";g.pO="RequestVideoUrlStart";g.oO="RequestVideoUrlEnd";g.M$="AppendBufferStart";g.L$="AppendBufferEnd";g.vda="SetMediaKeysStart";g.uda="SetMediaKeysEnd";g.NY="GenerateChallengeStart";g.MY="GenerateChallengeEnd";g.VX="ApplyLicenseStart";g.UX="ApplyLicenseEnd";})(b.Oa || (b.Oa={}));b.cm=a;a.Lba=c;a.KSa=function(g){return ["STANDARD","LIMITED","PREVIEW"][g];};a.$i=r;a.GO=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Soa=b.xh=void 0;(function(a){a[a.em=0]="STANDARD";a[a.bn=1]="LIMITED";})(b.xh || (b.xh={}));b.Soa=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.K4=b.Cq=b.L4=b.ZA=b.Ek=b.$d=void 0;r=a(71);c=a(59);l=a(12);b.$d=new r.Vi();b.Ek=1;b.ZA=2;b.L4=3;b.Cq=4;b.K4=5;(0,c.If)(function(){var h,d,f;function g(n,k){if(d)d.on(n,k);else mb.addEventListener(n,k);}h=mb.jQuery;d=h && h(mb);h=(h=mb.netflix) && h.cadmium && h.cadmium.addBeforeUnloadHandler;f=l.Ig.hidden;h?h(function(n){b.$d.zc(b.Ek,n);}):g("beforeunload",function(n){b.$d.zc(b.Ek,n);});g("keydown",function(n){b.$d.zc(b.ZA,n);});g("resize",function(){b.$d.zc(b.L4);});l.Ig.addEventListener("visibilitychange",function(){f !== l.Ig.hidden && (f=l.Ig.hidden,b.$d.zc(b.Cq));});});(function(){mb.addEventListener("error",function(g){b.$d.zc(b.K4,g);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.If=void 0;b.If=function(a){return setTimeout(a,0);};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(384),b);r.__exportStar(a(385),b);r.__exportStar(a(175),b);r.__exportStar(a(877),b);r.__exportStar(a(146),b);},function(r,b,a){var l,g,h,d,f;function c(){return l.Zb.get(h.Gc).cy.ca(f.na);}Object.defineProperty(b,"__esModule",{value:!0});b.Mub=b.m2=b.ZRa=b.Kub=b.Lub=b.tia=b.um=void 0;l=a(203);g=a(27);h=a(17);d=a(84);f=a(3);b.um=function(){return l.Zb.get(h.Gc).Db().ca(f.na);};b.tia=function(){return l.Zb.get(g.wg).se.ca(f.fm);};b.Lub=function(){return l.Zb.get(h.Gc).cy.ca(f.fm);};b.Kub=function(){return l.Zb.get(d.qw).zx();};b.ZRa=c;b.m2=function(){return l.Zb.get(g.wg).se.ca(f.na);};b.Mub=function(){return c();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vp="EmeConfigSymbol";},function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Bz=b.Xp=void 0;ha(a,Error);b.Xp=a;b.Bz="PromiseTimerSymbol";},function(r,b,a){var l,g;function c(h,d){var f;f=b.jn[0];f == d && (f=b.jn[1]);f?f.close(function(){c(h,d);}):h && h(l.eg);}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=b.hIa=b.Tca=b.Uca=b.Az=b.Vca=b.iIa=b.Yca=b.Xca=b.jn=b.lIa=b.Wca=void 0;l=a(16);g=a(20);b.Wca=c;b.lIa=function(h,d){switch(h){case b.iIa:b.Xca.push(d);return;case b.Vca:b.Yca.push(d);return;}(0,g.ma)(!1);};b.jn=[];b.Xca=[];b.Yca=[];b.iIa=1;b.Vca=3;b.Az={index:0,w3a:void 0,$ka:void 0};b.Uca="network";b.Tca="media";b.hIa="timedtext";b.jIa="playback";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tt=b.iP=b.ResponseType=void 0;b.ResponseType={Text:1,K$b:2,geb:3};b.iP="OPEN_CONNECT_APPLIANCE";b.Tt="LegacyHttpSymbol";},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cQb=b.platform=b.Hf=b.iCb=b.LGb=b.fT=b.QK=b.lOb=b.JU=b.C6=b.rb=b.v=b.mz=b.yc=b.AP=b.Qh=b.pc=b.$O=b.fu=b.FP=void 0;c=a(0);c.__exportStar(a(377),b);c.__exportStar(a(862),b);c.__exportStar(a(863),b);l=a(143);Object.defineProperties(b,{FP:{enumerable:!0,get:function(){return l.FP;}}});Object.defineProperties(b,{fu:{enumerable:!0,get:function(){return l.fu;}}});Object.defineProperties(b,{$O:{enumerable:!0,get:function(){return l.$O;}}});c.__exportStar(a(875),b);c.__exportStar(a(876),b);c.__exportStar(a(382),b);c.__exportStar(a(241),b);c.__exportStar(a(21),b);c.__exportStar(a(60),b);c.__exportStar(a(386),b);c.__exportStar(a(387),b);c.__exportStar(a(391),b);g=a(28);Object.defineProperties(b,{pc:{enumerable:!0,get:function(){return g.pc;}}});Object.defineProperties(b,{Qh:{enumerable:!0,get:function(){return g.Qh;}}});h=a(893);Object.defineProperties(b,{AP:{enumerable:!0,get:function(){return h.AP;}}});c.__exportStar(a(243),b);d=a(7);Object.defineProperties(b,{yc:{enumerable:!0,get:function(){return d.yc;}}});Object.defineProperties(b,{mz:{enumerable:!0,get:function(){return d.mz;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return d.v;}}});Object.defineProperties(b,{rb:{enumerable:!0,get:function(){return d.rb;}}});Object.defineProperties(b,{C6:{enumerable:!0,get:function(){return d.C6;}}});Object.defineProperties(b,{JU:{enumerable:!0,get:function(){return d.JU;}}});b.lOb=function(n){b.platform.vna(n);};b.QK=function(n){b.platform.vna(n);return Promise.resolve().then(function(){return c.__importStar(a(394));}).then(function(k){return k.QK();});};b.fT=function(n,k){b.platform.vna(n);return Promise.resolve().then(function(){return c.__importStar(a(417));}).then(function(m){return m.fT(k);});};b.LGb=function(){return a(413);};r=c.__importDefault(a(53));b.iCb=r.default;r=a(1132);b.Hf=r.Hf;r=c.__importDefault(a(5));b.platform=r.default;f=a(1133);b.cQb=function(){return {Mr:f.Mr};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xg={kpa:"logblob",X:"manifest",aNb:"licensedmanifest",Og:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Yjb={KJa:"X-Netflix.Request.Attempt",tda:"X-Netflix.Client.Request.Name",Sya:"x-netflix.browsername",Tya:"x-netflix.browserversion",wGa:"x-netflix.osname",xGa:"x-xetflix.osversion",Dza:"x-netflix.clienttype",FLa:"x-netflix.uiversion"};b.Cz={KJa:"reqAttempt",tda:"reqName",Sya:"browsername",Tya:"browserversion",wGa:"osname",xGa:"osversion",Dza:"clienttype",FLa:"uiversion"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);r=(function(){function l(g,h){this.key=g;this.value=h;}l.prototype.toString=function(){return this.key === c.wz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yp="Utf8EncoderSymbol";},function(r,b,a){var l,g,h;function c(d,f){this.uu=f?[f]:[];this.Yea="$op$" + h++;this.Pa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Fb=void 0;l=a(16);g=a(20);h=0;c.prototype.addListener=function(d,f){var n;n=this;(0,g.nja)(d);(0,g.ma)(0 > this.uu.indexOf(d));d[l.a_ + this.Yea]=f;this.uu=this.uu.slice();this.uu.push(d);this.uu.sort(function(k,m){return n.e0b(k,m);});};c.prototype.removeListener=function(d){var f;(0,g.nja)(d);this.uu=this.uu.slice();0 <= (f=this.uu.indexOf(d)) && this.uu.splice(f,1);};c.prototype.set=function(d,f){var n;if(this.Pa !== d){n={oldValue:this.Pa,newValue:d,Eh:f};this.Pa=d;this.Mlb=f;d=this.uu;f=d.length;for(var k=0;k < f;k++){d[k](n);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(n){function k(m){if(d(m.newValue))return (f.removeListener(k),n(m.newValue));}if(d(f.Pa))return n(f.Pa);f.addListener(k);});};c.prototype.e0b=function(d,f){return (d[l.a_ + this.Yea] || 0) - (f[l.a_ + this.Yea] || 0);};Sa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Pa;}},Eh:{configurable:!0,enumerable:!0,get:function(){return this.Mlb;}}});b.Fb=c;},function(r,b,a){var l,g;function c(){var h,d;h=this;this.Wr={};this.on=function(f,n,k){h.addListener(f,n,k);};this.addListener=function(f,n,k){h.Wr && (h.Wr[f]=h.Wr[f] || new g.jda(!0)).add(n,k);};this.removeListener=function(f,n){h.Wr && h.Wr[f] && h.Wr[f].removeAll(n);};this.Nla=function(f){return h.Wr && h.Wr[f]?h.Wr[f].flatten():[];};d=this;this.zc=function(f,n,k){var m;if(d.Wr){m=d.Nla(f);for(f={IH:0};f.IH < m.length;(f={IH:f.IH},f.IH++)){k?(function(p){return function(){var q;q=m[p.IH];(0,l.If)(function(){q(n);});};})(f)():m[f.IH].call(this,n);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Vi=void 0;l=a(59);g=a(346);c.prototype.jh=function(){this.Wr=void 0;};b.Vi=c;},function(r,b,a){var l,g,h,d;function c(f,n,k){var m,p,t;n=l.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{q4a:n,iq:k}));if((null === f || void 0 === f?0:f.iq) && k)if(!0 === f.iq)n.args=k;else {p={};n.args=p;try{for(var q=l.__values(f.iq),v=q.next();!v.done;v=q.next()){t=v.value;p[t]=k[t];}}catch(u){var w;w={error:u};}finally{try{v && !v.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.gu=b.Mma=b.Pb=void 0;l=a(0);g=a(9);h=l.__importDefault(a(5));d=a(10);b.Pb=function(f){return function(n,k,m){var p;p=m.value;m.value=function(){var q,v,t,w,u,y;v=(0,b.Mma)(this);if(v)(t=c(f,this,arguments),w=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(k),u=v.pPa(w,t,null === f || void 0 === f?void 0:f.Vj,null === f || void 0 === f?void 0:f.Icc));q=null === v || void 0 === v?void 0:v.gja;v && (v.gja=u);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,d.poa)(y) && (y=y.then(function(z){u && (null === f || void 0 === f?0:f.return) && (u.data.resolve=z);return z;},function(z){u && (u.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{v && (v.gja=q);u && (u.data || (u.data={}),x?(u.data.error=("").concat(x),null === v || void 0 === v?void 0:v.ovb(u)):(null === f || void 0 === f?0:f.return) && !(0,d.poa)(y) && (u.data.lRet=y));}};};};b.Mma=function(f){if(null === f || void 0 === f?0:f.dea)return f.dea;};r=(function(){function f(n){this.vp=[];this.x0=!1;this.Xea={};this.W=l.__assign({$n:10},n);Object.defineProperties(n.Pm,{dea:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.W.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.x0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wMb:{get:function(){return l.__spreadArray([],l.__read(this.vp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{JJb:{get:function(){return this.Xea;},enumerable:!1,configurable:!0}});f.prototype.js=function(n){var k,m;if(!this.x0){m=null === (k=(0,b.Mma)(this.W.Pm)) || void 0 === k?void 0:k.gja;m && (m.data=l.__assign(l.__assign({},m.data),n));}};f.prototype.pPa=function(n,k,m,p){var q,v,t,w;if(!this.x0){t=!1;w=null === (v=(q=this.W).tPa) || void 0 === v?void 0:v.call(q,this.W.Pm);q=c({},this.W.Pm);k=l.__assign(l.__assign(l.__assign({},w),q),k);w=0 < Object.keys(k).length;k={methodName:n,data:w?k:void 0,time:h.default.time.Ca()};p && this.Xea[n]++;m && this.vp.length && (m=this.vp[this.vp.length - 1],m.methodName === n && (m.data=m.data || ({}),m.data.dedup=m.data.dedup || ({hitCount:1}),m.data.dedup.hitCount++,m.data.dedup.lJournal=k,t=!0));this.pvb(k);t || this.vp.push(k);this.vp.length > this.W.$n && this.vp.shift();return k;}};f.prototype.pvb=function(n){var k;g.I && (null === (k=this.W.console) || void 0 === k?void 0:k.trace(("").concat(this.W.source,"::").concat(n.methodName),n.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.W,n);};f.prototype.ovb=function(n){var k;g.I && (null === (k=this.W.console) || void 0 === k?void 0:k.error(("").concat(this.W.source,"::").concat(n.methodName),n.data));};f.prototype.Ra=function(){Object.defineProperties(this.W.Pm,{dea:{enumerable:!1,value:null,configurable:!0}});this.x0=!0;this.clear();};f.prototype.clear=function(){this.vp=[];this.Xea={};};return f;})();b.gu=r;},function(r,b,a){var l,g,h,d,f;function c(n,k,m){this.context=n;this.errorCode=k;this.cYb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ah=void 0;r=a(0);l=a(1);g=a(526);h=a(3);d=a(34);f=a(37);c.prototype.send=function(n,k,m,p,q,v){var t;t=this;v=void 0 === v?f.Xt.pP:v;return this.RFb(n,k,m,v,p,q).then(function(w){return t.context.mAb.send(w.context,w.request);});};c.prototype.RFb=function(n,k,m,p,q,v){var t,w;try{t=this.context.xXb.create(this.context.Sx.zx(),k.url,m,q,p);w=this.Lsb(k,n,p,v);return Promise.resolve({context:w,request:t});}catch(u){return Promise.reject(u);}};c.prototype.Lsb=function(n,k,m,p){return {De:this.context.De,log:k,vm:n.name,url:this.context.g4b((0,g.YQa)(this.context.hh,this.context.Pg,n.name,m)),Ita:this.cYb,timeout:(0,h.th)(59),headers:(0,g.XQa)(this.context.Pg,this.context.ME),wj:n.wj,gsb:p};};c.prototype.Al=function(n){return n instanceof d.Jc?n:(0,g.Al)(this.errorCode,n);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.Xm)()),r.__param(1,(0,l.Xm)()),r.__param(2,(0,l.Xm)())],a);b.ah=a;},function(r,b,a){var l,g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RH=b.hb=void 0;l=a(122);g=a(34);h=a(2);c.YS=function(d){if(d){if(d.includes(b.RH.xy))return l.qk.xy;if(d.includes("fps"))return l.qk.OA;if(d.includes(b.RH.LX))return l.qk.LX;}throw new g.Jc(h.V.ggb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.Kla=function(d){switch(d){case l.qk.xy:return b.RH.xy;case l.qk.OA:return b.RH.OA;default:return b.RH.LX;}};b.hb=c;c.Ew="com.microsoft.playready";c.xd="com.microsoft.playready.hardware";c.jD="com.microsoft.playready.software";c.xgb="com.apple.fps.2_0";c.R_="com.widevine.alpha";c.Xkb="com.widevine.alpha.experiment";c.Sca="com.microsoft.playready.recommendation.3000";c.eIa="com.microsoft.playready.recommendation.2000";c.Ogb=[c.Sca];b.RH={OA:"fairplay",LX:"widevine",xy:"playready"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(228);c=a(140);b.g7b=c;c=a(367);b.ELa=c;c=a(371);b.mR=c;b.Bda=r.SL.yd.sidx;r=a(802);b.Mr=r.Mr;r=a(237);b.dD=r.dD;r=a(807);b.xw=r.xw;b.CL=r.CL;r=a(808);b.Iba=r.Iba;r=a(87);b.II=r.II;a=a(809);b.v=a.v;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.bh=b.Bib=b.Aw=void 0;c=a(14);b.Aw=b.Aw || (function(l,g,h){return l >= g?l <= h?l:h:g;});b.Bib=function(l,g,h,d,f){return (l - g) * (f - d) / (h - g) + d;};b.bh=function(l){if((0,c.sb)(l))return (l / 1E3).toFixed(3);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Er={Request:"Request",Dda:"Singleton",J_:"Transient"};b.Ui={Nza:"ConstantValue",Oza:"Constructor",WAa:"DynamicValue",kba:"Factory",Function:"Function",Instance:"Instance",Chb:"Invalid",rJa:"Provider"};b.Jw={Cza:"ClassProperty",Pza:"ConstructorArgument",Wda:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HDa="Injector";b.tw=145152E5;b.qI="ProfileSymbol";},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.jUa=b.jZa=b.kbb=b.UB=b.E6=b.T2a=void 0;r=a(649);c=a(652);l=a(673);g=a(676);a=a(677);b.T2a=r;b.E6=function(h,d){return (0,b.T2a)(function(f,n){return void 0 !== n?n:f;},h,d);};b.UB=c;b.kbb=l;b.jZa=g;b.jUa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ew="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bkb="StorageValidatorSymbol";b.dw="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dw="PboConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vI="TimingApiSymbol";b.fP="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qw="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rw="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wo={start:"start",stop:"stop",aU:"keepAlive",lK:"engage",splice:"splice"};b.hba="EventPboCommandFactorySymbol";b.GKa="StartEventPboCommandSymbol";b.MKa="StopEventPboCommandSymbol";b.SDa="KeepAliveEventPboCommandSymbol";b.BKa="SpliceEventPboCommandSymbol";b.uBa="EngageEventPboCommandSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(99);b.II=function(l){c.assert("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.AMa=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.S$b=function(l,g){return Math.floor(1E3 * l / g);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){l.prototype.parse.call(this,h);this.Fc=this.Hv([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{Jcc:"int32"},{Yfc:"int32"},{offset:32,type:"offset"},{hcc:"int16"},{abc:{type:"int8",Qqb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.Mc=!0;return g;})(a(229).default);b.default=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="avc1";return g;})(r);b.Adb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="avc2";return g;})(r);b.Bdb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="avc3";return g;})(r);b.Cdb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="avc4";return g;})(r);b.Ddb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="hvc1";return g;})(r);b.Mgb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="hev1";return g;})(r);b.Fgb=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="av01";return g;})(r);b.zdb=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.al=void 0;c=a(0);l=a(4);g=c.__importDefault(a(53));h=c.__importDefault(a(400));d=a(401);f=a(21);r=a(49);n=a(176);k=a(244);a=a(90);m=(function(p){function q(v,t,w){var u;u=p.call(this,v,t) || this;q.oa(u,v,t,w);return u;}c.__extends(q,p);q.oa=function(v,t,w,u){var y;n.Lt.oa(v,t,w);v.Ud=w.index;v.HI=w.kb;v.pu=w.nb;v.Wob=w.zb?w.zb:t.zb;v.oC=w.oC;v.v4=u;v.QMa=!!w.Gs;v.qNa=!!w.Fk;v.gOa=null !== (y=w.region) && void 0 !== y?y:0;v.PMa=!!w.ala;v.pNa=!!w.Ts;v.ka=void 0 === w.T3 || void 0 === w.lla || w.T3 === w.kb && w.lla === w.nb?v:new k.iz(v,{kb:w.T3,nb:w.lla});v.enb=w.oqa;v.ilb=w.hj;v.wmb=t.T4;v.zh=w.Ga?v.X3a(w.Ga):void 0;v.BOa=w.Qv;v.kd=!1;};q.gTa=function(v){for(var t=new Uint32Array(v.length),w=new Uint32Array(v.length),u=new Uint8Array(v.length),y=new Uint8Array(v.length),x=0,z,A,B=0;B < v.length;++B){z=v[B];A=z.Hc;t[B]=z.pu - z.HI;w[B]=A;u[B]=z.stream.zt;void 0 !== z.zb && null !== z.zb && (y[B]=z.zb);x+=A;}return new d.Cda(t,w,v.length?v[0].T:1E3,x);};Object.defineProperties(q.prototype,{oB:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zb:{get:function(){return this.Wob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uha:{get:function(){return 8 * this.va / this.Fd.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kb:{get:function(){return this.HI;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nb:{get:function(){return this.pu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sm:{get:function(){var v,t;return null !== (t=null === (v=this.v4) || void 0 === v?void 0:v.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gs:{get:function(){return this.QMa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fk:{get:function(){return this.qNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.gOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ala:{get:function(){return this.PMa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ts:{get:function(){return this.pNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oqa:{get:function(){return this.enb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hj:{get:function(){return this.ilb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ga:{get:function(){return this.zh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qv:{get:function(){return this.BOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oYb:{get:function(){return this.zh?this.zh.end - this.zh.start:this.Hs;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{T3:{get:function(){return this.ka.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lla:{get:function(){return this.ka.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nEb:{get:function(){return this.ka.GA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CK:{get:function(){return this.ka.La;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mla:{get:function(){return this.ka.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Hs:{get:function(){var v;v=this.nEb;(0,l.assert)(v);return v / this.stream.ba.xa;},enumerable:!1,configurable:!0}});q.prototype.Dpa=function(v){this.QMa=!!v;};q.prototype.j2a=function(){this.qNa=!0;};q.prototype.TZb=function(v){this.oC={Pd:v.pXa(),get YT() {return v.bX;}};};q.prototype.ZM=function(v){this.BOa=v;};q.prototype.PZb=function(v,t,w){this.gOa=v;this.PMa=t;this.pNa=w;};q.prototype.mi=function(v){var t,w;void 0 === v && (v={});t=this.stream.ba.xa;w=this.zh || ({start:0,end:this.Hs});v=this.X3a(v);this.ka && this.ka !== this || (this.ka=new k.iz(this,this));v.start > w.start && (this.HI=this.ka.kb + v.start * t);v.end < w.end && (this.pu=this.ka.kb + v.end * t);this.zh=c.__assign(c.__assign({},w),v);};q.prototype.Sja=function(v){void 0 === v && (v=1);this.zh?this.mi({start:this.zh.start + v,end:this.zh.end}):this.mi({start:v});};q.prototype.k3=function(v){this.zh?this.mi({start:this.zh.start,end:(this.zh.end || 0) - v}):this.mi({start:0,end:-v});};q.prototype.Xh=function(){this.Ga?this.mi({start:this.Ga.start,end:this.Ga.start}):this.mi({start:0,end:0});};q.prototype.UZb=function(v){this.zh || this.mi();this.zh.x9=v;};q.prototype.h9a=function(v){this.zh || this.mi();this.zh.Cs=!0;v && (this.zh.EVa=v);};q.prototype.i9a=function(v){this.zh || this.mi();this.zh.Kn=!0;v && (this.zh.FVa=v);};q.prototype.bWa=function(v){var w;if(!(v < this.La.G || v >= this.Wa.G) && this.hj && this.hj.length){v=new f.N(v + 1 - this.La.G,1E3).Ii(this.stream.ba);for(var t=this.hj.length - 1;0 <= t;--t){w=this.hj[t];if(w.Aj <= v)return w;}return {Aj:0,hf:this.CK.G};}};q.prototype.GDb=function(v){var w;if(!(v < this.La.G || v >= this.Wa.G) && this.hj && this.hj.length){v=new f.N(v + 1 - this.La.G,1E3).Ii(this.stream.ba);for(var t=this.hj.length - 1;0 <= t;--t){w=this.hj[t];if(w.Aj <= v)return w;}return {Aj:0,hf:this.CK.G};}};q.prototype.SVa=function(v,t){var w,u,y;if(!(v < this.La.G || v >= this.Wa.G)){if(!t && this.wmb)return {Aj:0,hf:this.La.G};w=this.ba.xa;u=this.ba.T;y=Math.floor(this.GA / w);v=Math.min((t?Math.ceil:Math.floor)((f.N.y3a(v,u) - this.kb + (t?-1:1) * (u / 1E3 - 1)) / w),y);w=f.N.Wva(this.kb + v * w,u);return v === y?void 0:{Aj:v,hf:w};}};q.prototype.DDb=function(v){return this.mediaType === g.default.cn.Z?this.bWa(v):this.SVa(v,!1);};q.prototype.Qka=function(v){return this.mediaType === g.default.cn.Z?this.GDb(v):this.SVa(v,!0);};q.prototype.Ega=function(v){this.Hc+=v.va;this.pu=v.nb;this.zh && (this.ka=new k.iz(this,{kb:this.T3,nb:this.pu}),this.zh.end=this.Hs);};q.prototype.lta=function(v){var t,w,u;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === g.default.cn.ga?"audioedit":"videoedit";u=this.CK.equal(this.La);u=[u?this.Wa.G:this.La.G,u?-this.Fd.G:this.Fd.G];v && u.push(v);t.fields[w]={type:"array",value:u};return t;};q.prototype.toString=function(){return ("[").concat(this.Wb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.La.G,"-").concat(this.Wa.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Kb.G,",d:").concat(this.Fd.G,"]");};q.prototype.toJSON=function(){var v;v=n.Lt.prototype.toJSON.call(this);(0,h.default)({index:this.index,startPts:this.La.G,endPts:this.Wa.G,"contentStartTicks:":this.kb,contentEndTicks:this.nb,contentStartPts:this.La.G,contentEndPts:this.Wa.G,fragmentStartPts:this.CK.equal(this.La)?void 0:this.CK.G,fragmentEndPts:this.mla.equal(this.Wa)?void 0:this.mla.G,edit:this.Ga},v);return v;};q.prototype.aWa=function(v){var w;if(this.hj)for(var t=0;t < this.hj.length;++t){if(this.hj[t].Aj === v)w=this.hj[t].offset;}return w;};q.prototype.X3a=function(v){var t,w;t=Math.max(v.start || 0,0);w=void 0 === v.end?this.Hs:Math.min(this.Hs,Math.max(t,0 > v.end?this.Hs + v.end:v.end));return c.__assign(c.__assign({},v),{start:t,end:w});};return q;})(n.Lt);b.al=m;(0,r.si)(a.Mt,m);},function(r,b,a){var g;function c(h,d){return void 0 === h?void 0:0 === h?g.N.Ia:new g.N(h,d);}function l(h,d){return void 0 === h || void 0 === d?void 0:h + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Mt=void 0;g=a(21);r=(function(){function h(){}Object.defineProperties(h.prototype,{GA:{get:function(){var d,f;d=this.nb;f=this.kb;return (void 0 === d || void 0 === f?void 0:d - f) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{XTb:{get:function(){return l(this.kb,this.Sm);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{TTb:{get:function(){return l(this.nb,this.Sm);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fd:{get:function(){return c(this.GA,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{La:{get:function(){return c(this.kb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wa:{get:function(){return c(this.nb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bb:{get:function(){return c(this.XTb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Kb:{get:function(){return c(this.TTb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fsa:{get:function(){return c(this.Sm,this.T);},enumerable:!1,configurable:!0}});return h;})();b.Mt=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.dY=b.kf=void 0;c=a(0);r=c.__importDefault(a(13));l=c.__importStar(a(24));g=r.default.Af;h=c.__importDefault(a(5));d=h.default.Wt;f=a(403);n=a(7);k=c.__importDefault(a(147));m=a(10);r=a(49);a(4);a(933);p=a(250);q=a(176);(function(t){t[t.cGa=0]="NOTHING_APPENDED";t[t.b_=1]="PARTIAL";t[t.Zm=2]="COMPLETE";t[t.wh=3]="ERROR";})(v=b.kf || (b.kf={}));a=(function(t){function w(u,y,x,z,A,B,C){y=t.call(this,y,x) || this;y.Gmb=!!z.Ad;p.MH.oa(y,u,z,A,B,C);q.Lt.oa(y,u,z);y.dlb=u.TK(y.Ad,y.Jh);y.cea=z.responseType;y.clb=z.u9;void 0 === y.cea && (y.cea=d.re && !d.re.kW.vP?0:1);y.Ho=new g();y.Ho.on(y,d.Ph.sGa,y.tfa);y.Ho.on(y,d.Ph.rGa,y.ynb);y.Ho.on(y,d.Ph.tGa,y.Bnb);y.Ho.on(y,d.Ph.jP,y.sfa);y.Ho.on(y,d.Ph.r9b,y.xnb);y.Ho.on(y,d.Ph.hD,y.qQ);y.yI=!1;y.ke=!1;y.tn=!1;y.rn=!1;y.cQ=!1;y.iob=z.iW;y.qob=z.Ny;y.cr=0;return y;}c.__extends(w,t);Object.defineProperties(w.prototype,{Ad:{get:function(){return this.Gmb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{active:{get:function(){return this.ke;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{complete:{get:function(){return !this.yI && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aborted:{get:function(){return this.yI;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ioa:{get:function(){return this.rn && !this.cQ;},enumerable:!1,configurable:!0}});w.prototype.oa=function(u){var y;p.MH.prototype.oa.call(this,u);if(!this.MD && this.mediaType !== n.v.Za && (this.Yd.nga || !this.Ad) && (u=this.MD=k.default.instance(),this.active)){y=h.default.time.Ca();u.tt(y,this.jC);this.tn && (u.Q7a(),y=this.IG,this.connect && 0 < y.length && u.cx(y[0]));}};w.prototype.qj=function(){return !this.kd && (6 !== this.readyState && 7 !== this.readyState && 1 === this.responseType?3 <= this.readyState:5 === this.readyState);};w.prototype.hq=function(u,y,x,z,A){var B;z || (z=(0,m.iy)(this));this.kd=A?this.Yd.oSb?A.every(function(C,D){return y.appendBuffer(C,0 === D?z:void 0);}):y.appendBuffer(1 < A.length?(0,m.BE)(A):A[0],z):y.appendBuffer(this.response,z);null === (B=this.C0) || void 0 === B?void 0:B.xRb();this.response && this.WV();return {status:this.kd?v.Zm:v.wh};};w.prototype.eM=function(){var u;null === (u=this.C0) || void 0 === u?void 0:u.SRb();(this.rn=d.prototype.open.call(this,this.dlb,{start:this.offset,end:this.offset + this.va - 1},this.cea,{},void 0,void 0,this.clb,this.stream.hr)) && this.MS(this);return this.rn;};w.prototype.abort=function(){var u,y;if(this.aborted)return !0;u=this.ke;y=this.MD;y && u && y.Kv(h.default.time.Ca(),this.tn,this.jC);this.yI=!0;this.tn=this.ke=!1;d.prototype.abort.call(this);this.zK(this,u,this.ioa);return !0;};w.prototype.Te=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ho && this.Ho.clear();t.prototype.Te.call(this);};w.prototype.tfa=function(){var u,y;y=this.Cg || this.loadTime;null === (u=this.C0) || void 0 === u?void 0:u.MRb();f.KC.instance().push(h.default.time.Ca() - y);this.ke || (this.ke=!0,this.kL=this.track.kL(),this.stream.W.l2a || (u=this.MD) && u.tt(y,this.jC),this.LS(this),this.nt=this.Cg);};w.prototype.ynb=function(){var u,y,x,z;null === (u=this.C0) || void 0 === u?void 0:u.IRb();u=this.Cg || this.Vka;y=this.connect;x=this.IG;f.KC.instance().push(h.default.time.Ca() - u);this.ke || (this.ke=!0);if(!this.tn){this.tn=!0;z=this.MD;this.stream.W.l2a && z && z.tt(u,this.jC);z && z.Q7a();y && 0 < x.length && z && z.cx(x[0]);this.AK(this);this.nt=u;0 >= this.va && (u=this.va,this.uZb(this.Yk),this.S3(this,this.Yk,u));this.stream.ha?(u=this.getResponseHeader("X-TCP-Info",!0),this.stream.$Sb(u,this)):this.getAllResponseHeaders(!0);}};w.prototype.Bnb=function(){var u,y,x;u=this.Cg;y=this.bytesReceived - this.cr;f.KC.instance().push(h.default.time.Ca() - u);this.tn || (this.tn=!0);x=this.MD;x && (void 0 === this.nt || x.gA(y,this.nt,u,this.jC),(y=this.IG) && y.length && y.forEach(function(z){x.bx(z);}));this.BK(this);this.nt=u;this.cr=this.bytesReceived;};w.prototype.sfa=function(){var u,y,x;null === (u=this.C0) || void 0 === u?void 0:u.p7();u=this.Cg;y=this.bytesReceived - this.cr;f.KC.instance().push(h.default.time.Ca() - u);x=this.MD;x && (0 < y && x.gA(y,this.nt,u,this.jC),(y=this.IG) && y.length && y.forEach(function(z){x.bx(z);}),x.Kv(u,this.tn,this.jC));this.tn=this.ke=!1;this.cQ=!0;this.PA(this);this.nt=u;this.cr=this.bytesReceived;this.Te();};w.prototype.xnb=function(){this.tWa(this);};w.prototype.lmb=function(){var u,y;u=(u=this.stream)?u.toString():this.url;y=this.BJ;y && (u+=",range " + y.start + "-" + y.end);return u;};Object.defineProperties(w.prototype,{jC:{get:function(){return {requestId:this.lmb(),nj:this.Rc,type:this.mediaType,iW:this.iob,va:this.va,bytesReceived:this.bytesReceived,Ny:this.qob};},enumerable:!1,configurable:!0}});w.prototype.qQ=function(){var u,y,x,z;this.S.warn("AseMediaRequest._onError:",this.toString());u=this.Cg;y=this.status;x=this.Fh;z=this.dk;f.KC.instance().push(h.default.time.Ca() - u);this.complete?this.S.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.S.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):l.sb(x)?((x=this.MD) && this.Yd && this.Yd.mta && this.loadTime && void 0 === y && x.gA(this.cr?this.bytesReceived - this.cr:this.bytesReceived,this.nt?this.nt:this.loadTime,u,this.jC),this.R3(this)):this.S.warn("ignoring undefined request error (nativecode: " + z + ")");};return w;})(d);b.dY=a;(0,r.si)(p.MH,a,!1);(0,r.si)(q.Lt,a,!1);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jw="DeviceFactorySymbol";},function(r,b,a){var c;c=a(582);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},function(r,b,a){var g,h;function c(d,f,n,k,m){var p,q,t;p={};q="number" === typeof m;m=void 0 !== m && q?m.toString():n;if(q && void 0 !== n)throw Error(g.ohb);Reflect.ana(d,f) && (p=Reflect.getMetadata(d,f));n=p[m];if(Array.isArray(n)){q=0;for(var v=n;q < v.length;q++){t=v[q];if(t.key === k.key)throw Error(g.Mfb + " " + t.key.toString());}}else n=[];n.push(k);p[m]=n;Reflect.V2(d,p,f);}function l(d,f){return function(n,k){f(n,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);h=a(39);b.iH=function(d,f,n,k){c(h.XKa,d,f,k,n);};b.$W=function(d,f,n){c(h.YKa,d.constructor,f,n);};b.AA=function(d,f,n){"number" === typeof n?(d=[l(n,d)],Reflect.AA(d,f)):"string" === typeof n?Reflect.AA([d],f,n):Reflect.AA([d],f);};},function(r,b,a){var l,g;function c(h,d,f,n,k){h=void 0 === h?l.V.Co:h;return g.Jc.call(this,h,d,f,void 0,void 0,n,g.Jc.te(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Gg=void 0;l=a(2);g=a(34);ha(c,g.Jc);b.Gg=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vw="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cO=b.Mdb=b.aaa=b.baa=void 0;(function(a){a[a.BUa=0]="downloading";a[a.DAb=1]="downloaded";a[a.kd=2]="appended";a[a.buffered=3]="buffered";a[a.DM=4]="removed";a[a.Pfc=5]="unused";})(b.baa || (b.baa={}));(function(a){a[a.waiting=1]="waiting";a[a.dec=2]="ondeck";a[a.BUa=4]="downloading";a[a.DAb=8]="downloaded";a[a.MT=6]="inprogress";})(b.aaa || (b.aaa={}));b.Mdb="AseBufferViewSymbol";b.cO="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lca=b.el=void 0;r=b.el || (b.el={});r.mI="PRE_FETCH";r.Sjb="QC";r.em="STANDARD";r.x_="SUPPLEMENTAL";r.$6b="DOWNLOAD";b.Lca="PboManifestCommandSymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.assert=function(g,h){if(!g)throw new l(h || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pca="6674654e-696c-5078-6966-665374726d21";b.qca="6674654e-696c-4878-6165-6465722e7632";b.$Fa="6674654e-696c-5078-6966-66496e646578";b.VZ="6674654e-696c-4d78-6f6f-6653697a6573";b.UZ="6674654e-696c-5378-6565-6b506f696e74";b.KGa="cedb7489-e77b-514c-84f9-7148f9882554";b.JGa="524f39a2-9b5a-144f-a244-6c427c648df4";b.oca="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(v,t){return v + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function g(q){var v;if(!Array.isArray(q) || 2 > q.length)return !1;v=l(q);return c(q.map(function(t){return (t - v) * (t - v);})) / (q.length - 1);}function h(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=g(q);return Math.sqrt(q);}function d(q,v){if(q.length == v.length && 1 < q.length){for(var t=q.length,w=0,u=c(q),y=c(v),x=0;x < t;x++){w+=q[x] * v[x];}return (w - u * y / t) / t;}return !1;}function f(q,v,t){return Math.max(Math.min(q,t),v);}function n(q,v){return "number" === typeof q?q:v;}function k(q){return 1 / (1 + Math.exp(-q));}function m(q,v,t){return q * t + (1 - t) * v;}Object.defineProperties(b,{__esModule:{value:!0}});b.v8a=b.scale=b.wVa=b.u3=b.R9a=b.MRa=b.KJ=b.tanh=b.PYb=b.gi=b.FFb=b.HFb=b.fIb=b.cZa=b.PWa=b.qIb=b.BE=b.Wf=b.$o=void 0;p=a(0).__importStar(a(24));b.$o=function(q,v,t){try{q.emit(v,t);}catch(w){if(q.DD)q.DD("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);else throw w;}};b.Wf=function(q,v){void 0 !== q && p.QSb(q).forEach(function(t){v(t[0],t[1]);});};b.BE=function(){var t;for(var q=[],v=0;v < arguments.length;v++){q[v]=arguments[v];}q=Array.prototype.concat.apply([],q);v=q.reduce(function(w,u){return w + u.byteLength;},0);t=new Uint8Array(v);q.reduce(function(w,u){t.set(new Uint8Array(u),w);return w + u.byteLength;},0);return t.buffer;};b.qIb=c;b.PWa=l;b.cZa=g;b.fIb=h;b.HFb=d;b.FFb=function(q,v){var t;if(q.length == v.length){t=d(q,v);q=h(q);v=h(v);if(0 < q && 0 < v)return t / (q * v);}return !1;};b.gi=function(q,v,t){return v.iTa?v.iTa(t):new q.Console("ASEJS","media|asejs",v.prefix?v.prefix + " " + t:t);};b.PYb=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var v;v=Math.exp(+q);q=Math.exp(-q);return Infinity == v?1:Infinity == q?-1:(v - q) / (v + q);});b.KJ=f;b.MRa=function(q,v,t,w){return {min:f(n(q.min,v),t,w),max:f(n(q.max,v),t,w),ox:f(q.ox || 6E4,0,6E5),sRa:f(q.sRa || 0,-3E5,3E5),scale:f(q.scale || 6E4,0,3E5),w8a:f(q.w8a || 0,-3E5,3E5),gamma:f(q.gamma || 1,.1,10)};};b.R9a=k;b.u3=function(q,v,t){return q.min + (q.max - q.min) * (1 - Math.pow(k(6 * (v - (q.ox + (q.sRa || 0) * (1 - t))) / (q.scale + (q.w8a || 0) * (1 - t))),q.gamma));};b.wVa=function(q,v){return q.min + (q.max - q.min) * Math.pow(k(6 * (v - q.ox) / q.scale),q.gamma);};b.scale=m;b.v8a=function(q,v,t){return {min:m(q.min,v.min,t),max:m(q.max,v.max,t),ox:m(q.ox,v.ox,t),scale:m(q.scale,v.scale,t),gamma:m(q.gamma,v.gamma,t)};};},function(r){var n,k,m,p;function b(){b.oa.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,v,t,w){var u,y;a(t);u=q.Rf;if(void 0 === u)(u=q.Rf=Object.create(null),q.ED=0);else {void 0 !== u.Ydc && (q.emit("newListener",v,t.listener?t.listener:t),u=q.Rf);y=u[v];}void 0 === y?(u[v]=t,++q.ED):("function" === typeof y?y=u[v]=w?[t,y]:[y,t]:w?y.unshift(t):y.push(t),t=void 0 === q.oQ?b.kzb:q.oQ,0 < t && y.length > t && !y.e5b && (y.e5b=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.As=q,t.type=v,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.eWa)return (this.target.removeListener(this.type,this.Ocb),this.eWa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function g(q,v,t){q={eWa:!1,Ocb:void 0,target:q,type:v,listener:t};v=l.bind(q);v.listener=t;return q.Ocb=v;}function h(q){var v;v=this.Rf;if(void 0 !== v){q=v[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,v,t){"function" === typeof q.on && f(q,"error",v,t);}function f(q,v,t,w){if("function" === typeof q.on){if(w.once)q.once(v,t);else q.on(v,t);}else if("function" === typeof q.addEventListener)q.addEventListener(v,function x(y){w.once && q.removeEventListener(v,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}n="object" === typeof Reflect?Reflect:null;k=n && "function" === typeof n.apply?n.apply:function(q,v,t){return Function.prototype.apply.call(q,v,t);};m=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,v){return new Promise(function(t,w){function u(x){q.removeListener(v,y);w(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",u);t([].slice.call(arguments));}f(q,v,y,{once:!0});"error" !== v && d(q,u,{once:!0});});};b.EventEmitter=b;b.prototype.Rf=void 0;b.prototype.ED=0;b.prototype.oQ=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.oa=function(){if(void 0 === this.Rf || this.Rf === Object.getPrototypeOf(this).Rf)(this.Rf=Object.create(null),this.ED=0);this.oQ=this.oQ || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.oQ=q;return this;};b.prototype.emit=function(q){var w,u;for(var v=[],t=1;t < arguments.length;t++){v.push(arguments[t]);}w="error" === q;t=this.Rf;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < v.length && (u=v[0]);if(u instanceof Error)throw u;v=Error("Unhandled error." + (u?" (" + u.message + ")":""));v.context=u;throw v;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)k(t,this,v);else {u=t.length;w=Array(u);for(var y=0;y < u;++y){w[y]=t[y];}for(t=0;t < u;++t){k(w[t],this,v);}}return !0;};b.prototype.addListener=function(q,v){return c(this,q,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.HV=function(q,v){return c(this,q,v,!0);};b.prototype.once=function(q,v){a(v);this.on(q,g(this,q,v));return this;};b.prototype.isa=function(q,v){a(v);this.HV(q,g(this,q,v));return this;};b.prototype.removeListener=function(q,v){var t,w,u,y,x;a(v);w=this.Rf;if(void 0 === w)return this;u=w[q];if(void 0 === u)return this;if(u === v || u.listener === v)0 === --this.ED?this.Rf=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,u.listener || v));else if("function" !== typeof u){y=-1;for(t=u.length - 1;0 <= t;t--){if(u[t] === v || u[t].listener === v){x=u[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)u.shift();else {for(;y + 1 < u.length;y++){u[y]=u[y + 1];}u.pop();}1 === u.length && (w[q]=u[0]);void 0 !== w.removeListener && this.emit("removeListener",q,x || v);}return this;};b.prototype.Xq=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var v,t,w;v=this.Rf;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.Rf=Object.create(null),this.ED=0):void 0 !== v[q] && (0 === --this.ED?this.Rf=Object.create(null):delete v[q]),this);if(0 === arguments.length){t=Object.keys(v);for(v=0;v < t.length;++v){w=t[v];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Rf=Object.create(null);this.ED=0;return this;}t=v[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(v=t.length - 1;0 <= v;v--){this.removeListener(q,t[v]);}return this;};b.prototype.listeners=function(q){var v;v=this.Rf;if(void 0 === v)q=[];else if((q=v[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {v=Array(q.length);for(var t=0;t < v.length;++t){v[t]=q[t].listener || q[t];}q=v;}return q;};b.listenerCount=function(q,v){return "function" === typeof q.listenerCount?q.listenerCount(v):h.call(q,v);};b.prototype.listenerCount=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jj={audio:"audio",video:"video",Rva:"timedtext",ewa:"trickplay"};},function(r,b,a){var n,k,m,p,q,v,t,w,u,y,x,z,A;function c(){this.yi=(0,v.Ki)("Http");this.Nj=new n.Vi();this.zD=0;this.Nf={ssl:0,"non-ssl":0,invalid:0};this.q_={Za:1,Ykb:2,vya:3};this.addEventListener=this.Nj.addListener;this.removeEventListener=this.Nj.removeListener;}function l(B){var C,D,E,G;C=B.url.split("?");D="sc=" + B.EYb;E=B.ZQa?"random=" + (1E17 * (0,u.ZO)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";B.qc && !(0,m.F5)(G) && (B=k.config && k.config.Yha) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function g(B,C){var D,E,G;D=B.url.split("?");E=h(B);G=D[0];E && (C.Ev=E,(void 0 === B.yr?k.config.yr:B.yr) || B.hr !== z.iP?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + E):(C.Ev=E,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=E));E=B.ZQa?"random=" + (1E17 * (0,u.ZO)()).toFixed(0):"";k.config.VE && B.u9 && (E="sc=" + B.u9 + (E?"&" + E:""));G=D[1]?G + ("?" + D[1] + (E?"&" + E:"")):G + (E?"?" + E:"");B.qc && !(0,m.F5)(G) && (B=k.config && k.config.Yha) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function h(B){var C;C=B.offset;if(void 0 !== C)return ((0,t.TR)(C),void 0 !== B.length?(B=C + B.length - 1,(0,t.TR)(B),C + "-" + B):C + "-");}function d(B,C,D,E){var G,F;G=E.V5a;F=E.headers;B.open(G?"POST":"GET",C,!D);switch(E.responseType){case b.BT:B.responseType="arraybuffer";break;case b.ona:(0,w.jRa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,x.rg)(G)?"text/plain":"application/x-octet-stream"},F=F?(0,w.Jd)(C,F):C);F && (0,w.Wf)(F,function(H,K){B.setRequestHeader(H,K);});E.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}function f(B,C){switch(C.type){case b.BT:return B.response || new ArrayBuffer(0);case b.ona:return B.responseXML;default:return B.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.BT=b.ona=b.nna=b.TJb=b.qna=b.SJb=b.SZa=b.Y4=b.De=b.Zkb=b.$kb=b.RJb=b.pna=b.OJb=b.PJb=b.NJb=b.QJb=void 0;n=a(71);k=a(18);r=a(16);m=a(42);p=a(61);q=a(2);v=a(8);t=a(20);w=a(22);u=a(12);y=a(59);x=a(14);z=a(65);A=a(1182);c.prototype.L_b=function(B){var C;C=new XMLHttpRequest();B=l(B);C.open("HEAD",B);C.onreadystatechange=function(){2 === C.readyState && !1;};C.send();};c.prototype.download=function(B,C){var P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta;function D(){var T;if(!la){la=!0;Ta && (mb.clearTimeout(Ta),Ta=null);P.Nj.removeListener(b.qna,H);P.Afa(Ba,Ja);Ja && (Ja.onloadstart=null,Ja.onreadystatechange=null,Ja.onprogress=null,Ja.onerror=null,Ja.onload=null,Ja=Ja.onabort=null);Ba.ia || (Ba.za != q.R.TC?J.warn("Download failed",ka,(0,q.ow)(Ba)):J.trace("Download aborted",ka));T=X;X=null;null === T || void 0 === T?void 0:T.reduceRight(function(aa,Q){(0,y.If)(function(){return Q(Ba);});},null);P.Nj.zc(b.SZa,Ba,!0);}}function E(){Ta && (mb.clearTimeout(Ta),Ta=null);Ta=mb.setTimeout(K,Va?R:L);}function G(T,aa,Q,M){var S,ra;Ba.ia=!1;Ba.za=T;S=(0,p.um)();ra=Ba.Jl;ra.Oi=ra.Oi || S;ra.Mp=ra.Mp || S;aa && 0 < aa && (Ba.yl=aa,Ba.Ve=aa.toString());Q && (Ba.Ib=Q);M && (Ba.kC=M);T !== q.R.HO && T !== q.R.UC && T !== q.R.KO || !Ja || (Ja.onabort=null,O());D();}function F(T){var aa,Q;try{Q=T.getResponseHeader("X-Netflix.Retry.Server.Policy");Q && (aa=JSON.parse(Q));}catch(M){!1;}return aa;}function H(){(0,b.pna)() || G(q.R.HO);}function K(){G(Va?q.R.UC:q.R.KO);}function O(){try{null === Ja || void 0 === Ja?void 0:Ja.abort();}catch(T){}}function I(){G(q.R.TC);}P=this;(0,t.ma)(C);J=(null === (N=null === B || void 0 === B?void 0:B.j) || void 0 === N?0:N.log)?(0,v.Gh)(B.j,"Http"):this.yi;L=B.v2 || k.config.v2;R=B.Bqa || k.config.Bqa;ka={Num:this.zD++};la=!1;X=[C];da={};this.Pob(B);Ba=new A.UCa(B,O,K,da,function(T){la || ((0,t.ma)(X,"Callback should be added before download starts."),X && X.unshift(T));});Va=!1;(0,y.If)(function(){var T,aa;if((0,x.voa)(B.url))try{if((g(B,Ba),ta=Ba.url,(0,t.UR)(ta),ka.Url=ta,(0,b.pna)())){!1;Ja=new XMLHttpRequest();T=k.config.r4b && "undefined" != typeof Ja.onloadstart;T && (Ja.onloadstart=function(){var Q;Q=(0,p.um)();da.Lv=Q;Ba.gV({mediaRequest:B,timestamp:Q});});Ja.onreadystatechange=function(){2 === (null === Ja || void 0 === Ja?void 0:Ja.readyState) && (Va=!0,da.Oi=(0,p.um)(),Ja.onreadystatechange=null,E(),!1,P.Afa(Ba,Ja),Ba.hV({timestamp:da.Oi,connect:!0,mediaRequest:B,start:da.Lv,rt:[da.Oi - da.Lv],responseHeaders:Ba.headers}));};Ja.onprogress=function(Q){Va=!0;da.w2=Q.loaded;E();P.Afa(Ba,Ja);Q={mediaRequest:B,bytes:Q.loaded,timestamp:(0,p.um)(),bytesLoaded:Q.loaded,responseHeaders:Ba.headers};Ba.hV(Q);};Ja.onload=function(Q){!la && Ja && ((0,t.ma)(void 0 === da.Mp),da.Mp=(0,p.um)(),da.Oi=da.Oi || da.Mp,da.w2=Q.loaded,200 <= Ja.status && 299 >= Ja.status?(Q=f(Ja,Ba),Ba.parsed=!1,Ba.content=Q,Ba.ia=!0):420 === Ja.status?G(q.R.JO,Ja.status):G(q.R.IO,Ja.status,Ja.response,F(Ja)),D());};Ja.onabort=I;Ja.onerror=function(){var Q,M;if(Ja){Q=Ja.status;"undefined" !== typeof k.config.sWa && (Q=k.config.sWa);if(0 < Q){if(420 === Q)G(q.R.JO,Q);else {try{M=Ja.responseText;}catch(S){}G(q.R.IO,Q,M,F(Ja));}}else G(q.R.LO);}};aa=(0,p.um)();d(Ja,ta,!1,B);P.Nj.zc(b.Y4,Ba,!0);T || (da.Lv=aa,Ba.gV({mediaRequest:B,timestamp:aa}));E();P.Nj.addListener(b.qna,H);}else (0,y.If)(G.bind(void 0,q.R.HO));}catch(Q){J.error("Exception starting download",Q,ka);G(q.R.xba,void 0,(0,w.te)(Q));}else G(q.R.ACa);});return Ba;};c.prototype.kVb=function(B){var C,D,E;C=new XMLHttpRequest();D=B.url;E=B.hVb;C.open("HEAD",D);C.timeout=Math.max(2 * E.RNb,k.config.tsa);C.onreadystatechange=function(){2 === C.readyState && (!1,E && E.WL({url:D}));};C.ontimeout=C.onerror=function(){!1;E && E.Iqa({url:D});};C.send();};c.prototype.Pob=function(B){var C;try{C=B.url;(0,x.voa)(C)?0 === C.indexOf("https")?this.Nf.ssl++:0 === C.indexOf("http")?this.Nf["non-ssl"]++:this.Nf.invalid++:this.Nf.invalid++;}catch(D){}};c.prototype.Afa=function(B,C){var D;if(!B.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(E){var G;G=ma(E.split(": "));E=G.next().value;G=ba(G).join(": ");E && (D[E.toLowerCase()]=G);});B.headers=D;}};b.QJb=l;b.NJb=function(B){var C,D,E,G;C=B.url.split("?");D="bb_reason=" + B.reason;E=B.ZQa?"random=" + (1E17 * (0,u.ZO)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";B.qc && !(0,m.F5)(G) && (B=k.config && k.config.Yha) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.PJb=g;b.OJb=h;b.pna=r.wJa;b.RJb=function(){return !1 !== u.je.onLine;};b.$kb=d;b.Zkb=f;b.De=new c();b.Y4=1;b.SZa=2;b.SJb=3;b.qna=4;b.TJb=5;b.nna=b.De.q_.Za;b.ona=b.De.q_.Ykb;b.BT=b.De.q_.vya;mb._cad_global.http=b.De;},function(r,b,a){b=a(198);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iD="PlatformConfigDefaultsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lAa="DebugConfigSymbol";b.gw="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iba="EventSourceSymbol";b.lba="GlobalEventSourceSymbol";b.BY="DebugEventSourceSymbol";b.AAa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qD="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dI="LoggerSinksSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bD="ManifestFetcherSymbol";},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JU=b.C6=b.uz=b.v=void 0;c=a(47);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});b.uz=[c.v.ga,c.v.Z];b.C6=function(l,g,h){l=l || g?g?[c.v.Z]:[c.v.ga]:[c.v.ga,c.v.Z];h && l.push(c.v.Za);return l;};b.JU=function(l){return l === c.v.ga?"audio":l === c.v.Z?"video":l === c.v.Za?"text":"unknown";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hz=void 0;r=(function(){function a(c){this.Ne=c;}a.prototype.RZb=function(c){this.Ne=c;};a.prototype.Dub=function(){this.Ne=void 0;};a.prototype.MS=function(c){return this.Ne && this.Ne.C7 && this.Ne.C7(c);};a.prototype.LS=function(c){this.Ne && this.Ne.cM && this.Ne.cM(c);};a.prototype.AK=function(c){this.Ne && this.Ne.SB && this.Ne.SB(c);};a.prototype.BK=function(c){this.Ne && this.Ne.dM && this.Ne.dM(c);};a.prototype.PA=function(c){this.Ne && this.Ne.Kl && this.Ne.Kl(c);};a.prototype.R3=function(c){this.Ne && this.Ne.B7 && this.Ne.B7(c);};a.prototype.zK=function(c,l,g){this.Ne && this.Ne.nV && this.Ne.nV(c,l,g);};a.prototype.S3=function(c,l,g){this.Ne && this.Ne.ry && this.Ne.ry(c,l,g);};a.prototype.tWa=function(c){this.Ne && this.Ne.A7 && this.Ne.A7(c);};return a;})();b.hz=r;r.prototype.C7=r.prototype.MS;r.prototype.cM=r.prototype.LS;r.prototype.SB=r.prototype.AK;r.prototype.dM=r.prototype.BK;r.prototype.Kl=r.prototype.PA;r.prototype.B7=r.prototype.R3;r.prototype.nV=r.prototype.zK;r.prototype.ry=r.prototype.S3;r.prototype.A7=r.prototype.tWa;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zi=void 0;r=b.Zi || (b.Zi={});r.En="created";r.Pv="started";r.oN="succeeded";r.Ds="failed";r.Uf="cancelled";r.oRa="cancelled_on_start";r.Tha="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tD="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oI=b.mD=void 0;r=b.mD || (b.mD={});r.j8b="ident";r.Yba="main";r.mza="credits";b.oI="PlaygraphHelperSymbol";},function(r,b,a){var c,l,g;c=a(38);l=a(584);g=l(c("String.prototype.indexOf"));r.exports=function(h,d){d=c(h,!!d);return "function" === typeof d && -1 < g(h,".prototype.")?l(d):d;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.bV=b.sh=void 0;c=a(79);b.sh=function(l,g){return [].concat.apply([],ea(l)).map(function(h){return Object.assign({name:h},null !== g && void 0 !== g?g:{});});};b.bV=function(l,g){for(var h=[],d=1;d < arguments.length;++d){h[d - 1]=arguments[d];}return (0,c.jUa)(function(f,n){return f.name === n;},l,h);};},function(r,b,a){var c,l,g;c=a(121);l=a(52);g=a(163);r.exports=function(h){return function m(f,n,k){switch(arguments.length){case 0:return m;case 1:return g(f)?m:l(function(p,q){return h(f,p,q);});case 2:return g(f) && g(n)?m:g(f)?l(function(p,q){return h(p,n,q);}):g(n)?l(function(p,q){return h(f,p,q);}):c(function(p){return h(f,n,p);});default:return g(f) && g(n) && g(k)?m:g(f) && g(n)?l(function(p,q){return h(p,q,k);}):g(f) && g(k)?l(function(p,q){return h(p,n,q);}):g(n) && g(k)?l(function(p,q){return h(f,p,q);}):g(f)?c(function(p){return h(p,n,k);}):g(n)?c(function(p){return h(f,p,k);}):g(k)?c(function(p){return h(f,n,p);}):h(f,n,k);}};};},function(r,b,a){var c;c=a(163);r.exports=function(l){return function d(h){return 0 === arguments.length || c(h)?d:l.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$fb=b.qk=void 0;r=b.qk || (b.qk={});r[r.xy=0]="playready";r[r.LX=1]="widevine";r[r.OA=2]="fairplay";r[r.Xac=3]="clearkey";b.$fb="DrmTypeSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jd=void 0;l=a(26);c.mTa=function(g){var h;h={};h[l.Me.tP]=c.OY;h[l.Me.WY]=c.OY;h[l.Me.wI]=c.oba;h[l.Me.ZH]=c.ZH;h[l.Me.Qt]=g || c.Qt;h[l.Me.gz]=c.OY;h[l.Me.Fz]=c.DP;h[l.Me.ti]=c.ti;return h;};b.jd=c;c.dqa='video/mp4; codecs="avc1.4d0028"';c.OY="avc1.4d0028";c.oba="hev1.1.6.L93.B0";c.Laa="dvhe.05.01";c.gAa="dvhe.05.04";c.Maa="dvhe.05.05";c.Naa="dvhe.05.06";c.Oaa="dvhe.05.07";c.Paa="dvhe.05.09";c.Qt=c.Laa;c.ZH=c.oba;c.J$="mp4a.40.2";c.Mw="mp4a.40.42";c.afb="ec-3";c.DP="vp09.00.11.08.02";c.ti="av01.0.04M.08";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OAa="DrmServicesSymbol";b.FY="DrmServicesProviderSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.pD=void 0;r=a(0);a=a(1);c.prototype.format=function(g,h){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(n,k){return "undefined" != typeof f[k]?f[k]:n;});};c.prototype.I$a=function(g){for(var h=g.length,d=new Uint16Array(h),f=0;f < h;f++){d[f]=g.charCodeAt(f);}return d.buffer;};c.prototype.L$a=function(g){return JSON.stringify(g,null,"  ");};l=c;l=r.__decorate([(0,a.U)()],l);b.pD=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I_=void 0;b.Ao={nI:"PRIMARY",N$:"ASSISTIVE",fza:"COMMENTARY",NONE:"NONE"};b.I_={assistive:b.Ao.N$,closedcaptions:b.Ao.N$,directorscommentary:b.Ao.fza,commentary:b.Ao.fza,subtitles:b.Ao.nI,primary:b.Ao.nI,none:b.Ao.NONE};},function(r,b,a){(function(c){var g,h,d,f,n,k;function l(m,p){return m - p;}Object.defineProperties(b,{__esModule:{value:!0}});b.Cgb=b.fF=void 0;g=a(0);h=a(9);d=g.__importDefault(a(5));f="gctag" === c.q3.Agb;b.fF=function(m,p){var q;if(!f)return m;q=new k(m.name,p);return (function(v){function t(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}w=v.apply(this,g.__spreadArray([],g.__read(w),!1)) || this;w.DWa=q.Fxb(w);return w;}g.__extends(t,v);return t;})(m);};k=(function(){function m(p,q){this.name=p;this.Hia=q;this.jB=[];this.bLb=0;}Object.defineProperties(m,{console:{get:function(){n || (n=new d.default.Console("GCTAGGER"));return n;},enumerable:!1,configurable:!0}});m.prototype.Fxb=function(p){var q,v;if(f){q=this.Hia;q || (q=m.console);if(!p.DWa && "undefined" !== typeof nrdp){p={type:this.name,id:this.bLb++};this.jB.push(p.id);v=JSON.stringify(p);v=nrdp.DWa(v,(function(t,w,u,y){t.jB.splice(t.jB.indexOf(w),1);t.jB=t.jB.sort(l);for(var x=[],z=0;z < t.jB.length && 5 > z;z++){x.push(t.jB[z]);}null === y || void 0 === y?void 0:y.error(("Removing instance for ").concat(u,"/").concat(w,". ") + ("").concat(t.jB.length," remaining, earliest: ").concat(x,"}"));}).bind(null,this,p.id,p.type,q));h.I && q && q.info("Creating tagged instance",p);return v;}}};return m;})();b.Cgb=k;}).call(this,a(178));},function(r,b,a){(function(c){var d,f,n,k,m,p,q,v,t,w;function l(u,y){var x,z,A,B;B=u.Ac.fa.L[y];B && B.Qb && u.Ac.Dd && (B=Number(B.Qb.replace(":main","")),(y=(0,v.hF)(y)) && (A=null === (z=null === (x=u.Ac.Dd.Df.Xd[B]) || void 0 === x?void 0:x[y.yk]) || void 0 === z?void 0:z.Et));return A;}function g(u,y,x,z){var A;return y === p.Vt.cS?(y=f.N.Ia,(null === z || void 0 === z?void 0:z.Zec) === w.end && (y=f.N.Na(null !== (A=x.Ac.fa.L[u].qa) && void 0 !== A?A:0),(0,n.assert)(0 < y.G,"EndTime must be non null")),x.Mg.Fx({offset:y,J:u}).J):x.Mg.Ft({offset:f.N.Ia,J:u}).J;}function h(u,y,x){return y === p.Vt.pwa?x.Mg.Ft(u):x.Mg.Fx(u);}Object.defineProperties(b,{__esModule:{value:!0}});b.Av=void 0;d=a(0);f=a(21);n=a(4);k=a(1050);m=a(260);p=a(185);q=a(243);v=a(186);t=a(1055);m=(0,m.n8a)();k=(0,k.WQa)()({i2a:"combinedPlaygraph",NM:{oh:m()({map:h,kx:t.o0a}),ae:m()({map:function(u,y,x,z){var A;A=(null === z || void 0 === z?0:z.Np)?(0,t.o4)(u,z.Np):u.position;y=h(A,y,x);u=(0,t.o2)(u,null === z || void 0 === z?void 0:z.Np);(null === z || void 0 === z?0:z.Np)?(0,t.j9a)(u,z.Np,y):u.position=y;return u;},kx:function(u,y,x){return (null === x || void 0 === x?0:x.Np)?(0,t.o4)(u,x.Np):(0,t.ae)(u);}}),Xwa:m()({map:function(u,y,x,z){if(y === p.Vt.cS)return u.inner;y=(0,t.o2)(u,null === z || void 0 === z?void 0:z.Np);y.inner || (y.inner=u,"gctag" === c.q3.Agb && (y.gctag=void 0));return y;},kx:function(u,y,x){return (null === x || void 0 === x?0:x.Np)?"object" === typeof (0,t.o4)(u,x.Np):"object" === typeof u;}}),J:m()({map:g,kx:t.t0a}),qW:m()({map:function(u,y,x,z){var A,B;B=null !== (A=u.J) && void 0 !== A?A:u.segmentId;y=g(B,y,x,z);return u.J?d.__assign(d.__assign({},u),{J:y}):d.__assign(d.__assign({},u),{segmentId:y});},kx:t.AZa}),ESa:m()({map:function(u,y,x){y === p.Vt.cS?(u=(0,q.MR)(x.Ac.fa,u.K,u.pq,{B8a:!0}),(0,n.assert)(void 0 !== u,"Graph position must exist in ux playgraph"),u=x.Mg.Fx(u),y=u.J,u=u.offset,y=x.Xa.fa.L[y],x=y.K,y=y.sa,u=f.N.Na(y).add(u)):(u=(0,q.MR)(x.Xa.fa,u.K,u.pq,{B8a:!0}),(0,n.assert)(void 0 !== u,"Graph position must exist in combined playgraph"),u=x.Mg.Ft(u),y=u.J,u=u.offset,y=x.Ac.fa.L[y],x=y.K,y=y.sa,u=f.N.Na(y).add(u));return {pq:u,K:x};},kx:t.X_a}),yha:m()({kx:t.U_a,map:function(u,y,x){var z,A,B,C,D;if(y === p.Vt.cS){y={J:u.u.id,offset:f.N.Ia};B=x.Mg.Fx(y);y=x.Xa.fa.L[B.J];x=x.Ac.fa.L[u.u.id];C=y.qa;D=y.sa;C=null !== (z=C && C - D) && void 0 !== z?z:0;x=u.pe.add(f.N.Na(y.sa - x.sa));return {pe:x,tG:u.$q.add(f.N.Na(C)),$q:u.$q,u:{id:B.J,Je:f.N.Na(y.sa),Ag:f.N.Na(null !== (A=y.qa) && void 0 !== A?A:0)}};}y={J:u.u.id,offset:f.N.Ia};A=x.Mg.Ft(y);D=x.Tna.YU;y=D.L[u.u.id];B=x.Ac.fa.L[A.J];z=f.N.Na(null !== (C=B.qa && B.qa - B.sa) && void 0 !== C?C:0);B.qa && Infinity !== B.qa || (C=x.Mg.GGb(A),D=D.L[C],D.qa && (z=x.Mg.Ft({J:C,offset:f.N.Na(D.qa - D.sa)}).offset));C=u.$q.wa(A.offset);D=C.add(z);x=u.pe.add(f.N.Na(B.sa - y.sa));u=f.N.Na(B.sa);y=z.add(u);return {pe:x,tG:D,$q:C,u:{id:A.J,Je:u,Ag:y}};}}),Lrb:m()({kx:function(u){return "segmentPresenting" === u.type;},map:function(u,y,x){var z;u=(0,t.o2)(u);if(y=u.metrics){z=l(x,y.destPosition.J);void 0 !== z && (u.metrics.adBreakLocationMs=z);z=l(x,y.srcStartPosition.J);void 0 !== z && (u.metrics.srcadBreakLocationMs=z);}return u;}})}});(function(u){u[u.Bac=0]="beginning";u[u.end=1]="end";})(w || (w={}));b.Av=k;}).call(this,a(178));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fI="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kjb=b.Nfb=b.mAa=void 0;r=b.mAa || (b.mAa={});r.F9b="PboDebugEvent";r.I9b="PlaygraphEvent";b.Nfb={D8b:"Manifest",Event:"Event",p8b:"Logblob"};b.Kjb={C$b:"UX",Q6b:"Combined_1",R6b:"Combined_2"};},function(r,b){var c;function a(l,g){var h;h=this;this.Mea=[];c.forEach(function(d){(d=d(l,g)) && h.Mea.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.bP=b.JFa=void 0;c=[];a.prototype.Qy=function(l){var d;for(var g=[],h=this.Mea.length;h--;){d=this.Mea[h];d.Qy(l) && g.push(d.E3);}if(g.length)return g;};b.JFa=a;b.bP=function(l){c.push(l);};},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x;function c(z){var A,B;A=this;this.Q7=new x.$ca();this.createPlaygraphPlayer=function(C,D,E){var G;C=t.dda.encode(C);G=d.Aa.get(w.fI);E=E?G.create(E):void 0;G=d.Aa.get(p.fda).create(C);return G.eyb(C.ce,A.Q7.Apa(A.pQa(D,G.Gla())),E);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,h.Wca)(C);};this.init=function(C){A.kA.oU(function(D){D.ia?A.eZb().then(function(){(0,l.aIa)();}).catch(function(E){d.log.error("Unable to initialize the playdata services",E);}).then(function(){Object.assign(A,c.uJ);C(Object.assign({success:!0},c.uJ));}):C({success:!1,error:(0,d.CIa)(D.errorCode || n.V.zba,D)});});};this.applyConfig=function(C){A.zbb(C);(0,g.Iia)(C);};this.prepare=function(C,D){var E;C=A.b6a.Tzb(C) || [];E=new Set();C=C.filter(function(G){var F;F=E.has(G.O);E.add(G.O);return !F;});if(g.config.ar && A.Wc)try{A.Wc.vG(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){mb._cad_global.playerPredictionModel?(C=A.b6a.Vzb(C)) && mb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.JK)().TW().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.JK)().UW().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.JK)().RW().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.JK)().R9().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return g.config.IBb;};this.zbb(z);d.Aa.get(y.Mxa);this.b6a=d.Aa.get(f.cIa);this.kA=d.Aa.get(v.Oh);B=d.Aa.get(u.YHa).apply();(0,g.vSa)([z],B);this.Wc=d.Aa.get(q.tD);(0,d.JK)().UW();}Object.defineProperty(b,"__esModule",{value:!0});b.uD=void 0;l=a(286);g=a(18);h=a(64);d=a(8);f=a(517);n=a(2);k=a(31);m=a(142);p=a(293);q=a(116);v=a(32);t=a(36);w=a(129);u=a(315);y=a(492);x=a(565);c.prototype.pQa=function(z,A){var B,C,D,E;z=void 0 === z?{}:z;E=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.sa;return Object.assign(Object.assign({startPts:E,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.qa) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.zbb=function(z){d.Aa.get(k.NO).sPb(z);};c.prototype.eZb=function(){d.Aa.get(m.nP)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.uD=c;c.uJ={};},function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},function(r,b,a){var f;function c(n){return "function" === typeof n?n.name:"symbol" === typeof n?n.toString():n;}function l(n,k){return null === n.ty?!1:n.ty.vg === k?!0:l(n.ty,k);}function g(n){function k(m,p){var q;void 0 === p && (p=[]);q=c(m.vg);p.push(q);return null !== m.ty?k(m.ty,p):p;}return k(n).reverse().join(" --\x3e ");}function h(n){n.hia.forEach(function(k){if(l(k,k.vg))throw (k=g(k),Error(f.Geb + " " + k));h(k);});}function d(n){var k;if(n.name)return n.name;n=n.toString();k=n.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + n;}Object.defineProperty(b,"__esModule",{value:!0});f=a(55);b.UK=c;b.x1a=function(n,k,m){var p;p="";n=m(n,k);0 !== n.length && (p="\nRegistered bindings:",n.forEach(function(q){var v;v="Object";null !== q.Dl && (v=d(q.Dl));p=p + "\n " + v;q.DE.V2a && (p=p + " - " + q.DE.V2a);}));return p;};b.rub=h;b.cNb=function(n,k){var m,p;if(k.soa() || k.goa()){m="";p=k.dHb();k=k.IFb();null !== p && (m+=p.toString() + "\n");null !== k && k.forEach(function(q){m+=q.toString() + "\n";});return " " + n + "\n " + n + " - " + m;}return " " + n;};b.getFunctionName=d;},function(r,b,a){var l,g,h,d;function c(f,n){var k,m,p,q,v,t;k=f.hy;m=f.OL;f=f.gM;p=n.hy;q=n.OL;n=n.gM;v=void 0 === k || void 0 === p;t=v || void 0 === m || void 0 === q;return v || k > p || k === p && (t || m > q) || k === p && m === q && (t || void 0 === f || void 0 === n || f >= n);}Object.defineProperty(b,"__esModule",{value:!0});b.GK=b.HK=b.mMb=b.QT=b.VT=void 0;l=a(3);g=a(74);h=a(40);d=a(119);b.VT=function(f,n,k,m){return c({hy:f.zSb,OL:f.ASb,gM:f.BSb},{hy:n,OL:k,gM:m});};b.QT=function(f,n){return c({hy:f.An},{hy:n});};b.mMb=c;b.HK=function(){return {version:"6.0039.950.911",T6:!0,DK:!0,Fja:"browser",RTa:["en-US"],jpa:"",ZR:"cadmium",hcb:!0,q1:!0};};b.GK=function(){return {kE:(0,d.sh)([h.pd.RC,h.pd.SC]),$l:(0,d.sh)([].concat(ea(h.cd.iY),ea(h.cd.TX),ea(h.cd.K$))),Pq:(0,d.sh)([].concat(ea(h.cd.SX))),Fl:g.hb.R_,jy:(0,l.Jb)(31E3)};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aP="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.F_=b.yo=void 0;b.yo=function(){};b.F_="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WKa="SystemRandomSymbol";b.r_="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oP="PlayerErrorFactorySymbol";},function(r){var c,l;function b(){var g,h;if(DataView.prototype && DataView.prototype.pT && !l){try{g=new ArrayBuffer(4);h=new DataView(g);h.YK(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);h=new DataView(g);h.YK(1,2,2);}catch(d){DataView.prototype.YK=a(DataView.prototype.YK,DataView.prototype.getUint8,Uint8Array);DataView.prototype.H4=a(DataView.prototype.H4,DataView.prototype.getUint16,Uint16Array);DataView.prototype.pT=a(DataView.prototype.pT,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Wla=a(DataView.prototype.Wla,DataView.prototype.getInt8,Int8Array);DataView.prototype.Ula=a(DataView.prototype.Ula,DataView.prototype.getInt16,Int16Array);DataView.prototype.Vla=a(DataView.prototype.Vla,DataView.prototype.getInt32,Int32Array);}c.CIb=function(d,f,n,k,m){return n?d.YK(f,n,k || 1,m):new Uint8Array(0);};c.AIb=function(d,f,n,k,m){return n?d.H4(f,n,k || 2,m):new Uint16Array(0);};c.BIb=function(d,f,n,k,m){return n?d.pT(f,n,k || 4,m):new Uint32Array(0);};c.qcc=function(d,f,n,k,m){return n?d.Wla(f,n,k || 1,m):new Int8Array(0);};c.occ=function(d,f,n,k,m){return n?d.Ula(f,n,k || 2,m):new Int16Array(0);};c.pcc=function(d,f,n,k,m){return n?d.Vla(f,n,k || 4,m):new Int32Array(0);};l=!0;}}function a(g,h,d){return function(f,n,k,m){var p;k=k || d.BYTES_PER_ELEMENT;if(f + n * k > this.byteLength){p=new d(n);p.set(g.call(this,f,n - 1,k,m));p[n - 1]=h.call(this,f + (n - 1 * k),m);return p;}return g.call(this,f,n,k,m);};}c={YK:function(g,h,d,f,n){var k;k=new Uint8Array(d);f=f || 1;for(var m=0;m < d;(++m,h+=f)){k[m]=g.getUint8(h,n);}return k;},H4:function(g,h,d,f,n){var k;k=new Uint16Array(d);f=f || 2;for(var m=0;m < d;(++m,h+=f)){k[m]=g.getUint16(h,n);}return k;},pT:function(g,h,d,f,n){var k;k=new Uint32Array(d);f=f || 4;for(var m=0;m < d;(++m,h+=f)){k[m]=g.getUint32(h,n);}return k;},Wla:function(g,h,d,f,n){var k;k=new Int8Array(d);f=f || 1;for(var m=0;m < d;(++m,h+=f)){k[m]=g.getInt8(h,n);}return k;},Ula:function(g,h,d,f,n){var k;k=new Int16Array(d);f=f || 2;for(var m=0;m < d;(++m,h+=f)){k[m]=g.getInt16(h,n);}return k;},Vla:function(g,h,d,f,n){var k;k=new Int32Array(d);f=f || 4;for(var m=0;m < d;(++m,h+=f)){k[m]=g.getInt32(h,n);}return k;},Xbc:b};l=!1;c.PFb=function(){return l;};b();r.exports=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(230);r=(function(){function g(h,d,f){this.tag=h;this.view=d;this.M=f;this.startOffset=f.offset;}g.Q6a=function(h,d,f){var n,k;n=h.$c();k=h.YVb();h=new (l.ZJ[n] || g)(n,h.oXa(k),h);h.parse(d,f);return h;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});g.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.ed=0;return !0;};g.prototype.TVa=function(h){var d;d=[];this.tag === h && d.push(this);if(this.ZJ)for(var f=0;f < this.ZJ.length;f++){d=c.__spreadArrays(d,this.ZJ[f].TVa(h));}return d;};g.prototype.Ln=function(h){for(h=this.TVa(h);0 < h.length;){return h[0];}};g.prototype.dOa=function(h){for(this.ZJ=[];this.M.offset < this.startOffset + this.length;){this.ZJ.push(g.Q6a(this.M,h,this));}};return g;})();b.Xaa=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LHa="PboPlaydataServicesSymbol";b.nP="PboPlaydataServicesProviderSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(864),b);r.__exportStar(a(865),b);r.__exportStar(a(866),b);r.__exportStar(a(868),b);r.__exportStar(a(869),b);r.__exportStar(a(870),b);r.__exportStar(a(871),b);r.__exportStar(a(872),b);r.__exportStar(a(379),b);r.__exportStar(a(380),b);r.__exportStar(a(873),b);r.__exportStar(a(874),b);r.__exportStar(a(381),b);},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Sp=void 0;c=a(0).__importDefault(a(5));l=a(101);r=(function(){function g(h){h=("(").concat(h,")");this.S=new c.default.Console("ASEJS","media|asejs",h);this.ofa=[];}g.prototype.fv=function(h){var d;if(!this.ofa[h]){d=("[").concat(h,"]");this.ofa[h]=(0,l.gi)(c.default,this.S,d);}return this.ofa[h];};return g;})();b.Sp=new r(0);},function(r,b,a){var g,h,d,f,n,k,m;function c(p){return p && "function" === typeof p.jh?!0:!1;}function l(p){return c(p) && (p=typeof p.xLb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Zeb=b.ICb=b.wLb=b.Ldb=b.AsyncIterator=void 0;g=a(0);h=a(9);f=(function(){function p(q){var v;v=this;this.vmb=q;this.iQ=!1;this.Znb=function(t){return v.rVb(t);};this.QSa();}p.sMb=function(q,v){function t(){var w;w=q.next();w.then(function(u){l(q) && q.xLb || v(u);});w.then(function(u){return !u.done && t();});}t();};Object.defineProperties(p.prototype,{Yx:{get:function(){return this.iQ;},enumerable:!1,configurable:!0}});p.$Fb=function(){return new n([]);};p.Gma=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{hL:{get:function(){return this.Tr || !1;},enumerable:!1,configurable:!0}});p.prototype.jh=function(){this.cancel();};p.prototype.cancel=function(){this.SNa();this.Tr=!0;return this.oea;};p.prototype.next=function(){return this.Tr?this.oea:Promise.race([this.oea,this.vmb()]).then(this.Znb);};p.prototype.rVb=function(q){q.done && (this.iQ=!0,this.jh());this.hL || (this.SNa(),this.QSa());return q;};p.prototype.QSa=function(){var q;q=this;this.oea=new Promise(function(v){q.SNa=function(){v({done:!0});};});};return p;})();b.AsyncIterator=f;n=(function(p){function q(v){var t;t=p.call(this,function(){return t.fHb();}) || this;t.dx=v;t.index=0;return t;}g.__extends(q,p);q.prototype.jh=function(){c(this.dx) && this.dx.jh();p.prototype.jh.call(this);};q.prototype.fHb=function(){return this.dx.length > this.index?Promise.resolve({value:this.dx[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.Ldb=n;b.wLb=c;b.ICb=l;k=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.xqa();}) || this;u.console=t;u.vk=w;u.Asa=!1;Array.isArray(v)?u.rQ=new n(v):u.rQ=v;return u;}g.__extends(q,p);q.prototype.tVb=function(v){var t;this.Asa=!1;t=this.console;h.I && t && t.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.UI)return (c(v) && v.jh(),f.Gma());Array.isArray(v)?this.vk=new n(v):this.vk=v;return this.xqa();};q.prototype.sVb=function(v){var t;t=this.console;h.I && t && t.trace("CompoundIterator: processNextInnerResult",this.UI,v.done);if(!v.done || this.UI)return v;this.vk=void 0;return this.xqa();};q.prototype.jh=function(){var v;v=this.console;h.I && v && v.trace("CompoundIterator: dispose");this.UI=!0;p.prototype.jh.call(this);c(this.rQ) && this.rQ.jh();c(this.vk) && this.vk.jh();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.UI," ").concat(this.rQ," ").concat(this.vk);};q.prototype.xqa=function(){var v,t;v=this;t=this.console;h.I && t && t.trace("CompoundIterator: nextImpl");if(this.vk)return (h.I && t && t.trace("CompoundIterator: getNextInner"),this.vk.next().then(function(w){return v.sVb(w);}));this.Asa=!0;h.I && t && t.trace("CompoundIterator: getNextOuter");return this.rQ.next().then(function(w){return v.tVb(w);});};return q;})(f);b.Zeb=k;b.map=function(p,q,v){return new m(p,q,v);};m=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.mmb();}) || this;u.source=v;u.Bpa=t;u.Hia=w;return u;}g.__extends(q,p);q.prototype.jh=function(){c(this.source) && this.source.jh();p.prototype.jh.call(this);};q.prototype.mmb=function(){var v,t,w;v=this.Hia;t=this.Bpa;w=this.source;h.I && v && v.trace("MappedIterator: Requesting next");return w.next().then(function(u){return u.done?u:t(u.value);});};return q;})(f);b.flatten=function(p,q,v){return new k(p,q,v);};},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yh=b.B_=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.l7a=1]="relative";})(l=b.B_ || (b.B_={}));h=(function(){function d(f,n){this.type=f;this.timestamp=n;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Ia:{get:function(){g || (g=new d(l.l7a,c.N.Ia));return g;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.bz=function(f){return new h(l.absolute,f);};Object.defineProperties(d,{d5b:{get:function(){return h.Ia;},enumerable:!1,configurable:!0}});d.GC=function(f){return new h(l.l7a,f);};d.Swa=new h(l.absolute,c.N.Iq);return d;})();b.yh=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);l=c.__importStar(a(24));r=a(13);g=c.__importDefault(a(180));h=c.__importDefault(a(405));d=a(929);f=a(406);n=a(930);k=a(932);m=a(5).default;p=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(v){function t(w,u,y){var x;x=v.call(this) || this;x.Mo={};x.BQ=0;x.Rz=0;x.HP=[];x.uk=0;x.aac=!1;x.W=y;x.LMa=new h.default(y);x.$P=new n.fba(!0);x.GP=new n.fba(!1);y.DBb && (x.aJ=new k.WGa(x.W));x.reset();x.INa=w;x.Oj=u;x.iNa=m.eo.name();x.Oj.k9(x.iNa);m.events.on("networkchange",x.QRb.bind(x));return q=x;}c.__extends(t,v);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.QRb=function(w){this.iNa=w;this.Oj.k9(w);};Object.defineProperties(t.prototype,{wp:{get:function(){return this.Oj;},enumerable:!1,configurable:!0}});t.prototype.ybb=function(){var w;if(!this.Tfa){w=this.XYa();this.Oj.hE(w.default.Da,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].Da && this.Oj.fE(w["initial-throughput-ewma"].Da);w["throughput-ci"] && this.Oj.iE(w["throughput-ci"]);w.deliverytime && this.Oj.qJ(w.deliverytime);this.Oj.BH(w.mB?w.mB.Ira:void 0,w.mB?w.mB.qYb:void 0);l.Tb(this.Dc) || (this.Tfa=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.kg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.Mo.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Sj:{get:function(){return this.zI;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mpb:{get:function(){return this.HP;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{NMb:{get:function(){return this.lNa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.LD;},enumerable:!1,configurable:!0}});t.prototype.Ilb=function(){var w,u,y,x;w=this.W;u=w.Tlb.concat(w.$lb);y=w.Lea;x=this.LMa;u=u.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});u.confidence=new f.Ica(w,new d.fGa(w,this.s7.bind(this)));return u;};t.prototype.reset=function(){var w,u,y,x;w=this.W.Lea;u=this.LMa;y=this.W;this.LD=null;this.Mo=this.Ilb();if(this.W.hVa){x=this.W.rab;this.Mo.Z1b=new g.default(x.numB * x.bSizeMs,x.bSizeMs);}this.$P.reset();this.GP.reset();this.$w=u.create("respconn-ewma",w);this.Rw=u.create("respconn-ewma",w);this.aJ && this.aJ.reset();this.Nob=this.ybb.bind(this);this.c1=void 0;this.Sw=this.Dc=this.kg=null;this.$0=0;y.V7a && (this.Rz=this.BQ=this.zI=0,this.HP=[]);};t.prototype.m9=function(w){var u;u=this.Mo;if(w !== this.LD){l.bi(this.c1) || (clearInterval(this.c1),this.c1=void 0);l.Tb(this.LD) && (this.$0=0,this.kg=null);if(!l.Tb(w)){for(var y in u){u[y] && u[y].reset && u[y].reset();}this.$w.reset();this.Rw.reset();}l.Tb(this.kg) || (this.$0+=(l.Tb(this.Dc)?m.time.Ca():this.Dc) - this.kg);this.Dc=this.kg=null;this.LD=w;this.Oj.m9(w);}};t.prototype.k9=function(w){this.Oj.k9(w);};t.prototype.gA=function(w,u,y,x){var z,A;this.lNa=Math.max(this.lNa || 0,y);this.Rz-=w;z=this.W;A=this.Mo;if(!0 === x.TN)(x=A["throughput-wssl"]) && x.add(w,u,y,!0);else if(l.bi(u))p.warn("addDataReceived called with undefined start time");else {this.aJ && this.aJ.gA(w,u,y,x);z.Zlb && 10 > y - u?u=y - 10:0 === y - u && (u=y - 1);this.$P.gA(w,u,y,x);this.GP.gA(w,u,y,x);for(var B in A){A[B] && A[B].add && A[B].add(w,u,y,x);}l.Tb(this.kg) && (this.kg=u,this.Dc=null,this.Tfa=!1);l.Tb(this.Dc) || (u > this.Dc && (this.kg+=u - this.Dc),this.Dc=null,this.Tfa=!1);l.Tb(this.Sw) || (u - this.Sw > z.JNa?this.INa.L_a(this.Sw,u):y - u > z.JNa && this.INa.L_a(u,y));this.Sw=this.Sw?Math.max(y,this.Sw):y;}};t.prototype.cx=function(w){this.$w.add(w);this.Oj.cx(w);};t.prototype.bx=function(w){this.Rw.add(w);this.Oj.bx(w);};t.prototype.start=function(w,u){var y;l.Tb(this.Sw) && !l.Tb(this.Dc) && (this.Sw=w);y=this.Mo;if(this.W.kva)for(var x in y){y[x] && y[x].start && y[x].start(w,u);}};t.prototype.stop=function(w,u){var y,x;y=this.Mo;for(x in y){y[x] && y[x].stop && y[x].stop(w,u);}this.Dc=l.Tb(this.Dc)?w:Math.min(this.Dc,w);this.Sw=null;};t.prototype.flush=function(){var w,u;w=this.Mo;for(u in w){w[u] && w[u].flush && w[u].flush();}};t.prototype.cGb=function(){var w,u;w=this.Mo.Qbc;if(w){u=w.ctb();w.reset();}return u;};t.prototype.XYa=function(){var w,u,y,x,z,A,B,C;w=m.time.Ca();u=this.Mo;y=this.W;x=y.Nlb;z=y.Olb;A=y.oob;B={};for(C in u){u[C] && u[C].get && (B[C]=u[C].get(w,this.Rz),"iqr" === u[C].type && (B.mB=B[C]),"tdigest" === u[C].type && (B.Wg=B[C]),"wssl" === u[C].type && (B.TN=B[C]));}B.cdnavtp=this.$P.Im();B.activecdnavtp=this.GP.Im();B.default=x && B[x] && z && void 0 !== B[x][z]?{Da:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.gua && "none" !== A && (B.D8a=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.gma=function(){return this.aJ?this.aJ.gma():void 0;};t.prototype.get=function(){var w,u,y,x,z,A;w=this.XYa();u=w.default;y=this.$w.get();x=this.Rw.get();z=this.W;if(w.D8a){A=w.D8a;u=l.sb(u.Da) && l.sb(A.Da) && u.Da > A.Da && 0 < A.Da?A:u;}w.ub=u;w.KT=w["initial-throughput-ewma"];!z.PBb || !u || l.Tb(u.Da) || isNaN(u.Da) || !w.TN || l.Tb(w.TN.Da) || isNaN(w.TN.Da) || ("max" === z.Scb?w.ub.Da=Math.max(w.TN.Da,u.Da):"sum" === z.Scb && (w.ub.Da+=w.TN.Da));w.Pk=y;w.a5=x;this.W.hVa && (u=this.W.rab,w.Gfc=this.Mo.Z1b.get(u.fillS,u.fillHl));u=this.$0 + (l.Tb(this.kg)?0:(l.Tb(this.Dc)?m.time.Ca():this.Dc) - this.kg);w.time=u;return w;};t.prototype.wIb=function(){var w,u,y;w={};u=this.get();if(u.confidence && u["throughput-ewma"]){w.aseavtp=Number(u["throughput-ewma"].Da).toFixed(2);w.asevartp=Number(u["throughput-ewma"].Rd).toFixed(2);if(u.mB){y=u.mB.Ira;!y || void 0 === y.zp || void 0 === y.yp || void 0 === y.Qm || isNaN(y.zp || 0) || isNaN(y.yp) || isNaN(y.Qm) || (w.aseniqr=0 < y.Qm?Number((y.zp - y.yp) / y.Qm).toFixed(2):-1,w.aseiqr=Number(y.zp - y.yp).toFixed(2),w.asemedtp=Number(y.Qm).toFixed(2));w.iqrsamples=u.mB.qYb;}u.Wg && u.Wg.OK && (w.tdigest=u.Wg.OK());}return w;};t.prototype.tt=function(w,u){var y,x,z;y=u.requestId;1 === ++this.zI && this.emit("active",w);if(this.W.QUa){x=this.Mo;for(z in x){x[z] && x[z].tt && x[z].tt(w,u);}}this.W.G9 && this.start(w,u);y && (this.W.G9 || this.start(w,u),this.HP.push(y));this.Rz+=u.va || 0;this.$P.tt(w,u);this.GP.tt(w,u);};t.prototype.Q7a=function(){++this.BQ;};t.prototype.Kv=function(w,u,y){var x,z,A;x=y.requestId;u && --this.BQ;--this.zI;this.Rz=Math.max((this.Rz || 0) - ((y.va || 0) - (y.bytesReceived || 0)),0);this.W.V7a && (this.zI=Math.max(this.zI,0),this.BQ=Math.max(this.BQ,0));if(this.W.QUa){z=this.Mo;for(A in z){z[A] && z[A].Kv && z[A].Kv(w,u,y);}}this.W.G9 && this.stop(w,y);0 === this.zI && (this.W.G9 || this.stop(w,y),this.emit("inactive",w));x && (u=this.HP.indexOf(x),0 <= u && this.HP.splice(u,1));this.$P.Kv(w,y);this.GP.Kv(w,y);};t.prototype.s7=function(){this.ybb();this.c1=setInterval(this.Nob,this.W.Omb);};return t;})(r.EventEmitter);b.default=a;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pz=void 0;c=a(0);l=c.__importDefault(a(53));g=a(7);h=c.__importDefault(a(5));d=a(936);r=(function(){function f(n){this.vD=n;this.Od=[];this.console=new h.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{instance:{get:function(){var n;if(void 0 === f.$r){n=a(5).default;f.$r=new f(n.yO);}return f.$r;},enumerable:!1,configurable:!0}});f.reset=function(){f.$r=void 0;};f.prototype.Bx=function(n,k,m,p,q,v){var t;t=v.m_b?this.xDb(m,k,n,v.n_b):-1;-1 === t?(t={track:this.zxb(m,p,n,q,v),rh:m,O:k,J6a:n,fC:[],En:!1,LE:!1},this.Od.push(t),this.kWb(t),n=!1):(n=!0,t=this.Od[t]);n=new d.OJa(this.console,t.track,t.En,n);t.fC.push(n);return n;};f.prototype.kWb=function(n){function k(){n.En=!0;n.track.removeListener("created",k);}n.track.on("created",k);};f.prototype.X2=function(n){var k,m;n.ys();k=this.FS(function(p){return p.track === n.track;});if(-1 !== k){if((k=this.Od[k],1 === k.fC.length))(k.track.ys(),k.LE=!0);else {m=k.fC.indexOf(n);0 <= m && k.fC.splice(m,1);}}else n.track.ys();};f.prototype.sf=function(){this.vD.sf();};f.prototype.zxb=function(n,k,m,p,q){var v,t,w,u,y,x;v=this;w=!1;u=t=!1;y=p.ha;n?m === g.v.Z?(n=1,q.io?(u=!0,n=q.Lpa):q.BU && 2 < q.BU && (u=!0,n=q.BU),t=y?!!q.wX:q.wX || !u,t={type:this.vD.Z,openRange:t,pipeline:u,connections:n,socketBufferSize:q.v$,minRequestSize:q.PU}):m === g.v.ga?(w=q.io && (q.l4b || k && q.m4b),t=y?!!q.wX:q.wX || !w,t={type:this.vD.ga,openRange:t,pipeline:w,connections:1,socketBufferSize:q.K1,minRequestSize:q.PU}):m === g.v.Za?(t=y?!!q.wX:q.wX || !q.n4b,t={type:this.vD.Za,openRange:t,pipeline:q.io,connections:1,socketBufferSize:q.O1b,minRequestSize:q.PU}):t={type:q.gAb?this.vD.Z:this.vD.Egb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.ena,minRequestSize:q.PU}:t={type:m === g.v.ga?l.default.cn.ga:l.default.cn.Z,openRange:!1,pipeline:!1,connections:1,socketBufferSize:m === g.v.ga?q.K1:q.v$,minRequestSize:q.PU};x=new this.vD(t,p);x.io=u;x.on("transportreport",function(z){var A;A=v.FS(function(B){return B.track === x;});-1 !== A && (A=v.Od[A],A.fC.length && A.fC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=v.FS(function(B){return B.track === x;});-1 !== A && (A=v.Od[A],A.fC.length && A.fC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=v.FS(function(A){return A.track === x;});-1 !== z && v.Od.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.io=!1;if(y)x.Usa(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.k4b || q.$bb)q.$bb && x.config.type === g.v.Z?x.Usa(c.__assign(c.__assign({},x.config),{socketBufferSize:q.QPb,pipeline:!1,openRange:!0,connections:1})):x.Usa(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};f.prototype.xDb=function(n,k,m,p){return this.FS(function(q){return !q.LE && (!p && q.track.config.fec || !n?!q.rh && q.J6a === m:q.rh && q.O === k && q.J6a === m);});};f.prototype.FS=function(n){for(var k=0;k < this.Od.length;++k){if(n(this.Od[k]))return k;}return -1;};return f;})();b.pz=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Nb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Mb=!1;b.ba={xa:1001,T:24E3};b.duration={xa:6006,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,731];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Nb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Mb=!1;b.ba={xa:1001,T:24E3};b.duration={xa:6006,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,729];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Nb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Mb=!1;b.ba={xa:1001,T:24E3};b.duration={xa:6006,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,731];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Nb=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Mb=!1;b.ba={xa:1001,T:24E3};b.duration={xa:6006,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,729];b.Xb=[44];},function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(g,h){g[h]=a(l[h]);return g;},{}):l;}function c(l,g){return Object.keys(l).reduce(function(h,d){return (h[g[d] || d]=l[d],h);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.$t=void 0;r=(function(){function l(g){g && (this.UG(g.ce),this.Oua(g.Pd),this.Hua(g.L));}l.prototype.UG=function(g){this.ce=g;return this;};l.prototype.Oua=function(g){this.Pd=g;return this;};l.prototype.o9a=function(g){this.$f=g;return this;};l.prototype.pf=function(g,h,d){this.L || (this.L={});this.L[g]=a(h);if(d){g=this.L[g];if(h=g.next)g.next=c(h,d);g.Hb && d[g.Hb] && (g.Hb=d[g.Hb]);}return this;};l.prototype.Hua=function(g,h,d){void 0 === h && (h=function(){return !0;});this.L={};return this.nPa(g,h,d);};l.prototype.nPa=function(g,h,d,f){var n;n=this;void 0 === h && (h=function(){return !0;});Object.keys(g).filter(function(k){return h(g[k],k);}).forEach(function(k){var m;m=g[k];f && (m=f(m,k));n.pf(k,m,d);});return this;};l.prototype.zZa=function(g){var h;return !(null === (h=this.L) || void 0 === h || !h[g]);};l.prototype.Dh=function(){var g;if(!this.L)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ce)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.L[this.ce])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={ce:this.ce,L:this.L};this.Pd && (g.Pd=this.Pd);this.$f && (g.$f=this.$f);return g;};return l;})();b.$t=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jz=void 0;c=a(7);l=a(101);g=a(438);r=(function(){var R8;R8=2;for(;R8 !== 6;){switch(R8){case 2:h.prototype.mUa=function(d,f){var M2z,n;M2z=2;for(;M2z !== 3;){switch(M2z){case 2:n=null === this.J1?d * (100 - this.config.dX) / 100:(0,g.Sga)(d,this.J1);f=null !== f && void 0 !== f?f:this.l6;this.config.Toa && f?(d=(0,g.Sga)(d,f),d=Math.max(d,n)):d=n;return d;break;}}};h.prototype.Tua=function(d){var Z$C;Z$C=2;for(;Z$C !== 1;){switch(Z$C){case 2:return this.config.YUa && (d === c.rb.Lj || d === c.rb.ie);break;}}};h.prototype.Im=function(d,f){var N9g,n,k,m;N9g=2;for(;N9g !== 5;){switch(N9g){case 2:return this.Tua(f)?(null === (n=d.KT) || void 0 === n?void 0:n.Da) || (null === (k=d.ub) || void 0 === k?void 0:k.Da) || 0:(null === (m=d.ub) || void 0 === m?void 0:m.Da) || 0;break;}}};h.prototype.i9=function(d){var A7T;A7T=2;for(;A7T !== 1;){switch(A7T){case 2:this.J1=d;A7T=1;break;case 4:this.J1=d;A7T=2;break;}}};R8=3;break;case 3:h.prototype.ula=function(){var d41;d41=2;for(;d41 !== 1;){switch(d41){case 2:return this.J1;break;}}};h.prototype.Pua=function(d){var T8N;T8N=2;for(;T8N !== 1;){switch(T8N){case 2:this.tcb=d;T8N=1;break;}}};h.prototype.Oma=function(){var v0i;v0i=2;for(;v0i !== 1;){switch(v0i){case 2:return this.tcb;break;}}};return h;break;}}function h(d,f){var o_P,n;o_P=2;for(;o_P !== 8;){switch(o_P){case 3:var n0y="1";n0y+="SI";n0y+="YbZ";n0y+="rNJCp9";this.gsa=function(k,m,p){var T_V;T_V=2;for(;T_V !== 5;){switch(T_V){case 2:k=n.Im(k,p);return n.config.zQa?(m=(0,l.u3)(n.config.yQa,m.wm - m.zd,1),{lower:k * (1 - m),upper:void 0}):{lower:k * n.config.dX / 100,upper:void 0};break;}}};n0y;o_P=8;break;case 2:n=this;this.config=d;this.l6=f;this.tcb=this.J1=null;o_P=3;break;}}}})();b.jz=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.QH=b.Rfb=void 0;c=a(26);b.Rfb=function(){this.kE=[];this.$l=[];this.Pq=[];this.vPa=[];this.fha=c.Nt.hw;this.t$=c.ml.hw;};b.QH="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wP="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gP="MslProviderSymbol";},function(r){function b(h,d){return h.some(function(f){return f.id === d;});}function a(h,d){return h.filter(c.bind(null,d)).map(l).reduce(g,0);}function c(h,d){return h.id === d.id && h.displayTime + h.duration === d.displayTime;}function l(h){return h.duration;}function g(h,d){return h + d;}r.exports={bvb:function(h,d,f){for(var n=0;n < h.length;n++){if(h[n] !== d[n])return (f.error("indexId mismatch in sidx",{sIndexId:h,mIndexId:d}),!1);}return !0;},aja:function(h,d,f){var n;n={};n.displayTime=h.displayTime;n.duration=h.duration;n.originX=h.pSb;n.originY=h.qSb;n.sizeX=h.T_b;n.sizeY=h.U_b;n.imageData=d;n.id=h.BF;n.rootContainerExtentX=f.eYb;n.rootContainerExtentY=f.fYb;return n;},Jla:function(h,d){return "o_" + h + "s_" + d;},D4b:function(h,d){d("P" === String.fromCharCode(h[1]));d("N" === String.fromCharCode(h[2]));d("G" === String.fromCharCode(h[3]));},Nc:function(h){return "undefined" !== typeof h;},Xec:b,Kbc:a,$S:function(h,d){var f,n;f=Object.create({});for(n in h){f[n]=h[n];}h instanceof Error && (f.message=h.message,f.stack=h.stack);f.errorString=d;return f;},assert:function(h,d){if(!h)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},ZZa:function(h){return h && 0 < h.entries.length && 0 === h.images.length;},f1b:function(h,d){for(var f=d.entries.length,n,k=0;k < f;k++){if((n=d.entries[k],n.displayTime <= h && n.displayTime + n.duration >= h))return !0;}return !1;},g1b:function(h,d,f){for(var n=f.entries.length,k,m,p=0;p < n;p++){k=f.entries[p];m=k.displayTime;k=m + k.duration;if(d < m)break;if(m <= h && k >= h || m > h && m <= d)return !0;}return !1;},ASa:function(h){return h.map(function(d,f){d.duration+=a(h.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},zma:function(h){return h.reduce(function(d,f){return d + f.entries.reduce(function(n,k){return k.tna + n;},0);},0);},uAb:function(h,d){return h && h.Fv <= d && h.Fp >= d;},iGb:function(h){if(h)return h.endTime;},FGb:function(h){try{return String.fromCharCode.apply(String,h);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kD="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.So=b.Ndb=void 0;b.Ndb=a;b.So=new a();},function(r,b,a){var l,g,h;function c(d,f,n,k){f=h.ah.call(this,d,f,k) || this;f.context=d;f.ska=n;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Tp=void 0;r=a(0);l=a(1);g=a(67);h=a(73);a(130);ha(c,h.ah);c.prototype.z4=function(d){return "LIVE" === d.bg?g.xg.events + "/live/" + this.ska:g.xg.events + "/" + this.ska;};c.prototype.sf=function(d,f){var n,k;n=this;k=this.qA(f);!1;!1;return this.send(d,{url:f.href,name:g.xg.events,wj:this.z4(f)},k).then(function(){return f;}).catch(function(m){throw n.Al(m);});};c.prototype.Jn=function(d,f,n){var k,m,p;k=this;m=this.qA(n);!1;!1;p={url:f.NK("events").href,name:g.xg.events,wj:this.z4(n)};return this.send(d,p,m).then(function(q){f.oga(q.result.links);return n;}).catch(function(q){throw k.Al(q);});};c.prototype.qA=function(d){return {event:this.ska,xid:d.ja,position:d.position || 0,clientTime:d.rx,sessionStartTime:d.Sl,videoTrackId:d.ON,audioTrackId:d.Vo,timedTextTrackId:d.wN,mediaId:d.IL,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Fha(d.zv),sessionParams:d.Rl};};c.prototype.Eha=function(d){return {downloadableId:d.Sb,duration:d.duration};};c.prototype.Fha=function(d){var f;f={total:d.total,audio:d.audio.map(this.Eha),video:d.video.map(this.Eha),text:d.text.map(this.Eha)};d.total !== d.qH && (f.totalContentTime=d.qH);0 !== d.BC && (f.totalAdDuration=d.BC);0 !== d.CC && (f.totalOtherDuration=d.CC);if(0 !== d.CC || 0 !== d.BC)f.totalCombinedDuration=d.zN;0 !== d.rH && (f.totalLiveEdgeDuration=d.rH);0 !== d.sH && (f.totalStartSlateDuration=d.sH);return f;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.Xm)()),r.__param(1,(0,l.Xm)()),r.__param(2,(0,l.Xm)()),r.__param(3,(0,l.Xm)())],a);b.Tp=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LC="BrowserInfoSymbol";},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.qma=function(){return this.buffer.length - this.position;};a.prototype.Ey=function(){return this.buffer[this.position++];};a.prototype.uj=function(c){var l;l=this.position;this.position+=c;return this.iMb(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.iMb=function(c){return void 0 !== c.subarray;};a.prototype.Gp=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.Osa=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.Sg=function(){return this.Gp(2);};a.prototype.Hp=function(){return this.Gp(4);};a.prototype.zM=function(){return this.Gp(8);};a.prototype.Gv=function(c){for(var l,g="";c--;){l=this.Ey();g+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return g;};a.prototype.Psa=function(c){for(var l=0,g=0;g < c;g++){l+=this.Ey() << (g << 3);}return l;};a.prototype.yM=function(){return this.Psa(4);};a.prototype.OX=function(c){this.SN(c,2);};a.prototype.dz=function(c){this.SN(c,4);};a.prototype.E$=function(c){this.buffer[this.position++]=c;};a.prototype.SN=function(c,l){this.position+=l;for(var g=1;g <= l;g++){this.buffer[this.position - g]=c & 255;c=Math.floor(c / 256);}};a.prototype.cz=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.NX=function(c){for(var l=c.length,g=0;g < l;g++){this.buffer[this.position++]=c[g];}};a.prototype.RN=function(c,l){this.NX(c.uj(l));};a.prototype.Rcb=function(c){c=new a(c);for(var l,g;;){if((l=c.qma(),g=l >>> 14))(g=Math.min(4,g),this.E$(192 | g),this.RN(c,16384 * g));else {128 > l?this.E$(l):this.SN(l | 32768,2);this.RN(c,l);break;}}};a.prototype.N6a=function(){var g;for(var c=[],l=new a(c);;){g=this.Ey();if(g & 128){if(128 == (g & 192))(g&=63,g=(g << 8) + this.Ey(),l.RN(this,g));else if((g&=63,0 < g && 4 >= g)){l.RN(this,16384 * g);continue;}else throw Error("bad asn1");}else l.RN(this,g);break;}return new Uint8Array(c);};return a;})();b.wO=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wd=void 0;b.wd=a;a.tCa=/^hevc-main/;a.sCa=/^hevc-hdr-|hevc-dv/;a.ZH=/^hevc-hdr-/;a.Qt=/^hevc-dv/;a.OY=/h264mpl/;a.PC=/h264mpl30/;a.QC=/h264mpl31/;a.gz=/h264hpl.*-dash$/;a.gxa=/h264hpl.*-live$/;a.Fz=/^vp9-/;a.ti=/^av1-/;a.vgb=/[l|L]4[0-1]-/;a.wI=/-L5[0-1]-/;a.YDa=/-live/;a.J$=/^heaac-2-/;a.Hgb=/^heaac-2hq-dash/;a.Mw=/^xheaac-dash/;a.bfb=/ddplus-2/;a.cfb=/ddplus-5/;a.dfb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kY="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GJa="ReportSyncSymbol";b.EJa="ReportApiErrorSyncSymbol";b.SBa="FtlProbeConfigSymbol";b.UBa="FtlProbeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$X="ApiInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M_="UserAgentDataPlatformVersionProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AY="DebouncerFactorySymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.xJa=b.v_=b.m4=void 0;c=a(47);l=a(2);b.m4=function(g){return g === c.v.ga?l.R.cca:l.R.dca;};b.v_=50;b.xJa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Ws,minHCInitVideoBitrate:a.KPb,maxInitVideoBitrate:a.ky,minInitAudioBitrate:a.OU,maxInitAudioBitrate:a.CU,minHCInitAudioBitrate:a.K6,minAcceptableVideoBitrate:a.G6,minRequiredBuffer:a.IB,minPrebufSize:a.Uq,minCheckBufferingCompleteInterval:a.gqa,rebufferingFactor:a.Ssa,useMaxPrebufSize:a.Ewa,maxPrebufSize:a.FB,maxRebufSize:a.Npa,maxBufferingTime:a.Sq,minAudioMediaRequestSizeBytes:a.fqa,minVideoMediaRequestSizeBytes:a.jqa,initialBitrateSelectionCurve:a.j5,initSelectionLowerBound:a.r_a,initSelectionUpperBound:a.s_a,throughputPercentForAudio:a.dX,bandwidthMargin:a.oha,bandwidthMarginContinuous:a.pha,bandwidthMarginCurve:a.qha,conservBandwidthMargin:a.Kia,switchConfigBasedOnInSessionTput:a.Gva,conservBandwidthMarginTputThreshold:a.Mia,conservBandwidthMarginCurve:a.Lia,switchAlgoBasedOnHistIQR:a.aab,switchConfigBasedOnThroughputHistory:a.Hva,maxPlayerStateToSwitchConfig:a.D2a,lowEndMarkingCriteria:a.S1a,IQRThreshold:a.uDa,histIQRCalcToUse:a.PZa,maxTotalBufferLevelPerSession:a.FU,highWatermarkLevel:a.KZa,toStableThreshold:a.Gab,toUnstableThreshold:a.Y9,skipBitrateInUpswitch:a.dva,watermarkLevelForSkipStart:a.Uwa,highStreamRetentionWindow:a.hna,lowStreamTransitionWindow:a.ppa,highStreamRetentionWindowUp:a.jna,lowStreamTransitionWindowUp:a.rpa,highStreamRetentionWindowDown:a.ina,lowStreamTransitionWindowDown:a.qpa,highStreamInfeasibleBitrateFactor:a.gna,lowestBufForUpswitch:a.ey,lockPeriodAfterDownswitch:a.rU,lowWatermarkLevel:a.upa,lowestWaterMarkLevel:a.fy,lowestWaterMarkLevelBufferRelaxed:a.vpa,mediaRate:a.z6,maxTrailingBufferLen:a.r6,audioBufferTargetAvailableSize:a.dha,videoBufferTargetAvailableSize:a.Jwa,maxVideoTrailingBufferSize:a.L2a,maxAudioTrailingBufferSize:a.q2a,fastUpswitchFactor:a.C3,fastDownswitchFactor:a.Hka,maxMediaBufferAllowed:a.YF,simulatePartialBlocks:a.T9a,simulateBufferFull:a.S9a,considerConnectTime:a.Nia,connectTimeMultiplier:a.Jia,lowGradeModeEnterThreshold:a.fOb,lowGradeModeExitThreshold:a.gOb,maxDomainFailureWaitDuration:a.t2a,maxAttemptsOnFailure:a.p2a,exhaustAllLocationsForFailure:a.zVa,maxNetworkErrorsDuringBuffering:a.A2a,maxBufferingTimeAllowedWithNetworkError:a.m6,fastDomainSelectionBwThreshold:a.IVa,throughputProbingEnterThreshold:a.oab,throughputProbingExitThreshold:a.pab,locationProbingTimeout:a.J1a,finalLocationSelectionBwThreshold:a.PVa,throughputHighConfidenceLevel:a.mab,throughputLowConfidenceLevel:a.nab,locationStatisticsUpdateInterval:a.cpa,enablePerfBasedLocationSwitch:a.fVa,probeServerWhenError:a.AG,probeRequestTimeoutMilliseconds:a.tsa,allowSwitchback:a.cR,probeDetailDenominator:a.j6a,maxDelayToReportFailure:a.n6,countGapInBuffer:a.Jvb,bufferThresholdForAbort:a.Csb,allowCallToStreamSelector:a.sqb,pipelineScheduleTimeoutMs:a.zTb,maxPartialBuffersAtBufferingStart:a.FL,maxActiveRequestsSABCell100:a.n2a,maxStreamingSkew:a.$Ob,maxPendingBufferPercentage:a.TOb,headerRequestSize:a.X4,estimateHeaderSize:a.nka,minBufferLenForHeaderDownloading:a.I6,reserveForSkipbackBufferMs:a.zta,numExtraFragmentsAllowed:a.YQb,pipelineEnabled:a.io,maxParallelConnections:a.Lpa,socketReceiveBufferSize:a.$9a,audioSocketReceiveBufferSize:a.K1,videoSocketReceiveBufferSize:a.v$,headersSocketReceiveBufferSize:a.ena,updatePtsIntervalMs:a.O3b,bufferTraceDenominator:a.Fsb,bufferLevelNotifyIntervalMs:a.OQa,aseReportDenominator:a.iR,aseReportIntervalMs:a.Zga,enableAbortTesting:a.dBb,abortRequestFrequency:a.bpb,streamingStatusIntervalMs:a.R0b,prebufferTimeLimit:a.DV,minBufferLevelForTrackSwitch:a.c3a,penaltyFactorForLongConnectTime:a.Era,longConnectTimeThreshold:a.npa,additionalBufferingLongConnectTime:a.Bga,additionalBufferingPerFailure:a.Cga,rebufferCheckDuration:a.RV,enableLookaheadHints:a.wBb,lookaheadFragments:a.dOb,enableOCSideChannel:a.VE,OCSCBufferQuantizationConfig:a.ZZ,updateDrmRequestOnNetworkFailure:a.vbb,deferAseScheduling:a.Azb,maxDiffAudioVideoEndPtsMs:a.JOb,defaultHeaderCacheSize:a.xja,defaultHeaderCacheDataPrefetchMs:a.wja,neverWipeHeaderCache:a.vqa,networkFailureResetWaitMs:a.tqa,networkFailureAbandonMs:a.sqa,maxThrottledNetworkFailures:a.q6,throttledNetworkFailureThresholdMs:a.T9,lowThroughputThreshold:a.tpa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.wka,mp4ParsingInNative:a.dQb,sourceBufferInOrderAppend:a.g0b,requireAudioStreamToEncompassVideo:a.JM,allowAudioToStreamPastVideo:a.rqb,enableManagerDebugTraces:a.cVa,managerDebugMessageInterval:a.a2a,managerDebugMessageCount:a.$1a,bufferThresholdToSwitchToSingleConnMs:a.Esb,bufferThresholdToSwitchToParallelConnMs:a.Dsb,netIntrStoreWindow:a.nQb,minNetIntrDuration:a.MPb,fastHistoricBandwidthExpirationTime:a.RCb,bandwidthExpirationTime:a.Trb,failureExpirationTime:a.QCb,historyTimeOfDayGranularity:a.IJb,expandDownloadTime:a.BCb,minimumMeasurementTime:a.VPb,minimumMeasurementBytes:a.UPb,throughputMeasurementTimeout:a.W1b,initThroughputMeasureDataSize:a.MKb,throughputMeasureWindow:a.V1b,throughputIQRMeasureWindow:a.U1b,IQRBucketizerWindow:a.Ahb,connectTimeHalflife:a.nvb,responseTimeHalflife:a.TXb,historicBandwidthUpdateInterval:a.HJb,throughputWarmupTime:a.a2b,minimumBufferToStopProbing:a.TPb,throughputPredictor:a.X1b,ase_stream_selector:a.Wqb,enableFilters:a.oBb,filterDefinitionOverrides:a.gDb,defaultFilter:a.izb,secondaryFilter:a.GYb,defaultFilterDefinitions:a.jzb,initBitrateSelectorAlgorithm:a.Kna,bufferingSelectorAlgorithm:a.Bha,ase_ls_failure_simulation:a.Ryb,ase_dump_fragments:a.oja,ase_location_history:a.pja,ase_throughput:a.FTa,ase_simulate_verbose:a.Syb,secondThroughputEstimator:a.gua,secondThroughputMeasureWindowInMs:a.C8a,marginPredictor:a.Cpa,networkMeasurementGranularity:a.uqa,HistoricalTDigestConfig:a.MCa,maxIQRSamples:a.y2a,minIQRSamples:a.f3a,periodicHistoryPersistMs:a.L7,saveVideoBitrateMs:a.W8,needMinimumNetworkConfidence:a.rqa,biasTowardHistoricalThroughput:a.tha,maxFastPlayBufferInMs:a.Ipa,maxFastPlayBitThreshold:a.v2a,minAudioMediaRequestDuration:a.tv,minVideoMediaRequestDuration:a.ny,minAudioMediaRequestDurationCache:a.tv,minVideoMediaRequestDurationCache:a.ny,addHeaderDataToNetworkMonitor:a.nga,hindsightDenominator:a.NZa,hindsightDebugDenominator:a.MZa,hindsightParam:a.OZa,minimumTimeBeforeBranchDecision:a.P6,minimumTimeBeforeDelayedSeekToQueuedSegment:a.o3a,enableSessionHistoryReport:a.gVa,earlyStageEstimatePeriod:a.IUa,lateStageEstimatePeriod:a.m1a,maxNumSessionHistoryStored:a.B2a,minSessionHistoryDuration:a.j3a,appendMediaRequestOnComplete:a.NPa,waitForDrmToAppendMedia:a.Qwa,forceAppendHeadersAfterDrm:a.ela,startMonitorOnLoadStart:a.kva,reportFailedRequestsToNetworkMonitor:a.mta,reappendRequestsOnSkip:a.cWb,maxActiveRequestsPerSession:a.BU,limitAudioDiscountByMaxAudioBitrate:a.Toa,appendFirstHeaderOnComplete:a.Oga,maxAudioFragmentOverlapMs:0,editVideoFragments:a.VAb,declareBufferingCompleteAtSegmentEnd:a.HTa,applyProfileTimestampOffset:a.gR,applyProfileStreamingOffset:a.pm,mediaSourceSupportsNegativePts:a.B6,requireDownloadDataAtBuffering:a.uta,requireSetupConnectionDuringBuffering:a.vta,recordFirstFragmentOnSubBranchCreate:a.h7a,earlyAppendSingleChildBranch:a.HUa,selectStartingVMAFMethod:a.UM,activateSelectStartingVMAF:a.UQ,minStartingVideoVMAF:a.Xs,minAcceptableVMAF:a.MU,minAllowedVmaf:a.bG,alwaysNotifyEOSForPlaygraph:a.Aqb,enableNewAse:a.ABb,useNewApi:a.j4b,enableCombinedPlaygraphs:a.lS,enableAdPlaygraphs:a.UE,retainSbrOnFade:a.J8,excludedContentPlaygraphIds:a.xka,enableDiscontiguousBuffering:a.m3,forceImmediateTransitionTypeForTitles:a.hla,forceImmediateTransitionExitZone:a.gla,useBufferSizeLimiter:a.k$,useLegacyFragmentRounding:a.Dwa,maxAllowedOutstandingRequests:a.k6,alwaysRunUnderflowTimer:a.sJ,minStreamableConcurrencyWindow:a.hqa,streamableConcurrencyFactor:a.wva,bufferingConcurrencyWindow:a.yR,singleStreamablePerBranch:a.S_b,enableResolutionVMAFStreamFilter:a.n3,resolutionVMAFCappingRuleList:a.I8,percentCapTitlesForResolutionVMAFStreamFilter:a.Hra,useExitZones:a.Cwa,perFragmentVMAFConfig:a.jM,enableInitialTputLogging:a.ZUa,maxResponsesInitialTput:a.VOb,paddingDurationMs:a.sra,paddingMediaType:a.tra,supportsPtsChanged:a.Z$a,ciPredictorSource:a.kia,experimentalFilter:a.CCb,simulationDurationStrategy:a.bva,liveTargetBufferDuration:a.nU,liveEdgeCushion:a.a6};};},function(r,b){function a(l,g){return "number" !== typeof l || "number" !== typeof g?!1:l && g?Math.abs(l * g / c(l,g)):0;}function c(l,g){var h;l=Math.abs(l);for(g=Math.abs(g);g;){h=g;g=l % g;l=h;}return l;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function l(g,h){"object" === typeof g?(this.ec=g.xa,this.bb=g.T):(this.ec=g,this.bb=h);}l.Na=function(g){return new l(g,1E3);};l.Wva=function(g,h){return Math.floor(1E3 * g / h);};l.y3a=function(g,h){return Math.floor(g * h / 1E3);};l.max=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}return g.reduce(function(d,f){return d.greaterThan(f)?d:f;});};l.min=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}return g.reduce(function(d,f){return d.lessThan(f)?d:f;});};l.QA=function(g,h){var d;if(g.T === h.T)return new l(c(g.xa,h.xa),g.T);d=a(g.T,h.T);return l.QA(g.Nd(d),h.Nd(d));};Object.defineProperties(l.prototype,{xa:{get:function(){return this.ec;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{T:{get:function(){return this.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{G:{get:function(){return 1E3 * this.ec / this.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{th:{get:function(){return this.ec / this.bb;},enumerable:!0,configurable:!0}});l.prototype.Nd=function(g){g/=this.T;return new l(Math.floor(this.xa * g),Math.floor(this.T * g));};l.prototype.add=function(g){var h;if(this.T === g.T)return new l(this.xa + g.xa,this.T);h=a(this.T,g.T);return this.Nd(h).add(g.Nd(h));};l.prototype.wa=function(g){return this.add(new l(-g.xa,g.T));};l.prototype.uv=function(g){return new l(this.xa * g,this.T);};l.prototype.Ii=function(g){var h;if(this.T === g.T)return this.xa / g.xa;h=a(this.T,g.T);return this.Nd(h).Ii(g.Nd(h));};l.prototype.ZYa=function(g){return a(this.T,g);};l.prototype.f7a=function(){return new l(this.T,this.xa);};l.prototype.compare=function(g,h){var d;if(this.T === h.T)return g(this.xa,h.xa);d=a(this.T,h.T);return g(this.Nd(d).xa,h.Nd(d).xa);};l.prototype.equal=function(g){return this.compare(function(h,d){return h === d;},g);};l.prototype.Eqa=function(g){return this.compare(function(h,d){return h !== d;},g);};l.prototype.lessThan=function(g){return this.compare(function(h,d){return h < d;},g);};l.prototype.greaterThan=function(g){return this.compare(function(h,d){return h > d;},g);};l.prototype.yB=function(g){return this.compare(function(h,d){return h <= d;},g);};l.prototype.$h=function(g){return this.compare(function(h,d){return h >= d;},g);};l.prototype.toJSON=function(){return {ticks:this.xa,timescale:this.T};};l.prototype.toString=function(){return this.xa + "/" + this.T;};l.Ia=new l(0,1);l.qy=new l(1,1E3);return l;})();b.N=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(23);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f;f=g.prototype.parse.call(this,d);this.M.offset+=8;this.aia=this.M.ug();this.Sta=this.M.ug();this.M.offset+=4;this.samplerate=this.M.ug();this.M.offset+=2;l.I && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.aia + ", samplesize: " + this.Sta + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.He)(d.He.aia=this.aia,d.He.Sta=this.Sta,d.He.samplerate=this.samplerate);return f;};h.Mc=!1;return h;})(a(229).default);b.default=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qda=b.tk=void 0;c=a(146);(function(g){g[g.pending=0]="pending";g[g.O8=1]="running";g[g.complete=2]="complete";g[g.LE=3]="destroyed";})(l=b.tk || (b.tk={}));r=(function(){function g(h,d){void 0 === d && (d=0);this.name=h;this.priority=d;this.wc=l.pending;}Object.defineProperties(g.prototype,{state:{get:function(){return this.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{P_a:{get:function(){return this.wc === l.pending || this.wc === l.O8;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Bd:{get:function(){return this.vn;},enumerable:!1,configurable:!0}});g.prototype.hrb=function(h){var d;null === (d=this.vn) || void 0 === d?void 0:d.x8(this);this.vn=h;};g.prototype.lC=function(){this.wc=l.O8;this.sf();this.b7() === c.yh.Swa && (this.wc=l.complete);};g.prototype.Ra=function(){var h;this.wc=l.LE;null === (h=this.vn) || void 0 === h?void 0:h.x8(this);};g.prototype.vRa=function(h){this.vn.x8(this);this.vn=h;this.vn.Hta(this);};g.prototype.bv=function(){};g.prototype.reset=function(){this.wc=l.pending;};return g;})();b.Qda=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Lt=void 0;a(4);r=(function(){function c(l,g){c.oa(this,l,g);}c.oa=function(l,g,h){l.sd=g;l.Hc=h.va;l.Gb=h.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.sd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{va:{get:function(){return this.Hc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Gb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{pa:{get:function(){return this.sd.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.sd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.sd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Wb:{get:function(){return this.sd.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.sd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.sd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{T:{get:function(){return this.sd.T;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{dG:{get:function(){return this.sd.dG;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ba:{get:function(){return this.sd.ba;},enumerable:!1,configurable:!0}});c.prototype.uZb=function(l){this.Hc=l;};c.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Wb,offset:this.offset,bytes:this.va};};return c;})();b.Lt=r;},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oba=b.rda=void 0;a=(function(){function l(){var g;g=this;this.CQ=[];this.gXb=function(h){h=g.CQ.indexOf(h);0 <= h && g.CQ.splice(h,1);};}Object.defineProperties(l.prototype,{Nga:{get:function(){return 0 !== this.CQ.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{o4a:{get:function(){return this.CQ.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var g;g=new c(this.gXb);this.CQ.push(g);return g;};l.prototype.Ncb=function(g){var h;h=this.add();try{Promise.resolve(g()).then(function(d){h.release();return d;},function(d){h.release();return Promise.reject(d);});}catch(d){h.release();Promise.reject(d);}};return l;})();b.rda=a;c=(function(){function l(g){this.eob=g;}l.prototype.release=function(){this.eob(this);};return l;})();r=(function(){function l(g,h){this.aSb=g;this.console=h;this.counter=new a();}l.prototype.Eu=function(){var g,h;g=this;this.console.trace("Acquiring lease, total count",this.counter.o4a + 1);h=this.counter.add();return {release:function(){h.release();g.console.trace("Releasing lease, total count",g.counter.o4a);g.aSb(function(){return !g.counter.Nga;});}};};return l;})();b.Oba=r;},function(r){var n,k,m,p,q,v;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(t){if(n === setTimeout)return setTimeout(t,0);if((n === b || !n) && setTimeout)return (n=setTimeout,setTimeout(t,0));try{return n(t,0);}catch(w){try{return n.call(null,t,0);}catch(u){return n.call(this,t,0);}}}function l(t){if(k === clearTimeout)return clearTimeout(t);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(t));try{return k(t);}catch(w){try{return k.call(null,t);}catch(u){return k.call(this,t);}}}function g(){p && q && (p=!1,q.length?m=q.concat(m):v=-1,m.length && h());}function h(){var t;if(!p){t=c(g);p=!0;for(var w=m.length;w;){q=m;for(m=[];++v < w;){q && q[v].lC();}v=-1;w=m.length;}q=null;p=!1;l(t);}}function d(t,w){this.GEb=t;this.dx=w;}function f(){}r=r.exports={};n="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;m=[];p=!1;v=-1;r.aec=function(t){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var u=1;u < arguments.length;u++){w[u - 1]=arguments[u];}m.push(new d(t,w));1 !== m.length || p || c(h);};d.prototype.lC=function(){this.GEb.apply(null,this.dx);};r.title="browser";r.Fac=!0;r.q3={};r.oac=[];r.version="";r.Xfc={};r.on=f;r.addListener=f;r.once=f;r.Xq=f;r.removeListener=f;r.removeAllListeners=f;r.emit=f;r.HV=f;r.isa=f;r.listeners=function(){return [];};r.Cac=function(){throw Error("process.binding is not supported");};r.ibc=function(){return "/";};r.Uac=function(){throw Error("process.chdir is not supported");};r.Ofc=function(){return 0;};},function(r,b,a){var d;function c(f,n,k){this.aK=!1 === f;this.Gn=f || .01;this.Gba=void 0 === n?25:n;this.nza=void 0 === k?1.1:k;this.jj=new d(l);this.reset();}function l(f,n){return f.Kf > n.Kf?1:f.Kf < n.Kf?-1:0;}function g(f,n){return f.sv - n.sv;}function h(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.Gn:!1);this.cAb=this.config.ratio || .9;this.dAb=this.config.Afc || 1E3;this.U6=0;}d=a(919).Vjb;c.prototype.reset=function(){this.jj.clear();this.Noa=this.n=0;};c.prototype.size=function(){return this.jj.size;};c.prototype.ur=function(f){var n;n=[];f?(this.d0(!0),this.jj.zs(function(k){n.push(k);})):this.jj.zs(function(k){n.push({Kf:k.Kf,n:k.n});});return n;};c.prototype.summary=function(){return [(this.aK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.ji(0),"Q1  = " + this.ji(.25),"Q2  = " + this.ji(.5),"Q3  = " + this.ji(.75),"max = " + this.ji(1)].join("\n");};c.prototype.push=function(f,n){n=n || 1;f=Array.isArray(f)?f:[f];for(var k=0;k < f.length;k++){this.FMa(f[k],n);}};c.prototype.Jsa=function(f){f=Array.isArray(f)?f:[f];for(var n=0;n < f.length;n++){this.FMa(f[n].Kf,f[n].n);}};c.prototype.d0=function(f){var n;if(!(this.n === this.Noa || !f && this.nza && this.nza > this.n / this.Noa)){n=0;this.jj.zs(function(k){k.sv=n + k.n / 2;n=k.TJ=n + k.n;});this.n=this.Noa=n;}};c.prototype.HDb=function(f){var n,k;if(0 === this.size())return null;n=this.jj.lowerBound({Kf:f});k=null === n.data()?n.zG():n.data();return k.Kf === f || this.aK?k:(n=n.zG()) && Math.abs(n.Kf - f) < Math.abs(k.Kf - f)?n:k;};c.prototype.YI=function(f,n,k){this.jj.Qs({Kf:f,n:n,TJ:k});this.n+=n;};c.prototype.S_=function(f,n,k){n !== f.Kf && (f.Kf+=k * (n - f.Kf) / (f.n + k));f.TJ+=k;f.sv+=k / 2;f.n+=k;this.n+=k;};c.prototype.FMa=function(f,n){var k,m,p;k=this.jj.min();m=this.jj.max();p=this.HDb(f);p && p.Kf === f?this.S_(p,f,n):p === k?this.YI(f,n,0):p === m?this.YI(f,n,this.n):this.aK?this.YI(f,n,p.TJ):(k=p.sv / this.n,Math.floor(4 * this.n * this.Gn * k * (1 - k)) - p.n >= n?this.S_(p,f,n):this.YI(f,n,p.TJ));this.d0(!1);!this.aK && this.Gba && this.size() > this.Gba / this.Gn && this.vx();};c.prototype.osb=function(f){var n,k;this.jj.Ur=g;n=this.jj.upperBound({sv:f});this.jj.Ur=l;k=n.zG();f=k && k.sv === f?k:n.next();return [k,f];};c.prototype.ji=function(f){var n;n=(Array.isArray(f)?f:[f]).map(this.Nnb,this);return Array.isArray(f)?n:n[0];};c.prototype.Nnb=function(f){var n,k;if(0 !== this.size()){this.d0(!0);this.jj.min();this.jj.max();f*=this.n;n=this.osb(f);k=n[0];n=n[1];return n === k || null === k || null === n?(k || n).Kf:this.aK?f <= k.TJ?k.Kf:n.Kf:k.Kf + (f - k.sv) * (n.Kf - k.Kf) / (n.sv - k.sv);}};c.prototype.vx=function(){var f;if(!this.sSa){f=this.ur();this.reset();for(this.sSa=!0;0 < f.length;){this.Jsa(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.d0(!0);this.sSa=!1;}};h.prototype=Object.create(c.prototype);h.prototype.constructor=h;h.prototype.push=function(f){c.prototype.push.call(this,f);this.nub();};h.prototype.YI=function(f,n,k){this.U6+=1;c.prototype.YI.call(this,f,n,k);};h.prototype.S_=function(f,n,k){1 === f.n && --this.U6;c.prototype.S_.call(this,f,n,k);};h.prototype.nub=function(){!("auto" !== this.mode || this.size() < this.dAb) && this.U6 / this.size() > this.cAb && (this.mode="cont",this.aK=!1,this.Gn=this.config.Gn || .01,this.vx());};r.exports={TDigest:c,Digest:h};},function(r,b,a){function c(l,g){this.nJ=l;this.gj=Math.floor((l + g - 1) / g);this.qd=g;this.reset();}a(4);c.prototype.shift=function(){this.rd.shift();this.Au.shift();};c.prototype.et=function(l){return this.cRa(this.rd[l],l);};c.prototype.update=function(l,g){this.rd[l]=(this.rd[l] || 0) + g;};c.prototype.push=function(){this.rd.push(0);this.Au.push(0);this.ib+=this.qd;};c.prototype.add=function(l,g,h){var d,f,n;if(null === this.ib){d=Math.max(Math.floor((h - g + this.qd - 1) / this.qd),1);for(this.ib=g;this.rd.length < d;){this.push();}}for(;this.ib <= h;){this.push();this.rd.length > this.gj && this.shift();}if(null === this.ln || g < this.ln)this.ln=g;if(g > this.ib - this.qd)this.update(this.rd.length - 1,l);else if(g == h)(d=this.rd.length - Math.max(Math.ceil((this.ib - h) / this.qd),1),0 <= d && this.update(d,l));else for(d=1;d <= this.rd.length;++d){f=this.ib - d * this.qd;n=f + this.qd;if(!(f > h)){if(n < g)break;this.update(this.rd.length - d,Math.round(l * (Math.min(n,h) - Math.max(f,g)) / (h - g)));}}for(;this.rd.length > this.gj;){this.shift();}};c.prototype.start=function(l){null === this.ln && (this.ln=l);null === this.ib && (this.ib=l);};c.prototype.stop=function(l){var g,h;if(null !== this.ib)if(l - this.ib > 10 * this.nJ)this.reset();else {for(;this.ib <= l;){this.push();this.rd.length > this.gj && this.shift();}g=this.rd.length - Math.ceil((this.ib - this.ln) / this.qd);h=this.rd.length - Math.ceil((this.ib - l) / this.qd);if(0 <= h)if((0 > g && (this.ln=this.ib - this.qd * this.rd.length,g=0),g === h))this.Au[g]+=l - this.ln;else if(h > g)for((this.Au[g]+=(this.ib - this.ln) % this.qd,this.Au[h]+=this.qd - (this.ib - l) % this.qd,l=g + 1);l < h;++l){this.Au[l]=this.qd;}this.ln=null;}};c.prototype.cRa=function(l,g){g=this.qla(g);return 0 === g?null:8 * l / g;};c.prototype.qla=function(l){var g;g=this.Au[l];null !== this.ln && (l=this.ib - (this.rd.length - l - 1) * this.qd,l > this.ln && (g=l - this.ln <= this.qd?g + (l - this.ln):this.qd));return g;};c.prototype.get=function(l,g){var h,d;h=this.rd.map(this.cRa,this);if("last" === l)for(l=0;l < h.length;++l){null === h[l] && (h[l]=0 < l?h[l - 1]:0);}else if("average" === l){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.qd));for(l=0;l < h.length;++l){null === h[l]?h[l]=Math.floor(d || 0):d=void 0 !== d?g * h[l] + (1 - g) * d:h[l];}}return h;};c.prototype.reset=function(){this.V$b || (this.rd=[],this.Au=[],this.ln=this.ib=null);};c.prototype.setInterval=function(l){this.gj=Math.floor((l + this.qd - 1) / this.qd);};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sO=void 0;b.sO=(function(){function a(){}a.p5=function(c,l){var d;function g(f){return h(d++)(f,g);}function h(f){return f >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(f));}:l[f];}d=0;return g(c);};return a;})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tma=b.Jm=b.isEqual=b.ZT=void 0;c=a(10);l=a(243);b.ZT=function(g){return !!g.K;};b.isEqual=function(g,h){var d,f;d=(0,b.ZT)(g);f=(0,b.ZT)(h);return d === f?d?g.K === h.K:g.fa === h.fa:!1;};b.Jm=function(g){if((0,b.ZT)(g))return g.K;g=g.fa;return g.L[g.ce].K;};b.tma=function(g,h){var d;return g.T1?g.T1 instanceof c.N?(g=(0,l.MR)(h,(0,b.Jm)(g.key),g.T1),(null === g || void 0 === g?0:g.offset.greaterThan(c.N.Ia))?g:{offset:c.N.Ia,J:null !== (d=null === g || void 0 === g?void 0:g.J) && void 0 !== d?d:h.ce}):g.T1:{offset:c.N.Ia,J:h.ce};};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(1019);c=a(423);a=a(1022);b.default={STARTING:a.J8a,BUFFERING:r.d9,REBUFFERING:r.d9,PLAYING:c.Ql,PAUSED:c.Ql};},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Dr=void 0;c=a(0);l=a(4);r=a(49);g=a(10);h=a(19);d=a(411);f=a(89);n=a(91);a=(function(k){function m(p,q,v,t,w,u){v=k.call(this,p,q,v,t,w) || this;f.al.oa(v,p,q,u);v.Hc=0;v.kd=!1;return v;}c.__extends(m,k);Object.defineProperties(m.prototype,{Ad:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.push=function(p){this.Hc+=p.va;k.prototype.push.call(this,p);};m.prototype.Ip=function(p){this.Hc-=p.va;k.prototype.Ip.call(this,p);};m.prototype.qj=function(){var p;return !this.kd && !!this.Ja.length && !(null === (p=(0,h.uc)(this.Ja,function(q){return !q.kd;})) || void 0 === p || !p.qj());};m.prototype.hq=function(p,q,v){var t,w;(0,l.assert)(!this.kd);t=n.kf.cGa;w=(0,g.iy)(this);this.kd=this.Ja.every(function(u){if(u.kd)return !0;if(!u.qj())return !1;t=u.hq(p,q,v,w).status;return t === n.kf.Zm;});t !== n.kf.Zm || this.kd || (t=n.kf.b_);return {status:t};};m.prototype.TWb=function(){this.Ja.forEach(function(p){p.WV();});};m.prototype.Hh=function(){return this.Ja?this.Ja[0].Hh() + "-" + this.Ja[this.Ja.length - 1].Hh():"empty";};m.prototype.ry=function(p,q,v){this.Hc+=q - v;this.S3(this,q,v);};m.prototype.toString=function(){return "ID: " + this.Hh() + ":" + f.al.prototype.toString.call(this) + "(aggregate)";};m.prototype.toJSON=function(){return {ID:this.Hh(),request:k.prototype.toJSON.call(this)};};return m;})(d.$$);b.Dr=a;(0,r.si)(f.al,a);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vt=void 0;r=b.Vt || (b.Vt={});r[r.pwa=0]="up";r[r.cS=1]="down";},function(r,b,a){var l,g,h;function c(d){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(f)return {j1:parseInt(f[2]),yk:parseInt(f[1]),MF:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {yk:parseInt(d[4]),MF:!0,sV:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.kXa=b.hF=b.Bxa=void 0;l=a(387);g=a(10);h=a(433);r=(function(){function d(f,n,k){this.hs=f;this.Ac=n;this.Df=k;}d.prototype.ZEb=function(f){for(var n,k,m=c(null === f || void 0 === f?void 0:f.J),p=this.hs.fa,q,v=p.L[f.J],t=v,w=[f.J],u=this.Ac.fa.L[t.Qb].K;t && t.Qb === v.Qb && t.K !== u;){w.push(t.Hb);t=p.L[t.Hb];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:f.J;q=c(p);f=this.hs.fa.L[f.J];p=this.hs.fa.L[p];f=(null !== (n=f.qa) && void 0 !== n?n:Infinity) - f.sa;n=(null !== (k=p.qa) && void 0 !== k?k:Infinity) - p.sa;return {start:(null === m || void 0 === m?0:m.MF)?new h.faa(l.LH.start,f):void 0,end:(null === q || void 0 === q?0:q.MF)?new h.faa(l.LH.end,n):void 0};};Object.defineProperties(d.prototype,{zy:{get:function(){if(this.hs.Y.ae)return this.WEb(this.hs.Y.zg);},enumerable:!1,configurable:!0}});d.prototype.WEb=function(f){var n,k,m;k=c(f.J);if(k){m=null === (n=this.Ac.Mg) || void 0 === n?void 0:n.Ft(f);n=this.Df.Xd[this.Ac.fa.L[m.J].K][k.yk];m=this.ZEb(f);m=new h.Pxa(n,m.start,m.end);for(var p=this.hs.fa,q=p.L[f.J],v=q,t=-f.offset.G,w=this.Ac.fa.L[v.Qb].K;v && v.Qb === q.Qb && v.K !== w;){t+=v.qa - v.sa;v=p.L[v.Hb];}p=g.N.Na(t);q=p.wa(m.rS.duration);k.MF && ("end" === k.sV?q=g.N.Ia:(v=m.D9.duration.wa(f.offset),q=q.wa(v)));m={Wd:m,progress:{ppb:n.duration.wa(q),rpb:1 - Math.max(0,q.G) / n.duration.G,spb:m.duration.wa(p),tpb:1 - Math.max(0,p.G) / m.duration.G},position:f,index:k.yk};p=this.hs.fa.L[f.J];p=p.qa - p.sa;f=f.offset.G / p;k.MF?m.b5a={PSb:f,ura:k.sV,E7:g.N.Na(p)}:m.fA={af:n.xe[k.j1],UOa:f,index:k.j1};return m;}};d.prototype.YEb=function(f,n){var k,m;k=f.J;m=this.KIb(f);if(k=c(k))return (f=this.Df.Xd[m][k.yk],k.MF?{Wd:f,sV:k.sV}:{Wd:f,af:f.xe[k.j1]});if(f=this.Df.Qua(m,f,n))return {Wd:f};};d.prototype.hF=function(f){return c(f);};d.prototype.KIb=function(f){var n,k;k=this.Ac;f=null === (n=k.Mg) || void 0 === n?void 0:n.Ft(f);return k.fa.L[f.J].K;};return d;})();b.Bxa=r;b.hF=c;b.kXa=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {FSa:parseInt(d[1])};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TO="LogblobBuilderFactorySymbol";b.Tba="LogblobBuilderCommonSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uib="NativeLocalStorageSymbol";b.dGa="NativeLocalStorageFactorySymbol";b.YCa="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ir={uP:"START_SLATE",Mba:"LIVE_EVENT",dba:"END_SLATE"};b.hEa="LivePlaybackManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RO="LicenseProviderSymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.sOb=b.j5a=b.YSb=b.qXa=b.hTb=b.Vcb=b.Ucb=b.aw=b.$wa=b.Tcb=b.QX=void 0;c=a(22);l=a(20);b.QX="$attributes";b.Tcb="$children";b.$wa="$name";b.aw="$text";b.Ucb="$parent";b.Vcb="$sibling";b.hTb=/^\s*<\?xml.*\?>/i;b.qXa=function(g,h,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(h=arguments[f++]) && (g=g[h]);){;}return g;};b.YSb=function(g,h){var d;g?d=(0,c.Ni)(g[b.aw]):void 0 !== h && (d=h);(0,l.TR)(d);return d;};b.j5a=function(g,h){var d;g?d=g[b.aw]:void 0 !== h && (d=h);(0,l.DTa)(d);return d;};b.sOb=function(g,h){var d;d={};d[b.QX]=g;d[b.aw]=h;return d;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rz=void 0;r=b.rz || (b.rz={});r[r.A6b=8]="Backspace";r[r.w$b=9]="Tab";r[r.D7b=13]="Enter";r[r.p$b=16]="Shift";r[r.W6b=17]="Ctrl";r[r.e6b=18]="Alt";r[r.E9b=19]="PauseBreak";r[r.N6b=20]="CapsLock";r[r.F7b=27]="Escape";r[r.r$b=32]="Space";r[r.D9b=33]="PageUp";r[r.C9b=34]="PageDown";r[r.C7b=35]="End";r[r.h8b=36]="Home";r[r.n8b=37]="LeftArrow";r[r.E$b=38]="UpArrow";r[r.N9b=39]="RightArrow";r[r.k7b=40]="DownArrow";r[r.k8b=45]="Insert";r[r.i7b=46]="Delete";r[r.N$b=48]="Zero";r[r.t9b=49]="One";r[r.z$b=50]="Two";r[r.x$b=51]="Three";r[r.b8b=52]="Four";r[r.$7b=53]="Five";r[r.q$b=54]="Six";r[r.o$b=55]="Seven";r[r.B7b=56]="Eight";r[r.e9b=57]="Nine";r[r.X5b=65]="A";r[r.f6b=66]="B";r[r.G6b=67]="C";r[r.$eb=68]="D";r[r.E=69]="E";r[r.G7b=70]="F";r[r.c8b=71]="G";r[r.f8b=72]="H";r[r.i8b=73]="I";r[r.l8b=74]="J";r[r.Gba=75]="K";r[r.Ehb=76]="L";r[r.r8b=77]="M";r[r.H8b=78]="N";r[r.q9b=79]="O";r[r.v9b=80]="P";r[r.Q=81]="Q";r[r.K9b=82]="R";r[r.akb=83]="S";r[r.Ikb=84]="T";r[r.A$b=85]="U";r[r.F$b=86]="V";r[r.H$b=87]="W";r[r.J$b=88]="X";r[r.L$b=89]="Y";r[r.M$b=90]="Z";r[r.o8b=91]="LeftWindowKey";r[r.O9b=92]="RightWindowKey";r[r.m$b=93]="SelectKey";r[r.g9b=96]="Numpad0";r[r.h9b=97]="Numpad1";r[r.i9b=98]="Numpad2";r[r.j9b=99]="Numpad3";r[r.k9b=100]="Numpad4";r[r.l9b=101]="Numpad5";r[r.m9b=102]="Numpad6";r[r.n9b=103]="Numpad7";r[r.o9b=104]="Numpad8";r[r.p9b=105]="Numpad9";r[r.G8b=106]="Multiply";r[r.d6b=107]="Add";r[r.s$b=109]="Subtract";r[r.h7b=110]="DecimalPoint";r[r.j7b=111]="Divide";r[r.H7b=112]="F1";r[r.L7b=113]="F2";r[r.M7b=114]="F3";r[r.N7b=115]="F4";r[r.O7b=116]="F5";r[r.P7b=117]="F6";r[r.Q7b=118]="F7";r[r.R7b=119]="F8";r[r.S7b=120]="F9";r[r.I7b=121]="F10";r[r.J7b=122]="F11";r[r.K7b=123]="F12";r[r.f9b=144]="NumLock";r[r.k$b=145]="ScrollLock";r[r.n$b=186]="SemiColon";r[r.E7b=187]="Equals";r[r.S6b=188]="Comma";r[r.f7b=189]="Dash";r[r.G9b=190]="Period";r[r.a8b=191]="ForwardSlash";r[r.y$b=192]="Tilde";r[r.u9b=219]="OpenBracket";r[r.z6b=220]="BackSlash";r[r.P6b=221]="CloseBracket";r[r.J9b=222]="Quote";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WH=void 0;b.WH=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yaa=b.IAa=void 0;b.IAa=function(){this.ga=0;this.Z=1;this.Egb=2;this.sf=function(){};};b.Yaa="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ic=void 0;b.ic=a;a.Ph={sGa:"mr1",rGa:"mr2",tGa:"mr3",jP:"mr4",Dib:"mr5",hD:"mr6"};a.Cc={UNSENT:0,OPENED:1,Hw:2,Fw:3,DONE:5,VH:6,YN:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.IY={NO_ERROR:-1,ufb:0,cAa:1,Gfb:2,yfb:3,Neb:4,kza:5,iza:6,Oeb:7,Peb:8,Qeb:9,Keb:10,Meb:11,jza:12,Leb:13,Jeb:14,Jgb:15,CCa:16,BCa:17,uba:18,FZ:19,vba:20,wba:21,Lgb:22,GZ:23,DCa:24,Kgb:25,Bfb:26,vfb:27,nkb:28,lfb:29,mfb:30,nfb:31,ofb:32,pfb:33,qfb:34,rfb:35,sfb:36,tfb:37,wfb:38,xfb:39,zfb:40,Afb:41,Cfb:42,Dfb:43,Efb:44,Ffb:45,Hfb:46,Ifb:47,mkb:48,TIMEOUT:49,yCa:50,zCa:51,Igb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.re={kW:{a6b:!0,vP:!1,W8b:!0}};},function(r,b){function a(){var c;c=this;this.kv=!1;this.trace=[];this.L2=function(){c.qka.Qk(function(){c.nq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.pk=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.Dd=this.j.Mn();this.kv || (this.Dd.ql.addListener(this.nq),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.jW();};a.prototype.unsubscribe=function(){this.Dd.ql.removeListener(this.nq);this.kv=!1;this.jW();};b.pk=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ak=void 0;c=a(16);l=a(18);r=a(2);g=a(20);h=a(8);d=a(486);f=a(12);n=a(32);k=a(43);m=h.Aa.get(n.Oh);m.register(r.V.Aba,function(p){var q,v,t;q=h.Aa.get(k.hn);(0,g.ma)(l.config);(0,g.ma)(f.yz && f.yz.getDeviceId || f.aGa || q.DK);v=h.Aa.get(d.zAa);t=(0,h.Ki)("Device");m.fe("devs");v.create({deviceId:l.config.deviceId,DK:q.DK,fUa:"deviceid",Wj:l.config.Wj,Hn:q.Hn,ZR:q.ZR,userAgent:f.fD,fpa:l.config.fpa,Ila:l.config.Ila,Udc:l.config.Jx?"mslstoretest":"mslstore",KN:l.config.KN}).then(function(w){b.Ak=w;mb._cad_global.device=b.Ak;t.info("Esn source: " + b.Ak.s3);m.fe("devdone");p(c.eg);}).catch(function(w){w.ia=void 0;p(w);});});},function(r,b,a){b=a(577);r.exports=Function.prototype.bind || b;},function(r,b,a){var c;c=a(303);r.exports=function(){return c() && !!Symbol.toStringTag;};},function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(r,b,a){var c,l,g,h;b=a(38);c=b("%TypeError%");l=b("%SyntaxError%");g=a(105);h={"Property Descriptor":function(d){var f,n;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(n in d){if(g(d,n) && !f[n])return !1;}f=g(d,"[[Value]]");d=g(d,"[[Get]]") || g(d,"[[Set]]");if(f && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(612),"Iterator Record":function(d){return g(d,"[[Iterator]]") && g(d,"[[NextMethod]]") && g(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && g(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && g(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && g(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && g(d,"[[Completion]]") && g(d,"[[Capability]]") && h["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,f,n,k){var m;m=h[f];if("function" !== typeof m)throw new l("unknown record type: " + f);if("Object" !== d(k) || !m(k))throw new c(n + " must be a " + f);};},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.WC=void 0;c=/^\S+$/;a.prototype.JE=function(l){return void 0 !== l;};a.prototype.qg=function(l){return null !== l && void 0 !== l;};a.prototype.dR=function(l){return a.DPa(l);};a.prototype.Zfa=function(l){return !(!l || !a.DPa(l));};a.prototype.iA=function(l){return Array.isArray(l);};a.prototype.EPa=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Rj=function(l,g,h){return a.NOa(l,g,h);};a.prototype.Yfa=function(l){return a.Yfa(l);};a.prototype.Kga=function(l,g,h){return a.t1(l,g,h) && 0 === l % 1;};a.prototype.eR=function(l,g,h){return a.t1(l,g || 0,h);};a.prototype.OQ=function(l){return a.t1(l,1);};a.prototype.$ob=function(l){return a.t1(l,0,255);};a.prototype.apb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.FPa=function(l){return !(!l || !c.test(l));};a.prototype.Po=function(l){return a.OOa(l);};a.prototype.mm=function(l){return !(!a.OOa(l) || !l);};a.prototype.e1=function(l){return !0 === l || !1 === l;};a.prototype.g1=function(l){return "function" == typeof l;};a.OOa=function(l){return "string" == typeof l;};a.NOa=function(l,g,h){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === g || l >= g) && (void 0 === h || l <= h);};a.Yfa=function(l){return "number" == typeof l && isNaN(l);};a.t1=function(l,g,h){return a.NOa(l,g,h) && 0 === l % 1;};a.DPa=function(l){return "object" == typeof l;};b.WC=new a();},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.Zb=void 0;r=a(1);c=a(78);l=a(646);g=a(211);h=a(703);d=a(710);f=a(714);a=a(1381);b.Zb=new r.mY({XG:!0});(0,f.B1a)(b.Zb);b.Zb.load(l.platform);b.Zb.load(h.config);g.fK.load(d.NUa);b.Zb.load(a.JPa);b.Zb.load(a.profile);b.Zb.bind(c.HDa).Xk(b.Zb);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(205);r=(function(){function l(g){this.tc=g;}l.prototype.vv=function(g){this.tc.vv=g;return new c.saa(this.tc);};return l;})();b.eY=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(204);a(313);r=(function(){function l(g){this.tc=g;}l.prototype.when=function(g){this.tc.DE=g;return new c.eY(this.tc);};l.prototype.KX=function(){this.tc.DE=function(g){return null !== g.target && !g.target.goa() && !g.target.soa();};return new c.eY(this.tc);};return l;})();b.saa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rca="PlatformEmeSymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var g,h,d,f;function c(n,k,m){for(var p=m.next();!p.done;){if((k=n["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=m.next();}return n["@@transducer/result"](k);}function l(n,k,m,p){return n["@@transducer/result"](m[p](d(n["@@transducer/step"],n),k));}g=a(655);h=a(657);d=a(658);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(n,k,m){"function" === typeof n && (n=h(n));if(g(m)){for(var p=0,q=m.length;p < q;){if((k=n["@@transducer/step"](k,m[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return n["@@transducer/result"](k);}if("function" === typeof m["fantasy-land/reduce"])return l(n,k,m,"fantasy-land/reduce");if(null != m[f])return c(n,k,m[f]());if("function" === typeof m.next)return c(n,k,m);if("function" === typeof m.reduce)return l(n,k,m,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,g){return a.apply(this,arguments);};case 4:return function(c,l,g,h){return a.apply(this,arguments);};case 5:return function(c,l,g,h,d){return a.apply(this,arguments);};case 6:return function(c,l,g,h,d,f){return a.apply(this,arguments);};case 7:return function(c,l,g,h,d,f,n){return a.apply(this,arguments);};case 8:return function(c,l,g,h,d,f,n,k){return a.apply(this,arguments);};case 9:return function(c,l,g,h,d,f,n,k,m){return a.apply(this,arguments);};case 10:return function(c,l,g,h,d,f,n,k,m,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lda="StringUtilsSymbol";},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C;Object.defineProperty(b,"__esModule",{value:!0});b.fK=b.MUa=void 0;r=a(1);c=a(124);l=a(325);g=a(212);h=a(213);d=a(686);f=a(688);n=a(96);k=a(136);m=a(689);p=a(166);q=a(690);v=a(214);t=a(691);w=a(216);u=a(695);y=a(333);x=a(699);z=a(334);A=a(701);B=a(218);C=a(702);b.MUa=new r.Xc(function(D){D(l.KAa).to(g.JAa).da();D(h.Daa).to(d.qza).da();D(c.FY).jX(f.z6a);D(z.VDa).to(A.UDa).da();D(B.Jba).to(C.WDa).da();D(n.vw).AC(function(E){b.fK.parent=E.eb;return b.fK.get(n.vw);});D(k.aP).Md(function(){return function(){return new m.BFa();};});D(p.kY).to(q.sza).da();D(v.eba).to(t.nBa).da();D(w.Zaa).to(u.PAa).da();D(y.yFa).to(x.xFa).da();});b.fK=new r.mY({XG:!0});},function(r,b,a){var g;function c(){}function l(h){h?(this.active=!1,this.ola(h)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.JAa=b.EY=void 0;r=a(0);a=a(1);l.prototype.ola=function(h){this.de=h.keySessionData?h.keySessionData.map(function(d){return {id:d.id,TF:d.licenseContextId,jU:d.licenseId};}):[];this.ja=h.xid;this.O=h.movieId;};l.prototype.Dt=function(){return JSON.parse(JSON.stringify({keySessionData:this.de?this.de.map(function(h){return {id:h.id,licenseContextId:h.TF,licenseId:h.jU};}):[],xid:this.ja,movieId:this.O}));};b.EY=l;c.prototype.create=function(){return new l();};c.prototype.load=function(h){return new l(h);};g=c;g=r.__decorate([(0,a.U)()],g);b.JAa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Daa="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eba="EmeApiFactorySymbol";},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){this.SU=t;this.is=w;this.dc=u;this.vh=y;this.Yh=x;this.Zg=z;(0,h.Yn)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.bu=void 0;r=a(0);g=a(1);h=a(54);d=a(2);f=a(35);n=a(25);k=a(95);m=a(30);p=a(29);q=a(62);a=a(69);c.prototype.Mx=function(){if(this.oe)return this.oe.sessionId;};c.prototype.vXb=function(t,w){return this.SU.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.oe=t.createSession(w);};c.prototype.H2=function(){return Promise.reject(new k.Gg(d.V.HY));};c.prototype.aMb=function(){return !!this.oe;};c.prototype.setServerCertificate=function(t,w){return this.is.g1(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.oe?this.oe.generateRequest(t,w[0]):Promise.reject(new k.Gg(d.V.HY,d.R.TH,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.oe?this.oe.update(t[0]):Promise.reject(new k.Gg(d.V.eBa,d.R.TH,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.oe?this.oe.load(t):Promise.reject(new k.Gg(d.V.igb,d.R.TH,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.wia=void 0;if(!this.oe)return Promise.reject(new k.Gg(d.V.XAa,d.R.TH,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Mx() && (t=this.oe.close());this.oe=void 0;return t;};c.prototype.remove=function(){return this.oe?this.oe.remove():Promise.reject(new k.Gg(d.V.kgb,d.R.TH,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.DG=function(){return Promise.reject(new k.Gg(d.V.bba,void 0,"Unable to renew a key session, not supported"));};c.prototype.gPa=function(t){if(!this.oe)throw ReferenceError("Unable to add message handler, key session is not valid");this.oe.addEventListener(l.jBa,t);};c.prototype.cPa=function(t){if(!this.oe)throw ReferenceError("Unable to add key status handler, key session is not valid");this.oe.addEventListener(l.iBa,t);};c.prototype.aPa=function(t){if(!this.oe)throw ReferenceError("Unable to add error handler, key session is not valid");this.oe.addEventListener(l.hBa,t);};c.prototype.Bpb=function(t){var w;w=this;if(!this.oe)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.wia=t;this.oe.closed.then(function(u){var y;return null === (y=w.wia) || void 0 === y?void 0:y.call(w,u);});};c.prototype.v7a=function(t){if(!this.oe)throw ReferenceError("Unable to remove message handler, key session is not valid");this.oe.removeEventListener(l.jBa,t);};c.prototype.s7a=function(t){if(!this.oe)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.oe.removeEventListener(l.iBa,t);};c.prototype.q7a=function(t){if(!this.oe)throw ReferenceError("Unable to remove error handler, key session is not valid");this.oe.removeEventListener(l.hBa,t);};v=l=c;v.jBa="message";v.iBa="keystatuseschange";v.hBa="error";v=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.jI)),r.__param(1,(0,g.l)(n.Qf)),r.__param(2,(0,g.l)(p.$g)),r.__param(3,(0,g.l)(m.dh)),r.__param(4,(0,g.l)(q.Vp)),r.__param(5,(0,g.l)(a.Yp))],v);b.bu=v;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zaa="DrmTraitsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$na=b.Rt=void 0;(function(a){a.Rbb="usable";a.Bs="expired";a.released="released";a.N4a="output-restricted";a.DSb="output-downscaled";a.A0b="status-pending";a.cLb="internal-error";})(b.Rt || (b.Rt={}));b.$na=function(a){return !!a && !!a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jba="KeySystemRestrictorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Faa="CachedErrorsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zP="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aj="_ANY_";b.xBa="EnricherSymbol";},function(r,b,a){var l,g,h;function c(d,f,n,k){this.Ea=d;this.a2=f;this.Um=n;this.Cn=void 0 === k?"General":k;this.zia={};}Object.defineProperty(b,"__esModule",{value:!0});b.cI=void 0;l=a(6);g=a(352);h=a(745);c.prototype.YOa=function(d,f){this.zia[d]=f;};c.prototype.fatal=function(d,f){for(var n=[],k=1;k < arguments.length;++k){n[k - 1]=arguments[k];}this.cA(l.Wi.ugb,d,this.MN(d,n));};c.prototype.error=function(d,f){for(var n=[],k=1;k < arguments.length;++k){n[k - 1]=arguments[k];}this.cA(l.Wi.wh,d,this.MN(d,n));};c.prototype.warn=function(d,f){for(var n=[],k=1;k < arguments.length;++k){n[k - 1]=arguments[k];}this.cA(l.Wi.Zda,d,this.MN(d,n));};c.prototype.info=function(d,f){for(var n=[],k=1;k < arguments.length;++k){n[k - 1]=arguments[k];}this.cA(l.Wi.yba,d,this.MN(d,n));};c.prototype.trace=function(d,f){for(var n=[],k=1;k < arguments.length;++k){n[k - 1]=arguments[k];}this.cA(l.Wi.$Ka,d,this.MN(d,n));};c.prototype.debug=function(d,f){for(var n=1;n < arguments.length;++n){;}!1;};c.prototype.log=function(d,f){for(var n=[],k=1;k < arguments.length;++k){n[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ea(n)));};c.prototype.write=function(d,f,n){for(var k=[],m=2;m < arguments.length;++m){k[m - 2]=arguments[m];}this.cA(d,f,this.MN(f,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Cn};};c.prototype.F2=function(d){return new c(this.Ea,this.a2,this.Um,d);};c.prototype.cA=function(d,f,n){d=new g.Rba(d,this.Cn,this.Ea.Db(),f,n);f=ma(this.Um.Um);for(n=f.next();!n.done;n=f.next()){n=n.value;n(d);}};c.prototype.BFb=function(d){return 0 < Object.keys(this.zia).length?[this.zia].concat(ea(d)):d;};c.prototype.MN=function(d,f){var n;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (n=Error("Empty message").stack) && void 0 !== n?n:"nostack"});return (0,h.VQa)(this.a2,this.BFb(f));};b.cI=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ada="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mca="PboPlaydataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ada="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eca="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tba="HLSConfigSymbol";},function(r,b,a){var E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q,M,S,ra,oa,Ca,Ua,Pa,Ya,ob,pb,Db;function c(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function l(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function g(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function h(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);this.Xua=Na.config.Xua;this.cf=this.sizes=void 0;}function d(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function f(){for(var Na=new DataView(this),ab="",fb,ib=0;ib < this.byteLength;ib++){fb=Na.getUint8(ib);ab+=("00" + fb.toString(16)).slice(-2);}return ab;}function n(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function k(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function m(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function p(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function q(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function v(Na){function ab(fb,ib,kb,Ab,Bb){H.call(this,fb,ib,kb,Ab,Bb);this.J3a=Na;}ab.Mc=!1;ab.prototype=new H();ab.prototype.constructor=ab;Object.defineProperties(ab.prototype,{fAa:{get:function(){return this.J3a;}}});ab.prototype.parse=function(){this.M.console.trace("renaming '" + this.type + "' to draft type '" + this.J3a + "'");this.M.offset=this.startOffset + 4;this.Lb.Qcb(this.fAa);this.type=this.fAa;return !0;};return ab;}function t(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function w(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function u(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function y(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function x(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function z(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function A(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function B(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function C(Na,ab,fb,ib,kb){H.call(this,Na,ab,fb,ib,kb);}function D(Na,ab){Na.forEach(function(fb){ab[fb.ze]=fb;});}E=a(99).assert;b=a(100);G=a(173).N;F=a(367);a(140);a(87);a(87);a(87);H=a(23).zf;K=a(767).default;O=a(768).default;I=a(769).default;P=a(770).default;N=a(771).default;J=a(772).default;L=a(773).default;R=a(774).default;ka=a(775).default;a(229);a(174);la=a(368).edb;X=a(368).agb;da=a(776).default;ta=a(777).default;Ba=a(88).default;Ja=a(88).Adb;Va=a(88).Bdb;Ta=a(88).Cdb;T=a(88).Ddb;aa=a(778).default;Q=a(779).default;M=a(780).default;S=a(88).Mgb;ra=a(88).Fgb;oa=a(88).zdb;Ca=a(781).default;Ua=a(782).default;Pa=a(783).default;Ya=a(369).default;ob=a(370).default;a(141);a(232);a(233);a(231);pb=a(784).default;Db=a(785).Lkb;a=a(801).default;c.Mc=!0;c.prototype=new H();c.prototype.constructor=c;l.Mc=!0;l.prototype=new H();l.prototype.constructor=l;g.Mc=!1;g.prototype=new H();g.prototype.constructor=g;g.prototype.parse=function(Na){var ab;this.Eg();1 === this.version?(this.M.gk(),this.M.gk(),this.T=this.M.Ub(),this.duration=this.M.gk()):(this.M.Ub(),this.M.Ub(),this.T=this.M.Ub(),this.duration=this.M.Ub());ab=this.M.ug() & 32767;this.language=String.fromCharCode(96 + (ab >>> 10),96 + (ab >>> 5 & 31),96 + (ab & 31));Na && Na.He && (Na.He.T=this.T,Na.He.duration=this.duration);return !0;};h.Mc=!1;h.prototype=new H();h.prototype.constructor=h;h.prototype.Knb=function(){this.Eg();this.M.Ub();this.T=this.M.Ub();0 === this.version?(this.GUa=this.M.Ub(),this.jWa=this.M.Ub()):(this.GUa=this.M.gk(),this.jWa=this.M.gk());this.JXb=this.M.ug();this.k7a=this.M.ug();};h.prototype.Dlb=function(Na,ab){var fb,ib,kb;fb=this.T;Na=Na && Na.T || fb;ib=Na / fb;fb=this.M.n8(ab,12,!1);kb=1 === ib?this.M.n8(ab,12,!1):F.from(Uint32Array,{length:ab},function(){var Ab;Ab=Math.round(this.M.Ub() * ib);this.M.offset+=8;return Ab;},this);this.Mob(ab,kb,fb,Na);};h.prototype.Mob=function(Na,ab,fb,ib){if(this.Xua){ib=this.Xua * ib / 1E3;for(var kb=0,Ab=1;Ab < Na;Ab++){Math.abs(ab[kb] - ib) > Math.abs(ab[kb] + ab[Ab] - ib)?(ab[kb]+=ab[Ab],fb[kb]+=fb[Ab]):(++kb,kb !== Ab && (ab[kb]=ab[Ab],fb[kb]=fb[Ab]));}++kb;ab=new Uint32Array(ab.buffer.slice(0,4 * kb));fb=new Uint32Array(fb.buffer.slice(0,4 * kb));}this.sizes=fb;this.cf=ab;};h.prototype.parse=function(Na){var ab,fb,ib,kb;this.Knb();this.ba=Na.ba;ab=this.T;fb=this.ba && this.ba.T || ab;ib=this.k7a;kb=this.startOffset + this.length + this.jWa;ab=new G(this.GUa,ab).Nd(fb).xa;this.Ma={T:fb,nr:ab,offset:kb};this.Dlb(this.ba,ib);this.Ma.cf=this.cf;this.Ma.sizes=this.sizes;Na.lk=this;return !0;};d.Mc=!1;d.prototype=new H();d.prototype.constructor=d;d.prototype.parse=function(){var Na;this.Zv=[];this.xTb=[];Na=(this.length - 11) / 2;this.M.$c();this.M.$c();this.M.$c();for(var ab=0;ab < Na;ab++){this.Zv.push(this.M.$c());this.xTb.push(this.M.$c());}return !0;};n.Mc=!1;n.prototype=new H();n.prototype.constructor=n;n.prototype.parse=function(Na){var ab;this.Eg();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {ab=this.M.$c();this.szb=ab >> 4;this.yzb=ab & 15;Na && Na.He && (Na.He.rbc=this.szb,Na.He.ubc=this.yzb);}this.UTa=this.M.$c();this.TTa=this.M.$c();this.Aoa=this.M.offset;this.Wn=this.M.p8(16);this.Wn.toString=f;Na && Na.He && (Na.He.sbc=this.UTa,Na.He.uzb=this.TTa,Na.He.tbc=this.Wn);1 == this.UTa && 0 == this.TTa && (this.rzb=this.M.$c(),this.qzb=this.M.p8(this.rzb),Na && Na.He && (Na.He.tzb=this.qzb));return !0;};k.Mc=!1;k.prototype=new H();k.prototype.constructor=k;k.prototype.parse=function(){this.Eg();this.hp=this.M.ug();this.iPb=this.M.n8(this.hp,void 0,!0);return !0;};m.Mc=!1;m.prototype=new H();m.prototype.constructor=m;m.prototype.parse=function(Na){var ab,fb,ib,kb,Ab,Bb;ab=Na.lk;E(ab);Na=Na.ba;fb=ab.T;ab=ab.k7a;E(Na);E(fb);E(ab);this.Eg();E(2 > this.version);this.hp=this.M.ug();this.oM=new Uint16Array(ab + 1);ib=Na.ZYa(fb);kb=ib / fb;Ab=Na.Nd(ib).xa;if(0 === this.version)for((this.OM=new Uint16Array(),this.ii=new Uint32Array(),Na=fb=0);Na <= ab;++Na){if((this.oM[Na]=fb,Na < this.hp)){Bb=this.M.$c();if(0 !== Bb)for(ib=0;ib < Bb;(++ib,++fb)){this.OM[fb]=Math.floor((this.M.Ub() + 1) * kb) / Ab;this.ii[fb]=this.M.Ub();}}}else if(1 === this.version)for((ib=this.M.VVb(this.hp),this.M.offset+=4,this.ii=this.M.n8(this.hp,10,!1),this.M.offset-=8,this.OM=F.from(Uint16Array,{length:this.hp},function(){var Hb;Hb=Math.floor((this.M.Ub() + 1) * kb) / Ab;this.M.offset+=6;return Hb;},this),fb=Na=0);Na <= ab;++Na){for(;fb < ib.length && ib[fb] < Na;){++fb;}this.oM[Na]=fb;}this.hj={oM:this.oM,OM:this.OM,ii:this.ii};return !0;};p.Mc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Mc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.CS=function(){var Na;Na=this.ro("tfhd");Na && (this.lq=Na.BQa?Na.lq:this.parent.startOffset);return !0;};t.Mc=!1;t.prototype=new H();t.prototype.constructor=t;t.prototype.parse=function(){var Na,Qb;Na=this.M.offset;this.Eg();if(1 === this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var ab=this.M.offset,fb=this.M.$c(),ib=this.M.$c(),kb=this.M.$c(),Ab=this.M.$c(),Bb=this.M.ug(),Hb=[],Kb=0;Kb < Bb;++Kb){Hb=this.M.$c();}Kb=(fb & 240) >>> 4;Qb=(fb & 14) >>> 1;fb&=1;kb=16 === kb?1:0;ib != Ab && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + ib + " and matrixCoefficients " + Ab + " should be the same value!");Ab=2;switch(ib){case 1:Ab=2;break;case 6:Ab=1;break;case 9:Ab=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + ib + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Lb.D$(this.version,Na);this.Lb.D$(Kb << 4 | Ab,ab++);this.Lb.D$(Qb << 4 | kb << 1 | fb,ab++);Bb+=2;Hb.push(0,0);this.Lb.u5b(Bb);ab+=2;Hb.forEach(function(Tb){this.Lb.D$(Tb,ab++);});}return !0;};w.Mc=!1;w.prototype=new H();w.prototype.constructor=w;w.ze="tfhd";Object.defineProperties(w.prototype,{BQa:{get:function(){return this.flags & 1;}},sYb:{get:function(){return this.flags & 2;}},vzb:{get:function(){return this.flags & 8;}},xzb:{get:function(){return this.flags & 16;}},VTa:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Na){this.Eg();this.DN=this.M.Ub();this.lq=this.BQa?this.M.gk():void 0;this.t8a=this.sYb?this.M.Ub():void 0;this.Xu=this.vzb?this.M.Ub():void 0;this.Ex=this.xzb?this.M.Ub():void 0;this.Dx=this.VTa?this.M.Ub():void 0;Na && Na.ka && (Na.ka.DN=this.DN,Na.ka.lq=this.lq,Na.ka.t8a=this.t8a,Na.ka.Xu=this.Xu,Na.ka.Ex=this.Ex,Na.ka.Dx=this.VTa?this.Dx:void 0);return !0;};u.Mc=!1;u.prototype=new H();u.prototype.constructor=u;u.prototype.parse=function(Na){this.Eg();this.oE=1 === this.version?this.M.gk():this.M.Ub();Na && Na.ka && (Na.ka.oE=this.oE);return !0;};u.prototype.Ga=function(Na){var ab;ab=this.startOffset + 12;this.oE+=Na;1 === this.version?this.Lb.v5b(this.oE,ab):this.Lb.It(this.oE,ab);};y.Mc=!1;y.prototype=Object.create(H.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{mE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Na){this.Eg();this.mE && this.M.Dy();this.mE && this.M.Ub();this.wzb=this.M.$c();this.gd=this.M.Ub();this.BKb=this.M.o8(this.gd);Na && Na.ka && (Na.ka.tYb=this.BKb);return !0;};y.prototype.Ga=function(Na,ab){if(Na && 0 === this.wzb){Na=ab?this.gd - Na:Na;this.Lb.offset=this.startOffset + 13 + (this.mE?8:0);this.gd-=Na;this.Lb.It(this.gd);this.Nta=0;if(ab)this.Lb.offset+=this.gd;else {for(ab=0;ab < Na;++ab){this.Nta+=this.Lb.$c();}this.Lb.offset-=Na;}this.Pl(Na,this.M.offset);}return !0;};x.Mc=!1;x.prototype=Object.create(H.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{mE:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Na){var ab,fb,Kb,Qb;this.Eg();this.mE && this.M.Dy();this.mE && this.M.Ub();this.hp=this.M.Ub();E(1 === this.hp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ym=0 === this.version?this.M.q8():this.M.$Vb();this.M.offset=this.ym;if(Na && Na.ka && Na.He){ab=Na.He.uzb;fb=Na.ka.tYb;E(0 < ab || void 0 !== Na.He.tzb,"Expected per sample or constant IV");E(0 < (fb || []).length,"Expected saix box parsing to find sample info sizes");Na.ka.LG=[];for(var ib=0;ib < fb.length;ib++){for(var kb=ab?this.M.p8(ab):void 0,Ab=[],Bb=this.M.ug(),Hb=0;Hb < Bb;Hb++){Kb=this.M.ug();Qb=this.M.Ub();Ab.push({Tsb:Kb,Usb:Qb});}Na.ka.LG.push({Ava:Ab,Bba:kb});}}return !0;};x.prototype.Ga=function(Na,ab){this.ym+=Na;this.Lb.offset=this.startOffset + 16 + (this.mE?8:0) + (0 === this.version?0:4);this.Lb.Ywa(ab,this.ym);return !0;};z.Mc=!1;z.prototype=Object.create(H.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Y4a:{get:function(){return this.flags & 1;}},dcb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Na){var ab,Bb,Hb;this.Eg();ab=0;this.Y4a && (ab=this.vMb=this.M.Ub() & 255,this.M.o8(16));if(Na && Na.ka){if(Na.ka.LG)return !0;Na.ka.Bj || (Na.ka.Bj=[]);}if(0 !== ab && 8 !== ab && 16 !== ab)return !0;this.gd=this.M.Ub();if(Na && Na.ka)for(var fb=0;fb < this.gd;fb++){if((Na.ka.Bj[fb].Bba=0 < ab?this.M.p8(ab):void 0,this.dcb)){for(var ib=[],kb=this.M.ug(),Ab=0;Ab < kb;Ab++){Bb=this.M.ug();Hb=this.M.Ub();ib.push({Tsb:Bb,Usb:Hb});}Na.ka.Bj[fb].Ava=ib;}}return !0;};z.prototype.Ga=function(Na,ab){var fb,ib;fb=ab?this.gd - Na:Na;this.Lb.offset=this.startOffset + 28 + (this.Y4a?20:0);this.gd-=fb;this.Lb.It(this.gd);Na=this.Lb.offset;if(this.dcb)for(fb=ab?this.gd:fb;0 < fb;--fb){this.Lb.offset+=8;ib=this.Lb.ug();this.Lb.offset+=6 * ib;}else this.Lb.offset+=8 * (ab?this.gd:fb);ab?this.Pl(this.length - (this.M.offset - this.startOffset),this.M.offset):this.Pl(this.M.offset - Na,Na);};A.Mc=!1;A.prototype=Object.create(H.prototype);A.prototype.constructor=A;A.prototype.parse=function(Na){this.Eg();if(Na && Na.ka){void 0 === Na.ka.Bj && (Na.ka.Bj=[]);for(var ab=0;ab < this.length - 12;ab++){Na.ka.Bj[ab].Qec=this.M.$c();}}return !0;};A.prototype.Ga=function(Na,ab,fb){fb?this.Pl(ab - Na,this.startOffset + 12 + Na):this.Pl(Na,this.startOffset + 12);return !0;};B.Mc=!1;B.prototype=Object.create(H.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Eg();this.M.Dy();1 === this.version && this.M.Ub();this.hp=this.M.Ub();this.nW=[];for(var Na=0;Na < this.hp;++Na){for(var ab=this.M.Ub(),fb=this.M.Ub(),ib=0;ib < ab;++ib){this.nW.push(fb);}}return !0;};B.prototype.Ga=function(Na,ab){this.nW=ab?this.nW.slice(0,Na):this.nW.slice(Na);Na=this.nW.reduce(function(fb,ib){0 !== fb.length && fb[fb.length - 1].group === ib || fb.push({group:ib,count:0});++fb[fb.length - 1].count;return fb;},[]);this.Lb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Lb.It(Na.length);Na.forEach((function(fb){this.Lb.It(fb.count);this.Lb.It(fb.group);}).bind(this));this.hp > Na.length && this.Pl(8 * (this.hp - Na.length));this.hp=Na.length;return !0;};C.Mc=!1;C.prototype=Object.create(H.prototype);C.prototype.constructor=C;Ba={yd:{moov:l,trak:c,mdia:c,mdhd:g,minf:c,encv:Ba,schi:c,sidx:h,sinf:c,stbl:c,tenc:n,mvex:c,moof:p,traf:q,tfhd:w,trun:Db,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:u,mdat:C,vmaf:d},G2b:{vpcC:t,SmDm:v("smdm"),CoLL:v("coll")},Vab:{schm:aa},Ota:{}};D([Q,M,J,L,a,R,S,ra,oa,K,P,Ya,ob,N,ka,O,I,pb,Db],Ba.yd);D([la,da,Ja,Va,Ta,T,X,ta,Ua,Ca],Ba.Ota);D([Q,aa],Ba.Vab);Ba.yd[b.KGa]=n;Ba.yd[b.VZ]=k;Ba.yd[b.UZ]=m;Ba.yd[b.JGa]=z;Ba.Ota[b.oca]=Pa;Ba.zf=H;r.exports={SL:Ba};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(23);l=a(23);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){this.M.offset+=6;this.M.ug();l.I && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.He)d.He.pYb=this.type;return !0;};return h;})(r.zf);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(141),b);r.__exportStar(a(231),b);r.__exportStar(a(232),b);r.__exportStar(a(233),b);r=a(232);c=a(233);a=a(231);b.ZJ={3:a.fBa,4:r.oAa,5:c.Ofb};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(23);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f;this.qgb=this.M.ug();f=this.M.$c();this.B$a=!!(f & 128);this.HLa=!!(f & 64);this.qGa=!!(f & 32);this.L0b=f & 31;this.Lzb=this.B$a?this.M.ug():void 0;this.HLa && this.M.o8(this.M.$c());this.Cib=this.qGa?this.M.ug():void 0;l.I && this.M.console.trace("ESDescriptor: ES_ID=" + this.qgb + ", streamDependenceFlag=" + this.B$a + ", URL_Flag=" + this.HLa + ", OCRstreamFlag=" + this.qGa + ", streamPriority=" + this.L0b + ", dependsOn_ES_ID=" + this.Lzb + ", OCR_ES_Id=" + this.Cib);this.dOa(d);return !0;};h.tag=3;return h;})(a(141).Xaa);b.fBa=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(23);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f;this.l7=this.M.$c();f=this.M.$c();this.vva=f >>> 2;this.qwa=f >>> 1 & 1;this.Aha=256 * this.M.ug() + this.M.$c();this.maxBitrate=this.M.Ub();this.S1=this.M.Ub();l.I && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.l7.toString(16) + ", streamType=" + this.vva + ", upStream=" + this.qwa + ", bufferSizeDB=" + this.Aha + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.S1);if(null === d || void 0 === d?0:d.Hi)(d.Hi.l7=this.l7,d.Hi.vva=this.vva,d.Hi.qwa=this.qwa,d.Hi.Aha=this.Aha,d.Hi.maxBitrate=this.maxBitrate,d.Hi.S1=this.S1);this.dOa(d);return !0;};h.tag=4;return h;})(a(141).Xaa);b.oAa=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(23);r=a(141);g=a(230);a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.W6a=function(){var f;f=this.M.bd(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.M.bd(24);};d.prototype.parse=function(f,n){if(this.vLb(n) && 64 === n.l7){if(null === f || void 0 === f?0:f.Hi){n=this.M.oXa(this.length);for(var k=new ArrayBuffer(this.length),m=new Uint8Array(k),p=0;p < this.length;p++){m[p]=n.getUint8(p);}f.Hi.nbc=k;}this.Uo=this.O6a();this.U8=this.W6a();this.$ha=this.M.bd(4);this.Vta=this.wS=5 === this.Uo || 29 === this.Uo?5:-1;this.Esa=29 === this.Uo?1:-1;0 < this.wS && (this.Aka=this.W6a(),this.Uo=this.O6a(),22 === this.Uo && (this.zka=this.M.bd(4)));switch(this.Uo){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.NS=this.M.bd(1),this.Via=(this.Kzb=this.M.bd(1))?this.M.bd(14):void 0,this.M.bd(1),this.dF=3 === this.Uo?256:23 === this.Uo?this.NS?480:512:this.NS?960:1024);}l.I && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.Uo + ", samplingFrequency=" + this.U8 + ", channelConfiguration=" + this.$ha + ", extensionAudioObjectType=" + this.wS + ", sbrPresentFlag=" + this.Vta + ", psPresentFlag=" + this.Esa + ", extensionSamplingFrequency=" + this.Aka + ", extensionChannelConfiguration=" + this.zka + ", frameLengthFlag=" + this.NS + ", coreCoderDelay=" + this.Via + ", frameLength=" + this.dF);if(null === f || void 0 === f?0:f.Hi)(f.Hi.Uo=this.Uo,f.Hi.U8=this.U8,f.Hi.$ha=this.$ha,f.Hi.wS=this.wS,f.Hi.Vta=this.Vta,f.Hi.Esa=this.Esa,f.Hi.Aka=this.Aka,f.Hi.zka=this.zka,f.Hi.NS=this.NS,f.Hi.Via=this.Via,f.Hi.dF=this.dF);}this.skip();return !0;};d.prototype.O6a=function(){var f;f=this.M.bd(5);31 === f && (f=32 + this.M.bd(6));return f;};d.prototype.vLb=function(f){return f.tag === g.oAa.tag;};d.tag=5;return d;})(r.Xaa);b.Ofb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fY=void 0;r=(function(){function a(c){this.data=c;this.mq=this.Gb=this.ed=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Gb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.ed){if(8 === c)return this.data[this.Gb++];if(16 === c)return (c=this.view.getUint16(this.Gb),this.Gb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Gb),this.Gb+=4,c);}for(;this.ed < c;){this.mq=(this.mq << 8) + this.data[this.Gb++];this.ed+=8;}this.ed-=c;return this.mq >>> this.ed & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.ed)this.ed-=c;else {c-=this.ed;l=Math.floor(c / 8);this.Gb+=l;this.mq=this.data[this.Gb++];this.ed=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var g,h;l&=(1 << c) - 1;if(0 === this.ed){if(8 === c){this.data[this.Gb++]=l;return;}if(16 === c){this.view.setUint16(this.Gb,l);this.Gb+=2;return;}if(32 === c){this.view.setUint32(this.Gb,l);this.Gb+=4;return;}}if(0 < this.ed){g=Math.min(c,this.ed);h=this.data[this.Gb - 1] & (~((1 << this.ed) - 1) ^ (1 << this.ed - g) - 1);this.data[this.Gb - 1]=h ^ (c >= g?l >>> c - g:l << this.ed - g);this.ed-=g;c-=g;}for(;8 <= c;){c-=8;this.data[this.Gb++]=l >>> c & 255;}0 < c && (this.ed=8 - c,h=this.data[this.Gb] & (1 << this.ed) - 1,this.mq=this.data[this.Gb++]=h ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.ed && c <= 8 - this.ed?this.ed+=c:(0 !== this.ed && (c-=8 - this.ed,--this.Gb),this.Gb-=Math.floor(c / 8),this.mq=this.data[this.Gb - 1],this.ed=c % 8);};a.prototype.Qsb=function(){0 !== this.ed && (this.ed=0);};return a;})();b.fY=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.assert=function(g,h){if(!g)throw new l(h || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,h){return g + h.byteLength;},0);l=new Uint8Array(c);a.reduce(function(g,h){l.set(new Uint8Array(h),g);return g + h.byteLength;},0);return l.buffer;};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(372);l=a(228);g=a(373);r=(function(){function h(d,f,n){this.console=d;this.stream=f;this.view=n instanceof ArrayBuffer?new DataView(n):new DataView(n.data,n.offset,n.length);}h.prototype.parse=function(d){var f;f=new g.sAa(this.view.byteLength);this.wf=new c.taa(l.SL.yd,f,this.view,this.console,{yra:!0});d=this.wf.parse(d);this.yd=this.wf.yd;return d;};return h;})();b.dD=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vS=b.noa=void 0;b.noa=function(a){return void 0 !== a && null !== a;};b.vS=function(){return null;};},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.DY=void 0;l=a(40);g=a(123);c.rq=function(){var h;h={};return (h[l.H.PC]="avc1.4D401E",h[l.H.QC]="avc1.4D401F",h[l.H.VY]="avc1.4D4028",h[l.H.dCa]="avc1.4D401E",h[l.H.eCa]="avc1.4D401F",h[l.H.fCa]="avc1.4D4028",h[l.H.pba]="hev1.2.6.L90.B0",h[l.H.qba]="hev1.2.6.L93.B0",h[l.H.rba]="hev1.2.6.L120.B0",h[l.H.sba]="hev1.2.6.L123.B0",h[l.H.qZ]="hev1.2.6.L90.B0",h[l.H.tZ]="hev1.2.6.L93.B0",h[l.H.wZ]="hev1.2.6.L120.B0",h[l.H.zZ]="hev1.2.6.L123.B0",h[l.H.EO]="hev1.2.6.L150.B0",h[l.H.FO]="hev1.2.6.L153.B0",h[l.H.rZ]="hev1.2.6.L90.B0",h[l.H.uZ]="hev1.2.6.L93.B0",h[l.H.xZ]="hev1.2.6.L120.B0",h[l.H.AZ]="hev1.2.6.L123.B0",h[l.H.CZ]="hev1.2.6.L150.B0",h[l.H.EZ]="hev1.2.6.L153.B0",h[l.H.pZ]="hev1.2.6.L90.B0",h[l.H.sZ]="hev1.2.6.L93.B0",h[l.H.vZ]="hev1.2.6.L120.B0",h[l.H.yZ]="hev1.2.6.L123.B0",h[l.H.BZ]="hev1.2.6.L150.B0",h[l.H.DZ]="hev1.2.6.L153.B0",h[l.H.YY]="hev1.2.6.L90.B0",h[l.H.aZ]="hev1.2.6.L93.B0",h[l.H.DO]="hev1.2.6.L120.B0",h[l.H.fZ]="hev1.2.6.L123.B0",h[l.H.iZ]="hev1.2.6.L150.B0",h[l.H.lZ]="hev1.2.6.L153.B0",h[l.H.ZY]="hev1.2.6.L90.B0",h[l.H.bZ]="hev1.2.6.L93.B0",h[l.H.dZ]="hev1.2.6.L120.B0",h[l.H.gZ]="hev1.2.6.L123.B0",h[l.H.jZ]="hev1.2.6.L150.B0",h[l.H.mZ]="hev1.2.6.L153.B0",h[l.H.XY]="hev1.2.6.L90.B0",h[l.H.$Y]="hev1.2.6.L93.B0",h[l.H.cZ]="hev1.2.6.L120.B0",h[l.H.eZ]="hev1.2.6.L123.B0",h[l.H.hZ]="hev1.2.6.L150.B0",h[l.H.kZ]="hev1.2.6.L153.B0",h[l.H.pY]=g.jd.Laa,h[l.H.rY]=g.jd.gAa,h[l.H.vO]=g.jd.Maa,h[l.H.uY]=g.jd.Naa,h[l.H.wY]=g.jd.Oaa,h[l.H.yY]=g.jd.Paa,h[l.H.Qaa]=g.jd.Maa,h[l.H.Raa]=g.jd.Naa,h[l.H.Saa]=g.jd.Oaa,h[l.H.Taa]=g.jd.Paa,h[l.H.qY]=g.jd.Laa,h[l.H.sY]=g.jd.gAa,h[l.H.tY]=g.jd.Maa,h[l.H.vY]=g.jd.Naa,h[l.H.xY]=g.jd.Oaa,h[l.H.zY]=g.jd.Paa,h[l.H.bCa]="avc1.640016",h[l.H.PY]="avc1.64001E",h[l.H.RY]="avc1.64001F",h[l.H.TY]="avc1.640028",h[l.H.cCa]="avc1.640016",h[l.H.QY]="avc1.64001E",h[l.H.SY]="avc1.64001F",h[l.H.UY]="avc1.640028",h[l.H.Vda]=g.jd.DP,h[l.H.N_]=g.jd.DP,h[l.H.O_]=g.jd.DP,h[l.H.EP]=g.jd.DP,h[l.H.exa]=g.jd.ti,h[l.H.fxa]=g.jd.ti,h[l.H.ez]=g.jd.ti,h[l.H.fz]=g.jd.ti,h[l.H.ZN]=g.jd.ti,h[l.H.$N]=g.jd.ti,h[l.H.XX]=g.jd.ti,h[l.H.YX]=g.jd.ti,h);};b.DY=c;},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.P0b=b.Y6a=b.Rsa=void 0;b.Rsa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.Y6a=a;b.P0b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.Rg)," sp:").concat(c.Ly," ") + ("pssp:").concat(c.JV," ") + ("state:").concat(c.Ff," path-complete:").concat(c.uy," ") + ("streaming:").concat(c.qr," current:").concat(c.sq);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vca=void 0;r=(function(){function a(c,l,g,h){var d;d=this;this.properties=c;this.transform=l;this.qs=g;this.state=h;this.oa();c.forEach(function(f){return f.addListener(d.cra);});this.cra();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.cra);});};a.prototype.$_a=function(c){return void 0 !== c.equal;};a.prototype.oa=function(){var c;c=this;this.cra=function(){var l,g;l=c.state;g=c.properties.map(function(h){return h.value;});c.state=c.transform(g);(c.$_a(c.state) && c.$_a(l)?c.state.equal(l):l === c.state) || c.qs(c.state);};};return a;})();b.vca=r;},function(r,b,a){var l;function c(g,h){return g < h?-1:g > h?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.RZ=void 0;l=a(0);r=(function(){function g(h,d){this.data=null !== h && void 0 !== h?h:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(h=(this.length >> 1) - 1;0 <= h;h--){this.Eea(h);}}Object.defineProperties(g.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});g.prototype.push=function(h){this.data.push(h);this.JOa(this.length - 1);};g.prototype.pop=function(){var h,d;if(!this.empty){h=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Eea(0));return h;}};g.prototype.et=function(){return this.data[0];};g.prototype.map=function(h){return this.data.map(h);};g.prototype.find=function(h){return l.__read(this.data.filter(h),1)[0];};g.prototype.clear=function(){this.data=[];};g.prototype.remove=function(h){var d,f,n;d=this.data;h=d.indexOf(h);if(-1 !== h){f=d.pop();if(h < d.length){d[h]=f;n=h - 1 >> 1;d=d[n];0 <= n && 0 > this.compare(f,d)?this.JOa(h):this.Eea(h);}}};g.prototype.Jrb=function(){for(var h=this.data,d=1;d < h.length;d++){if(0 > this.compare(h[d],h[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(h));}};g.prototype.contains=function(h){return 0 <= this.data.indexOf(h);};g.prototype.ur=function(){return this.data.concat([]);};g.prototype.JOa=function(h){for(var d=this.data,f=this.compare,n=d[h],k,m;0 < h;){k=h - 1 >> 1;m=d[k];if(0 <= f(n,m))break;d[h]=m;h=k;}d[h]=n;};g.prototype.Eea=function(h){for(var d=this.data,f=this.compare,n=this.length >> 1,k=d[h],m,p,q;h < n;){m=(h << 1) + 1;q=d[m];p=m + 1;p < this.length && 0 > f(d[p],q) && (m=p,q=d[p]);if(0 <= f(q,k))break;d[h]=q;h=m;}d[h]=k;};return g;})();b.RZ=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MR=void 0;c=a(0);l=a(21);b.MR=function(g,h,d,f){var n,k,m,v,t,w;void 0 === f && (f={});m=l.N.max(d,l.N.Ia);try{for(var p=c.__values(Object.keys(g.L)),q=p.next();!q.done;q=p.next()){v=q.value;t=g.L[v];if(t.K === h){w=l.N.Na(t.sa);if(m.$h(w) && (!isFinite(null !== (k=t.qa) && void 0 !== k?k:NaN) || m.lessThan(l.N.Na(t.qa))))return {J:v,offset:d.wa(w)};}}}catch(y){var u;u={error:y};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(u)throw u.error;}}if(f.B8a && (t=Object.keys(g.L).map(function(y){return {key:y,u:g.L[y]};}).filter(function(y){return y.u.K === h;}).map(function(y){var x,z;x=l.N.abs(d.wa(l.N.Na(y.u.sa)));if(y.u.qa && isFinite(y.u.qa)){z=l.N.abs(d.wa(l.N.Na(y.u.qa)));x=l.N.min(x,z);}return c.__assign(c.__assign({},y),{Gn:x});}),t.sort(function(y,x){return y.Gn.G - x.Gn.G;}),w=c.__read(t,1)[0]))return (t=w.u,f=w.key,w=l.N.Na(t.sa),{J:f,offset:d.wa(w)});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iz=void 0;r=a(49);a=a(90);c=(function(){function l(g,h){this.Uw=g;this.HI=h.kb;this.pu=h.nb;}Object.defineProperties(l.prototype,{kb:{get:function(){return void 0 !== this.HI?this.HI:this.Uw.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nb:{get:function(){return void 0 !== this.pu?this.pu:this.Uw.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{T:{get:function(){return this.Uw.T;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Sm:{get:function(){return this.Uw.Sm;},enumerable:!1,configurable:!0}});l.prototype.zW=function(g){this.pu=g;};l.prototype.oia=function(){this.pu=void 0;};return l;})();b.iz=c;(0,r.si)(a.Mt,c);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xI=void 0;c=a(21);r=(function(){function l(g,h){this.OD=g;this.CD=h;this.uYb();}l.from=function(g){return "number" === typeof g?new l(g,1):new l(g.Zs,g.xs);};l.xEb=function(g){return new l(g.T,g.xa);};Object.defineProperties(l.prototype,{Zs:{get:function(){return this.OD;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xs:{get:function(){return this.CD;},enumerable:!1,configurable:!0}});l.prototype.ba=function(){return new c.N(this.CD,this.OD);};l.prototype.equal=function(g){return this.OD === g.OD && this.CD === g.CD;};l.prototype.normalize=function(g){var h;h=1E3 * this.xs;return Math.floor(Math.floor((Math.floor(g + 1) * this.Zs - 1) / h) * h / this.Zs);};l.prototype.uYb=function(){var g,h,d;g=Math.floor(1E3 * this.OD / this.CD);h=Math.floor(1001 * this.OD / this.CD);d=1E3 * Math.round(g / 1E3);this.OD=d;this.CD=Math.abs(h - d) > Math.abs(g - d)?1E3:1001;};return l;})();b.xI=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dO=void 0;c=a(0);r=c.__importDefault(a(400));l=a(91);g=a(176);a=(function(h){function d(f,n,k,m,p,q,v){n=h.call(this,f,n,k,m,p,q,v) || this;g.Lt.oa(n,f,m);return n;}c.__extends(d,h);return d;})(l.dY);b.dO=a;(0,r.default)(g.Lt.prototype,a.prototype);},function(r,b,a){var h;function c(d){this.mJ=d;this.reset();}function l(d){this.gj=new c(d);this.Gb=0;this.Dc=null;}function g(d,f){this.mJ=d;this.zNa=f;this.reset();}h=a(24);c.prototype.aOa=function(d,f){this.ib+=d;this.bj+=d;this.Hc+=f;this.Bi.push({d:d,b:f});};c.prototype.zQ=function(){var d;for(;this.bj > this.mJ;){d=this.Bi.shift();this.Hc-=d.b;this.bj-=d.d;}};c.prototype.reset=function(){this.Bi=[];this.ib=null;this.bj=this.Hc=0;};c.prototype.setInterval=function(d){this.mJ=d;this.zQ();};c.prototype.start=function(d){h.Tb(this.ib) && (this.ib=d);};c.prototype.add=function(d,f,n){h.Tb(this.ib) && (this.ib=f);f > this.ib && this.aOa(f - this.ib,0);this.aOa(n > this.ib?n - this.ib:0,d);this.zQ();};c.prototype.get=function(){return {Da:Math.floor(8 * this.Hc / this.bj),Rd:0};};l.prototype.reset=function(){this.gj.reset();this.Gb=0;this.Dc=null;};l.prototype.add=function(d,f,n){!h.Tb(this.Dc) && n > this.Dc && (f > this.Dc && (this.Gb+=f - this.Dc),this.Dc=null);this.gj.add(d,f - this.Gb,n - this.Gb);};l.prototype.start=function(d){!h.Tb(this.Dc) && d > this.Dc && (this.Gb+=d - this.Dc,this.Dc=null);this.gj.start(d - this.Gb);};l.prototype.stop=function(d){this.Dc=h.Tb(this.Dc)?d:Math.min(d,this.Dc);};l.prototype.get=function(){return this.gj.get();};l.prototype.setInterval=function(d){this.gj.setInterval(d);};g.prototype.reset=function(){this.Bi=[];this.Hc=this.bj=0;};g.prototype.add=function(d,f,n,k){void 0 !== k && !0 === k && (f=n - f,this.bj+=f,this.Hc+=d,this.Bi.push({d:f,b:d}),this.zQ());};g.prototype.zQ=function(){var d;for(;this.bj > this.mJ || this.Bi.length > this.zNa;){d=this.Bi.shift();this.Hc-=d.b;this.bj-=d.d;}};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.get=function(){return {Da:Math.floor(8 * this.Hc / this.bj),Rd:0};};g.prototype.setInterval=function(d,f){this.mJ=d;this.zNa=f;this.zQ();};r.exports={U6b:c,Tfb:l,Wkb:g};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tAa=b.Pfb=b.Waa=b.tgb=b.Qfb=void 0;c=a(0);l=a(923);a=(function(){return function(){};})();b.Qfb=a;g=(function(){function h(d,f,n,k,m){this.alpha=d;this.Da=f;this.weight=k;this.Eda=n * this.weight;this.iX=m;}h.prototype.Dn=function(){return new h(this.alpha,this.Da,this.Rd,this.weight,this.iX);};Object.defineProperties(h.prototype,{Rd:{get:function(){return this.weight?this.Eda / this.weight:0;},enumerable:!1,configurable:!0}});h.prototype.update=function(d,f,n){var k,m,p,q;k=this.alpha;m=this.weight;p=this.iX;q=k * (d - p);5 < q && (this.weight/=Math.exp(q),this.iX=p=d);d=Math.exp(k * (f - p)) - Math.exp(k * (d - p));f=this.weight+=d;k=this.Da;this.Da=p=k + d * (n - k) / f;this.Eda=m?this.Eda * (f - d) / m + d * (n - p) * (n - k):0;};return h;})();b.tgb=g;r=(function(){var E2F;E2F=2;function h(d){var r74,f,n;r74=2;for(;r74 !== 7;){switch(r74){case 2:var D$4="1SI";D$4+="Y";D$4+="bZrN";D$4+="JCp";D$4+="9";this.ek=d;D$4;(f=d.min_b,n=d.min_iv);this.yF=d.hl;r74=3;break;case 3:this.e3a=f;this.LPb=n;this.reset();r74=7;break;}}}for(;E2F !== 14;){switch(E2F){case 8:h.prototype.stop=function(){};h.prototype.flush=function(){};return h;break;case 2:h.prototype.Dn=function(d){var e4H;e4H=2;for(;e4H !== 8;){switch(e4H){case 4:d.aH=this.aH.Dn();d.bH=this.bH.Dn();return d;break;case 2:d || (d=new h(this.ek));d.wr=this.wr;d.yC=this.yC;e4H=4;break;}}};h.prototype.reset=function(){var Z1C,d;Z1C=2;for(;Z1C !== 3;){switch(Z1C){case 2:d=-Math.log(.5) / this.yF;this.aH=new g(d,0,0,0,0);this.bH=new g(d,0,0,0,0);this.wr=this.yC=null;Z1C=3;break;}}};h.prototype.start=function(d){var n99;n99=2;for(;n99 !== 1;){switch(n99){case 2:null === this.wr && (this.wr=d);n99=1;break;}}};h.prototype.add=function(d,f,n){var b_O=R7xOY;var m7x,k;m7x=2;for(;m7x !== 7;){switch(m7x){case 8:b_O.g6M(0);this.bH.update(f,n,b_O.G5G(d,8,k));m7x=7;break;case 5:k=this.yC;this.yC=null === k?n:Math.max(k,n);b_O.g6M(1);k=Math.max(b_O.G5G(f,n),1);b_O.g6M(2);this.aH.update(f,n,b_O.g1D(d,k));m7x=8;break;case 2:k=this.wr;this.wr=null === k?f:Math.min(k,f);m7x=5;break;}}};h.prototype.get=function(d,f){var A0q=R7xOY;var f_z,n,k,m,p,q,v,w,u,t;f_z=2;for(;f_z !== 16;){switch(f_z){case 17:(q=this.aH,v=this.bH);f_z=20;break;case 2:(n=this.wr || 0,k=this.yC || 0,m=d - k,p=this.LPb,q=this.aH,v=this.bH);f_z=1;break;case 1:f_z=0 < m?5:17;break;case 13:A0q.v$C(1);v.update(A0q.g1D(n,k),A0q.G5G(n,d),0);f_z=20;break;case 10:m=1E-11 < w?Math.max(u / w,m):m + 2 * t / p;f_z=14;break;case 5:f_z=(q=new g(q.alpha,q.Da,q.Rd,q.weight,q.iX),v=new g(v.alpha,v.Da,v.Rd,v.weight,v.iX),0 < q.weight && 0 !== f)?4:20;break;case 20:d=q.weight;f=v.weight;return {Da:d?q.Da:null,Rd:d?q.Rd:null,vJ:f?v.Da:null,NN:f?v.Rd:null};break;case 12:(w=new l.NZ(p,t).Jtb(m),u=p - w[1]);A0q.v$C(3);var j5E=A0q.G5G(85,5,0,17);w=j5E - w[0];f_z=10;break;case 14:A0q.v$C(1);q.update(A0q.G5G(n,k),A0q.G5G(n,d,A0q.v$C(1)),A0q.G5G(f,m,A0q.g6M(2)));f_z=13;break;case 4:void 0 === f && (f=this.e3a);m >= p && (f=Math.min(f,this.e3a));p=f * q.Da;A0q.v$C(4);var l4G=A0q.g1D(13,2,1,19,1);t=Math.pow(f,l4G) * q.Rd;f_z=7;break;case 7:f_z=0 === t?6:12;break;case 6:m=Math.max(m,p);f_z=14;break;}}};h.prototype.toString=function(){var X89;X89=2;for(;X89 !== 1;){switch(X89){case 2:var m4v="Deli";m4v+="veryDi";m4v+="st(";return m4v.concat(this.yF,")");break;}}};E2F=8;break;}}})();b.Waa=r;a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);return d;})(a);b.Pfb=a;r=(function(h){function d(f){var n;n=h.call(this,f) || this;n.ek=f;return n;}c.__extends(d,h);d.prototype.get=function(){var f,n,k;if(0 === this.aH.weight || 0 === this.bH.weight)return {low:null,high:null,initial:null};switch(this.ek.NL){case "deliverytime":f=this.aH;f=new l.NZ(f.Da,f.Rd);(n=this.ek.accuracy,k=this.ek.OOb);return {low:8 / f.Bv(this.ek.zT,n,k),high:8 / f.Bv(this.ek.sU,n,k),initial:8 / f.Bv(this.ek.m5,n,k)};default:return (f=this.bH,f=new l.NZ(f.Da,f.Rd),n=this.ek.accuracy,k=this.ek.OOb,{low:f.Bv(this.ek.sU,n,k),high:f.Bv(this.ek.zT,n,k),initial:f.Bv(this.ek.m5,n,k)});}};d.prototype.Dn=function(){var f;f=new d(this.ek);h.prototype.Dn.call(this,f);return f;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.ek.sU,this.ek.zT),"])");};return d;})(r);b.tAa=r;},function(r){(function(){var m5j;m5j=2;for(;m5j !== 8;){switch(m5j){case 9:var N0L="1SIY";N0L+="bZr";N0L+="NJCp9";N0L;m5j=8;break;case 2:b.prototype.start=function(a){var B3K;B3K=2;for(;B3K !== 1;){switch(B3K){case 2:this.kg?a < this.kg?(this.Uz+=this.kg - a,this.kg=a):a > this.ib && (this.ib=this.kg=a):this.ib=this.kg=a;B3K=1;break;}}};b.prototype.stop=function(a){var B76;B76=2;for(;B76 !== 1;){switch(B76){case 2:this.ib && a > this.ib && (this.Uz+=a - this.ib,this.ib=a);B76=1;break;}}};b.prototype.add=function(a,c,l){var a0t;a0t=2;for(;a0t !== 4;){switch(a0t){case 2:this.start(c);this.stop(l);this.Hc+=a;a0t=4;break;}}};b.prototype.get=function(){var v5j;v5j=2;for(;v5j !== 1;){switch(v5j){case 2:return {Da:this.Uz?Math.floor(8 * this.Hc / this.Uz):null,oUa:this.Uz?this.Uz:0};break;}}};r.exports=b;m5j=9;break;}}function b(){var x4k;x4k=2;for(;x4k !== 5;){switch(x4k){case 2:this.Uz=this.Hc=0;this.ib=this.kg=void 0;x4k=5;break;}}}})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MH=void 0;c=a(0);l=c.__importDefault(a(5));r=(function(g){function h(d,f,n,k,m){var p;p=g.call(this,n) || this;p.yPa=!1;h.oa(p,d,f,n,k,m);return p;}c.__extends(h,g);h.oa=function(d,f,n,k,m,p){d.Ne=k;d.er=f;d.Yd=m;d.LD=f.location || n.location;d.HQ=f.bc || n.Rc;d.uua=f.uua || n.uua;d.Jh=n.Jh;d.U9=l.default.time.Ca();d.S=p;};Object.defineProperties(h.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{location:{get:function(){return this.LD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rc:{get:function(){return this.HQ;},enumerable:!1,configurable:!0}});h.prototype.oa=function(d){this.Ic=d;};h.prototype.Fua=function(d,f){this.LD=d;this.HQ=f;};h.prototype.xwa=function(d){var f,n,k;if(this.complete)return 0;f=this.er;n=f.pa;if(!f.url)return (this.S.warn("updateurl, missing url for streamId:",f.Wb,"mediaRequest:",this,"stream:",f),1);k=f.TK(this.Ad,this.Jh);if(this.url !== k || d)if((n.Fua(this,f.location,f.bc),!this.hH(k)))return (this.S.warn("swapUrl failed: ",this.yS),2);return 0;};return h;})(a(114).hz);b.MH=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xWa=b.Mwa=b.wWa=void 0;b.wWa={23976:{xa:24E3,T:1001},24:{xa:24E3,T:1E3},25:{xa:25E3,T:1E3},2997:{xa:3E4,T:1001},30:{xa:3E4,T:1E3}};b.Mwa=["23976","24","25","2997","30"];b.xWa=function(a,c){return a.xa / a.T === c.xa / c.T;};},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Kw=void 0;c=a(0);l=a(9);g=a(10);h=a(28);r=(function(){function d(f,n){this.Yg=f;this.options=c.__assign({Cub:!0},n);}Object.defineProperties(d.prototype,{Wq:{get:function(){return ("trace-").concat(this.Yg.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nd:{get:function(){return this.Wq;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.I;},enumerable:!1,configurable:!0}});d.prototype.pj=function(f){var n,k;n=f.rj;if(n === h.pc.mj || n === h.pc.Zl){f=(0,g.NTa)(this.Yg.wMb);k=this.Yg.JJb;n === h.pc.mj && this.options.Cub && this.Yg.clear();n=f;Object.keys(k).length && (n=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[k],!1));return n;}};d.prototype.Ra=function(){var f;null === (f=this.Yg) || void 0 === f?void 0:f.Ra();};return d;})();b.Kw=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.C_=void 0;r=a(13);c=a(49);l=a(21);a=(function(){function g(h){void 0 === h && (h={Li:!1,currentTime:l.N.Ia,speed:1});this.wc={Li:function(){return "function" === typeof h.Li?h.Li():h.Li;},currentTime:function(){return "function" === typeof h.currentTime?h.currentTime():h.currentTime;},speed:function(){return "function" === typeof h.speed?h.speed():h.speed;}};}Object.defineProperties(g.prototype,{Li:{get:function(){return this.wc.Li();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.wc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){return this.wc.speed();},enumerable:!1,configurable:!0}});return g;})();b.C_=a;(0,c.si)(r.EventEmitter,a);},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KEa=b.t_=void 0;c=a(13);l=a(28);(function(h){h[h.Uza=1]="Creation";h[h.HKa=2]="StartPlayback";})(g=b.t_ || (b.t_={}));r=(function(){function h(d,f,n){this.Bd=d;this.S=f;this.events=n;this.FG=[];this.Mm=new c.Af();}h.prototype.bf=function(d){var f;f={GM:d,Mha:void 0};this.FG.push(f);d.yia === g.Uza && this.y8a(f);this.Mm.on(d.events,"collectionRequested",this.GRb.bind(this,f));};h.prototype.Ra=function(){this.Mm.clear();};h.prototype.bNb=function(d){var f,n;f=this;n={rj:d};this.FG.forEach(function(k){f.gwa(k.GM,n);d === l.pc.Fj && k.GM.yia === g.HKa && f.y8a(k);});};h.prototype.GRb=function(d){var f;this.gwa(d.GM,{Xub:!0});null === (f=d.Mha) || void 0 === f?void 0:f.Mf();};h.prototype.y8a=function(d){var f,n,k,m;f=this;k=d.GM;m=this.Bd.VSa(function(){f.gwa(k,{V_a:!0});},k.zR,k.uq);null === (n=d.Mha) || void 0 === n?void 0:n.Ra();d.Mha=m;};h.prototype.gwa=function(d,f){var n;try{n=d.sf(f);n.q9 && this.events.emit(d.uq,n.event);}catch(k){this.S.error(("Error generating event for ").concat(d.uq),k);}};return h;})();b.KEa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=b.hR=b.uc=void 0;b.uc=function(a,c){for(var l=0;l < a.length;l++){if(c(a[l],l,a))return a[l];}};b.hR=function(a){return a.filter(function(c,l){return a.indexOf(c) === l;});};b.ZPa=function(a,c){return a.filter(function(l,g){return a.indexOf(l) === g && -1 !== c.indexOf(l);});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.E_=void 0;c=a(10);r=(function(){function l(g){this.Uw=g;this.kWa=new c.oz();}Object.defineProperties(l.prototype,{$0a:{get:function(){var g,h;return null !== (g=this.EJb) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.$0a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S5:{get:function(){var g,h;return null !== (g=this.GQb) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.S5;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xn:{get:function(){var g,h;return null !== (g=this.ag) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.Xn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{f1a:{get:function(){var g,h,d,f;return null !== (g=this.Mh) && void 0 !== g?g:(null === (h=this.track) || void 0 === h?0:h.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (f=this.parent) || void 0 === f?void 0:f.Mh:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{h1a:{get:function(){var g,h;return null !== (g=this.H0b) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.h1a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Joa:{get:function(){var g,h;return null !== (g=this.I0b) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.Joa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.YYb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gcb:{get:function(){return this.kWa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var g;return null === (g=this.Uw) || void 0 === g?void 0:g.call(this);},enumerable:!1,configurable:!0}});l.prototype.Ra=function(){this.Uw=void 0;};l.prototype.k9a=function(g){this.EJb=g;};l.prototype.KZb=function(g){this.GQb=g;};l.prototype.w9a=function(g){this.ag=g;this.kWa.resolve();};l.prototype.AW=function(g){this.Mh=g;};l.prototype.WZb=function(g){this.H0b=g;};l.prototype.x9a=function(g){this.I0b=g;};l.prototype.b_b=function(g){this.YYb=g;};return l;})();b.E_=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cY=void 0;c=a(0);a(4);r=a(49);l=c.__importDefault(a(53));g=c.__importDefault(a(5));h=a(184);d=a(89);f=a(91);n=g.default.Wt;k=a(1039);a=(function(m){function p(q,v,t,w,u,y,x,z){var t5S,A;t5S=2;for(;t5S !== 6;){switch(t5S){case 2:var R4Y="e";R4Y+="d";R4Y+="i";R4Y+="t";var a_y="c";a_y+="a";a_y+="c";a_y+="h";a_y+="e";var E4T="1SIY";E4T+="b";E4T+="ZrNJCp9";A=this;E4T;A=[a_y,R4Y].filter(function(B,C){var F94;F94=2;for(;F94 !== 1;){switch(F94){case 4:return [u,t.Ga][C];break;case 2:return [u,t.Ga][C];break;}}});A=A.length?"(" + A.join(",") + ")":"";t5S=3;break;case 3:void 0 === t.responseType && (t.responseType=t.Ga || n.re && !n.re.kW.vP?0:1);A=m.call(this,q,v,A,t,w,y,x) || this;d.al.oa(A,q,t,z);return A;break;}}}var V57;V57=2;for(;V57 !== 9;){switch(V57){case 3:return p;break;case 2:c.__extends(p,m);p.create=function(q,v,t,w,u,y,x,z){var m31,A,B;m31=2;for(;m31 !== 11;){switch(m31){case 7:z=Math.ceil(w.va / A);m31=6;break;case 5:m31=w.GL && w.va > w.GL?4:12;break;case 6:m31=0 < B?14:13;break;case 1:return new k.Sxa(q,t,w,u,y,v,x,z);break;case 2:m31=!v.Rk && w.Ga && q.mediaType === l.default.cn.Z && n.re && n.re.kW.vP?1:5;break;case 12:return new p(q,t,w,u,y,v,x,z);break;case 4:A=Math.ceil(w.va / w.GL);y=w.offset;B=w.va;u=new h.Dr(q,w,u,v,x,z);m31=7;break;case 14:var Z4M="subr";Z4M+="e";Z4M+="que";Z4M+="st";(A={offset:y,va:Math.min(B,z),responseType:w.responseType},y+=A.va,B-=A.va,u.push(new f.dY(q,t,Z4M,A,u,v,x)));m31=6;break;case 13:return u;break;}}};p.prototype.toString=function(){var a9Q;a9Q=2;for(;a9Q !== 1;){switch(a9Q){case 2:var L1s="I";L1s+="D";L1s+=":";L1s+=" ";return L1s + this.Hh() + ":" + d.al.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var z67;z67=2;for(;z67 !== 1;){switch(z67){case 2:return {ID:this.Hh(),request:d.al.prototype.toJSON.call(this)};break;}}};V57=3;break;}}})(f.dY);b.cY=a;(0,r.si)(d.al,a,!1);},function(r,b,a){var g,h,d,f,n,k,m,p;function c(q,v){return q.done?q:{value:{value:q.value,ROa:v}};}function l(q){q.ROa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Nrb=b.Ujb=b.OH=void 0;g=a(0);r=a(13);h=a(145);d=a(9);f=g.__importDefault(a(5));n=a(10);k=a(4);a=a(49);m=(function(){function q(v,t){this.console=v;this.Of=t;this.knb=this.UP=0;this.fg=[];this.console=(0,n.gi)(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{Nzb:{get:function(){return this.UP;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oSa:{get:function(){var v,t,w;for(t=0;t < this.fg.length;t++){w=this.fg[t];if(!w.UT || (null === (v=w.item) || void 0 === v?0:v.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yx:{get:function(){return 0 === this.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tta:{get:function(){var v;for(v=0;v < this.fg.length && this.fg[v].roa;v++){;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var v;v=g.__read(this.fg,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yqa:{get:function(){var v;for(v=0;v < this.fg.length && this.fg[v].UT;v++){;}return v;},enumerable:!1,configurable:!0}});q.prototype.mK=function(){var v;if(void 0 === this.Of){v=this.console;d.I && v && v.trace("QueueIterator: enqueueEnd");this.rwa(this.yqa - (this.Of || 0));}};q.prototype.ur=function(){return this.fg.map(function(v){return v.item;});};q.prototype.lX=function(){this.nf || (this.nf=this.fg.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.nf;};q.prototype.rwa=function(v){var t;d.I && this.console.trace("updateCount",{cec:this.Of,Gn:v});if(void 0 !== this.Of){t=this.fg[this.Of];t && this.Rna(t);}this.Of=void 0 === this.Of?v:void 0 === v?v:this.Of + v;void 0 !== this.Of && (this.Of=Math.max(0,this.Of),(t=this.fg[this.Of]) && t.OF.resolve({done:!0}));};q.prototype.enqueue=function(v){var t;d.I && this.console.trace("Enqueue called");t=this.yqa;this.j2();return this.GVb(t,{value:v,done:!1}).$Ta.promise;};q.prototype.Y7a=function(){d.I && this.console.trace("resetEnd");this.rwa(void 0);};q.prototype.clear=function(v){var t,w,u;d.I && this.console.trace("clear");this.B6a();t=this.tta;w=this.fg.length - t;if(0 < w){u={index:t,Nqa:w};d.I && this.console.trace("Removing items",u);this.fg.splice(t,w);this.j2();this.emit("onRemoved",u);}for(w=1;w < t;w++){this.Rna(this.fg[w]);}this.Of=void 0;this.rwa(v?v + t:v);this.UP && (this.UP=0);};q.prototype.getIterator=function(){var v,t;v=this;t=(0,n.gi)(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return v.kYa(w);},t);};q.prototype.Mzb=function(){var v;if(0 < this.tta){v=g.__read(this.fg,1)[0];v.UT && (d.I && this.console.trace("dequeue",v.id),this.B6a(1),this.emit("onDequeue",v.OF.promise));}};q.prototype.remove=function(v){var t,w,u;for(t=0;t < this.fg.length;t++){w=this.fg[t];u=w.item;if(u && !u.done && u.value === v){this.fg.splice(t,1);this.Of && this.Of > t && this.Of--;this.j2();d.I && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,Nqa:1});break;}}};q.prototype.B6a=function(v){var t;v=v || Math.min(this.tta,this.yqa);if(0 < v){t=this.fg.splice(0,v);this.j2();this.Of && (this.Of-=v);d.I && this.console.trace("pruned",v);Promise.resolve().then(function(){t.forEach(function(w){w.$Ta.resolve();});});this.emit("onRemoved",{index:0,Nqa:v});this.UP+=v;}};q.prototype.kYa=function(v){var t;d.I && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.q_a(v);t=this.fg[v];t.DXb.resolve();v=t.OF.promise;d.I && this.console.trace("getNextItem:return",{id:t.id});}else (d.I && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};q.prototype.GVb=function(v,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.I && this.console.trace("Providing result",{Pqb:v,item:w});this.q_a(v);v=this.fg[v];w=v.OF.resolve;w(t);return v;};q.prototype.q_a=function(v){var t;if(void 0 === this.fg[v]){t={};this.Rna(t);this.fg[v]=t;v === this.Of && t.OF.resolve({done:!0});d.I && this.console.trace("Item initialized",{Pqb:v});}};q.prototype.Zia=function(v){var t;t={};t.promise=new Promise(function(w,u){t.resolve=function(y){w(y);v && v(y);};t.reject=u;});return t;};q.prototype.Rna=function(v){var t;t=this;v.OF=this.Zia(function(w){v.item=w;v.UT=!0;d.I && t.console.trace("Item resolved",{id:v.id});});v.id && v.roa && !v.UT && (v.OF.resolve({done:!0}),d.I && this.console.warn("Overwriting requested queue item",v.id));v.$Ta=this.Zia();v.DXb=this.Zia(function(){v.roa=!0;d.I && t.console.trace("Item requested",{id:v.id});});v.id=this.knb++;v.roa=!1;v.UT=!1;v.item=void 0;};q.prototype.j2=function(){this.nf=void 0;};q.prototype.wla=function(){var v,t,w;v=this;t=(0,n.gi)(f.default,this.console,"QueueIteratorInstance::");w=new p(this,function(u){var y,x;if(0 === v.count)return h.AsyncIterator.Gma();y=v.kYa(u);x=v.fg[0];return y.then(function(z){return c(z,function(){w.hL || (x === v.fg[0]?v.Mzb():(0,k.assert)(!v.fg.filter(function(A){return A.OF.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.OH=m;(0,a.si)(r.EventEmitter,m);p=(function(q){function v(t,w,u){var y;y=q.call(this,function(){d.I && y.console.trace("Next item requested",{index:y.index});return y.gYb(y.index++);}) || this;y.parent=t;y.gYb=w;y.console=u;y.UI=!1;y.index=0;y.afa=!1;y.z4a=function(x){var z;z=x.index;x=x.Nqa;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;d.I && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}g.__extends(v,q);v.prototype.jh=function(){this.console.trace("disposed");this.UI=!0;this.Te();q.prototype.jh.call(this);};v.prototype.next=function(){this.hL || this.Qna();return q.prototype.next.call(this);};v.prototype.cancel=function(){this.Te();return q.prototype.cancel.call(this);};v.prototype.Te=function(){this.parent.Xq("onRemoved",this.z4a);this.afa=!1;};v.prototype.Qna=function(){this.afa || (this.afa=!0,this.parent.on("onRemoved",this.z4a));};return v;})(h.AsyncIterator);b.Ujb=p;b.Nrb=function(q){return (0,h.map)(q,l);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.n8a=b.$Xa=b.map=void 0;c=a(0);a(1051);b.map=function(l){return function(g,h){void 0 === h && (h=!1);return function(d,f,n){var k,m,p,q,v,t,w,u;v=Reflect.oYa(l,d,f) || ({});w="number" === typeof n;u=h;(t=w?null !== (m=(null !== (k=v.qb) && void 0 !== k?k:{})[n]) && void 0 !== m?m:{}:u?v.return:v.aqa) || (t={rules:[]});k=c.__assign(c.__assign(c.__assign({},t),g),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=g.rules) && void 0 !== q?q:[]),!1)});w?(v.qb || (v.qb={}),v.qb[n]=k):u?v.return=k:v.aqa=k;Reflect.V2(l,v,d,f);};};};b.$Xa=function(l){return function(g,h){var d,f,n,k;g=null !== (k=null !== (f=null === (d=g.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:null === (n=null === g || void 0 === g?void 0:g.constructor) || void 0 === n?void 0:n.prototype) && void 0 !== k?k:g;for(var m;g && void 0 === m;){m=Reflect.oYa(l,g,h);g=g.__proto__;}return m;};};b.n8a=function(){return function(){return function(l){return l;};};};},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.i_=void 0;c=a(0);l=a(13);g=a(10);h=a(9);d=a(60);f=c.__importDefault(a(5));n=g.N.Na(1E3);r=(function(){function k(m,p,q,v,t,w,u,y,x,z){var A,B;this.uEb=m;this.sSb=p;this.w1=v;this.events=t;this.bq=w;this.Pab=y;this.priority=x;this.bk=[];this.console=(0,g.gi)(f.default,p,("PresentationTracker [").concat(this.uEb,"] ").concat(this.Pab,"]"));this.Bra=n.add(g.N.Na(null !== (B=null === (A=w.bN) || void 0 === A?void 0:A.G) && void 0 !== B?B:0));this.listeners=new l.Af();this.Xra=new l.Af();this.UD=!z;this.kyb(u);this.q9a(q,u,v);}k.prototype.q9a=function(m,p,q){var v;v=this;this.w1=q;this.listeners.clear();this.Xra.clear();this.xb=m;this.Bd=p;this.Xra.on(m.Y,"skipped",this.jV.bind(this));this.listeners.on(q,"requestAppended",function(t){return v.Tq(t.request);});this.events=m.events;this.gK.vRa(p);this.OV.vRa(p);};k.prototype.kyb=function(m){var p;p=this;this.gK=m.Ax(function(){return p.bBb();},"Presentation Emit",this.priority);this.OV=m.Ax(function(){return p.IVb();},"Presentation Prune");};k.prototype.jV=function(){this.trace(("skipped, scheduler clock ").concat(this.Bd.ta.currentTime.ob()));this.UD=!0;this.gK.Mf();};k.prototype.bBb=function(){var m,p,q;return c.__generator(this,function(v){switch(v.label){case 0:(h.I && this.console.trace("Starting emit job"),this.yG=this.xQb(this.UD),m=this.L3a(),v.label=1);case 1:if(!m)return [3,3];this.trace(("queuing task for ").concat(this.J5(m.vr)) + (" at player time ").concat(m.timestamp.ob()) + (" scheduler clock is ").concat(this.Bd.ta.currentTime.ob()));return [4,d.yh.bz(m.timestamp)];case 2:v.cb();this.trace(("executing task for ").concat(this.J5(m.vr)) + (" for player time ").concat(m.timestamp.ob()) + (", scheduler clock: ").concat(this.Bd.ta.currentTime.ob()) + (", actual player time: ").concat(this.xb.Ed) + (", first item: ").concat(this.UD));p=this.UD?this.xb.Ed:m.timestamp;q=this.UD;this.UD=!1;this.uTa=m;this.yG++;this.hja=(m=this.L3a())?m.timestamp:this.PF;try{this.Zja(this.uTa,p,q);}catch(t){this.console.error(("Error in ").concat(this.Pab," emit, continuing"),t);}p=null === m || void 0 === m?void 0:m.timestamp;return [3,1];case 3:return (h.I && this.console.trace("Ending emit job"),[2]);}});};k.prototype.L3a=function(){if(void 0 !== this.yG)return this.bk[this.yG];};k.prototype.xQb=function(m){var p,q,t;void 0 === m && (m=!1);for(var v=m?0:null !== (p=this.yG) && void 0 !== p?p:0;v < this.bk.length;v++){p=this.bk[v];t=g.N.Na(null !== (q=this.bq.WTb) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.xb.Ed.add(t)))return m && 0 < v?v - 1:v;}return Math.max(this.bk.length - 1,0);};k.prototype.IVb=function(){var m,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.bk.length))return [3,2];m=c.__read(this.bk,2);p=m[1];this.trace(("queuing pruning task for ").concat(p.vr) + (" at player time ").concat(this.Bra.add(p.timestamp).ob()) + (" scheduler clock is ").concat(this.Bd.ta.currentTime.ob()));return [4,d.yh.bz(this.Bra.add(p.timestamp))];case 1:return (q.cb(),this.trace(("executing pruning task for ").concat(p.vr) + (" at player time ").concat(this.Bra.add(p.timestamp).ob()) + (" scheduler clock is ").concat(this.Bd.ta.currentTime.ob())),this.bk.shift(),this.yG && this.yG--,[3,0]);case 2:return [2];}});};k.prototype.Ou=function(m,p,q){this.q9a(m,p,q);};k.prototype.reset=function(){this.bk=[];h.I && this.trace("reset");this.UD=!0;this.PF=void 0;this.yG=0;this.OV.Mf();this.gK.Mf();};k.prototype.close=function(){h.I && this.trace("close()");this.Xra.clear();this.gK.Ra();this.OV.Ra();this.listeners.clear();this.bk=[];};k.prototype.Wh=function(m){var p;h.I && this.trace(("canSkip() ").concat(m));if(0 === this.bk.length)return (h.I && this.trace("canSkip false, no media sequence"),!1);p=this.bk[0];return p.timestamp.greaterThan(m)?(h.I && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.PF || this.PF.lessThan(m)?(h.I && this.trace(("canSkip false, later than last appended at ").concat(this.PF)),!1):!0;};k.prototype.trace=function(m){h.I && this.console.trace(m);};k.prototype.qga=function(m,p,q){var v;q && (this.PF=q);v=this.bk.length?this.bk[this.bk.length - 1]:void 0;if(void 0 === v || !this.I5(v.vr,m))return (this.bk.push({vr:m,timestamp:p}),this.gK.state === d.tk.complete && this.gK.Mf(),this.OV.state === d.tk.complete && this.OV.Mf(),!0);v === this.uTa && (this.hja=q);return !1;};k.prototype.I5=function(m,p){return m === p;};k.prototype.Oub=function(m){m.bk=c.__spreadArray([],c.__read(this.bk),!1);m.PF=this.PF;};return k;})();b.i_=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bc=void 0;r=b.Bc || (b.Bc={});r.isb="bitraterestriction";r.rRa="cdnsel";r.px="chgstrm";r.debug="debug";r.pAb="dlreport";r.Hx="endplay";r.OT="intrplay";r.my="midplay";r.mM="playbackaborted";r.$V="renderstrmswitch";r.hC="repos";r.vt="resumeplay";r.nZb="serversel";r.pr="startplay";r.NW="statechanged";r.transition="transition";r.hua="segmentdropped";r.Xqb="asereport";r.INb="livereport";r.HNb="livepipelinefailover";r.oQa="audioswitch";r.HQa="blockedautoplay";r.config="config";r.jcc="ftlProbeError";r.h1b="subtitleerror";r.i1b="subtitleqoe";r.h2b="timedtextrebuffer";r.zab="timedtextswitch";r.e$a="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ODa="IsTypeSupportedProviderFactorySymbol";b.ZHa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var l,g,h;function c(){this.type=l.Nt.ww;}Object.defineProperty(b,"__esModule",{value:!0});b.vz=void 0;l=a(26);r=a(125);g=a(74);h=new r.pD();c.Lxb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return mb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?mb.MSMediaKeys.isTypeSupported(g.hb.Ew,d):"probably" === c.Eva(f[0],f[1]);}catch(n){return !1;}}};};c.D2=function(d,f,n){f=h.format(c.e$,f);if(0 === n.length)return f;n=h.format('features="{0}"',n.join());return h.format("{0}|{1}{2}",d,f,n);};c.Eva=function(d,f){var n;try{n=mb.MSMediaKeys.isTypeSupportedWithFeatures?mb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(k){n="exception";}return n;};b.vz=c;c.e$='video/mp4;codecs="{0},mp4a";';},function(r,b){function a(c,l){var g;g=this;this.status={};c.forEach(function(h,d){g.status[h]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.j_=void 0;a.prototype.VK=function(){return this.status;};a.prototype.C4=function(){return Object.entries(this.status).filter(function(c){c=ma(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=ma(c);l=c.next().value;c.next();return l;});};b.j_=a;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v){var t;t=h.NC.call(this,m,p,l.v.SLa,v) || this;t.config=m;t.bo=p;t.is=q;t.u6=v;t.type=l.ml.hw;t.W4b=d.jd.mTa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.nz=void 0;l=a(26);g=a(40);h=a(457);r=a(125);d=a(123);f=a(239);n=a(79);k=a(265);new r.pD();ha(c,h.NC);c.prototype.gH=function(){return Promise.resolve(!1);};c.prototype.oF=function(){return Promise.resolve("");};c.prototype.j4=function(){return Promise.resolve("");};c.prototype.TW=function(){return this.config().aka?this.u6.boa()?this.u6.AS(g.H.DO).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.R9=function(){return this.config().aka?this.u6.boa()?this.u6.AS(g.H.vO).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.UW=function(){return Promise.resolve(!1);};c.prototype.RW=function(){return Promise.resolve(!1);};c.prototype.US=function(m){return this.W4b[m];};c.prototype.lga=function(){};c.prototype.zOb=function(m){switch(m){case l.xo.OZ:return "1.4";case l.xo.ZC:return "2.2";}};c.prototype.rq=function(){return f.DY.rq();};c.prototype.BYa=function(){var p;function m(q,v){return (0,n.kbb)(function(t,w){return t.name === w.name;},q,v);}p=m(this.config().vPa,this.config().$l);return m(p,this.config().Pq);};c.prototype.iT=function(){return Promise.resolve(void 0);};c.prototype.w4=function(){return Promise.resolve(void 0);};c.prototype.C2=function(m){var p;p=[];this.is.qg(m) && p.push(this.zOb(m));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.BS=function(m){return this.config().HSb?Promise.resolve(new k.j_(m,m.map(function(){return {supported:!0};}))):h.NC.prototype.BS.call(this,m);};b.nz=c;c.e$="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jba=b.pw=void 0;r=b.pw || (b.pw={});r.Pkb="unknown";r.hxa="absent";r.lJa="present";r.Error="error";b.jba="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XCa="IDBDatabaseFactorySymbol";b.CDa="IndexedDBFactorySymbol";b.EDa="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.K_="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rOb=b.DL=b.pOb=void 0;b.pOb=function(a){return a;};b.DL=function(a){return a;};b.rOb=function(a){return Object.assign({},a);};},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y;function c(x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la){this.j=x;this.trackId=z;this.GF=A;this.$b=B;this.Bg=C;this.Lab=D;this.Sb=E;this.urls=G;this.Re=F;this.displayName=H;this.uh=K;this.fH=O;this.variant=I;this.gC=P;this.profile=N;this.Vs=J;this.d7=L;this.iEb=R;this.A5=ka;this.Os=la;this.type=d.Jj.Rva;this.yr=void 0;this.ak=!(!N || N != n.kl.hI);this.sg={bcp47:F,trackId:z,downloadableId:E,isImageBased:this.ak};this.log=(0,f.Gh)(x,"TimedTextTrack");this.state=y.YZ;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.rD=void 0;l=a(0);g=a(104);h=a(18);d=a(103);f=a(8);n=a(40);k=a(20);m=a(14);p=a(1183);q=a(15);v=a(2);t=a(1184);w=a(65);u=a(66);(function(x){x[x.YZ=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.YC=2]="LOADED";x[x.QO=3]="LOAD_FAILED";})(y || (y={}));c.prototype.i5=function(){var x;x=this;if(this.j.state.value === q.Rb.CLOSED || this.j.state.value === q.Rb.CLOSING)return Promise.reject({ia:!1});if(this.ak)return this.SKb();if(this.j.Zc.ha)return (this.state=y.LOADING,this.z_a());this.xUa || (this.xUa=this.zUa());return this.xUa.then(function(z){return x.z_a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.Un=function(){return this.d7;};c.prototype.Lm=function(){return this.iEb;};c.prototype.Ema=function(){var x;return (null === (x=this.QW) || void 0 === x?0:x.ready)?this.QW.wU:void 0;};c.prototype.Sn=function(x,z){var A;try{return null === (A=this.Ema()) || void 0 === A?void 0:A.Sn(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.ak});}};c.prototype.gIb=function(){var x,z,A;if(!(0,m.Nc)(this.gb))try{A=null === (z=null === (x=this.Ema()) || void 0 === x?void 0:x.kF(0)) || void 0 === z?void 0:z[0];this.gb=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.gb;};c.prototype.Isa=function(x){var z,A;(0,k.ma)((0,u.O_a)(x));(0,k.ma)(null === (z=this.j.X) || void 0 === z?void 0:z.Ha.sj,"Live manifest is unavailable.");(0,k.ma)(null === (A=this.QW) || void 0 === A?void 0:A.wU,"Subtitle manager is unavailable");z=x.Z2b;this.QW.wU.Isa({J:x.J,xml:z,gb:x.gb,Vf:x.Vf,size:z.length,xG:x.xG});};c.prototype.r9=function(x){return this.j.state.value === q.Rb.CLOSING || this.j.state.value === q.Rb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.yb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.jTa=function(x){var z,A;z=this;A=(0,f.Gh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.kTa)(this.j,A,this.request,this);x=new t.default(A,x);this.QW={wU:x,ready:!1};x.on("ready",function(){z.QW.ready=!0;});return x;};c.prototype.SKb=function(){var x,z,A,B,C,D,E;x=this;if(!this.w_a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",tQa:!1,cqa:this.Vs.offset,a3a:this.Vs.length,hf:this.j.mediaTime.value || 0,bufferSize:h.config.mKb,c9:{L:this.j.TS()}};A=(this.urls || []).map(function(G){return G.yg;});B=0;C={};D=!0;E=function(G,F){var H;(0,m.Nc)(G)?D || x.r9(x.Ks(x.us,"","image"))?(D=!1,x.Vs.url=null === (H=x.d4(x.us)) || void 0 === H?void 0:H.url,z.url=x.Vs.url,C[G]=(C[G] || 0) + 1,H=x.jTa(z),H.on("ready",function(){F({ia:!0,track:x});}),H.on("error",function(K){var O;K=Object.assign({ia:!1},K);O=x.Ks(x.us,x.Vs.url,"image");O.details={midxoffset:x.Vs.offset,midxsize:x.Vs.length};O.errorstring=K.errorString;C[G] <= h.config.xab?(x.I3(O,!0,"retry with current cdn"),x.nha(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Ks(x.us,"","image"));E(x.us,F);})):(x.us=A[B++],x.us?(x.I3(O,!0,"retry with next cdn"),x.nha(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Ks(x.us,"","image"));E(x.us,F);})):(x.I3(O,!1,"all cdns tried"),F({ia:!1,fQb:"all cdns failed for image subs",track:x})));}),H.start()):F({ia:!1,aborted:!0}):(F({ia:!1,fQb:"cdnId is not defined for image subs downloadUrl"}),x.I3(x.Ks(0,"","image"),!1,"cdnId is undefined"));};this.us=A[B++];this.w_a=new Promise(function(G,F){E(x.us,function(H){H.ia?(x.log.info("Loaded image subtitle manager"),x.state=y.YC,G(H)):(x.log.error("Unable to load image subtitles manager",H),x.state=y.QO,F(H));});});}return this.w_a;};c.prototype.z_a=function(x){var z,A;z=this;A=this.j.EC.value;(0,k.ma)(A);(0,k.ma)(void 0 !== x || this.j.Zc.ha);return new Promise(function(B,C){var D;D=z.jTa({profile:z.profile,xml:x,Hf:h.config.yab,preferences:h.config.Qva,hf:z.j.mediaTime.value || 0,tQa:!1,videoSize:A,ha:z.j.Zc.ha});D.on("ready",function(){B(D);}).on("error",function(E){C({ia:!1,error:E});}).start();}).then(function(){z.state=y.YC;return {ia:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,v.ow)(B),z.sg,{url:B.url});z.state=y.QO;B.reason="parseerror";B.track=z;throw B;});};c.prototype.I3=function(x,z,A){x=Object.assign({},x,{dgc:z,status:A});this.j.fireEvent(q.ea.nN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,C;A=this;this.log.trace("Downloading",x);C=this.d4(this.us);x={url:x.url,offset:x.offset,length:x.size,yr:this.yr,responseType:g.BT,headers:{},qc:C?{id:C.yg}:void 0,DA:"tt-" + this.Re,hr:null !== (B=null === C || void 0 === C?void 0:C.type) && void 0 !== B?B:w.iP};this.j.Z4.download(x,function(D){A.log.trace("imgsub: request status " + D.ia);D.ia?z(null,new Uint8Array(D.content)):z({za:D.za,Ve:D.Ve});});};c.prototype.Ks=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Sb,subtitletype:A,bcp47:this.Re,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.ak};};c.prototype.d4=function(x){return (this.urls || []).find(function(z){return z.yg === x;});};c.prototype.zUa=function(){var B,C;function x(D){return l.__awaiter(B,void 0,void 0,function G(){var F,H,K;H=this;return Ga(G,function(O){F=A();K=H.Ks(D.qc.yg,D.url,"text");K.errorstring=D.reason;return F && H.r9(K)?O.return(H.nha(C[F.yg]).then(z)):O.return(Promise.reject({ia:!1,aborted:!0}));});});}function z(){return l.__awaiter(B,void 0,void 0,function E(){var G,F,H;H=this;return Ga(E,function(K){G=A();F=null === G || void 0 === G?void 0:G.url;return G && F?(C[G.yg]=(C[G.yg] || 0) + 1,K.return(H.xAb(F,G).catch(x))):K.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(D){return !!((C[D.yg] || 0) < h.config.xab);});}B=this;this.state=y.LOADING;C={};return z();};c.prototype.nha=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.xAb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({qc:z.yg}),this.Ks(z.yg,x,"text"));return new Promise(function(B,C){var D,E;E={responseType:g.nna,url:x,track:A,qc:{id:z.yg},DA:"tt-" + A.Re,hr:null !== (D=z.type) && void 0 !== D?D:w.iP};A.j.Z4.download(E,function(G){G.ia?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:E.url,track:A,qc:z}),C(G));});});};Sa.Object.defineProperties(c.prototype,{rf:{configurable:!0,enumerable:!0,get:function(){return this.Lab.rf;}},YB:{configurable:!0,enumerable:!0,get:function(){return this.Lab.YB;}}});b.rD=c;c.Dz=y;},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},qma:function(){return this.buffer.length - this.position;},Ey:function(){return this.buffer[this.position++];},uj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Gp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Osa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Sg:function(){return this.Gp(2);},Hp:function(){return this.Gp(4);},zM:function(){return this.Gp(8);},Gv:function(a){for(var c,l="";a--;){c=this.Ey();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},Psa:function(a){for(var c=0,l=0;l < a;l++){c+=this.Ey() << (l << 3);}return c;},yM:function(){return this.Psa(4);},OX:function(a){this.SN(a,2);},dz:function(a){this.SN(a,4);},E$:function(a){this.buffer[this.position++]=a;},SN:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},cz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},NX:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},RN:function(a,c){this.NX(a.uj(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GEa="LogMessageRulerConfigSymbol";b.IEa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kca="MilestonesEventBuilderSymbol";},function(r,b,a){var l,g;function c(h){switch(h){case l.R.IO:return "http";case l.R.KO:return "connectiontimeout";case l.R.UC:return "readtimeout";case l.R.ECa:return "corruptcontent";case l.R.TC:return "abort";case l.R.LO:case l.R.xba:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.sma=b.tYa=b.jYa=void 0;l=a(2);g=a(12);b.jYa=c;b.tYa=function(h,d){h={errorcode:h + (d.errorCode || l.V.Co)};d.za && (h.errorsubcode=d.za);d.Ve && (h.errorextcode=d.Ve);d.jka && (h.erroredgecode=d.jka);d.Ib && (h.errordetails=d.Ib);d.yl && (h.httperr=d.yl);d.W6 && (h.aseneterr=d.W6);d.LA && (h.errordata=d.LA);d.IU && (h.mediaerrormessage=d.IU);(d=c(Number(d.za))) && (h.nwerr=d);return h;};b.sma=function(){return {screensize:g.Zt.width + "x" + g.Zt.height,screenavailsize:g.Zt.availWidth + "x" + g.Zt.availHeight,clientsize:mb.innerWidth + "x" + mb.innerHeight,devicePixelRatio:g.bGa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kca="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,f,n,k,m,p;function c(q,v,t,w){this.ta=q;this.qT=v;this.Ea=t;this.profile=w;}function l(){}function g(){}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=b.f_=void 0;r=a(0);d=a(1);f=a(27);n=a(3);k=a(11);m=a(17);a=a(78);h.prototype.encode=function(q){return {downloadableId:q.Sb,duration:q.duration};};h.prototype.decode=function(q){return {Sb:q.downloadableId,duration:q.duration};};g.prototype.encode=function(q){return {total:q.total,totalContentTime:q.qH,totalAdDuration:q.BC,totalCombinedDuration:q.zN,totalOtherDuration:q.CC,totalStartSlateDuration:q.sH,totalLiveEdgeDuration:q.rH,audio:q.audio.map(new h().encode),video:q.video.map(new h().encode),text:q.text.map(new h().encode)};};g.prototype.decode=function(q){var v;return {total:q.total,qH:null !== (v=q.totalContentTime) && void 0 !== v?v:q.total,BC:q.totalAdDuration,zN:q.totalCombinedDuration,CC:q.totalOtherDuration,sH:q.totalStartSlateDuration,rH:q.totalLiveEdgeDuration,audio:q.audio.map(new h().decode),video:q.video.map(new h().decode),text:q.text.map(new h().decode)};};l.prototype.encode=function(q){return {streamingType:q.bg,href:q.href,xid:q.ja,movieId:q.O,position:q.position,clientTime:q.rx,sessionStartTime:q.Sl,videoTrackId:q.ON,audioTrackId:q.Vo,timedTextTrackId:q.wN,mediaId:q.IL,playTimes:new g().encode(q.zv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Rl,profileId:q.profileId};};l.prototype.decode=function(q){return {bg:q.streamingType,href:q.href,ja:q.xid,O:q.movieId,position:q.position,rx:q.clientTime,Sl:q.sessionStartTime,ON:q.videoTrackId,Vo:q.audioTrackId,wN:q.timedTextTrackId,IL:q.mediaId,zv:new g().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Rl:q.sessionParams,profileId:q.profileId};};b.f_=l;c.prototype.create=function(q){var v,t,w,u,y,x,z,A;A=Object.assign(Object.assign({},null !== (v=q.Ua.Rl) && void 0 !== v?v:{}),{uiVersion:this.qT().gp.Tv});v=null !== (t=q.Zc.ha?q.Zc.G4():q.QR) && void 0 !== t?t:0;return {href:q.X && q.X.di?q.X.di.NK("events").href:"",bg:null !== (u=null === (w=q.X) || void 0 === w?void 0:w.Ha.bg) && void 0 !== u?u:"VOD",ja:q.ja.toString(),O:q.O,position:Math.floor(v),rx:this.ta.SG.ca(n.na),Sl:q.Wx?q.Wx.ca(n.na):-1,ON:null === (y=q.Fg.value) || void 0 === y?void 0:y.trackId,Vo:null === (x=q.jc.value) || void 0 === x?void 0:x.trackId,wN:null === (z=q.yb.value) || void 0 === z?void 0:z.trackId,IL:void 0,zv:this.ima(q),trackId:void 0 !== q.Hj?q.Hj.toString():"",sessionId:this.qT().sessionId || this.Ea.id,appId:this.qT().appId || this.Ea.id,Rl:A,profileId:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.mma=function(q){return q.map(function(v){return {Sb:v.downloadableId,duration:v.duration};});};c.prototype.ima=function(q){return (q=q.Kk)?(q=q.zHb(),{total:q.total,qH:q.totalContentTime,BC:q.totalAdDuration,CC:q.totalOtherDuration,zN:q.totalCombinedDuration,rH:q.totalLiveEdgeDuration,sH:q.totalStartSlateDuration,audio:this.mma(q.audio),video:this.mma(q.video),text:this.mma(q.timedtext)}):{total:0,qH:0,BC:0,zN:0,CC:0,rH:0,sH:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.wg)),r.__param(1,(0,d.l)(k.ac)),r.__param(2,(0,d.l)(m.Gc)),r.__param(3,(0,d.l)(a.qI))],p);b.HHa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NHa="PboPlaydataValidatorSymbol";b.EHa="PboPlaydataArrayValidatorSymbol";b.GHa="PboPlaydataCollectionValidatorSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Uba=void 0;b.Uba=a;a.kfb="display";a.Reb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ida=b.pI=void 0;r=b.pI || (b.pI={});r.I1b="taskstart";r.G1b="taskabort";r.H1b="taskfail";r.J1b="tasksuccess";b.ida="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Caa="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cya="AsePrefetcherAdapterSymbol";b.dya="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nca="PboPublisherSymbol";},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.dH=void 0;c=a(16);l=a(18);g=a(58);h=a(61);d=a(2);f=a(20);n=a(8);k=a(22);m=a(12);p=a(285);q=a(14);r=a(32);n.Aa.get(r.Oh).register(d.V.kDa,function(v){var u,y,x;function t(){var z;t=c.zw;z=setInterval(w,l.config.UNb);g.$d.addListener(g.Ek,function(A){A && A.isPopStateEvent?u.trace("popstate event, Lock timers can stay"):((0,k.Wf)(y,function(B,C){localStorage.removeItem(C.Qq);}),clearInterval(z));},c.kI);}function w(){var z;z=(0,h.tia)();(0,k.Wf)(y,function(A,B){!1;A=localStorage.getItem(B.Qq);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.Qq,JSON.stringify(A));});}(0,f.ma)(p.storage);u=(0,n.Ki)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.dH={Eu:function(z,A,B){var D,E,G,F,H,K,O,I,P,N;function C(J){localStorage.setItem(G,JSON.stringify(J));J={Qq:G};y[G]=J;u.trace("Lock acquired",{Name:J.Qq});t();A({ia:!0,f6:J});}D=this;B=void 0 === B?!1:B;if(localStorage){E=(0,h.tia)();G="lock-" + z;F={updated:E,sessionId:x,count:1};try{if((G in localStorage)){H=localStorage.getItem(G);K=0;O=JSON.parse(H);(0,q.tB)(O.updated) && (K=O.updated);I=(0,m.QZ)(E - K) * c.Jr;P=x === O.sessionId;if(I < l.config.L1a){if(P)(O.count+=1,u.debug("Incremented lock count for existing playbackSession",{id:x,count:O.count}),O.updated=E,C(O));else if(B){N=l.config.L1a - I + c.Jr;u.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:O.count,Epoch:E,LockEpoch:K,waitTimeoutMs:N});mb.setTimeout(function(){return D.Eu(z,A,!1);},N);}else A({ia:!1});}else (u.error("Lock was expired or invalid, ignoring",{Epoch:E,LockEpoch:K}),C(F));}else C(F);}catch(J){u.error("Error acquiring Lock",{errorSubCode:d.R.cl,errorDetails:(0,k.te)(J)});A({ia:!0});}}else (m.bpa?u.error("Local storage access exception",{errorSubCode:d.R.tkb,errorDetails:(0,k.te)(m.bpa)}):u.error("No localstorage",{errorSubCode:d.R.ukb}),A({ia:!0}));},release:function(z,A){var B,C;(0,f.ma)(y[z.Qq] == z);if(localStorage){try{B=localStorage.getItem(z.Qq);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.Qq,JSON.stringify(C)),u.trace("Lock count decremented",{Name:z.Qq,count:C.count})):(localStorage.removeItem(z.Qq),delete y[z.Qq],u.trace("Lock released",{Name:z.Qq}));}catch(D){u.error("Unable to release Lock",{Name:z.Qq},D);}A && A(c.eg);}}};l.config.o3?b.dH.Eu("session",function(z){b.dH.Y8a=z;v(c.eg);}):v(c.eg);});},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(18);l=a(16);g=a(536);r=a(2);h=a(537);d=a(539);f=a(8);a=a(32);b.storage=b.storage || void 0;f.Aa.get(a.Oh).register(r.V.jDa,function(n){var k;switch(c.config.G0b){case "idb":k=h.u$a;break;case "none":k=g.w$a;break;case "ls":k=d.v$a;}k(function(m){m.ia?(b.storage=m.storage,n(l.eg)):n(m);});});},function(r,b,a){var g,h,d,f,n,k,m,p,q,v,t,w;function c(u,y){var z;function x(){function A(B,C){return C.de && 0 !== C.de.length && C.de[0].TF?(0,g.Gy)(u,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.YV(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({Oy:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.YV(C):Promise.resolve());}l(z).then(function(B){var C;C=B.i3.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");y(h.eg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);y(h.eg);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(h.eg);});}z=(0,k.Ki)("PlayDataManager");y=y || h.zw;d.config.zr?y(h.eg):x();}function l(u){var y;if(!b.Pja){y=k.Aa.get(m.Daa);b.Pja=new Promise(function(x,z){y.R6a().then(function(){x(y);}).catch(function(A){u.error("Unable to load DRM data for license release",A);z(A);});});}return b.Pja;}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=b.$Ha=b.Pja=void 0;g=a(287);h=a(16);d=a(18);f=a(58);n=a(43);k=a(8);r=a(2);m=a(213);p=a(142);q=a(15);v=a(48);t=a(32);w=a(206);b.$Ha=function(u){var z,A,B,C,D,E;function y(){A || (u.fe("pdsb"),A=k.Aa.get(p.nP)().then(function(G){C=G;u.fe("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);u.fe("pdse");throw G;}));return A;}function x(){B=!0;C && C.close();f.$d.removeListener(f.Ek,x);}z=(0,k.Gh)(u,"PlayDataManager");B=!1;D=k.Aa.get(n.h_);if(!D.UH || !D.SH){E=k.Aa.get(w.Rca)();D.UH=E.Oy;D.SH=E.request;}u.fe("pdctor");u.addEventListener(q.ea.og,function(){f.$d.removeListener(f.Ek,x);});u.addEventListener(q.ea.kU,function(){var G;if(!d.config.zr && u.Zd){G=u.y2.RSa();l(z).then(function(F){return F.$Oa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});u.addEventListener(q.ea.og,function(){var G;if(!B){u.a5b();G=[(function(){return d.config.zr || !u.Zd?Promise.resolve():new Promise(function(F){var H;z.info("Sending the expedited playdata");H=u.y2.RSa();u.Zd.AVa(H).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(K){return K?K.YV(H):Promise.resolve();}).then(function(){F(void 0);}).catch(function(K){z.error("Unable to send the expedited playdata",K);F();});});})(),(function(){return y().then(function(F){return F.OW(u.aa);}).then(function(){z.info("Sent the playdata");}).catch(function(F){z.error("Unable to send the playdata",F);});})(),(function(){return new Promise(function(F){k.Aa.get(v.dm).flush(!1).catch(function(){z.error("Unable to send logblob");F(void 0);}).then(function(){F(void 0);});});})()];Promise.all(G).then(function(){u.g7();}).catch(function(){u.g7();});}});f.$d.addListener(f.Ek,x);return {};};b.aIa=function(){return new Promise(function(u){c({},function(y){u(y);});});};k.Aa.get(t.Oh).register(r.V.qz,function(u){u(h.eg);});},function(r,b,a){var g,h,d,f,n,k,m,p;function c(q){this.j=q;this.t1a=!1;this.log=(0,h.Gh)(this.j,"Playback");this.xL=h.Aa.get(m.RO);(0,d.ma)(g.config);g.config.zr || (this.EAb=h.Aa.get(f.KAa));}function l(q,v){var w;function t(u){return u && 0 < u.length && u[0].TF;}w=h.Aa.get(m.RO);return q.ja && t(q.de)?w.release({ja:q.ja,de:q.de}).then(function(){}):v.ja && t(v.de)?w.release(v).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.Gy=b.Tza=void 0;g=a(18);h=a(8);d=a(20);f=a(325);n=a(56);k=a(14);m=a(190);p=a(15);c.prototype.qF=function(q){var v;v=this;return new Promise(function(t,w){var u,y,x;u=n.cm.KSa(q.ff);y=q.kj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,h.hx)(z.data)};});x=v.j.BHb(q.kj[0].sessionId);v.xL.Eu({xf:x.xf,ff:k.is.mm(q.ff)?q.ff:u,h3:[x.Bk],kj:y,ja:x.ja,Cm:q.Cm,di:x.X.di,bg:x.X.Ha.bg}).then(function(z){v.j.de=z.de;t(z);v.IDb(x);}).catch(w);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.RSa=function(){var q;q=this.EAb.create();q.de=this.j.de;q.ja=this.j.ja;q.O=this.j.O;return q;};c.prototype.IDb=function(q){this.t1a || (this.t1a=!0,this.j.fireEvent(p.ea.kU,{O:q.O}));};b.Tza=c;b.Gy=l;},function(r,b,a){var g,h,d,f,n,k,m,p,q,v,t,w;function c(u){u=Error.call(this,u);this.message=u.message;("stack" in u) && (this.stack=u.stack);this.name="CodecSwitchingError";}function l(u,y,x,z){var A,B;A=this;this.j=u;this.type=y;this.log=z;this.u0=new d.Fb(!1);this.AD={data:[],state:"",operation:""};this.mimeType=this.DVa((this.type === w.v.Z?this.j.Fg.value:this.j.jc.value).streams);this.Nj=new f.Vi();this.mfa={Type:this.type};if(h.config.zB){B=!0;this.Xka=new d.Fb(!1);}this.log.trace("Adding source buffer",this.mfa,{TypeId:this.mimeType});this.Yc=x.addSourceBuffer(this.mimeType);this.Yc.addEventListener("updatestart",function(){!1;A.AD.state="updatestart";});this.Yc.addEventListener("update",function(){!1;A.AD.state="update";});this.Yc.addEventListener("updateend",function(){var C;!1;A.u0.set(!1);A.yMa && A.yMa();A.AD.state="updateend";C=0;try{C=A.Yc.buffered.length;}catch(D){}B && C && (B=!1,A.Xka.set(!0),!1);});this.Yc.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(E){}u.dd(k.V.wjb,(0,g.m4)(A.type));});this.Yc.addEventListener("abort",function(){!1;});u.addEventListener(q.ea.closed,function(){A.Yc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Yeb=b.hca=void 0;g=a(171);h=a(18);d=a(70);f=a(71);n=a(8);a(97);k=a(2);a(3);m=a(20);p=a(14);q=a(15);v=a(156);t=a(195);w=a(47);l.prototype.mh=function(){return this.u0.value;};l.prototype.updating=function(){return this.Yc?this.Yc.updating:!1;};l.prototype.j9=function(u){this.yMa=u;};l.prototype.Gla=function(){return this.AD;};l.prototype.buffered=function(){return this.Yc.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.Bla=function(){var u,z,A;try{u=this.Yc.buffered;if(u){for(var y=[],x=0;x < u.length;x++){z=1E3 * u.start(x);A=1E3 * u.end(x);(0,m.ma)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};l.prototype.b4=function(){var u,y;u=this.Bla();if(u){u=u.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=u.reduce(function(x,z){return x + z.end - z.start;},0);u=u.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:u.join("|")};}};l.prototype.MPa=function(u,y){!1;try{(0,m.ma)(this.Yc.buffered && 1 >= this.Yc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.b4()));}catch(x){}(0,m.ma)(!this.mh());this.G9a("append",u);y=y && y.PV / 1E3;(0,p.sb)(y) && this.Yc.timestampOffset !== y && (!1,this.Yc.timestampOffset=y);this.Yc.appendBuffer(u);!1;this.u0.set(!0);};l.prototype.remove=function(u,y){(0,m.ma)(!this.mh());try{this.G9a("remove");!1;this.Yc.remove(u,y);this.u0.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.mfa);}};l.prototype.G9a=function(u,y){this.AD.data=y || [];this.AD.state="init";this.AD.operation=u;};l.prototype.a_b=function(u,y){this.UMb=u / y * 1E3;};l.prototype.Ttb=function(u){var y;if(this.Yc){if((u=this.DVa([{type:this.xvb,Ue:u}]),u !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + u);if(!this.Yc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Yc.changeType(u);this.mimeType=u;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.mfa,{From:y,To:u}),new c(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(u,y){!y || y.Ad?this.Pga(u,y):this.Rga(u,y);return !0;};l.prototype.Pga=function(u,y){this.j.ee.Pga(this,u,y || ({}));};l.prototype.Rga=function(u,y){u=this.rvb(u,y);!1;this.j.ee.Rga(u);};l.prototype.rvb=function(u,y){var x;x=this.UMb || 0;return {xub:function(){this.response=void 0;},Hh:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.ic.Cc.DONE,CG:y.gb,Cy:y.gb + y.duration,FA:y.duration,PV:x,ep:y.ep,J:y.J,Wb:y.Wb,Rc:+y.Rc,location:y.location,CJ:y.offset,AJ:y.offset + y.va - 1,bitrate:y.bitrate,response:u,uZa:u && 0 < u.byteLength,oB:!0,get Ad() {return !this.oB;},I8a:this.bj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.J,isHeader:this.Ad,ptsStart:this.CG,ptsOffset:this.PV,responseType:this.cac,duration:this.FA,readystate:this.fh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var u;this.j.gE("EndOfStream");null === (u=this.j.ee) || void 0 === u?void 0:u.h7(this.mediaType);};l.prototype.j$a=function(u){this.yob=u;};l.prototype.addEventListener=function(u,y,x){this.Nj.addListener(u,y,x);};l.prototype.removeEventListener=function(u,y){this.Nj.removeListener(u,y);};l.prototype.DVa=function(u){var y;y=n.Aa.get(v.wP);return this.type === w.v.Z?y.I2(u):y.B2(u);};Sa.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},k$a:{configurable:!0,enumerable:!0,get:function(){return this.yob;}},xvb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.hca=l;ha(c,Error);b.Yeb=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.rTa=b.wpa=void 0;c=a(20);l=a(22);g=a(14);(function(){var d,f,n;function h(k){(0,c.ma)(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;n=/[", ]/;b.rTa=function(k){return (0,g.Nc)(k)?(0,g.sb)(k)?k:(0,g.rg)(k)?k.replace(f,h):(0,g.S_a)(k)?k:isNaN(k)?"NaN":"":"";};b.wpa=function(k){var m,p;m=b.rTa;p="";(0,l.Wf)(k,function(q,v){q=m(q) + "=" + m(v);n.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yi=void 0;r=b.Yi || (b.Yi={});r[r.d$a=1]="sourceopen";r[r.Fn=2]="currentTimeChanged";r[r.pW=3]="seeked";r[r.s1a=5]="licenseadded";r[r.b$a=6]="sourceBuffersAdded";r[r.w7=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V$={xpb:"adStart",UOa:"adProgress",iac:"adComplete",ypb:"adStop"};b.jxa={eA:"adBreakComplete"};b.W$={error:"error",ACb:"exit",lbb:"unload"};b.qxa="AdImpressionLoggerrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U$="AdEventPboCommandSymbol";b.T$="AdBreakEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fda="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hda="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var l,g;function c(h,d){var f;f=this;this.Lh=h;this.Dg=d;this.addEventListener=function(n,k,m){return f.Dg.addListener(n,f.KTa(n,k),m);};this.removeEventListener=function(n,k){return f.Dg.removeListener(n,f.KTa(n,k));};this.getReady=function(){return f.Dg.isReady();};this.getXid=function(){return f.wb().Bq();};this.getMovieId=function(){return f.wb().iYa();};this.getPlaygraphId=function(){return f.Dg.CHb();};this.getElement=function(){return f.Dg.Gm();};this.isPlaying=function(){return f.wb().qB();};this.isPaused=function(){return f.wb().Ss();};this.isMuted=function(){return f.wb().foa();};this.isReady=function(){return f.wb().isReady();};this.isBackground=function(){return f.wb().R_a();};this.setBackground=function(n){return f.wb().xua(n);};this.startInactivityMonitor=function(){return f.wb().gN();};this.setTransitionTime=function(n){return f.wb().Nua(n);};this.getDiagnostics=function(){return f.wb().rXa();};this.getTextTrackList=function(n){return f.wb().Ima(n);};this.getMaxRecommendedTextIndex=function(n){return f.wb().ama(n);};this.getTextTrack=function(){return f.wb().Hma();};this.setTextTrack=function(n){return f.wb().Jua(n);};this.getVolume=function(){return f.wb().fZa();};this.isEnded=function(){return f.wb().aoa();};this.getBusy=function(){return f.wb().mh();};this.getError=function(){return f.wb().getError();};this.getCurrentTime=function(){return f.wb().IK();};this.getAdManager=function(){return f.wb().Mn();};this.getLivePlaybackManager=function(){var n;n=f.wb().Bl();(0,g.ma)(n,"Unexpected call to getLivePlaybackManager()");if(n.ha && !n.y_b())return {seekToLiveEdge:function(){return n.Z8();},isAtLiveEdge:function(){return n.nB();},getLiveEventState:function(){return n.UA();},isLiveEventEnded:function(){return n.B5();}};};this.getBufferedTime=function(){return f.wb().YWa();};this.getSegmentTime=function(){return f.wb().f4();};this.getDuration=function(){return f.wb().Ela();};this.getVideoSize=function(){return f.wb().eZa();};this.getAudioTrackList=function(){return f.wb().OWa();};this.getMaxRecommendedAudioIndex=function(){return f.wb().dYa();};this.getAudioTrack=function(){return f.wb().NWa();};this.getTimedTextTrackList=function(n){return f.wb().Ima(n);};this.getMaxRecommendedTimedTextIndex=function(n){return f.wb().ama(n);};this.getTimedTextTrack=function(){return f.wb().Hma();};this.getAdditionalLogInfo=function(){return f.wb().LWa();};this.getTrickPlayFrame=function(n){return f.wb().aZa(n);};this.getSessionSummary=function(){return f.wb().yma();};this.getTimedTextSettings=function(){return f.wb().nT();};this.setMuted=function(n){return f.wb().p9a(n);};this.setVolume=function(n){return f.wb().B9a(n);};this.getPlaybackRate=function(){return f.wb().RK();};this.setPlaybackRate=function(n){return f.wb().n9(n);};this.setAudioTrack=function(n){return f.wb().$8a(n);};this.setTimedTextTrack=function(n){return f.wb().Jua(n);};this.setTimedTextSettings=function(n){return f.wb().$M(n);};this.prepare=function(){return f.wb().vG();};this.load=function(){return f.wb().load();};this.close=function(n){return f.RPa(f.Dg.close(),n);};this.play=function(){return f.wb().play();};this.pause=function(){return f.wb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(n,k){return f.RPa(f.wb().lK(n),k);};this.induceError=function(n){return f.wb().n_a(n);};this.loadCustomTimedTextTrack=function(n,k,m,p){return f.wb().C1a(n,k,m,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return f.wb().g4();};this.generateScreenshots=function(n){return f.wb().FWa(n);};this.getCurrentSegmentId=function(){return f.Dg.mXa();};this.getPlaygraphMap=function(){return f.Dg.uF();};this.updatePlaygraphMap=function(n){return f.Dg.Gt(n);};this.rka=new Map();this.log=(0,l.Ki)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.P_=void 0;l=a(8);a(97);g=a(20);c.prototype.wb=function(){return this.Dg.wb();};c.prototype.KTa=function(h,d){var f;this.rka.has(h) || this.rka.set(h,new Map());f=this.rka.get(h);f.has(d) || f.set(d,this.ezb(h,d));return f.get(d);};c.prototype.ezb=function(h,d){var f;f=this;return function(n){return d(Object.assign({},n,{type:h,target:f}));};};c.prototype.RPa=function(h,d){return d?h.then(d,d):h;};b.P_=c;},function(r,b,a){b=a(178);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.Ca:Date.now;},function(r){r.exports={fw:{Pda:0,TJa:1,sk:2,name:["transient","semiTransient","permanent"]},cw:{JBa:0,SJa:1,u_:2,kP:3,Bw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},G$b:{u$b:0,v8b:1,M6b:2,Bw:100,name:["trailer","montage","content"]},Ut:{XDa:0,yJa:1,Okb:2,Jfb:3,Bw:100,name:["left","right","up","down"]},OO:{Web:0,u_:1,e8b:2,z7b:3,h6b:4,d8b:5,Qdb:6,Bw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},aI:{kP:0,aAa:1,Bw:100,name:["playFocused","detailsOpened"]}};},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof mb && (b=mb);}r.exports=b;},function(r,b,a){var c,l,g,h,d,f;c=a(575);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");g=Object.prototype.toString;h=Array.prototype.concat;d=Object.defineProperty;b=a(301)();f=d && b;r.exports=function(n,k){var m,p,v,t,w,u;m=2 < arguments.length?arguments[2]:{};p=c(k);l && (p=h.call(p,Object.getOwnPropertySymbols(k)));for(var q=0;q < p.length;q+=1){v=n;t=p[q];w=k[p[q]];u=m[p[q]];if(!((t in v)) || "function" === typeof u && "[object Function]" === g.call(u) && u())f?d(v,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):v[t]=w;}};},function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(g){}return !1;}l=a(38)("%Object.defineProperty%",!0);c.iJb=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(g){return !0;}};r.exports=c;},function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(303);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(r,b,a){var c,l,g,h,d,f;c=a(580);l=a(581);g=a(583);h=a(133);d=a(306);f=a(593);r.exports=function(n){var k;n=g(n);if(h(n) || 0 === n)return 0;if(!d(n))return n;k=l(c(n));return 0 === k?0:f(n) * k;};},function(r){var l,g,h,d,f,n,k,m;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return f.test(q);}catch(v){return !1;}}l=Function.prototype.toString;g="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof g && "function" === typeof Object.defineProperty)try{h=Object.defineProperty({},"length",{get:function(){throw d;}});d={};g(function(){throw 42;},null,h);}catch(p){p !== d && (g=null);}else g=null;f=/^\s*class\b/;n=Object.prototype.toString;k="function" === typeof Symbol && !!Symbol.toStringTag;m=!((0 in [,]));"object" === typeof document && n.call(document.all) === n.call(document.all) && (b=function(p){var q;if(!(!m && p || "undefined" !== typeof p && "object" !== typeof p))try{q=n.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(v){}return !1;});r.exports=g?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{g(p,null,h);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(k)return a(p);if(c(p))return !1;q=n.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},function(r,b,a){var c;c=a(133);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},function(r,b,a){r.exports=a(305);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);r=(function(){function l(){}l.prototype.jXa=function(g){var h;h=Reflect.getMetadata(c.xca,g);g=Reflect.getMetadata(c.XKa,g);return {mSa:h,t4b:g || ({})};};l.prototype.IHb=function(g){return Reflect.getMetadata(c.YKa,g) || [];};return l;})();b.jca=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.u0a=function(l){return l instanceof RangeError || l.message === c.okb;};},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(39);g=a(68);h=a(94);r=(function(){function d(f){this.vlb=f;}d.prototype.o3b=function(){return this.vlb();};return d;})();b.Nba=r;b.l=function(d){return function(f,n,k){var m;if(void 0 === d)throw Error(c.Mkb(f.name));m=new g.Metadata(l.MO,d);"number" === typeof k?h.iH(f,n,k,m):h.$W(f,n,m);};};},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(106);g=a(68);h=a(627);r=(function(){function d(f,n,k,m){this.id=l.id();this.type=f;this.vg=k;this.name=new h.Tjb(n || "");this.ud=[];f=null;"string" === typeof m?f=new g.Metadata(c.wz,m):m instanceof g.Metadata && (f=m);null !== f && this.ud.push(f);}d.prototype.BZa=function(f){for(var n=0,k=this.ud;n < k.length;n++){if(k[n].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.BZa(c.aD);};d.prototype.FOb=function(f){return this.Fpa(c.aD)(f);};d.prototype.goa=function(){return this.BZa(c.wz);};d.prototype.soa=function(){return this.ud.some(function(f){return f.key !== c.MO && f.key !== c.aD && f.key !== c.TZ && f.key !== c.BP && f.key !== c.wz;});};d.prototype.i0a=function(){return this.Fpa(c.vGa)(!0);};d.prototype.dHb=function(){return this.goa()?this.ud.filter(function(f){return f.key === c.wz;})[0]:null;};d.prototype.IFb=function(){return this.soa()?this.ud.filter(function(f){return f.key !== c.MO && f.key !== c.aD && f.key !== c.TZ && f.key !== c.BP && f.key !== c.wz;}):null;};d.prototype.Fpa=function(f){var n;n=this;return function(k){var q;for(var m=0,p=n.ud;m < p.length;m++){q=p[m];if(q.key === f && q.value === k)return !0;}return !1;};};return d;})();b.H_=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(204);l=a(205);r=(function(){function g(h){this.tc=h;this.LP=new l.saa(this.tc);this.kea=new c.eY(this.tc);}g.prototype.when=function(h){return this.LP.when(h);};g.prototype.KX=function(){return this.LP.KX();};g.prototype.vv=function(h){return this.kea.vv(h);};return g;})();b.IC=r;},function(r,b,a){var g;function c(h){return function(d){function f(n){return null !== n && null !== n.target && n.target.Fpa(h)(d);}f.V2a=new g.Metadata(h,d);return f;};}function l(h,d){h=h.ty;return null !== h?d(h)?!0:l(h,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(39);g=a(68);b.Xab=l;b.eab=c;a=c(r.wz);b.E3a=a;b.dbb=function(h){return function(d){var f;if(null !== d){f=d.tR[0];return "string" === typeof h?f.vg === h:h === d.tR[0].Dl;}return !1;};};},function(r,b,a){var g;function c(h,d){this.cg=d;this.gy=Math.floor(h);this.display=this.gy + " " + this.cg.name;}function l(h,d,f){this.cg=h;this.name=d;this.Xo=f?f:this;(0,g.Yn)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Lr=b.CP=void 0;g=a(54);l.prototype.tS=function(h){return this.cg == h.cg;};l.prototype.toJSON=function(){return this.name;};b.CP=l;c.prototype.ca=function(h){return this.cg.tS(h)?this.gy:Math.floor(this.gy * this.cg.cg / h.cg);};c.prototype.Y5a=function(h){return this.cg.tS(h)?this.gy:this.gy * this.cg.cg / h.cg;};c.prototype.as=function(h){return new c(this.ca(h),h);};c.prototype.to=function(h){return new c(this.ca(h),h);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.gy,units:this.cg.name};};c.prototype.add=function(h){return this.gSa(h);};c.prototype.wa=function(h){return this.gSa(h,function(d){return -d;});};c.prototype.scale=function(h){return new c(this.ca(this.cg.Xo) * h,this.cg.Xo);};c.prototype.zk=function(h){return this.ca(this.cg.Xo) - h.ca(this.cg.Xo);};c.prototype.tS=function(h){return 0 == this.zk(h);};c.prototype.C0a=function(){return 0 == this.gy;};c.prototype.hoa=function(){return 0 > this.gy;};c.prototype.p0a=function(){return 0 < this.gy;};c.prototype.gSa=function(h,d){d=void 0 === d?function(f){return f;}:d;return new c(this.ca(this.cg.Xo) + d(h.ca(this.cg.Xo)),this.cg.Xo);};b.Lr=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YHa="PlatformConfigOverridesSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,l,g,h,d,f;b=a(52);c=a(318);l=a(654);g=a(316);h=a(208);d=a(659);f=a(321);a=b(c(["filter"],d,function(n,k){return g(k)?h(function(m,p){n(k[p]) && (m[p]=k[p]);return m;},{},f(k)):l(n,k);}));r.exports=a;},function(r,b,a){var c,l;c=a(319);l=a(653);r.exports=function(g,h,d){return function(){var f,n;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);n=f.pop();if(!c(n)){for(var k=0;k < g.length;){if("function" === typeof n[g[k]])return n[g[k]].apply(n,f);k+=1;}if(l(n))return h.apply(null,f)(n);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={oa:function(){return this.PX["@@transducer/init"]();},result:function(b){return this.PX["@@transducer/result"](b);}};},function(r,b,a){var c,l,g,h,d;b=a(121);c=a(207);l=a(660);g=!({toString:null}).propertyIsEnumerable("toString");h=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var n,k,m,p;if(Object(f) !== f)return [];n=[];k=d && l(f);for(m in f){!c(m,f) || k && "length" === m || (n[n.length]=m);}if(g)for(k=h.length - 1;0 <= k;){m=h[k];if(p=c(m,f)){a:{for(p=0;p < n.length;){if(n[p] === m){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (n[n.length]=m);--k;}return n;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=Array(l);c < l;){g[c]=b(a[c]);c+=1;}return g;};},function(r,b,a){var c,l,g;c=a(209);l=a(121);b=a(52);g=a(663);a=b(function(h,d){return 1 === h?l(d):c(h,g(h,[],d));});r.exports=a;},function(r){r.exports=function(b,a,c){for(var l=0,g=c.length;l < g;){if(b(a,c[l]))return !0;l+=1;}return !1;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KAa="DrmDataFactorySymbol";},function(r,b,a){var l;function c(g,h,d,f,n){this.version=g;this.oG=h;this.tva=d;this.Sk=f;this.Dt=n;this.jk=new l.xDa(g,h,d,f,n);this.ul=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Cba=void 0;l=a(687);c.prototype.load=function(g){var h;h=this;return this.jk.load(g).then(function(){var d;h.ul=null !== (d=h.jk.ul) && void 0 !== d?d:[];});};c.prototype.add=function(g){this.ul.push(g);return this.jk.set(this.ul);};c.prototype.remove=function(g,h){g=this.aXa(this.FK(g,h));return 0 <= g?(this.ul.splice(g,1),this.jk.set(this.ul)):Promise.resolve();};c.prototype.update=function(g,h){h=this.aXa(this.FK(g,h));return 0 <= h?(this.ul[h]=g,this.jk.set(this.ul)):Promise.resolve();};c.prototype.FK=function(g,h){for(var d=0;d < this.ul.length;++d){if(h(this.ul[d],g))return this.ul[d];}};c.prototype.aXa=function(g){return g?this.ul.indexOf(g):-1;};b.Cba=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fMa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.MBa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.dIa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sD=void 0;r=b.sD || (b.sD={});r[r.Request=0]="Request";r[r.CJa=1]="Renewal";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.A_=void 0;a.zKb=function(c){return "ID" + (c + 1);};a.J$a=function(c){return Number(c.substr(2)) - 1;};b.A_=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u;function c(y,x,z,A,B,C){var D;D=this;this.Ea=x;this.nA=z;this.config=A;this.lo=B;this.KB=C;this.keyStatuses=new p.Fb({});this.Yqa=function(E){var G,F,H,K,O,I;try{F=D.Zk.Uia(E);H=F.$F;K=F.messageType;O=F.sessionId;D.nv=D.nv || F.nv;D.xW(O);D.log.trace("Received " + E.type + " event",{sessionId:O,messageType:K,keyIds:D.nv});if(K === b.aca){if(D.config.Ija){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.ff=h.xh.em;D.ho=t.EG;}D.ho === t.Og && D.Ro(d.Fr.b7a);D.ho === t.EG && D.Ro(d.Fr.c7a);I={kj:H,tRa:K,ff:D.ff};null === (G=D.w4a) || void 0 === G?void 0:G.call(D,I);D.iU && (D.Zma(H)?D.vB(new m.Jc(g.V.bBa)):(D.iU.resolve(I),D.iU=void 0));}catch(P){D.vB(P);}};this.Wqa=function(E){var G,F,H,K,O,N,J,L,R,ka,la,X,Ba,Ja,Va,Ta,T;F=E.target;H=F.keyStatuses;D.xW(F.sessionId);D.log.trace("Received event: " + E.type);try{O=null === (G=D.context) || void 0 === G?void 0:G.M5;E=[];for(var I=ma(H),P=I.next();!P.done;P=I.next()){N=ma(P.value);J=N.next().value;L=N.next().value;R=D.nA.encode(new Uint8Array(J));E.push({Wn:R,status:L,height:null === O || void 0 === O?void 0:O[R]});}E.sort(function(aa,Q){return (aa.height || 0) - (Q.height || 0);});ka=E.map(function(aa){return aa.Wn;});la=E.map(function(aa){return aa.height;});X=E.map(function(aa){return aa.status;});D.Boa=ka + ", " + la + ", " + X;D.log.trace("KeyStatus: " + D.Boa);O={};for(var da=ma(H),ta=da.next();!ta.done;ta=da.next()){Ba=ma(ta.value);Ja=Ba.next().value;Va=Ba.next().value;Ta=D.nA.encode(new Uint8Array(Ja));T=w[Va];O[Ta]=T.status;D.JF(Ta,T.error) && (K=new n.Gg(T.error));}D.keyStatuses.set(O);}catch(aa){K=new n.Gg(g.V.qjb);K.YR(aa);}K?D.Oq?D.G5(K):D.$T(K):(D.Zk.q2() || D.E0a(),D.ff !== h.xh.bn || D.Zk.hha() || (D.config.Ija?D.log.trace("Disabling license renewal"):D.iXb()));};this.xp=function(E){var G;G=D.Zk.yx(E);D.log.error("Received event: " + E.type,G);D.vB(G);D.G5(G);D.kp || D.Oq || D.$T(G);};this.ERb=function(E){D.log.error("MediaKeySession closed unexpectedly: " + E);D.$T(new m.Jc(g.V.cba,u[E]));};this.vB=function(E){var G;D.kp && D.close().then(function(){var F;D.log.trace("Issuing a generate challenge error");null === (F=D.kp) || void 0 === F?void 0:F.reject(E);D.kp=void 0;},function(F){var H;D.log.error("EmeSession closed with an error.",D.Zk.yx(F));null === (H=D.kp) || void 0 === H?void 0:H.reject(E);D.kp=void 0;});null === (G=D.iU) || void 0 === G?void 0:G.reject(E);};this.qMb=function(){var E;null === (E=D.kp) || void 0 === E?void 0:E.resolve();D.kp=void 0;};this.G5=function(E){D.log.error("Failed to add license",E);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.kp=void 0;null === (G=D.Oq) || void 0 === G?void 0:G.reject(E);D.Oq=void 0;},function(G){var F;D.log.error("EmeSession closed with an error.",D.Zk.yx(G));D.ho === t.EG && D.Ro(d.Fr.lPa);D.kp=void 0;null === (F=D.Oq) || void 0 === F?void 0:F.reject(E);D.Oq=void 0;}).then(function(){throw E;});};this.E0a=function(){D.Oq && (D.log.info("Successfully added license"),D.ho === t.Og?D.Ro(d.Fr.ePa):D.ho === t.EG && D.Ro(d.Fr.kPa),D.Oq.resolve(),D.Oq=void 0);};this.$T=function(E){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.kp=void 0;D.Oq=void 0;null === (G=D.t4a) || void 0 === G?void 0:G.call(D,E);},function(G){var F;D.log.error("EmeSession closed with an error.",D.Zk.yx(G));D.kp=void 0;D.Oq=void 0;null === (F=D.t4a) || void 0 === F?void 0:F.call(D,E);});};this.Ro=function(E){D.Oc.push({time:D.Ea.Db(),LU:E});};this.D7a=!1;this.log=y.Sa("EmeSession");this.ho=t.h3b;this.hh=C.USa();this.Zk=C.TSa();this.Oc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=b.aca=b.bca=void 0;l=a(3);g=a(2);h=a(57);d=a(331);r=a(217);f=a(328);n=a(95);k=a(63);m=a(34);p=a(70);q=a(332);v=a(41);(function(y){y[y.h3b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Og=3]="license";y[y.EG=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.bca="license-request";b.aca="license-renewal";w={usable:{status:r.Rt.Rbb},expired:{status:r.Rt.Bs,error:g.V.Bca},released:{status:r.Rt.released},"output-not-allowed":{status:r.Rt.N4a,error:g.V.OGa},"output-restricted":{status:r.Rt.N4a,error:g.V.Cca},"output-downscaled":{status:r.Rt.DSb},"status-pending":{status:r.Rt.A0b},"internal-error":{status:r.Rt.cLb,error:g.V.pjb}};u={"internal-error":g.R.fgb,"closed-by-application":g.R.bgb,"release-acknowledged":g.R.jgb,"hardware-context-reset":g.R.aba,"resource-evicted":g.R.lgb};c.prototype.MK=function(){return this.KB.N5;};c.prototype.QXa=function(){return this.Boa;};c.prototype.Mx=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.w4a=this.context=void 0;this.ho=t.closed;this.Oc=[];void 0 !== this.z8 && (mb.clearTimeout(this.z8),this.z8=void 0);return this.hh.aMb()?(this.log.trace("Closing the session"),this.hh.v7a(this.Yqa),this.hh.s7a(this.Wqa),this.hh.q7a(this.xp),this.mediaKeys=void 0,this.lo.Lp(this.config.HPa,this.hh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.Zk.yx(x).code=g.V.sjb;throw x;})):Promise.resolve(void 0);};c.prototype.Js=function(){return this.KB.Js();};c.prototype.tZa=function(){return void 0 !== this.Hk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.ff=x;this.ho=t.create;this.Ro(d.Fr.r1a);return (y.vZa()?Promise.resolve():this.lo.Lp(this.config.IPa,this.hh.createMediaKeys(this.KB)).then(function(B){A.log.trace("Created media keys");return A.Mqb(B).then(function(){return y.fPa(B);}).catch(function(C){return Promise.reject(A.wsa(C,g.V.mgb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.hh.createSession(A.mediaKeys,v.TEMPORARY);A.hh.gPa(A.Yqa);A.hh.cPa(A.Wqa);A.hh.aPa(A.xp);A.hh.Bpb(A.ERb);A.xW(A.hh.Mx());}catch(B){return Promise.reject(A.wsa(B,g.V.cgb));}}).catch(function(B){return Promise.reject(A.wsa(B,g.V.zO));});};c.prototype.MZb=function(y){this.ki=y;this.log.YOa("xid",y.ja);};c.prototype.NEb=function(y,x){var z;z=this;return this.generateRequest(y,x).then(function(){z.log.trace("Returning the challenge promise");return z.iU.promise;});};c.prototype.OEb=function(y,x){this.generateRequest(y,x);return this.kp.promise;};c.prototype.dPa=function(y){this.de=y.de;y=y.Hk.map(function(x){return x.data;});this.Zma(y)?(this.log.error("The license buffer is empty"),this.vB(new n.Gg(g.V.aBa,g.R.ZAa))):(this.ho === t.Og && (this.Ro(d.Fr.a7a),this.Hk=y,this.DUa=this.Zk.KK(this.nv,y),this.qMb()),this.ho === t.EG && (this.Ro(d.Fr.d7a),this.Hk=y,this.DUa=this.Zk.KK(this.nv,y),this.Tga()));};c.prototype.Lpb=function(y){this.ho === t.EG?(this.Ro(d.Fr.e7a),this.$T(y)):this.vB(y);};c.prototype.Tga=function(){var y,x;y=this;if(!this.Hk)return this.G5(new n.Gg(g.V.aBa,g.R.dBa));this.Oq=new q.rP();x=this.Hk;this.Hk=void 0;this.lo.Lp(this.config.LPa,this.hh.update(x,this.ho === t.Og?f.sD.Request:f.sD.CJa,this.nv)).then(function(){y.Zk.q2() && y.E0a();}).catch(function(z){z=y.Zk.yx(z);z.code=g.V.d_;z.message="Unable to update the EME";y.log.error(z.message,z);y.G5(z);});return this.Oq.promise;};c.prototype.HZb=function(y){this.w4a=y;};c.prototype.BZb=function(y){this.t4a=y;};c.prototype.KK=function(){return this.DUa;};c.prototype.generateRequest=function(y,x){var z;z=this;this.ho=t.Og;this.log.trace("Generating a license challenge");this.kp=new q.rP();this.iU=new q.rP();return y?this.Zma(y)?(y=new n.Gg(g.V.$Aa,g.R.ZAa),this.vB(y),Promise.reject(y)):this.lo.Lp(this.config.v1,this.hh.generateRequest(this.Zk.Tla(),y,x)).then(function(){z.xW(z.hh.Mx());}).catch(function(A){var B,C;B=new n.Gg(g.V.HY,A instanceof k.Xp?g.R.AO:g.R.cl);try{C=z.Zk.yx(A);B.Lc=C.Lc;B.message="Unable to generate request.";B.YR(A);}catch(D){}z.log.error("Unable to generate a license request",B);z.vB(B);return Promise.reject(B);}):(y=new n.Gg(g.V.$Aa,g.R.dBa),this.vB(y),Promise.reject(y));};c.prototype.Mqb=function(y){return this.lo.Lp(this.config.KPa,this.hh.setServerCertificate(y,this.Zk.e4()));};c.prototype.xW=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.YOa("sessionId",y));};c.prototype.iXb=function(){var y;y=this;this.D7a || (this.D7a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.zB}),this.z8=mb.setTimeout(function(){y.z8=void 0;y.DG();},this.config.zB.ca(l.na)));};c.prototype.hMb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.M5) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.JF=function(y,x){return x === g.V.Cca?this.hMb(y)?this.config.P4a:this.config.O4a:!!x;};c.prototype.DG=function(){this.log.trace("Initiating a renewal request");this.ff=h.xh.em;this.ho=t.EG;this.Zk.Sha()?this.Zk.Sna(this.hh):this.H2();};c.prototype.H2=function(){var y;y=this;this.hh.H2(this.mediaKeys,v.TEMPORARY,this.Yqa,this.Wqa,this.xp).then(function(){y.log.debug("Creating session to renew license");y.xW(y.hh.Mx());}).catch(function(){y.$T(new n.Gg(g.V.HY));});};c.prototype.Zma=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.wsa=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.cc))return y;A=(0,v.hma)(null === y || void 0 === y?void 0:y.message);return new n.Gg(x,y instanceof k.Xp?g.R.AO:g.R.cl,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.rBa=c;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.EUa=b.Fr=void 0;(function(c){c[c.r1a=0]="licenseStarted";c[c.b7a=1]="receivedLicenseChallenge";c[c.a7a=2]="receivedLicense";c[c.c7a=3]="receivedRenewalChallengeComplete";c[c.d7a=4]="receivedRenewalLicenseComplete";c[c.e7a=5]="receivedRenewalLicenseFailed";c[c.gWb=6]="receivedIndivChallengeComplete";c[c.hWb=7]="receivedIndivLicenseComplete";c[c.ePa=8]="addLicenseComplete";c[c.kPa=9]="addRenewalLicenseComplete";c[c.lPa=10]="addRenewalLicenseFailed";})(a=b.Fr || (b.Fr={}));b.EUa=function(c){switch(c){case a.r1a:return "lg";case a.b7a:return "lc";case a.a7a:return "lr";case a.c7a:return "renew_lc";case a.d7a:return "renew_lr";case a.e7a:return "renew_lr_failed";case a.gWb:return "ilc";case a.hWb:return "ilr";case a.ePa:return "ld";case a.kPa:return "renew_ld";case a.lPa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rP=void 0;b.rP=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yFa="MediaKeySystemAccessInternalFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VDa="KeySystemProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mda="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hGa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MAa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gza="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zGa="OneWayCounterFactorySymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qaa=void 0;r=a(0);a=a(1);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(h){for(var d=new Uint8Array(h.length / 2),f=0;f < d.length;f++){d[f]=this.Hab(h.substr(2 * f,2));}return d;};c.prototype.encode=function(h){var k;for(var d="",f=h.length,n=0;n < f;n++){k=h[n];d+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return d;};c.prototype.eF=function(h,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[h & 15] || "0") + f;h>>>=4;}return f;};c.prototype.Hab=function(h){var d;d=h.length;if(7 < d)throw Error("hex to long");for(var f=0,n=0;n < d;n++){f=16 * f + l[h[n]];}return f;};g=c;g=r.__decorate([(0,a.U)()],g);b.qaa=g;},function(r,b,a){var l,g;function c(){this.jp={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Vi=void 0;r=a(0);a=a(1);c.prototype.addListener=function(h,d,f){var n,k;n="$netflix$player$order" + this.id + "$" + h;if(this.jp){k=this.jp[h]?this.jp[h].slice():[];f && (d[n]=f);0 > k.indexOf(d) && (k.push(d),k.sort(function(m,p){return (m[n] || 0) - (p[n] || 0);}));this.jp[h]=k;}};c.prototype.removeListener=function(h,d){if(this.jp && this.jp[h]){for(var f=this.jp[h].slice(),n;0 <= (n=f.indexOf(d));){f.splice(n,1);}this.jp[h]=f;}};c.prototype.zc=function(h,d,f){var n;if(this.jp){n=this.Nla(h);for(h={JH:0};h.JH < n.length;(h={JH:h.JH},h.JH++)){f?(function(k){return function(){var m;m=n[k.JH];setTimeout(function(){m(d);},0);};})(h)():n[h.JH].call(this,d);}}};c.prototype.jh=function(){this.jp=void 0;};c.prototype.on=function(h,d,f){this.addListener(h,d,f);};c.prototype.Nla=function(h){var d;return null !== (d=this.jp && (this.jp[h] || (this.jp[h]=[]))) && void 0 !== d?d:[];};g=l=c;g.counter=0;g=l=r.__decorate([(0,a.U)()],g);b.Vi=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xza="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uaa="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mca=b.lib=void 0;b.lib=function(){};b.mca="MseConfigSymbol";},function(r,b,a){var l;function c(g){this.Imb=void 0 === g?!1:g;this.Pe={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.jda=void 0;r=a(0);a=a(1);c.prototype.add=function(g,h){var d;h=void 0 === h?0:h;d=this.Pe[h];d?this.Imb && -1 !== d.indexOf(g) || d.push(g):this.Pe[h]=[g];};c.prototype.remove=function(g,h){this.Zw(g,void 0 === h?0:h);};c.prototype.removeAll=function(g){this.Zw(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.Pe).sort().reduce(function(h,d){return h.concat(g.Pe[d]);},[]);};c.prototype.Zw=function(g,h){Object.entries(this.Pe).forEach(function(d){var f,n;f=ma(d);d=f.next().value;f=f.next().value;if(void 0 === h || h === parseInt(d)){-1 < (n=f.indexOf(g)) && f.splice(n,1);}});};l=c;l=r.__decorate([(0,a.U)()],l);b.jda=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ILa="UrlFactorySymbol";},function(r,b,a){var l,g,h;function c(d,f,n,k,m,p,q){this.debug=d;this.config=f;this.platform=n;this.x6=k;this.debug.assert(m && m != g.V.Co,"There should always be a specific error code");this.errorCode=m || g.V.Co;p && "object" === typeof p?(this.za=p.za || p.cc,this.Ve=p.Ve || p.Lc,this.jka=p.jka || p.Dm,this.Ib=p.Ib || p.details,this.bS=p.oj,this.r3=p.r3 || p.Tdc || p.oy,this.LA=p.LA || p.data,p.IU && (this.IU=p.IU),this.yl=p.yl,this.method=p.method,this.W6=p.W6,this.alert=p.alert,this.Fga=p.Fga,this.AF=p.AF,!this.Ib && this.AF && (this.Ib=JSON.stringify(this.AF)),this.debug.assert(!this.yl || this.yl == this.Ve)):(this.za=p,this.Ve=q);this.stack=[this.errorCode];this.za?this.stack.push(this.za):this.Ve && this.stack.push(g.R.Co);this.Ve && this.stack.push(this.Ve);this.c3=this.platform.tq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.DIa=void 0;l=a(16);g=a(2);h=a(14);a(22);c.prototype.r9a=function(d){this.UTb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.c3 + "]";this.Ib && (d+=" " + this.Ib);this.bS && (d+=" (CustomMessage: " + this.bS + ")");return d;};c.prototype.kX=function(){var d,f,n,k;this.bS && (n=["streaming_error"]);n || this.x6.Js() !== l.GY || ("80080017" == this.Ve && (n=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ve && (n=["pause_timeout"]));n || this.x6.Js() !== l.$aa || this.errorCode !== g.V.YAa && this.errorCode !== g.V.zO || (n=["no_cdm","platform_error","plugin_error"]);n || this.errorCode !== g.V.cba || this.za !== g.R.aba || (n=["pause_timeout"]);this.r3 === g.SZ.Uda && (this.bia("2018") || this.bia("2020")?n=["received_soad"]:this.bia("5000") && (n=["should_reset_device"]));k=this.uFb();k && (n=[k],this.bS=void 0);if(!n)switch(this.errorCode){case g.V.c_:case g.V.KZ:case g.V.wdb:case g.V.Bca:this.UTb && (n=["pause_timeout"]);break;case g.V.qDa:case g.V.rDa:n=this.za?["platform_error"]:["multiple_tabs"];break;case g.V.Aba:case g.V.SGa:case g.V.Dca:case g.V.MGa:n=["platform_error","plugin_error"];break;case g.V.lP:n=["no_cdm","platform_error","plugin_error"];break;case g.V.eBa:case g.V.Wp:case g.V.d_:switch(this.Ve){case "FFFFD000":n=["device_needs_service","platform_error"];break;case "48444350":n=["unsupported_output","platform_error"];break;case "00000024":n=["private_mode"];}break;case g.V.OGa:case g.V.Cca:n=["unsupported_output"];}!n && (0,g.ABa)(this.za) && (n=this.za == g.R.JO?["geo"]:["internet_connection_problem"]);n || this.errorCode !== g.V.zO || this.za !== g.R.cl || "S" !== this.platform.tq || (n=["private_mode"]);if(!n)switch(this.M$a(this.za)){case g.R.$da:n=["should_upgrade"];break;case g.R.HGa:n=["should_reset_device"];break;case g.R.GGa:n=["should_reload_device"];break;case g.R.FGa:n=["should_exit_device"];break;case g.R.mib:case g.R.WEa:n=["should_signout_and_signin"];break;case g.R.nib:n=["internet_connection_problem"];break;case g.R.bAa:n=["platform_error","plugin_error"];break;case g.R.jfb:case g.R.$Ca:case g.R.aDa:n=["private_mode"];break;case g.R.Zba:n=["should_reload_with_preferred_locales"];}n=n || [];n.push(this.platform.tq + this.errorCode);if(this.za)switch(this.M$a(this.za)){case g.R.IGa:n.push("incorrect_pin");break;default:n.push("" + this.za);}n={display:{code:this.c3,text:this.bS},messageIdList:n,alert:this.alert,alertTag:this.Fga,preferredAudioLocale:null === (d=this.AF) || void 0 === d?void 0:d.VZa,preferredTextLocale:null === (f=this.AF) || void 0 === f?void 0:f.WZa};this.config().GCb && (n.debugData=this.LA);return n;};c.prototype.M$a=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.bia=function(d){return ((0,h.sb)(this.Ve)?this.Ve.toString():(0,h.rg)(this.Ve)?this.Ve:"").endsWith(d);};c.prototype.uFb=function(){if(this.errorCode === g.V.bI && (this.za === g.R.yca || this.za === g.R.EGa))return this.vFb(this.za === g.R.yca);};c.prototype.vFb=function(d){var f,n,k,m;k=this.config().browserInfo || ({});m=null === (f=k.os) || void 0 === f?void 0:f.name;f=((null === (n=k.os) || void 0 === n?void 0:n.version) || "").split(".");n=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(m){case "windows":return 6 > n || 6 === n && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > n || 10 === n && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.DIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gca="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BO="EventSourceFactorySymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BO=b.EBa=void 0;r=a(0);l=a(342);a=a(1);c.prototype.create=function(){return new l.Vi();};g=c;g=r.__decorate([(0,a.U)()],g);b.EBa=g;b.BO="EventSourceFactorySymbol";},function(r,b,a){var l;function c(g,h,d,f,n,k){this.level=g;this.Cn=h;this.timestamp=d;this.message=f;this.Fc=n;this.index=void 0 === k?0:k;this.Fhb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Rba=void 0;l=a(3);c.prototype.X9=function(g,h){var d;d="" + this.message;this.Fc.forEach(function(f){d+=f.pH(g,h);});return (this.timestamp.ca(l.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Fhb[this.level] || this.level) + "|" + this.Cn + "| " + d;};b.Rba=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TFa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jKa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oIa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WLa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sLa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BAa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qHa="PboGenerateScreenshotsCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vCa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GIa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ida="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WO="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HCa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QCa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LCa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,g){a=new a(c.length);for(var h="function" === typeof l,d=0;d < c.length;++d){a[d]=h?l.call(g,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){var h;h=null !== l && l.apply(this,arguments) || this;h.dF=1536;return h;}c.__extends(g,l);g.Mc=!0;return g;})(a(174).default);b.default=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="ac-3";return g;})(r);b.edb=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.ze="ec-3";return g;})(r);b.agb=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(100);r=a(23);g=l.pca;r=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.parse=function(){this.Eg();this.fileSize=this.M.gk();this.T=this.M.gk();this.duration=this.M.gk(!1,!0);this.oRb=this.M.gk();this.M.gk();this.sRb=this.M.gk();this.zQb=this.M.Ub();this.pRb=this.M.gk();this.SDb=this.M.Ub();this.M.r8();this.Nk={moof:{offset:this.oRb},sidx:{offset:this.pRb,size:this.SDb}};this.Nk[l.$Fa]={offset:this.sRb,size:this.zQb};this.M.offset - this.startOffset <= this.length - 24 && (this.rRb=this.M.gk(),this.pQb=this.M.Ub(),this.qRb=this.M.gk(),this.oQb=this.M.Ub(),this.Nk[l.VZ]={offset:this.rRb,size:this.pQb},this.Nk[l.UZ]={offset:this.qRb,size:this.oQb});return !0;};d.ze=g;d.Mc=!1;return d;})(r.zf);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(100);a=a(23);l=r.qca;a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){var d,k,m;this.Eg();1 <= this.version && this.M.r8();d=this.M.Ub();this.Nk={};for(var f=this.startOffset + this.length,n=0;n < d;++n){k=this.M.Dy();"uuid" === k && (k=this.M.r8());m=this.M.gk();this.Nk[k]={offset:f,size:m};f+=m;}return !0;};h.ze=l;h.Mc=!1;return h;})(a.zf);b.default=a;},function(r,b){var a,c,l;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,w9:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,w9:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,w9:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,w9:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.mR={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(23);g=a(87);r=(function(h){function d(f,n,k,m,p){k=h.call(this,k,m,p) || this;k.psb=f;k.kN=n;k.yd={};return k;}c.__extends(d,h);d.prototype.parse=function(f){var n,k,m,p,q,v;this.offset=0;n=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;m=this.Ub();if(0 === m)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=g.II(this.Ub());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.r8();}if(0 === n.length && this.kN.uWa(p,k,m))break;if(k + m > this.view.byteLength)break;q=this.psb[p];v=void 0;if(q){if((v=new q(this,p,k,m,n[0]),(n[0] || this).$Q(v),v.parse(f)))this.config.yra && q.Mc?n.unshift(v):this.offset=k + m;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + m;for(;n.length && this.offset > n[0].byteOffset + n[0].lG - 8;){v=n.shift();if(!v.CS(f))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.lG;}if(0 === n.length && this.kN.rUa(p,k,m,v))break;}return !this.kN.done && (f=this.kN.endOffset?this.kN.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,F3a:f}:{done:!0,offset:Math.min(this.kN.endOffset || Infinity,this.offset)};};d.prototype.$Q=function(f){l.zf.$Q(this,f);};return d;})(a(804).Tkb);b.taa=r;},function(r,b,a){var l;function c(g,h){g=h.indexOf(g);-1 !== g && h.splice(g,1);}Object.defineProperty(b,"__esModule",{value:!0});l=a(100);r=(function(){function g(h){this.endOffset=h;this.done=!1;}g.prototype.uWa=function(){return this.done;};g.prototype.rUa=function(h,d,f){return this.done=d + f >= this.endOffset;};return g;})();b.sAa=r;r=(function(){function g(h,d,f,n){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === n && (n=!1);this.ut=h;this.W2=d;this.hab=f;this.zra=n;this.done=!1;this.Nk={};}g.prototype.uWa=function(h,d,f){-1 !== g.zJb.indexOf(h) && (this.Nk[h]={offset:d,size:f});if(-1 !== this.hab.indexOf(h)){if((this.Nk[h]={offset:d,size:f},this.zra))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.ut && -1 !== this.ut.indexOf(h)?(h=1 < this.ut.length?4096:0,this.endOffset=Math.max(d + f + h,this.endOffset || 0)):-1 !== this.W2.indexOf(h) && (h=this.ut?4096:0,this.endOffset=Math.max(d + f + h,this.endOffset || 0));return this.done;};g.prototype.rUa=function(h,d,f,n){var k;k=this;if(-1 !== this.hab.indexOf(h))return this.done=!0;h === l.pca && this.u9a(n.Nk);h === l.qca && this.u9a(n.Nk);this.ut && c(h,this.ut);c(h,this.W2);return this.ut && 0 === this.ut.length && !this.W2.some(function(m){return k.Nk[m];})?this.done=!0:this.done;};g.prototype.u9a=function(h){var d;d=this;this.Nk=h;this.endOffset=(this.ut || []).concat(this.W2).reduce(function(f,n){return d.Nk[n]?(n=d.Nk[n],Math.max(n.offset + (n.size || 4096),f)):f;},this.endOffset || 0);};g.zJb=["moov","sidx"];return g;})();b.Ngb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xCa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zza="CdnPartitionerSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vaa=void 0;l=a(40);c.rq=function(){var g;g={};return (g[l.pd.RC]="mp4a.40.2",g[l.pd.nZ]="mp4a.40.2",g[l.pd.SC]="mp4a.40.2",g[l.pd.Mw]="mp4a.40.42",g[l.pd.tO]="ec-3",g[l.pd.nY]="ec-3",g[l.pd.uO]="ec-3",g);};b.Vaa=c;},function(r,b,a){var l;function c(g){var h;h={profile:g.spoofedProfile || g.profile,W3:g.max_framerate_value,V3:g.max_framerate_scale,maxWidth:g.maxWidth,maxHeight:g.maxHeight,Nra:g.pixelAspectX,Ora:g.pixelAspectY,channels:g.channels,sampleRate:g.channels?48E3:void 0};g.spoofedProfile && (h.gec=g.profile);return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.XGb=b.eYa=void 0;l=a(7);b.eYa=function(g,h,d){var f;f=[{},{}];(d === l.v.ga?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(n,k){g[n].some(function(m,p){return p === h[k]?(f[k]=c(m),!0):!1;});});return f;};b.XGb=c;},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.yc=b.Kq=void 0;(function(c){c[c.zo=0]="STOPPED";c[c.ie=1]="BUFFERING";c[c.Kj=2]="REBUFFERING";c[c.jl=3]="STREAMING";c[c.xP=4]="TRACK_SWITCH";})(a || (a={}));b.yc=a;b.Kq=function(c){return c === a.ie || c === a.Kj || c === a.xP;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gD=void 0;b.gD={Xj:function(a){return a;}};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fu=b.tI=void 0;c=a(379);(function(g){g[g.tM=0]="primary";g[g.$E=1]="fallback";})(l=b.tI || (b.tI={}));r=(function(){function g(h,d){var f,n;void 0 === d && (d=!1);n=this;this.Btb=d;this.filters=(f={},f[l.tM]=[],f[l.$E]=[],f);Array.isArray(h)?h.forEach(function(k){return n.and(k,l.tM);}):this.and(h);}g.prototype.and=function(h,d){void 0 === d && (d=l.tM);h !== c.gD && this.filters[d].push({filter:h,zSa:!0});return this;};g.prototype.or=function(h,d){void 0 === d && (d=l.tM);this.filters[d].push({filter:h,zSa:!1});return this;};g.prototype.filter=function(h){var d;d=this;[l.tM,l.$E].forEach(function(f){d.filters[f]=d.filters[f].filter(function(n){return h(f,n.filter);});});};g.prototype.Xj=function(h,d,f,n){var k;k=this;return [l.tM,l.$E].reduce(function(m,p){return k.filters[p].reduce(function(q,v){v.zSa?q=v.filter.Xj(q,d,f,n):0 === q.length && (q=v.filter.Xj(h,d,f,n));return q;},m);},h);};return g;})();b.fu=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$O=void 0;c=a(9);l=a(66);r=(function(){function g(h,d){this.console=h;this.config=d;this.Bwa=!1;}g.prototype.Xj=function(h,d,f,n){void 0 === f && (f=l.N.Ia);void 0 === n && (n=!1);c.I && this.console.trace("Filtering streams for fastplay",{Bwa:this.Bwa,pq:f.G,$cc:n});if(this.Bwa || f.G >= this.config.LOb || !1 === n){d=h.filter(this.GAb);if(d.length)return d;c.I && this.console.trace("No drm streams to return");}d=h.filter(this.Fub);if(d.length)return d;c.I && this.console.trace("No clear streams to return");return h;};g.prototype.GAb=function(h){return h.ai;};g.prototype.Fub=function(h){return !h.ai;};return g;})();b.$O=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cw=b.Xjb=void 0;c=a(0);l=a(241);r=(function(){function g(h,d){this.Pa=h;this.Px=d?[d]:[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});g.prototype.addListener=function(h){-1 === this.Px.indexOf(h) && (this.Px=this.Px.slice(),this.Px.push(h));};g.prototype.removeListener=function(h){h=this.Px.indexOf(h);-1 !== h && (this.Px=this.Px.slice(),this.Px.splice(h,1));};return g;})();b.Xjb=r;r=(function(g){function h(d,f){return g.call(this,d,f) || this;}c.__extends(h,g);h.h5b=function(d,f,n){return new l.vca(d,f,n,!1);};Object.defineProperties(h.prototype,{value:{get:function(){return this.Pa;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});h.prototype.set=function(d){var f;f=this.Pa;f !== d && (this.Pa=d,this.Px.forEach(function(n){return n({oldValue:f,newValue:d});}));};return h;})(r);b.Cw=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QA=void 0;b.QA=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PDa=void 0;c=a(0);l=a(21);g=a(4);a(145);h=c.__importDefault(a(5));d=a(175);f=a(146);r=(function(n){function k(m,p,q){p=n.call(this,p,q) || this;p.AYb=m;p.cfa=!1;p.J0=!1;p.reset();return p;}c.__extends(k,n);k.prototype.reset=function(){var m,p;if(this.wc === d.tk.O8 || this.wc === d.tk.pending)null === (p=null === (m=this.KI) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m);n.prototype.reset.call(this);this.KI=this.AYb();this.J0=!1;this.pQ=f.yh.GC(l.N.Ia);};k.prototype.Mf=function(){this.reset();(0,g.assert)(this.vn);this.vn.Hta(this);};k.prototype.b7=function(){return this.pQ;};k.prototype.sf=function(){var m,p,q,v,t;try{this.cfa=!0;t=null !== (p=null === (m=this.KI) || void 0 === m?void 0:m.next()) && void 0 !== p?p:{done:!0};}finally{this.cfa=!1;this.Mmb=h.default.time.Ca();this.dub();}t.done?(this.pQ=f.yh.Swa,null === (v=null === (q=this.KI) || void 0 === q?void 0:q.return) || void 0 === v?void 0:v.call(q),this.KI=void 0):this.pQ=t.value;};k.prototype.dub=function(){this.J0 && this.eUa();};k.prototype.eUa=function(){var m,p;this.cfa?this.J0=!0:(this.J0=!1,null === (p=null === (m=this.KI) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.KI=void 0);};k.prototype.Ra=function(){this.eUa();n.prototype.Ra.call(this);};k.prototype.bv=function(){return {state:d.tk[this.state],nextWakeup:{ms:this.pQ.timestamp.G,type:f.B_[this.pQ.type]},lastRunMono:this.Mmb};};return k;})(d.Qda);b.PDa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vKa=void 0;c=a(0);l=a(175);g=a(146);r=(function(h){function d(f,n,k,m){void 0 === m && (m={});k=h.call(this,k) || this;k.bua=f;k.qs=n;k.options=m;return k;}c.__extends(d,h);d.prototype.b7=function(){return this.wc === l.tk.pending?this.bua:g.yh.Swa;};d.prototype.sf=function(){this.qs();};d.prototype.Mf=function(){this.options.hfc?(h.prototype.reset.call(this),this.vn.Hta(this)):this.Ra();};return d;})(l.Qda);b.vKa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mIa=void 0;c=a(0);r=(function(l){function g(h,d){h=l.call(this,h) || this;h.tVa=d;h.name="PlaybackError";return h;}c.__extends(g,l);g.VLb=function(h){return h && h.message && h.stack && h.tVa?"PlaybackError" === (null === h || void 0 === h?void 0:h.name):!1;};return g;})(Error);b.mIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pc=void 0;r=a(0);r.__exportStar(a(388),b);r.__exportStar(a(881),b);r.__exportStar(a(389),b);r.__exportStar(a(882),b);r.__exportStar(a(883),b);r.__exportStar(a(884),b);r.__exportStar(a(390),b);r.__exportStar(a(886),b);r.__exportStar(a(887),b);r.__exportStar(a(392),b);c=a(28);Object.defineProperties(b,{pc:{enumerable:!0,get:function(){return c.pc;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kt=b.eO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.eOb=2]="lowCpuPlaybackStarting";})(b.eO || (b.eO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Kt || (b.Kt={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.am=void 0;r=b.am || (b.am={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.jl=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kLb=b.O_a=void 0;b.O_a=function(a){return ("ttml" in a);};b.kLb=function(a){return ("images" in a);};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(888),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KXb=b.QK=void 0;c=a(0).__importDefault(a(5));l=a(894);b.QK=function(){var h;if(!g){h=new c.default.Console("ASEJS","media|asejs");g=new l.Ixa(h);}return g;};b.KXb=function(){g=void 0;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bea=void 0;c=a(0).__importDefault(a(5));r=(function(){function l(g){this.TM=new Uint16Array(g.length);for(var h=0;h < g.length;++h){this.TM[h]=g.charCodeAt(h);}}l.prototype.encrypt=function(g){for(var h=this.TM.length,d="",f=0;f < g.length;++f){d+=String.fromCharCode(this.TM[f % h] ^ g.charCodeAt(f));}return encodeURIComponent(d);};l.prototype.decrypt=function(g,h){var d,f;void 0 === h && (h=!1);d=this.TM.length;f="";if(h)for((h=new Uint8Array(c.default.M2(g)),g=0);g < h.length;g++){f+=String.fromCharCode(this.TM[g % d] ^ h[g]);}else for((h=decodeURIComponent(g),g=0);g < h.length;g++){f+=String.fromCharCode(this.TM[g % d] ^ h.charCodeAt(g));}return f;};return l;})();b.bea=r;},function(r,b){function a(c){var l,g;l=Math.abs(c);g=1 / (1 + l / 2);l=g * Math.exp(-l * l - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.mCb=b.XZa=b.rK=void 0;b.rK=a;b.XZa=function(c){var l,g,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;g=Math.sqrt(-2 * Math.log(l / 2));g=-.70711 * ((2.30753 + .27061 * g) / (1 + g * (.99229 + .04481 * g)) - g);for(var h=0;2 > h;h++){d=a(g) - l;g+=d / (1.1283791670955126 * Math.exp(-(g * g)) - g * d);}return 1 > c?g:-g;};b.mCb=function(c){return 1 - a(c);};},function(r){function b(a){this.Umb=a;this.TD=[];this.aA=!1;this.Lfa=void 0;this.im={};}b.prototype.mPa=function(a){this.TD.length === this.Umb && this.TD.shift();Array.isArray(a)?this.TD=this.TD.concat(a):this.TD.push(a);this.aA=!0;};b.prototype.lT=function(){return this.TD.length;};b.prototype.FJ=function(a){var c,l,g;if(this.aA || void 0 === this.Lfa)(this.Lfa=this.TD.slice(0).sort(function(h,d){return h - d;}),this.im={},this.aA=!1);if(void 0 === this.im[a]){c=this.Lfa;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;g=(a / 100 * (c.length - 1) + 1) % 1;this.im[a]=l === c.length - 1?c[l]:c[l] + g * (c[l + 1] - c[l]);}return this.im[a];};r.exports=b;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.NH=void 0;c=a(0);l=a(113);g=a(399);h=a(21);d=a(4);f=a(10);n=a(907);k=a(245);m=a(402);p=a(908);r=(function(){function q(v,t,w){this.W=t;this.S=w;this.Pw=new f.sKa();this.I0=0;this.Zn=v.Zn;this.pa=v.pa;this.mediaType=v.mediaType;this.uH=v.uH;this.cE=v.cE;this.mediaType === l.v.Z?(t=this.Zn,w=c.__read(t.streams,1)[0],this.lob=new m.Xda({w:t.maxWidth,op:t.maxHeight},{w:t.Nra,op:t.Ora}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.Qea=k.xI.from({Zs:w.framerate_value,xs:w.framerate_scale}),this.nfa=this.Qea.ba()),void 0 !== t.Rpa && void 0 !== t.Qpa && (this.Tmb=k.xI.from({Zs:t.Rpa,xs:t.Qpa}))):this.mediaType === l.v.ga && (this.wlb=this.Zn.streams[0].channels,this.mob=48E3);this.bb=(this.RI=this.nfa) && this.RI.T;this.mediaType === l.v.Za && (this.bb=1E3);this.Vea=this.WNa=!1;this.kna=-Infinity;this.U1a=Infinity;v=q.Hlb(this,v.wq);t=v.maxBitrate;w=v.Ug;this.Cl=v.Cl;this.maxBitrate=t;this.Ug=w;this.Aob=w.reduce(function(u,y){u[y.Wb]=y;return u;},{});!1;}q.Hlb=function(v,t){var w,u,y,x,z,A,B;w=v.W;u=v.mediaType === l.v.Z;y=!1;x=0;z=[];if(v.mediaType === l.v.ga || v.mediaType === l.v.Z){A=v.Zn;B=A.streams.some(function(C){return C.ai;});A.streams.forEach(function(C,D){var E,G,F;E=C.bitrate;G=!0;if(u){F=C.ai;G=t?!0:F === B;y=y || F;}G && E > x && (x=E);C=new p.jaa({pv:C,zt:D,track:v,Jq:G},w,v.S);z.push(C);});}else v.mediaType === l.v.Za && (A=v.Zn,A=new p.jaa({pv:A.ttDownloadables["imsc1.1"],zt:0,track:v,Jq:!0,L1b:A.downloadableIds["imsc1.1"]},w,v.S),z.push(A));return {Cl:y,maxBitrate:x,Ug:z};};Object.defineProperties(q.prototype,{V6:{get:function(){return !this.Yj && 0 === this.I0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yj:{get:function(){var v;return this.mediaType === l.v.Za?!0:this.ha?!(null === (v=this.Pw.value) || void 0 === v || !v.Yj):!!this.qo && !!this.Pw.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{psa:{get:function(){return this.WNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return String(this.pa.O);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === l.v.Za?this.Zn.id:this.Zn.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vq:{get:function(){return this.hnb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ba:{get:function(){return this.RI;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.Qea;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{o6:{get:function(){return this.Tmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hk:{get:function(){return this.lob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.wlb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.mob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === l.v.Za?this.Zn.rawTrackType:this.Zn.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JW:{get:function(){return this.mediaType === l.v.Za?this.Zn.rawTrackType:this.Zn.JW;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{T:{get:function(){return this.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dG:{get:function(){return this.gnb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qo:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{EF:{get:function(){return this.Pw.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{W3:{get:function(){return this.ba.T;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{V3:{get:function(){return this.ba.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gb:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zka:{get:function(){return this.Pw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HU:{get:function(){return this.Ug.some(function(v){var t;return 1 < ((null === (t=v.Ih) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ha:{get:function(){return this.pa.ha;},enumerable:!1,configurable:!0}});q.prototype.Bma=function(v){return this.vF()[v];};q.prototype.vF=function(){return this.Aob;};q.prototype.equals=function(v){return !!v && this.O === v.O && this.mediaType === v.mediaType && this.trackId === v.trackId;};q.prototype.u7=function(){this.I0++;};q.prototype.t7=function(){0 < this.I0 && this.I0--;};q.prototype.Uqa=function(v,t,w,u,y,x){if(this.ha || u && void 0 !== u.nr && (this.Yj || void 0 !== u.cf && u.cf.length)){if(v.ai || !v.track.Cl)this.WNa=!0;if(this.Yj)!this.Vea && !this.ha && u.cf && u.cf.length > this.qo.length && (this.Ec=new g.Sda(this.mediaType,this.ba,u,y),this.Pw.$7a(),this.kna=-Infinity,this.Vea=!0);else {this.tOa(t);this.hnb=x;if(w=w || this.nfa)(this.sOa(w || this.nfa),void 0 === this.T && this.uOa(w.T));this.ha || (this.Ec=new g.Sda(this.mediaType,this.ba,u,y));if(v.ai || !v.track.Cl)this.Vea=!0;}}else this.ha || this.S && this.S.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.KRb=function(v){void 0 === this.Pw.value && this.Pw.set(v);};q.prototype.Evb=function(v){this.Yj || (this.uOa(v.T),this.tOa(v.dG),this.sOa(v.ba),this.Ec=v.qo,v.Zka.value?this.Pw.set(v.Zka.value):this.Pw.$7a());};q.prototype.Fs=function(v,t,w,u){var y;(0,d.assert)(this.EF);y=this.EF;this.ha && (t=Math.min(t,this.TA().G));return (0,n.Fs)(this.mediaType,v,y,t,w,u);};q.prototype.wK=function(v,t,w){var u,y,x,z;(0,d.assert)(this.EF);y=this.EF;if(this.ha){x=this.pa.X.sj;z=null === x || void 0 === x?void 0:x.w3;x=null !== (u=null === x || void 0 === x?void 0:x.v3) && void 0 !== u?u:0;Infinity === t && z && (t=new Date(z).getTime() - y.Qn().lha + x);}return (0,n.wK)(this.mediaType,v,y,t,w);};q.prototype.Hm=function(){var v;if(this.mediaType === l.v.ga){(0,d.assert)(this.mediaType === l.v.ga);(0,d.assert)(void 0 !== this.channels);(0,d.assert)(void 0 !== this.sampleRate);v={channels:this.channels,profile:this.profile,JW:this.JW,bitrate:this.Ug[this.Ug.length - 1].bitrate,sampleRate:this.sampleRate,Vq:this.Vq};}else ((0,d.assert)(this.mediaType === l.v.Z),(0,d.assert)(void 0 !== this.o6),(0,d.assert)(void 0 !== this.hk),v={K:this.pa.K,Cl:this.Cl,profile:this.profile,W3:this.o6.Zs,V3:this.o6.xs,JW:this.JW,hk:this.hk,maxWidth:this.hk.hk.w,maxHeight:this.hk.hk.op,Nra:this.hk.d5a.w,Ora:this.hk.d5a.op,Vq:this.Vq});return v;};q.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.TA=function(){(0,d.assert)(this.ha,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return h.N.Na(Math.max(0,this.nXa() - this.W.nU));};q.prototype.XXa=function(v){(0,d.assert)(this.ha,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.nXa() - v.G > 1E3 * this.pa.Hl.GNb?"DVR":"LIVE";};q.prototype.nXa=function(){var v;(0,d.assert)(this.ha,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (v=this.EF) && void 0 !== v?v:this.Ug[0]).Qn().yTa;};q.prototype.uOa=function(v){this.bb=v;};q.prototype.tOa=function(v){this.gnb=v;};q.prototype.sOa=function(v){this.RI=v;this.mediaType === l.v.Z && (this.Qea=k.xI.xEb(v));};return q;})();b.NH=r;},function(r,b,a){var l,g,h,d;function c(f){return function(){for(var n=Array(this.length),k=0;k < this.length;++k){n[k]=f.call(this,k);}return n;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Rqb=b.ov=b.Sda=b.qLa=void 0;r=a(0);l=a(4);r=r.__importDefault(a(5));g=a(21);h=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(n,k){this.Ec=n;this.Ud=k;}Object.defineProperties(f.prototype,{index:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return new g.N(this.kb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Wa:{get:function(){return new g.N(this.nb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fd:{get:function(){return new g.N(this.GA,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kb:{get:function(){return this.Ec.Q0 + this.Ec.Zz[this.Ud];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nb:{get:function(){return this.kb + this.Ec.$p[this.Ud];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{GA:{get:function(){return this.Ec.$p[this.Ud];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return this.Ec.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{T:{get:function(){return this.Ec.T;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.kb / this.ba.T,endPts:1E3 * this.nb / this.ba.T,duration:1E3 * this.GA / this.ba.T,index:this.index};};return f;})();b.qLa=d;a=(function(){function f(n,k,m,p){this.mediaType=n;this.length=m.cf.length;this.bb=m.T;this.$p=m.cf;this.o1=p && p.oM;this.uPa=p && p.OM;this.RI=k;this.kwa=this.lwa=this.xNa=void 0;this.Q0=m.nr;this.Zz=new Uint32Array(this.length + 1);if(this.length){for(k=n=0;k < this.length;++k){this.Zz[k]=n;n+=this.$p[k];}this.Zz[k]=n;this.hea=Math.floor((this.Vf - this.gb) / this.length);}}Object.defineProperties(f.prototype,{nr:{get:function(){return this.o$a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fka:{get:function(){return this.o$a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gb:{get:function(){return this.Tl(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vf:{get:function(){return this.Tl(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ag:{get:function(){return new g.N(this.fka,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jpa:{get:function(){return this.xNa || this.tlb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return this.RI;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{T:{get:function(){return this.bb;},enumerable:!1,configurable:!0}});f.prototype.o$a=function(n){return this.Q0 + this.Zz[n];};f.prototype.Tl=function(n){return Math.floor(1E3 * (this.Q0 + this.Zz[n]) / this.T);};f.prototype.sS=function(n){return this.Tl(n + 1);};f.prototype.cf=function(n){return this.sS(n) - this.Tl(n);};f.prototype.get=function(n){return new d(this,n);};f.prototype.Lx=function(n,k,m){if(0 === this.length || n < this.Tl(0))return -1;n=Math.max(n,k || 0);for(var p=0,q=this.length - 1,v,t;q >= p;){if((v=p + (q - p >> 1),t=this.Tl(v),n < t))q=v - 1;else if(n >= t + this.cf(v))p=v + 1;else {for(;k && v < this.length && this.Tl(v) < k;){++v;}return v < this.length?v:m?this.length - 1:-1;}}return m?this.length - 1:-1;};f.prototype.Lka=function(n,k,m){n=this.Lx(n,k,m);return 0 <= n?this.get(n):void 0;};f.prototype.Wia=function(n,k){var m,p,q;m=Math.floor(k * this.T / 1E3);p=Math.min(n + Math.ceil(k / this.hea),this.length);q=this.Zz[p] - this.Zz[n];if(q >= m){for(;q >= m;){--p;q-=this.$p[p];}return {blocks:Math.max(p - n + 1,0),ata:0};}for(;q < m && p <= this.length;){k-=q || 0;q+=this.$p[p];++p;}return {blocks:Math.max(p - n - 1,0),ata:k};};f.prototype.subarray=function(n,k){(0,l.assert)(void 0 === n || 0 <= n && n < this.length);(0,l.assert)(void 0 === k || k > n && k <= this.length);return new f(this.mediaType,this.ba,{T:this.T,nr:this.Q0 + this.Zz[n],cf:this.$p.subarray(n,k)},this.o1 && ({oM:this.o1.subarray(n,k + 1),OM:this.uPa}));};f.prototype.forEach=function(n){for(var k=0;k < this.length;++k){n(this.get(k),k,this);}};f.prototype.map=function(n){for(var k=[],m=0;m < this.length;++m){k.push(n(this.get(m),m,this));}return k;};f.prototype.reduce=function(n,k){for(var m=0;m < this.length;++m){k=n(k,this.get(m),m,this);}return k;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.hea};};f.prototype.dump=function(){var k;h.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.hea + "ms");for(var n=0;n < this.length;++n){k=this.get(n);h.trace(("TrackFragments: ").concat(n,": [").concat(k.La.G,"-").concat(k.Wa.G,"]"));}};f.prototype.tlb=function(){for(var n=0,k=0;k < this.length;k++){n=Math.max(this.$p[k],n);}return this.xNa=n;};return f;})();b.Sda=a;b.ov=c;c(a.prototype.Tl);c(a.prototype.sS);c(a.prototype.cf);b.Rqb=function(f){return ("[").concat(Array(f.length).map(function(n,k){return f[k].toString();}).join(","),"]");};},function(r,b){function a(c,l){var g;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,l);Object.getOwnPropertyNames(c).forEach(function(h){g=Object.getOwnPropertyDescriptor(c,h);void 0 !== g && Object.defineProperty(l,h,g);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cda=void 0;c=a(0);l=a(75);a(4);c.__importDefault(a(33));r=(function(){function g(h,d,f,n){this.cf=h;this.T=f;this.length=Math.min(h.length,d.length);this.km=d;this.Hc=n;}Object.defineProperties(g.prototype,{va:{get:function(){return void 0 !== this.Hc?this.Hc:this.Hc=this.nea();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sizes:{get:function(){return this.km;},enumerable:!1,configurable:!0}});g.prototype.subarray=function(h,d){return new g(this.cf.subarray(h,d),this.sizes.subarray(h,d),this.T);};g.prototype.concat=function(){var f,n;for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}d=[this];h=d.concat.apply(d,c.__spreadArray([],c.__read(h),!1));d=h.reduce(function(k,m){return k + m.length;},0);f=new Uint32Array(d);n=new Uint32Array(d);d=h[0].T;h.reduce(function(k,m){l.ELa.set(f,m.cf,k);l.ELa.set(n,m.sizes,k);return k + m.length;},0);return new g(f,n,d);};g.prototype.nea=function(){for(var h=this.sizes,d=this.length,f=0,n=0;n < d;++n){f+=h[n];}return f;};g.prototype.b0a=function(h){return void 0 === this.Qob?!1:0 < this.Qob[h];};return g;})();b.Cda=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xda=void 0;c=a(383);b.Xda=(function(){return function(l,g){var h;void 0 === g && (g={w:1,op:1});this.hk=l;this.d5a=g;h=l.w * g.w;l=l.op * g.op;g=(0,c.QA)(h,l);this.Lu={w:h / g,op:l / g};};})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KC=void 0;c=a(179);l=a(4);r=(function(){function g(h){this.config=h;this.reset();}g.instance=function(){(0,l.assert)(void 0 !== g.$r);return g.$r;};g.mvb=function(h){g.$r=new g(h);};g.prototype.push=function(h){this.Wg && this.Wg.push(h);};g.prototype.Vb=function(){if(this.Wg)return (this.Wg.vx(),this.Wg.ji([.25,.5,.75,.9,.95,.99]).map(function(h){return h?parseFloat(h.toFixed(1)):0;}));};g.prototype.reset=function(){this.config.GBb && this.config.Fba && (this.Wg=new c.Nda(this.config.Fba.c,this.config.Fba.maxc));};return g;})();b.KC=r;},function(r){function b(){}function a(c){this.HOa=c;this.Do=[];this.ig=null;}b.prototype.clear=function(){this.Pe=null;this.size=0;};b.prototype.find=function(c){var g;for(var l=this.Pe;null !== l;){g=this.Ur(c,l.data);if(0 === g)return l.data;l=l.Lg(0 < g);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Pe,g=this.iterator(),h=this.Ur;null !== l;){d=h(c,l.data);if(0 === d)return (g.ig=l,g);g.Do.push(l);l=l.Lg(0 < d);}for(d=g.Do.length - 1;0 <= d;--d){if((l=g.Do[d],0 > h(c,l.data)))return (g.ig=l,g.Do.length=d,g);}g.Do.length=0;return g;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),g=this.Ur;null !== l.data() && 0 === g(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Pe;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Pe;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.zs=function(c){for(var l=this.iterator(),g;null !== (g=l.next());){c(g);}};a.prototype.data=function(){return null !== this.ig?this.ig.data:null;};a.prototype.next=function(){var c;if(null === this.ig){c=this.HOa.Pe;null !== c && this.FNa(c);}else if(null === this.ig.right){do {if((c=this.ig,this.Do.length))this.ig=this.Do.pop();else {this.ig=null;break;}}while(this.ig.right === c);}else (this.Do.push(this.ig),this.FNa(this.ig.right));return null !== this.ig?this.ig.data:null;};a.prototype.zG=function(){var c;if(null === this.ig){c=this.HOa.Pe;null !== c && this.ANa(c);}else if(null === this.ig.left){do {if((c=this.ig,this.Do.length))this.ig=this.Do.pop();else {this.ig=null;break;}}while(this.ig.left === c);}else (this.Do.push(this.ig),this.ANa(this.ig.left));return null !== this.ig?this.ig.data:null;};a.prototype.FNa=function(c){for(;null !== c.left;){this.Do.push(c);c=c.left;}this.ig=c;};a.prototype.ANa=function(c){for(;null !== c.right;){this.Do.push(c);c=c.right;}this.ig=c;};r.exports=b;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x;function c(z){this.config=z;this.Plb=z.zea;}l=a(406).Ica;g=a(922).Kza;b=a(407);h=b.Ufb;d=b.Sfb;f=a(247).Tfb;n=a(248).Waa;k=a(248).tAa;m=a(247).Wkb;p=a(408);q=a(409);v=a(410).bLa;t=a(924);w=a(925);u=a(249);y=a(926).HIa;x=a(927).Jxa;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,E;B=this.Plb[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":E=new l(this.config,new f(D.mw));break;case "discontiguous-ewma":E=new l(this.config,new d(D.mw));break;case "initial-discontiguous-ewma":E=new y(new d(D.mw),D.playerStates);break;case "wssl":E=new m(D.mw,D.max_n);break;case "iqr":E=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":E=new q(D);break;case "ci":E=new l(this.config,new x(D,new g(D)));break;case "discrete-ewma":E=new h(D.hl);break;case "tdigest-history":E=new v(D);break;case "iqr-history":E=new t(D);break;case "avtp":E=new u();break;case "entropy":E=new w(D);break;case "deliverytime":E=new l(this.config,new x(D,new n(D)));break;case "deliverytime-ci":E=new l(this.config,new x(D,new k(D)));}E && (E.type=D.type);return E;};r.exports=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Ica=void 0;new (a(5).default.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,g){this.config=l;this.filter=g;}c.prototype.Dn=function(){return new c(this.config,this.filter);};c.prototype.B_b=function(l,g,h,d){var f,n,k;k=d.iW;if(!k || !k.C5())return !0;switch(this.config.kKb){case "requested":return !1;case "requested-low":return (k=k.Wta(this.config.Xja),k.i3a() > ((null === (f=d.Ny) || void 0 === f?void 0:f.GV) || 0));case "inferred":k=k.Wta(this.config.Xja);l=k.Gpa(l,g,h,this.config.rV);if(!l)break;return k.i3a() > ((null === (n=d.Ny) || void 0 === n?void 0:n.GV) || 0);case "inferred-strict":if((k=k.Wta(this.config.Xja),k.Gpa(l,g,h,this.config.rV)))return !1;}return !0;};c.prototype.add=function(l,g,h,d){this.B_b(l,g,h,d) && this.filter.add(l,g,h,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Ica=r;},function(r,b,a){var h;function c(d){this.reset();this.LZb(d);}function l(d){this.setInterval(d);this.reset();}function g(d){this.Kz=new l(d);this.Gb=0;this.Dc=null;}h=a(24);c.prototype.LZb=function(d){this.BI=Math.pow(.5,1 / d);this.eQ=d;};c.prototype.reset=function(d){d && d.Da && h.sb(d.Da)?d.Rd && h.sb(d.Rd)?(this.qu=this.Bmb,this.Eo=d.Da,this.Gz=d.Rd + d.Da * d.Da):(this.qu=this.Bmb,this.Eo=d.Da,this.Gz=d.Da * d.Da):this.Gz=this.Eo=this.qu=0;};c.prototype.add=function(d){var f;if(h.sb(d)){this.qu++;f=this.BI;this.Eo=f * this.Eo + (1 - f) * d;this.Gz=f * this.Gz + (1 - f) * d * d;}};c.prototype.pma=function(){var d,f,n;if(0 === this.qu)return {Da:0,Rd:0};d=this.Eo;f=this.Gz;n=1 - Math.pow(this.BI,this.qu);d/=n;f/=n;n=d * d;return {Da:d,Rd:f > n?f - n:0};};c.prototype.get=function(){var d;d=this.pma();return {Da:Math.floor(d.Da),Rd:Math.floor(d.Rd)};};c.prototype.getState=function(){return 0 === this.qu?null:{a:Number(this.Eo.toPrecision(6)),s:Number(this.Gz.toPrecision(6)),n:this.qu};};c.prototype.Tg=function(d){if(h.Tb(d) || !h.has(d,"a") || !h.has(d,"s") || !h.isFinite(d.a) || !h.isFinite(d.s))return (this.Gz=this.Eo=this.qu=0,!1);this.Eo=d.a;this.Gz=d.s;h.has(d,"n") && h.sb(d.n)?this.qu=d.n:this.qu=16 * this.eQ;return !0;};l.prototype.setInterval=function(d){this.eQ=d;this.BI=-Math.log(.5) / d;};l.prototype.reset=function(d){this.ib=this.kg=null;d && h.isFinite(d.Da)?this.Eo=d.Da:this.Eo=0;};l.prototype.start=function(d){h.Tb(this.kg) && (this.ib=this.kg=d);};l.prototype.add=function(d,f,n){var k,m,p;h.Tb(this.kg) && (this.ib=this.kg=f);this.kg=Math.min(this.kg,f);f=Math.max(n - f,1);k=this.BI;m=Math.max(n,this.ib);p=m - this.ib;n=m - n;this.Eo=this.Eo * (0 < p?Math.exp(-k * p):1) + 8 * d / f * (1 - Math.exp(-k * f)) * (0 < n?Math.exp(-k * n):1);this.ib=m;};l.prototype.get=function(d){var f;d=Math.max(d,this.ib);f=this.Eo * Math.exp(-this.BI * (d - this.ib));d=1 - Math.exp(-this.BI * (d - this.kg));0 < d && (f/=d);return {Da:Math.floor(f)};};l.prototype.toString=function(){return "ewmav(" + this.eQ + ")";};g.prototype.setInterval=function(d){this.Kz.setInterval(d);};g.prototype.reset=function(d){this.Kz.reset(d);this.Gb=0;this.Dc=null;};g.prototype.start=function(d){!h.Tb(this.Dc) && d > this.Dc && (this.Gb+=d - this.Dc,this.Dc=null);this.Kz.start(d - this.Gb);};g.prototype.add=function(d,f,n){!h.Tb(this.Dc) && n > this.Dc && (this.Gb+=f > this.Dc?f - this.Dc:0,this.Dc=null);this.Kz.add(d,f - this.Gb,n - this.Gb);};g.prototype.stop=function(d){this.Dc=Math.max(h.Tb(this.Kz.ib)?0:this.Kz.ib + this.Gb,h.Tb(this.Dc)?d:Math.min(this.Dc,d));};g.prototype.get=function(d){return this.Kz.get((h.Tb(this.Dc)?d:this.Dc) - this.Gb);};g.prototype.toString=function(){return this.Kz.toString();};r.exports={Ufb:c,V6b:l,Sfb:g};},function(r,b,a){var l,g;function c(h,d,f,n){l.call(this,f,n);this.vu=new g(h);this.anb=d;}l=a(180);g=a(397);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var h;h=this.et(0);l.prototype.shift.call(this);null !== h && this.vu.mPa(h);return h;};c.prototype.flush=function(){var h;h=this.get();this.vu.mPa(h);l.prototype.reset.call(this);return h;};c.prototype.get=function(){var h;h=this.hT();return {sampleSize:this.lT(),Ira:h,Aqa:h.Qm?(h.zp - h.yp) / h.Qm:void 0};};c.prototype.lT=function(){return this.vu.lT();};c.prototype.hT=function(){return this.vu.lT() < this.anb?{yp:void 0,Qm:void 0,zp:void 0,sampleSize:void 0,ji:void 0}:{yp:this.vu.FJ(25),Qm:this.vu.FJ(50),zp:this.vu.FJ(75),sampleSize:this.vu.lT(),ji:this.vu.FJ.bind(this.vu)};};c.prototype.toString=function(){return "biqr(" + this.nJ + "," + this.qd + "," + this.gj + ")";};r.exports=c;},function(r,b,a){var l,g;function c(h){this.W={EU:h.maxc || 25,Fia:h.c || .5,k5b:h.w || 15E3,xsb:h.b || 5E3};l.call(this,this.W.k5b,this.W.xsb);this.FQ();}l=a(180);g=a(179).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var h;h=this.et(0);l.prototype.shift.call(this);null !== h && (this.Qe.push(h,1),this.aA=!0);return h;};c.prototype.flush=function(){var h;h=this.get();this.Qe.push(h,1);this.aA=!0;l.prototype.reset.call(this);return h;};c.prototype.get=function(){return this.WYa();};c.prototype.OK=function(){var h;h=this.WYa();return {min:h.min,p10:h.ora,p25:h.yp,p50:h.Qm,p75:h.zp,p90:h.pra,max:h.max,centroidSize:h.Qtb,sampleSize:h.sampleSize,centroids:h.jj};};c.prototype.WYa=function(){var h;if(0 === this.Qe.size())return null;h=this.Qe.ji([0,.1,.25,.5,.75,.9,1]);if(h[2] === h[4])return null;if(this.aA || !this.eh)(this.aA=!1,this.eh={min:h[0],ora:h[1],yp:h[2],Qm:h[3],zp:h[4],pra:h[5],max:h[6],ji:this.Qe.ji.bind(this.Qe),Qtb:this.Qe.size(),sampleSize:this.Qe.n,jj:this.xFb(),OK:this.OK.bind(this)});return this.eh;};c.prototype.xFb=function(){var h;if(0 === this.Qe.size())return null;if(!this.aA && this.eh)return this.eh.centroids;h=this.Qe.ji([.25,.75]);if(h[0] === h[1])return null;this.Qe.size() > this.W.EU && this.Qe.vx();h=this.Qe.ur(!1).map(function(d){return {mean:d.Kf,n:d.n};});return JSON.stringify(h);};c.prototype.SYa=function(){return this.Qe.summary();};c.prototype.size=function(){return this.Qe.size();};c.prototype.toString=function(){return "btdtput(" + this.nJ + "," + this.qd + "," + this.gj + "): " + this.Qe.summary();};c.prototype.FQ=function(){this.Qe=new g(this.W.Fia,this.W.EU);};r.exports=c;},function(r,b,a){var l,g;function c(h){this.W={EU:h.maxc || 25,Fia:h.c || .5,iWb:h.rc || "none",yF:h.hl || 7200};this.FQ();this.dob=this.W.iWb;this.eQ=this.W.yF;this.jea=Math.exp(Math.log(2) / this.eQ);this.jea=Math.max(this.jea,1);this.c0=1;}l=a(24);g=a(179).TDigest;new (a(5).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var h;if(0 === this.Qe.size())return null;h=this.Qe.ji([.25,.75]);if(h[0] === h[1])return null;this.Qe.size() > this.W.EU && this.Qe.vx();h=this.Qe.ur(!1).reduce((function(d,f){l.sb(f.Kf) && l.sb(f.n) && d.push({mean:f.Kf,n:f.n / this.c0});return d;}).bind(this),[]);return {tdigest:JSON.stringify(h)};};c.prototype.Tg=function(h){var d;if(l.Tb(h) || !l.has(h,"tdigest") || !l.rg(h.tdigest))return !1;try{d=JSON.parse(h.tdigest);}catch(f){return !1;}d.forEach(function(f){l.isFinite(f.n) || (f.n=1);});h=d.map(function(f){return {Kf:f.mean,n:f.n};});this.c0=1;this.Qe.Jsa(h);void 0 === this.Qe.ji(0) && this.FQ();};c.prototype.get=function(){var h,d;h=this.Qe;d=h.ji([0,.1,.25,.5,.75,.9,1]);return {min:d[0],ora:d[1],yp:d[2],Qm:d[3],zp:d[4],pra:d[5],max:d[6],jj:h.ur(!1)};};c.wHb=function(h){var d;d=new c({});l.Tb(h) || l.bi(h) || !l.isArray(h.jj) || (d.Qe.Jsa(h.jj),void 0 === d.Qe.ji(0) && d.FQ());h=d.Qe.ji([.25,.75]);return h[0] === h[1]?null:function(f){return d.Qe.ji(f);};};c.prototype.add=function(h){var d;d=1;"ewma" === this.dob && (this.c0=d=this.c0 * this.jea);this.Qe.push(h,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Qe.summary() + ")";};c.prototype.FQ=function(){this.Qe=new g(this.W.Fia,this.W.EU);};r.exports={bLa:c};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$$=void 0;c=a(0);c.__importDefault(a(5));l=a(4);r=(function(g){function h(d,f,n,k,m){d=g.call(this,d,f,n,k,m) || this;d.SMa=!1;d.RMa=!1;d.cQ=!1;d.Ja=[];d.rn=!1;d.QNa=!1;d.hNa=!1;d.ke=!1;d.tn=!1;d.Sh=!1;d.yI=!1;d.VI=void 0;d.tu=void 0;return d;}c.__extends(h,g);Object.defineProperties(h.prototype,{ioa:{get:function(){return this.rn && !this.cQ;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.ke;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Sh || (this.Sh=this.Ja.every(function(d){return d.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.yI;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yk:{get:function(){return this.Ja.reduce(function(d,f){return d + f.Yk;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.Ja.reduce(function(d,f){return d + f.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Cg:{get:function(){return this.VI || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{url:{get:function(){return this.Ja[0] && this.Ja[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{readyState:{get:function(){return this.fh || this.Ja.reduce(function(d,f){return Math.min(d,f.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.tu && this.tu.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fh:{get:function(){return this.tu && this.tu.Fh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yS:{get:function(){return this.tu && this.tu.yS;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dk:{get:function(){return this.tu && this.tu.dk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kL:{get:function(){return !!this.Ja.length && this.Ja[0].kL;},enumerable:!1,configurable:!0}});h.prototype.push=function(d){this.hNa && d.oa(this.Ic);this.Ja.push(d);this.rn && d.eM();};h.prototype.Ip=function(d){d=this.Ja.indexOf(d);-1 !== d && this.Ja.splice(d,1);};h.prototype.oa=function(d){g.prototype.oa.call(this,d);this.Ja.forEach(function(f){return f.oa(d);});this.hNa=!0;};h.prototype.eM=function(){this.QNa=!0;(this.rn=this.Ja.every(function(d){return d.eM();})) && this.MS(this);this.QNa=!1;return this.rn;};h.prototype.Te=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ja.forEach(function(d){return d.Te();});};h.prototype.hH=function(d){var f;f=this;this.Ata();return this.Ja.every(function(n){(0,l.assert)(n.er === f.Ja[0].er);return 5 !== n.readyState && 7 !== n.readyState?n.hH(d):!0;});};h.prototype.abort=function(){var d,f,n;d=this.active;f=this.aborted;this.fh=7;this.yI=!0;this.tn=this.ke=!1;n=this.Ja.map(function(k){return k.abort();}).every(function(k){return k;});f || this.zK(this,d,this.ioa);return n;};h.prototype.getResponseHeader=function(d,f){var n;n=null;this.Ja.some(function(k){return !!(n=k.getResponseHeader(d,f));});return n;};h.prototype.getAllResponseHeaders=function(d){var f;void 0 === d && (d=!1);f=null;this.Ja.some(function(n){return !!(f=n.getAllResponseHeaders(d));});return f;};h.prototype.C7=function(){};h.prototype.cM=function(d){this.ke || (this.ke=!0);this.SMa || (this.SMa=!0,this.cr=0,this.VI=this.nt=d.Cg,this.LS(this));};h.prototype.SB=function(d){this.tn || (this.tn=!0);this.RMa || (this.RMa=!0,this.VI=d.Cg,this.AK(this));};h.prototype.dM=function(d){this.VI=d.Cg;this.BK(this);this.cr=this.bytesReceived;this.nt=d.Cg;};h.prototype.Kl=function(d){this.VI=d.Cg;this.complete?(this.Sh=!0,this.fh=5,this.tn=this.ke=!1,this.cQ=!0,this.PA(this)):this.BK(this);this.cr=this.bytesReceived;this.nt=d.Cg;};h.prototype.B7=function(d){this.VI=d.Cg;this.tu=d;this.fh=6;this.R3(this);};h.prototype.nV=function(){};h.prototype.Hh=function(){return this.Ja[0].Hh() + "-" + this.Ja[this.Ja.length - 1].Hh();};h.prototype.toString=function(){return ("Compound[").concat(this.Ja.map(function(d){return d.toString();}).join(","),"]");};h.prototype.toJSON=function(){return {requests:this.Ja};};h.prototype.Ata=function(){this.fh=this.tu=void 0;};return h;})(a(250).MH);b.$$=r;},function(r,b,a){var p,q,v;function c(t){return t.qr - t.sq;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function g(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function h(t,w){var u,y,x,z,A;u=w.nsa;y=w.msa;x=w.JV;if(0 === w.Rg.length)return {p1:!1};z=w.Rg[0];w=z.jf;A=z.eB;z=z.duration;if(!A || 1 === x)return {p1:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(u < y)return {p1:!1};y=u - y;u=x + y / z * (1 - x);z-=y;A=A * (1 - u) / (1 - x);t=w * u / x * l(t,z) + A * g(t,z);(0,q.assert)(1 >= t);return {p1:!0,nqb:t};}function d(t){var w,u,y,x,z;w=t.FA;u=t.F$a;y=t.Ly;x=t.qr;z=t.sq;t=t.iWa;(0,q.assert)(void 0 !== u);(0,q.assert)(void 0 !== w);y=1 - y;x-=z;t?(z=u - t - x,w-=t,0 >= z?t=Math.max(0,(u - t) / w):(u=w - z,t=0 < u?x / u:0,y*=0 < u?u / w:1)):(z=u - x,0 >= z?t=u / w:(u=w - z,t=0 < u?x / u:0,y*=0 < u?u / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function f(t,w){t=Math.log(2) / t.$6a;return n(w) * Math.exp(-t * c(w));}function n(t){var w;return (null !== (w=t.wF) && void 0 !== w?w:1) * t.Rg.reduce(function(u,y){var x;x=y.eB;return u * (y.jf + (void 0 === x?0:x));},1);}function k(t){var w,u,y,x;if(0 === t.Rg.length)return 0;u=0;if(1 > t.JV){u=t.nsa;y=t.msa;x=null !== (w=t.Rg[0].duration) && void 0 !== w?w:0;u=Math.max(0,Math.min(x,u - (y - x)));}return t.Rg.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - u;}function m(t){return t.Rg.filter(function(w){return !w.eB;}).reduce(function(w,u){return w * u.jf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Qha=b.iRa=b.qtb=b.hRa=b.utb=void 0;p=a(7);q=a(4);v=a(9);b.utb=c;b.hRa=function(t,w,u){var y,x,z,A,B,C,D,E;if(!t.m3 || (0,p.Kq)(w.Ff))return f(t,w);x=t.$6a;t=c(w);z=k(w);A=m(w);B=h(x,w);C=B.p1;B=B.nqb;B=void 0 === B?1:B;D=1 > w.Ly?d(w):1;E=(null !== (y=w.wF) && void 0 !== y?y:1) * A * l(x,t - z) * B * D * w.Rg.filter(function(G,F){return G.eB && (0 < F || !C);}).reduce(function(G,F){var H,K;H=F.eB;K=F.duration;K=void 0 === K?0:K;H=void 0 === H?0:H;F=F.jf * l(x,K) + H * g(x,K);return G * F;},1);v.I && (null === u || void 0 === u?void 0:u.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.Ly,", ") + ("pssp: ").concat(w.JV,", ") + ("streamingDuration: ").concat(w.F$a,", ") + ("duration: ").concat(w.FA,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.Rg)," => ").concat(E)));return E;};b.qtb=f;b.iRa=n;b.Qha=m;},function(r,b,a){var d,f,n,k,m,p;function c(q){var v;v=q.Lea;this.W=q;this.Iz=f.fl.HAVE_NOTHING;this.zea=q.zea;q=new m(q);this.KQ=q.create("throughput-location-history",v);this.s0=q.create("throughput-location-history",v);this.X0=q.create("throughput-location-history",v);this.Y0=q.create("throughput-location-history",v);this.W0=q.create("throughput-location-history",v);this.$w=q.create("respconn-location-history",v);this.Rw=q.create("respconn-location-history",v);this.V0=q.create("throughput-tdigest-history",v);this.t0=q.create("throughput-iqr-history",v);this.g0=q.create("throughput-location-history",v);this.i0=q.create("throughput-location-history",v);this.h0=q.create("throughput-location-history",v);this.j0=q.create("throughput-location-history",v);this.ib=null;}function l(q,v,t,w,u){this.Zr=new c(u);this.wn=[];this.$mb=n.time.Ca() - Date.now() % 864E5;this.Xr=null;this.W=u;for(q=0;q < w;++q){this.wn.push(new c(u));}}function g(q,v,t){return d.has(q,v)?q[v]:q[v]=t;}function h(q,v){var t;this.W=q;this.FOa=v;this.lCb();this.GD=new c(this.W);this.lfa();t=q.pja;t && (t={confidence:f.fl.CO,ub:{Da:parseInt(t,10),Rd:0},Pk:{Da:0,Rd:0},a5:{Da:0,Rd:0}},this.get=function(){return t;});}d=a(24);f=a(53).default;b=a(10);n=a(5).default;k=b.XBa;m=a(939).ygb;new n.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.fl.HAVE_NOTHING};c.prototype.hE=function(q,v){this.Iz=v;this.KQ.add(q);this.V0.add(q);this.ib=n.time.Ca();};c.prototype.fE=function(q){this.s0.add(q);};c.prototype.iE=function(q){this.X0.add(q.initial);this.Y0.add(q.low);this.W0.add(q.high);};c.prototype.BH=function(q,v){this.t0.set(q,v);};c.prototype.cx=function(q){this.$w.add(q);};c.prototype.bx=function(q){this.Rw.add(q);};c.prototype.qJ=function(q){this.g0.add(q.Da);this.i0.add(q.Rd);this.h0.add(q.vJ);this.j0.add(q.NN);};c.prototype.getState=function(){var q,v,t,w,u,y,x,z,A,B,C,D,E,G;q=this.KQ.getState();v=this.s0.getState();t=this.X0.getState();w=this.Y0.getState();u=this.W0.getState();y=this.$w.getState();x=this.Rw.getState();z=this.t0.getState();A=this.V0.getState();B=this.g0.getState();C=this.i0.getState();D=this.h0.getState();E=this.j0.getState();if(d.Tb(q) && d.Tb(y) && d.Tb(x))return null;G={c:this.Iz,t:n.time.nqa(this.ib)};d.Tb(q) || (G.tp=q);d.Tb(v) || (G.itp=v);d.Tb(t) || (G.tcii=t);d.Tb(w) || (G.tcil=w);d.Tb(u) || (G.tcih=u);d.Tb(y) || (G.rt=y);d.Tb(x) || (G.hrt=x);d.Tb(z) || (G.iqr=z);d.Tb(A) || (G.td=A);d.Tb(B) || (G.dta=B);d.Tb(C) || (G.dtv=C);d.Tb(D) || (G.dtta=D);d.Tb(E) || (G.dttv=E);return G;};c.prototype.Tg=function(q){var v;v=n.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.fl.CO || q.t > v || !this.KQ.Tg(q.tp))return (this.Iz=f.fl.HAVE_NOTHING,this.Xr=this.ib=null,this.KQ.Tg(null),this.$w.Tg(null),this.Rw.Tg(null),!1);this.Iz=q.c;this.ib=n.time.Lqa(q.t);this.$w.Tg(d.has(q,"rt")?q.rt:null);this.Rw.Tg(d.has(q,"hrt")?q.hrt:null);this.s0.Tg(d.has(q,"itp")?q.itp:null);this.X0.Tg(d.has(q,"tcii")?q.tcii:null);this.Y0.Tg(d.has(q,"tcil")?q.tcil:null);this.W0.Tg(d.has(q,"tcih")?q.tcih:null);this.g0.Tg(d.has(q,"dta")?q.dta:null);this.i0.Tg(d.has(q,"dtv")?q.dtv:null);this.h0.Tg(d.has(q,"dtta")?q.dtta:null);this.j0.Tg(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.t0.Tg(q.iqr);d.has(q,"td") && this.V0.Tg(q.td);return !0;};c.prototype.get=function(){var q,v,t,w,u,y,x,z,A,B,C;q=this.W;if(d.Tb(this.ib))return p;v=(n.time.Ca() - this.ib) / 1E3;v > q.ymb?this.Iz=f.fl.HAVE_NOTHING:v > q.dmb && (this.Iz=Math.min(this.Iz,f.fl.YH));q=this.KQ.get();t=this.s0.get();w=this.X0.get().Da;u=this.Y0.get().Da;y=this.W0.get().Da;x=this.$w.get();z=this.Rw.get();A=this.t0.get();B=this.V0.get();C={Da:this.g0.pma().Da,Rd:this.i0.pma().Da,vJ:this.h0.get().Da,NN:this.j0.get().Da};result={rl:v,confidence:this.Iz,ub:q,KT:t,"throughput-ci":{initial:w,low:u,high:y},Pk:x,a5:z,mB:A,Wg:B,zm:C};q && (result.Cfc=k.prototype.Bv.bind(q));x && (result.Gec=k.prototype.Bv.bind(x));z && (result.Lcc=k.prototype.Bv.bind(z));return result;};c.prototype.time=function(){return this.ib;};l.prototype.Ud=function(){return ((n.time.Ca() - this.$mb) / 1E3 / 3600 / (24 / this.wn.length) | 0) % this.wn.length;};l.prototype.getState=function(){var q;q={g:this.Zr.getState(),h:this.wn.map(function(v){return v.getState();})};d.Tb(this.Xr) || (q.f=n.time.nqa(this.Xr));return q;};l.prototype.Tg=function(q){var v,t;if(!this.Zr.Tg(q.g))return !1;v=this.wn.length;t=!1;this.wn.forEach(function(w,u){t=!w.Tg(q.h[u * q.h.length / v | 0]) || t;});this.Xr=d.has(q,"f")?n.time.Lqa(q.f):null;return t;};l.prototype.hE=function(q,v){this.Zr.hE(q,v);this.wn[this.Ud()].hE(q,v);this.Xr=null;};l.prototype.fE=function(q){this.Zr.fE(q);this.wn[this.Ud()].fE(q);this.Xr=null;};l.prototype.iE=function(q){this.Zr.iE(q);this.wn[this.Ud()].iE(q);this.Xr=null;};l.prototype.BH=function(q,v){this.Zr.BH(q,v);this.wn[this.Ud()].BH(q,v);};l.prototype.cx=function(q){this.Zr.cx(q);this.wn[this.Ud()].cx(q);};l.prototype.bx=function(q){this.Zr.bx(q);this.wn[this.Ud()].bx(q);};l.prototype.qJ=function(q){this.Zr.qJ(q);this.wn[this.Ud()].qJ(q);};l.prototype.fail=function(q){this.Xr=q;};l.prototype.get=function(){var q,v;if(!d.Tb(this.Xr)){if((n.time.Ca() - this.Xr) / 1E3 < this.W.cmb)return {confidence:f.fl.HAVE_NOTHING,Ds:!0};this.Xr=null;}q=this.wn[this.Ud()].get();v=this.Zr.get();q=q.confidence >= v.confidence?q:v;q.Ds=!1;return q;};l.prototype.time=function(){return this.Zr.time();};h.prototype.WMa=function(q,v){var t;t=this.W;q=g(this.gQ,q,{});return g(q,v,new l(t.gNa || 14400,t.fNa || 100,t.eNa || 100,t.TNa || 4,t));};h.prototype.lfa=function(){var q,v;q=n.storage.get("lh");v=n.storage.get("gh");q && this.Jfa(q);v && this.tob(v);};h.prototype.pmb=function(){var q;q={};d.zs(this.gQ,function(v,t){d.zs(v,function(w,u){g(q,t,{})[u]=w.getState();},this);},this);return q;};h.prototype.tob=function(q){this.GD.Tg(q);};h.prototype.Jfa=function(q){var v,t;v=null;t=this.W;d.zs(q,function(w,u){d.zs(w,function(y,x){var z;z=new l(t.gNa || 14400,t.fNa || 100,t.eNa || 100,t.TNa || 4,t);z.Tg(y)?(g(this.gQ,u,{})[x]=z,v=!0):d.Tb(v) && (v=!1);},this);},this);return d.Tb(v)?!0:v;};h.prototype.save=function(){var q;q=this.pmb();n.storage.set("lh",q);n.storage.set("gh",this.GD.getState());this.FOa && this.FOa.zua(this.GD.getState());};h.prototype.lCb=function(){this.gQ={};this.JI=this.CMa="";this.Oj=null;};h.prototype.m9=function(q){this.CMa=q;this.Oj=null;};h.prototype.k9=function(q){this.JI=q;this.Oj=null;};h.prototype.FD=function(){d.Tb(this.Oj) && (this.Oj=this.WMa(this.CMa,this.JI));return this.Oj;};h.prototype.hE=function(q,v){this.FD().hE(q,v);this.GD.hE(q,v);};h.prototype.fE=function(q){this.FD().fE(q);this.GD.fE(q);};h.prototype.iE=function(q){this.FD().iE(q);this.GD.iE(q);};h.prototype.BH=function(q,v){q && q.yp && q.Qm && q.zp && (this.FD().BH(q,v),this.GD.BH(q,v));};h.prototype.cx=function(q){this.FD().cx(q);};h.prototype.bx=function(q){this.FD().bx(q);};h.prototype.qJ=function(q){this.FD().qJ(q);};h.prototype.fail=function(q,v){this.WMa(q,this.JI).fail(v);};h.prototype.get=function(q,v){var t,w,u,y;q=(q=this.gQ[q])?q[this.JI]:null;t=null;if(q && (t=q.get(),t.confidence > f.fl.HAVE_NOTHING))return t;if(!1 === v)return p;w=t=null;u=!1;y=null;d.zs(this.gQ,function(x){d.zs(x,function(z,A){var B;if(!u || A == this.JI){B=z.get();B && (!w || w <= B.confidence) && (!y || w < B.confidence || y < z.time()) && (w=B.confidence,u=A == this.JI,y=z.time(),t=B);}},this);},this);return t?t:p;};r.exports=h;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.D_=void 0;c=a(4);b.D_=(function(){function g(h,d,f){f.UE && (l=new (a(944).JKa)(h,d));}g.instance=function(){(0,c.assert)(l,"expected StaticMediaProvider to exist");return l;};return g;})();},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.assert=function(g,h){if(!g)throw new l(h || "Assertion failed");};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eP=void 0;c=a(7);r=(function(){function l(){this[c.v.ga]=0;this[c.v.Z]=0;this[c.v.Za]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.v.ga] + this[c.v.Z] + this[c.v.Za];},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this[c.v.ga]+=Math.max(g[c.v.ga] || 0,0);this[c.v.Z]+=Math.max(g[c.v.Z] || 0,0);this[c.v.Za]+=Math.max(g[c.v.Za] || 0,0);};l.prototype.pga=function(g,h){this[g]+=Math.max(h || 0,0);};return l;})();b.eP=r;c.v.ga;c.v.Z;c.v.Za;},function(r,b,a){var l,g,h,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var f;return l.__generator(this,function(n){switch(n.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(394));})];case 1:return (f=n.cb().QK,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.fT=void 0;l=a(0);g=a(986);h=l.__importDefault(a(5));b.fT=function(f){var n;n=new h.default.Console("ASEJS","media|asejs");d || (d=new g.gJa(function(){return c();},f,n));return d;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(0);l=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.AssertionError=l;b.assert=function(g,h){if(!g)throw new l(h || "Assertion failed");};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.G3=b.BDb=b.Nka=void 0;c=a(255);b.Nka=function(l,g){var h;h=void 0;return Object.keys(l.L).some(function(d){var f;return null === (f=(h=l.L[d]).next) || void 0 === f?void 0:f[g];})?h:void 0;};b.BDb=function(l,g){return c.uc(Object.keys(l.L),function(h){var d;return null === (d=l.L[h].next) || void 0 === d?void 0:d[g];});};b.G3=function(l,g){return Object.keys(l.L).filter(function(h){var d;return null === (d=l.L[h].next) || void 0 === d?void 0:d[g];});};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dP=void 0;c=a(4);l=a(7);g=a(19);r=(function(){function h(d){var f;void 0 === d && (d=[]);f=this;this.items=d;d.forEach(function(n){return f.swa(n);});}Object.defineProperties(h.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qsa:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});h.prototype.get=function(d){return d === l.v.Z?this.video:this.audio;};h.prototype.every=function(d){return this.items.every(d);};h.prototype.some=function(d){return this.items.some(d);};h.prototype.forEach=function(d){this.items.forEach(d);};h.prototype.find=function(d){return (0,g.uc)(this.items,d);};h.prototype.reduce=function(d,f){return this.items.reduce(d,f);};h.prototype.filter=function(d){return new h(this.items.filter(d));};h.prototype.replace=function(d,f){var n;n=this.items.indexOf(d);(0,c.assert)(-1 < n);(0,c.assert)(d.mediaType === f.mediaType);this.items[n]=f;this.swa(f);};h.prototype.add=function(d){this.items.push(d);this.swa(d);};h.prototype.remove=function(d){var f;f=this.items.indexOf(d);if(-1 === f)return !1;this.items.splice(f,1);this.Aub(d.mediaType);return !0;};h.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};h.prototype.swa=function(d){d.mediaType === l.v.Z?this.video=d:this.audio=d;};h.prototype.Aub=function(d){d === l.v.Z?this.video=void 0:this.audio=void 0;};return h;})();b.dP=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Bx=void 0;c=a(9);l=a(148);g=a(4);b.Bx=function(h,d,f,n,k,m,p,q){var v;c.I && n.trace("AsePlaygraph.createRequestQueue()");v=l.pz.instance.Bx(h,d.O,!0,!1,{Yu:f.Yu,ha:k},f);v.Mm.on(v,"networkfailing",function(){var t;c.I && n.trace("requestQueue OnNetworkFailing: ",v);v.Fka && ((0,g.assert)(v.Gka),null === (t=d.Zu) || void 0 === t?void 0:t.st(void 0,v.Gka,void 0,v.Fh,v.dk));d.Ym();});v.Mm.on(v,"error",function(){q(v.Fh,v.dk);});v.on("transportreport",m);v.on("mediaRequestComplete",p);v.oa();return v;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1012),b);},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Vja=b.w5=b.Ql=void 0;r=a(0);l=r.__importStar(a(24));g=a(19);h=a(89);d=r.__importDefault(a(53));f=r.__importDefault(a(33));n=r.__importDefault(a(1020));k=a(7);m=a(1021);p=f.default.assert;q=f.default.kn;b.Ql=(c=(function(){var W1Q;function t(u,y,x){var L7N;L7N=2;for(;L7N !== 4;){switch(L7N){case 2:u=new q();u.ag=x[0];return u;break;}}}W1Q=2;for(;W1Q !== 5;){switch(W1Q){case 1:return {w5:v,Ql:function(u,y,x,z,A,B,C){var C8q,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba;C8q=2;for(;C8q !== 17;){switch(C8q){case 6:return t.call(this,y,u,E,A);break;case 2:var g3K="Mus";g3K+="t have at least one sele";g3K+="cted stream";p(!l.bi(z),g3K);void 0 === y.Ye && (y.Ye=0);C8q=4;break;case 4:var W03="n";W03+="um";W03+="ber";var A7X="n";A7X+="um";A7X+="b";A7X+="e";A7X+="r";var I5D="invalid";I5D+=" player frag";I5D+="mentIndex";p(l.sb(y.Ye),I5D);p(A7X === typeof y.buffer.uE);p(W03 === typeof y.g3);(E=x.first,G=new q(),F=A=E[z],H=y.buffer.gb,K=y.buffer.zd,O=y.buffer.Uk,I=y.buffer.wm,P=y.Ye,N=I - K,J=this.we.$0a || d.default.oZ.Lj,L=y.state === k.rb.Td || y.state === k.rb.Rh?y.buffer.Yq:0,R=u.r6,ka=null !== (D=u.fy) && void 0 !== D?D:1E3);C8q=7;break;case 14:x.dla(function(Ja,Va,Ta){var x66,T;x66=2;for(;x66 !== 5;){switch(x66){case 2:void 0 !== Ta && (Ja=Ja[Ta],null !== (T=Ja.Ma) && void 0 !== T && T.length || (Ja.uva=!0));x66=5;break;}}});(X=h.al.gTa(y.buffer.Ma),da=y.buffer.uE - X.va);D=(u.dva || C) && N >= u.Uwa?E.length:z + 2;(ta=(function(Ja){var k2V,J$t;k2V=2;for(;k2V !== 4;){switch(k2V){case 13:k2V=6;break;case 3:k2V=5;break;case 5:return E.slice(0,Ja).map(function(Va,Ta){var j_g;j_g=2;for(;j_g !== 1;){switch(j_g){case 2:return Ta < z?[u.ina,u.qpa]:Ta === z?[u.hna,u.ppa]:[u.jna,u.rpa];break;}}});break;case 1:return E.slice(0,Ja).map(function(Va){var w_G;w_G=2;for(;w_G !== 1;){switch(w_G){case 4:return [w(u,y.buffer.uE,Va),1];break;case 2:return [w(u,y.buffer.uE,Va),0];break;}}});break;case 2:var b9X="va";b9X+="r";b9X+="i";b9X+="abl";b9X+="e";J$t=u.bva;k2V=J$t === b9X?1:3;break;}}})(D),Ba=E.slice(0,D).map(function(Ja,Va){var L0i=R7xOY;var r_Y,Ta;r_Y=2;for(;r_Y !== 5;){switch(r_Y){case 2:L0i.v$C(5);Ta=L0i.g1D(Va,z);return function(){var i7n,T,aa,Q,M,S,ra,oa,Ca,Ua;i7n=2;for(;i7n !== 5;){switch(i7n){case 2:a:{L0i.g6M(1);T=Math.max(L0i.G5G(1,Va),0);aa=ta[Va][1];Q=y.playbackRate;M=x.OYa(Va,P,ta[Va][0]);S=M.Iab;M=M.A$a;L0i.v$C(6);aa=x.OYa(T,L0i.g1D(S,P),aa);T=aa.Iab;ra=aa.A$a;aa=M[0].stream;oa=aa.ub || 0;Ca=aa.Ma && aa.Ma.length;Ua=C?u.SCb:Ca?u.C3:u.TCb;Ua=Ta?u.Hka:Ua;if(la && !la.D3 && la.ub >= oa && la.bitrate <= aa.bitrate){S=!1;}else {Ta || Ca || (aa.uva=!0);if(!Ta || !Ca)if(Ca && !u.N9){if(oa >= Math.max(aa.rv * Q,aa.bitrate * Q * Ua) && aa.av){S=!0;break a;}}else if(oa >= aa.bitrate * Q * Ua){S=!0;break a;}Q=!u.Nia || aa === F || aa.bc === F.bc && B?0:(Q=aa.Vb) && Q.Pk && Q.Pk.Da?Q.Pk.Da + u.Jia * (Q.Pk.Rd?Math.sqrt(Q.Pk.Rd):0):0;(S=v(u,E,M,ra,X,K + Q - H,R,I - H,O - H,P,X.length,L,da,S,T,ka,y.g3,y.playbackRate)) && S.result && (G.ldc=S.tU);la={D3:S && S.result,ub:oa,bitrate:aa.bitrate};S=S && S.result;}}return S;break;}}};break;}}}));C8q=10;break;case 7:C8q=J === d.default.oZ.Nkb || !A.ub?6:14;break;case 10:p(Ba.length === ta.length);Ba[z]()?z + 1 < E.length && N > u.ey && (void 0 === this.rL || this.Moa && this.Moa > this.rL || O - this.rL > u.rU && N > u.upa) && (A=(0,g.Wga)(E.slice(z + 1,D),function(Ja,Va){var u_8;u_8=2;for(;u_8 !== 1;){switch(u_8){case 2:return Ba[z + 1 + Va]();break;}}})):A.Ma && A.Ma.length && (A=(0,g.Wga)(E.slice(0,z),function(Ja,Va){var y6B;y6B=2;for(;y6B !== 1;){switch(y6B){case 2:return Ba[Va]();break;case 4:return Ba[Va]();break;}}}),D=E[0],A && A.zt < D.zt || !A) && (A=D);G.ag=A || F;return G;break;}}},Vja:w};break;case 2:var O$p="1";O$p+="SIYbZ";O$p+="rNJC";O$p+="p";O$p+="9";O$p;W1Q=1;break;}}function v(u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J){var x2L,da,L,R,ka,la,X;x2L=2;for(;x2L !== 17;){switch(x2L){case 10:I=Math.max(0,Math.min(I,R.Ma.length - G - O));x.forEach(function(ta){var q61,Ba,Ja;q61=2;for(;q61 !== 4;){switch(q61){case 2:(Ba=ta.stream,Ja=ta.blocks);ta=ta.Ye;l.sb(ta) && Ba.Ma && da.add(Ba.Ma.kr.subarray(ta,ta + Ja));q61=4;break;}}});z.forEach(function(ta){var X7q,Ba,Ja;X7q=2;for(;X7q !== 4;){switch(X7q){case 2:(Ba=ta.stream,Ja=ta.blocks);ta=ta.Ye;0 < I && l.sb(ta) && Ba.Ma && da.add(Ba.Ma.kr.subarray(ta,ta + Ja));X7q=4;break;}}});return 0 < O || 0 < I?(0,n.default)({oEb:da,blocks:F + O + I,zd:B,wm:D,W_b:C,Yq:H,Uk:E,Ye:F,ODb:F + O,g3:N,AWa:K,ub:L / J,HPb:P,IB:u.IB,lMb:u.N9,hBb:!1}):L > y.rv?{result:!0,tU:0,av:!0}:{result:!1,tU:0,av:!0};break;case 6:x2L=!L || L < y.bitrate * J * u.gna || !la?14:13;break;case 13:X || (R=y);da=new m.wKa(A);O=Math.max(0,Math.min(O,y.Ma.length - G));x2L=10;break;case 2:var i19="First ";i19+="stre";i19+="am undef";i19+="ined";y=x[0].stream;R=null === (L=z[0]) || void 0 === L?void 0:L.stream;p(y,i19);L=y.ub;(ka=D - B,la=y.Ma && y.Ma.length,X=(null === R || void 0 === R?void 0:R.Ma) && (null === R || void 0 === R?void 0:R.Ma.length));p(A.length === F);x2L=7;break;case 7:u.vpa && (P=Math.min(P,ka));x2L=6;break;case 14:return !1;break;}}}function w(u,y,x){var s_J,z;s_J=2;for(;s_J !== 3;){switch(s_J){case 2:s_J=!x.ub?1:5;break;case 8:s_J=-x.ub?4:4;break;case 1:return u.k3a;break;case 5:z=(x.$1b || x.ub) / x.ub;return 1 >= z?u.Opa:Math.min(Math.max((u.R_b * Math.min(8 * y / x.bitrate,u.YF) - u.fy) / (z - 1),u.k3a),u.Opa);break;case 7:return u.k3a;break;}}}})(),c.Ql);b.w5=c.w5;b.Vja=c.Vja;},function(r,b,a){var g,h,d,f,n,k;function c(m,p,q,v){f(!g.bi(v),"Must have at least one selected stream");return new k(v);}function l(m,p,q,v){f(!g.bi(v),"Must have at least one selected stream");return new k(v);}g=a(24);b=a(33);h=b.console;d=b.debug;f=b.assert;n=b.nL;k=b.kn;r.exports={STARTING:function(m,p,q){var t,w,u,y;function v(x,z){var A,B,C,D;A=x.id;B=x.bitrate;C=x.ub || 0;D=!!C;d && h.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!x.uB)return (d && !x.Jq && h.log("  Not available"),d && x.bB && h.log("  Failed"),!1);if(B > m.CU)return (d && h.log("  Above maxInitAudioBitrate (" + m.CU + " Kbps)"),!1);if(!(B * m.M6 / 8 < p.buffer.uE))return (d && h.log("  audio buffer too small to handle this stream"),!1);if(D){d && h.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(B * p.playbackRate < C / w)return (d && h.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && h.log(" bitrate requires more than available throughput");return !1;}x=m.OU;p.HLb && (x=Math.max(x,m.K6));if(B <= x)return (d && h.log("  Bitrate is less than max of minInitAudioBitrate (" + m.OU + " Kbps) " + (p.HLb?" and also minHCInitAudioBitrate (" + m.K6 + " Kbps)":"")),d && h.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && h.log("  No throughput history");return !1;}t=new k();w=m.qac || 1;y=q.first;for(u=y.length - 1;0 <= u;--u){q=y[u];if(v(q,u)){t.Mh=u;break;}n(q) && (t.Mh=u);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p){return p === d.v.Z?0:p === d.v.ga?1:p === d.v.Za?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.uaa=b.kz=b.kib=b.DH=void 0;l=a(0);g=a(13);h=a(9);d=a(7);f=l.__importDefault(a(5));n=a(10);k=a(4);b.DH=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.kib={DH:b.DH};(function(p){p[p.rO=0]="CREATED";p[p.jO=1]="CANCELLED";})(m=b.kz || (b.kz={}));r=(function(){function p(q,v,t,w,u){this.ej=q;this.XMa=v;this.ku=t;this.Km=w;this.wc=m.rO;this.kJ=[];this.events=new g.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,n.gi)(f.default,u,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uf:{get:function(){return this.wc === m.jO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{u:{get:function(){return this.ej;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Od:{get:function(){return this.kJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.XMa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var q,v,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Kb && (v=q.Kb.wa(this.Km),this.Vv(v,"init from parent")),q.QN.then(function(){var w;if(!t.Uf){w=t.parent;(0,k.assert)(w,"Parent is undefined after parent normalization");w.Kb && (w=w.Kb.wa(t.Km),t.Vv(w,"parent normalization"));}}));return [2];});});};p.prototype.Vv=function(q,v){void 0 === v && (v="unknown");h.I && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.ku.G,".  ").concat(v));this.ku=q;};p.prototype.Gf=function(){this.XMa=void 0;};p.prototype.S4=function(q){return this.Od.some(function(v){return v.mediaType === q;});};return p;})();b.uaa=r;},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.daa=void 0;c=a(0);l=c.__importDefault(a(5)).default.Wt;a(10);g=a(4);h=a(184);d=a(258);f=a(427);n=a(91);r=(function(k){function m(p,q,v,t,w,u,y,x,z){var A,B;q=k.call(this,p,t,w,q,u,z) || this;q.Amb=("AseLiveTextAndVideoMediaRequest(").concat(null === (A=q.La) || void 0 === A?void 0:A.G,"-").concat(null === (B=q.Wa) || void 0 === B?void 0:B.G,")");(0,g.assert)(t.Jh);q.lQ=t.Jh;A=l.re && !l.re.kW.vP?0:1;A=c.__assign(c.__assign({},t),{responseType:A});p=new d.cY(p,v,A,q,!1,q.Yd,q.S,q.v4);q.push(p);y=y.Ug[0];x=x.track;t=c.__assign(c.__assign({},t),{responseType:0,kb:q.La.Nd(y.T).xa,nb:q.Wa.Nd(y.T).xa,T:y.T});t=new f.eaa(y,x,t,q,q.Yd,q.S);q.push(t);return q;}c.__extends(m,k);m.prototype.hH=function(){var p;p=this;this.Ata();return this.Ja.every(function(q){var v;if(5 === q.readyState || 7 === q.readyState)return !0;v=q.stream.TK(p.Ad,p.lQ);return q.hH(v);});};m.prototype.Kl=function(p){h.Dr.prototype.Kl.call(this,p);};m.prototype.ry=function(p,q,v){h.Dr.prototype.ry.call(this,p,q,v);};m.prototype.hq=function(p,q,v){var t,w,u;if(this.kd)return {status:n.kf.Zm};if(!this.qj())return {status:n.kf.wh};t=this.Ja[0];if(t.qj()){w=t.hq(p,q,v);if(w.status === n.kf.wh)return w;}u=this.Ja[1];if(u.qj() && (w=u.hq(p,q,v),w.status === n.kf.wh))return w;this.kd=t.kd && u.kd;return {status:this.kd?n.kf.Zm:n.kf.b_};};m.prototype.VXb=function(){return this.Ja.map(function(p){return p.response;});};return m;})(h.Dr);b.daa=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.eaa=void 0;c=a(0);l=c.__importDefault(a(5));g=a(4);r=a(258);h=a(91);a=(function(d){function f(n,k,m,p,q,v){k=d.call(this,n,k,m,p,!1,q,v) || this;k.DOa=0;(0,g.assert)(0 === m.responseType);(0,g.assert)(m.Jh);k.lQ=m.Jh;k.gq=1E3 * m.kb / m.T;k.Vlb=1E3 * m.nb / m.T;n=n.Qn();k.DOa=n.c8.G;return k;}c.__extends(f,d);f.prototype.hq=function(n){var k;if(this.kd)return {status:h.kf.Zm};k=new Uint8Array(this.response);k=l.default.sja(k);(0,g.assert)(k);k={type:"subtitleData",J:this.lQ,gb:this.gq,Vf:this.Vlb,xG:this.DOa,Z2b:k};n.events.emit(k.type,k);this.kd=!0;this.WV();return {status:h.kf.Zm};};return f;})(r.cY);b.eaa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dma=b.wqb=void 0;b.wqb=function(a){return a.SM;};b.dma=function(a,c){return void 0 !== a.H6?a.H6:c && void 0 !== c.H6?c.H6:100;};},function(r,b,a){var g,h,d,f;function c(n,k,m,p,q){var v,t;m=null !== (v=k.Xe) && void 0 !== v?v:k.track.Fs(n,m.G,void 0,q);n=null !== (t=k.ef) && void 0 !== t?t:k.track.wK(n,null === p || void 0 === p?void 0:p.G,k.Rk);return [!k.Ng(),m,n];}function l(n,k){var C,D;for(var m=[],p=0,q=n[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=k.ef.index,u=k.track.qo,y=0,x=k.Xe.La,z=k.Xe.Wa.G > q[0],A=z,B=k.Xe.index;B <= w;++B){C=!1;if(q){D=u.get(B);z && (D.La.G >= t?(z=!1,++p >= n.length?t=v=q=void 0:(q=n[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(m.push(new d.s_(y,x,D.La)),x=D.La,C=!0));!z && q && D.Wa.G > v && (z=!0,C=D.La,(D=k.track.EF.Pn(B).bWa(v)) && 0 !== D.Aj && (C=f.N.Na(D.hf)),m.push(new d.s_(y,x,C)),x=C,C=!0);}C && ++y;}m.push(new d.s_(y,x,k.ef.Wa));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.EOb=b.k2a=b.Z3a=b.W3a=b.hta=void 0;g=a(0);h=a(7);d=a(430);f=a(10);b.hta=function(n,k,m){var p,q,v;v=k.get(h.v.ga);k=k.get(h.v.Z);k=null === k || void 0 === k?void 0:k.track.wK(n,null === m || void 0 === m?void 0:m.G,k.Rk);return [null === v || void 0 === v?void 0:v.track.wK(n,null !== (q=null === (p=null === k || void 0 === k?void 0:k.Wa) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === m || void 0 === m?void 0:m.G,v.Rk),k];};b.W3a=function(n,k,m,p,q){var v,t,w,u;v=k.get(h.v.ga);k=k.get(h.v.Z);t=g.__read(k?c(n,k,m,p,q):[!1],3);w=t[0];u=t[1];t=t[2];p=g.__read(v?c(n,v,w && void 0 !== (null === u || void 0 === u?void 0:u.La)?u.La:m,void 0 !== (null === t || void 0 === t?void 0:t.Wa)?t.Wa:p,q):[!1],3);n=p[0];m=p[1];p=p[2];n && (null === v || void 0 === v?void 0:v.o5(m,p));w && (null === k || void 0 === k?void 0:k.o5(u,t));return [n,w];};b.Z3a=function(n,k,m){return k.track.Fs(n,m.G,void 0,!0).La;};b.k2a=function(n,k,m){var p;p=k.u;if(!p.vq || 0 === p.vq.length)return [];n=p.vq.map(function(q){return [p.sa + q[0],p.sa + q[1]];});return l(n,m.qsa);};b.EOb=l;},function(r,b,a){var l,g,h;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.YIa=b.s_=b.c0a=void 0;l=a(0);g=a(10);h=a(4);b.c0a=c;r=(function(){function d(f,n,k){this.region=f;this.La=n;this.Wa=k;}d.prototype.toJSON=function(){return {region:this.region,gb:this.La.yy,Vf:this.Wa.yy};};return d;})();b.s_=r;r=(function(){function d(f,n,k){var m;m=this;this.id=f;this.ej=n;this.KNa=!1;this.F4=function(p){var q,v,t,w;return (null === (q=m.Iv) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (t=null === (v=m.u.next) || void 0 === v?void 0:v[p]) || void 0 === t?void 0:t.Pd) && void 0 !== w?w:m.Pd;};this.VKb(n);this.A_a(n,k);this.y_a();(0,h.assert)(this.JQ.lessThan(this.ZP),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{u:{get:function(){return this.ej;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{K:{get:function(){return this.u.K;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fo:{get:function(){return this.KNa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Je:{get:function(){return this.JQ;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ag:{get:function(){return this.ZP;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.ZP.wa(this.JQ);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gb:{get:function(){return this.JQ.G;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vf:{get:function(){return this.ZP.G;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gUb:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bX:{get:function(){return this.py.length?!this.u.Hb && 0 === this.UL.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{f0a:{get:function(){return !this.u.type || "content" === this.u.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yQb:{get:function(){return this.Qz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{py:{get:function(){var f,n;return Object.keys(null !== (n=null === (f=this.u) || void 0 === f?void 0:f.next) && void 0 !== n?n:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{UL:{get:function(){var f;f=this;return this.py.filter(function(n){return !!f.Qz[n];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bva:{get:function(){var f;return null !== (f=this.zOa) && void 0 !== f?f:this.zOa=this.vtb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{O9:{get:function(){var f;return null !== (f=this.AOa) && void 0 !== f?f:this.AOa=this.wtb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ly:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.O9):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pd:{get:function(){var f;return (null === (f=this.Iv) || void 0 === f?0:f.length)?"immediate":this.a1;},enumerable:!1,configurable:!0}});d.prototype.VKb=function(f){var n;this.JQ=new g.N(f.sa,1E3);this.ZP=void 0 !== f.qa && null !== f.qa?new g.N(f.qa,1E3):g.N.Iq;this.a1=null !== (n=this.ej.Pd) && void 0 !== n?n:this.a1;};d.prototype.A_a=function(f,n){var k,m,p;this.a1=null !== (p=null !== (m=null !== (k=f.Pd) && void 0 !== k?k:n) && void 0 !== m?m:this.a1) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(f,n,k){this.JQ=f;this.ZP=n;this.Iv=k;this.KNa=!0;this.Kcb();};d.prototype.update=function(f){(0,h.assert)(f.K === this.ej.K,"Cannot change the viewable id of a segment");(0,h.assert)(f.sa === this.ej.sa,"Cannot change the start time of a segment");(0,h.assert)(f.type === this.ej.type,"Cannot change the type of a segment");if(f.qa !== this.ej.qa)return !1;f.Pd !== this.ej.Pd && this.A_a(f);this.ej=f;return !0;};d.prototype.pXa=function(){var f;return this.UL.length?null !== (f=this.UL.map(this.F4).reduce(function(n,k){return n === k?k:void 0;})) && void 0 !== f?f:this.Pd:this.Pd;};d.prototype.Ti=function(f){this.y_a(f);};d.prototype.ltb=function(f){var n,k;if(this.Bva){n=(this.Qz[f] || 0) / this.Bva;if(void 0 === this.u.weight || 0 === this.O9)return {jf:n};k=this.Ly;return 1 !== k && c(this.F4(f)) && this.Qz[f]?{jf:k * n,eB:this.Qz[f] / this.O9 * (1 - k)}:{jf:k * n};}return {jf:(null === (n=this.u.next) || void 0 === n?0:n[f])?1 / this.py.length:0};};d.prototype.sJb=function(f){return -1 < this.py.indexOf(f);};d.prototype.Sqb=function(){return this.fo?l.__assign(l.__assign({},this.u),{sa:this.Je.G,qa:this.Ag.G}):this.u;};d.prototype.y_a=function(f){var n;if(void 0 === this.u.next)this.Qz={};else {n=this.u.next;this.Qz=Object.keys(n).reduce(function(k,m){var p;p=f?f[m] || 0:n[m].weight;void 0 !== p && null !== p && 0 <= p && (k[m]=p);return k;},{});}this.Kcb();};d.prototype.vtb=function(){var f;f=this;return this.UL.reduce(function(n,k){return n + f.Qz[k];},0);};d.prototype.wtb=function(){var f;f=this;return this.UL.filter(function(n){return c(f.F4(n));}).reduce(function(n,k){return n + f.Qz[k];},0);};d.prototype.Kcb=function(){this.AOa=this.zOa=void 0;};return d;})();b.YIa=r;},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cda=void 0;c=a(0);l=a(13);g=a(10);h=a(4);d=a(7);r=a(128);f=c.__importDefault(a(5));n=a(9);k=r.Av.vja;a=(function(){function m(){this.hM=[];this.Pz=new g.Cw(!1);this.Mz=new g.Cw(g.N.Na(-Infinity));this.Y_=new g.Cw(g.N.Na(-Infinity));this.events=new l.EventEmitter();this.S=new f.default.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{he:{get:function(){return this.Xw;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{d1a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$k:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aC:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.RK();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{PPa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Tq:{get:function(){return this.Pz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P5:{get:function(){return this.Mz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oq:{get:function(){return this.Y_;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ae:{get:function(){return this.Dq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ed:{get:function(){return this.lF();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zg:{get:function(){var p,q;p=this.Ed;q=this.Mk(p,!1);n.I && (0,h.assert)(q,("Could not find current branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{NKb:{get:function(){return this.Ta[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Nq:{get:function(){return this.Dq?this.Ta[this.Ta.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ay:{get:function(){var p,q;p=this.Ed;q=this.RS(p);(0,h.assert)(q,("Could not find presenting branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dq:{get:function(){return 0 < this.Ta.length;},enumerable:!1,configurable:!0}});m.prototype.f9a=function(){};m.prototype.e9a=function(){};m.prototype.Wh=function(){return !1;};m.prototype.V4=function(){return 0 < this.Ta.length;};m.prototype.Rn=function(){(0,h.assert)(0 < this.Ta.length,"Could not find presenting branch. Player has no branches.");return this.Ay;};m.prototype.nZa=function(p){return -1 !== this.Ta.indexOf(p);};m.prototype.H1=function(){return void 0 !== this.Fa?!1:!0;};m.prototype.bM=function(){};m.prototype.Ra=function(){};m.prototype.$K=function(p){var q,v,t;q=this.Ta.filter(function(w){return w.u.id === p.J;});if(0 !== q.length){v=this.lF();t=new g.N(Infinity,1);q.forEach(function(w){w=w.$q.add(p.offset);v.$J(w).lessThan(v.$J(t)) && (t=w);});return t;}};m.prototype.uT=function(p){var q,v,t,w,u,y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:q=this.Ta.filter(function(D){return D.u.id === p.J;});if(0 === q.length)return [2,void 0];v=this.lF();C.label=1;case 1:(C.Wm.push([1,6,7,8]),t=c.__values(q),w=t.next(),C.label=2);case 2:if(w.done)return [3,5];u=w.value;y=u.$q.add(p.offset);x=v.$J(y);return [4,{jo:y,$J:x}];case 3:(C.cb(),C.label=4);case 4:return (w=t.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.cb(),A={error:z},[3,8]);case 7:try{w && !w.done && (B=t.return) && B.call(t);}finally{if(A)throw A.error;}return [7];case 8:return [2];}});};m.prototype.Mk=function(p,q){var v,t,w;void 0 === q && (q=!1);v=this.RS(p,q);if(v){t=v.u;q=t.id;w=t.duration;p=g.N.min(p.wa(t.Je.add(v.pe)),w || g.N.Iq);return {J:q,offset:p};}};m.prototype.reset=function(){this.uA();};m.prototype.Bta=function(){};m.prototype.LM=function(){};Object.defineProperties(m.prototype,{WG:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.pause=function(p){void 0 === p && (p=d.uz);this.hM=null === p || void 0 === p?void 0:p.reduce(function(q,v){-1 === q.indexOf(v) && q.push(v);return q;},this.hM);};m.prototype.resume=function(p){var q;q=this;void 0 === p && (p=d.uz);p.forEach(function(v){v=q.hM.indexOf(v);-1 !== v && q.hM.splice(v,1);});};m.prototype.$va=function(p){var q;(0,h.assert)(this.Fa);(0,h.assert)(p !== this);this.cH();q=p.H1(this.Fa,this);q && (this.i8(),p.pause(this.hM),p.hka.apply(p,c.__spreadArray([],c.__read(this.Ta),!1)),this.Dja(this.Fa));return q;};m.prototype.lF=function(){return this.NXa();};m.prototype.NXa=function(){var p,q;n.I && (0,h.assert)(this.Dq,"Attempted to get initial time before any branches were queued");q=c.__read(this.Ta,1)[0];n.I && (0,h.assert)(q);return null !== (p=q.Bb) && void 0 !== p?p:q.Xx;};m.prototype.RK=function(){return 1;};m.prototype.pF=function(){};m.prototype.RS=function(p,q){var v;void 0 === q && (q=!1);if(this.Dq){v=this.NXa();return p.lessThan(v)?this.Ta[0]:(0,g.Rka)(this.Ta,p) || (q?this.Nq:void 0);}};m.prototype.DFb=function(){var p,q,w,u,y,x,z,A;q={};try{for(var v=c.__values(this.Ta),t=v.next();!t.done;t=v.next()){w=t.value;u=void 0;y=void 0;x=w.EK();for(u in x){z=u;A=x[z];A && (q[z]=(null !== (y=q[z]) && void 0 !== y?y:0) + A);}if(!w.ij)break;}}catch(C){var B;B={error:C};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(B)throw B.error;}}return q;};c.__decorate([k.return.oh(),k.return.k7],m.prototype,"d1a",null);c.__decorate([k.return.oh()],m.prototype,"zg",null);c.__decorate([k.return.yha(),k.return.Ul],m.prototype,"Rn",null);c.__decorate([c.__param(0,k.oh())],m.prototype,"$K",null);c.__decorate([c.__param(0,k.oh())],m.prototype,"uT",null);c.__decorate([k.return.oh()],m.prototype,"Mk",null);return m;})();b.cda=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.N8=void 0;c=a(0);l=a(4);g=a(185);b.N8=function(h,d,f,n,k,m){var p,q;void 0 === k && (k=g.Vt.cS);p=h();if(n && p){q=n.Jga;h=n.Ul;n=n.rules.map(function(v){return ["function" === typeof v.zj?v.zj(f):f[v.zj],v.config];});q || (0,l.assert)(d,"Param is null");m && n.push([{map:m,kx:function(){return !0;}},void 0]);m=n.filter(function(v){v=c.__read(v,2);return v[0].kx(d,p,v[1]);});h && (0,l.assert)(m.length,("No rules matched for ").concat(d));if(m.length)return m.reduce(function(v,t){t=c.__read(t,2);return t[0].map(v,k,p,t[1]);},d);}return d;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(434),b);r.__exportStar(a(1054),b);r.__exportStar(a(393),b);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Z$=void 0;c=a(66);r=(function(){function l(g){this.af=g;this.TT=this.pp=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.af.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.N.Na(this.af.sa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.N.Na(this.af.qa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{dA:{get:function(){return this.af.dA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{V9:{get:function(){return this.af.V9;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Rs:{get:function(){return this.af.Rs;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rN:{get:function(){return this.af.rN;},enumerable:!1,configurable:!0}});return l;})();b.Z$=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VWa=b.pYa=b.Ala=b.LJa=void 0;c=a(0);l=a(9);g=a(28);r=(function(){function h(d){this.xb=d;}Object.defineProperties(h.prototype,{nd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wq:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return l.I;},enumerable:!1,configurable:!0}});h.prototype.pj=function(d){var f,n,p;d=d.rj;if(d === g.pc.mj || d === g.pc.Zl)if(d=this.xb.vla()){n={};try{for(var k=c.__values(d.QTb),m=k.next();!m.done;m=k.next()){p=m.value;n[p.mediaType]=this.AOb(p);}}catch(v){var q;q={error:v};}finally{try{m && !m.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.VWa)(d.SVb),playerIterator:n,driftStats:this.xb.Twa};}};h.prototype.AOb=function(d){return null === d || void 0 === d?void 0:d.PXa();};return h;})();b.LJa=r;b.Ala=function(h){var d,f;if(h){d=h.u;f={};h.Ls().forEach(function(n){f[n.mediaType]=(0,b.pYa)(n);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:h.Uf,RM:f};}return h;};b.pYa=function(h){var d,f,n;if(h && h.Ic)return c.__assign(c.__assign({},h.Ic.CYa()),{unsentRequests:h.Ic.AH,lastFragmentContentEndPts:null === (d=h.ef) || void 0 === d?void 0:d.Wa.G,trackAttributes:null === (f=h.track) || void 0 === f?void 0:f.Hm(),bitrate:null === (n=h.ef) || void 0 === n?void 0:n.bitrate});};b.VWa=function(h){return h.map(function(d){return (0,b.Ala)(d);});};},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Tta=b.lia=b.Mk=b.hZa=b.kcb=void 0;c=a(10);l=a(4);g=a(9);b.kcb=function(d,f){d=d.L[f.J];if(void 0 === d)return {pL:!1,reason:("Segment ").concat(f.J," was not found")};if(0 > f.offset.G)return {pL:!1,reason:("Offset ").concat(f.offset.G," was negative")};if(void 0 === d.qa || null === d.qa || Infinity === d.qa)return {pL:!0};d=d.qa - d.sa;return f.offset.G >= d?{pL:!1,reason:("Offset ").concat(f.offset.G," was greater than segment duration ").concat(d)}:{pL:!0};};h=c.N.Na(100);b.hZa=function(d,f){if(d === f)return !0;if(d && f && d.J === f.J){if(d.offset === f.offset)return !0;d=c.N.abs(d.offset.wa(f.offset));if(h.greaterThan(d))return !0;}return !1;};b.Mk=function(d,f,n){var k,m,p,q;p=f.Fa;f=f.OKb;void 0 === n && (n={});q=p.fa;p=p.navigator;q=p.Hd(null !== (k=null === f || void 0 === f?void 0:f.id) && void 0 !== k?k:q.ce);k=null !== (m=null === f || void 0 === f?void 0:f.QYb) && void 0 !== m?m:q.Je;if(k.greaterThan(d))return n.$_b?{offset:d.wa(k),J:q.id}:void 0;f=p.M0a(q);for(p=f.next();!p.done;){m=p.value;p=m.Ag.wa(m.Je);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.wa(q),g.I && (0,l.assert)(d.$h(c.N.Ia) && d.lessThan(p)),{J:m.id,offset:d});p=f.next();if(p.done && n.a0b)return {J:m.id,offset:d.wa(q)};}};b.lia=function(d,f){f=f.L[d.J];return d.offset.lessThan(c.N.Ia)?{i2:c.N.Ia,Gn:d.offset}:f.qa && (f=c.N.Na(f.qa - f.sa),f.isFinite() && d.offset.greaterThan(f))?{i2:f,Gn:d.offset.wa(f)}:{i2:d.offset,Gn:c.N.Ia};};b.Tta=function(d,f){d=d.L[f.J];if(void 0 !== d)return null === d.qa || void 0 === d.qa?{J:f.J,offset:c.N.max(c.N.Ia,f.offset)}:{J:f.J,offset:c.N.max(c.N.Ia,c.N.min(f.offset,c.N.Na(d.qa - d.sa)))};};},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fca=void 0;c=a(0);r=c.__importStar(a(101));l=c.__importDefault(a(5));a=a(154);g=r.KJ;h=r.MRa;d=r.u3;f=r.wVa;n=r.v8a;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var r5f;r5f=2;for(;r5f !== 5;){switch(r5f){case 3:c.__extends(m,k);return m;break;case 2:c.__extends(m,k);return m;break;}}function m(p,q){var G5j,v;G5j=2;for(;G5j !== 13;){switch(G5j){case 6:var K6p="1S";K6p+="IYbZrNJC";K6p+="p9";K6p;return v;break;case 3:v.Urb=g(p.ns.gamma || 1,.1,10);v.filter=p.ns.filter;v.Q_b=!!p.ns.simpleScaling;p.ns.niqrfilter && p.ns.niqrcurve && (v.P3a=p.ns.niqrfilter,v.AQb=h(p.ns.niqrcurve,1,0,4));G5j=6;break;case 1:v.FV=function(t,w,u,y){var P4Q,x,z,A;P4Q=2;for(;P4Q !== 12;){switch(P4Q){case 2:y=null !== y && void 0 !== y?y:v.l6;A=v.Im(t,u);u=v.Tua(u)?A:(null === (x=t[v.filter]) || void 0 === x?void 0:x.Da) || A;x=Math.pow(Math.max(1 - u / v.Xrb,0),v.Urb);u=w.wm - w.zd;P4Q=8;break;case 8:v.Q_b?(w=d(v.xTa,u,1),u=d(v.wTa,u,1),w=w * x + u * (1 - x)):w=d(n(v.xTa,v.wTa,x),u,1);t=v.P3a && (null === (z=t[v.P3a]) || void 0 === z?void 0:z.Aqa);void 0 !== t && (z=f(v.AQb,t),w=Math.min(w * z,1));R7xOY.g6M(7);z=v.mUa(R7xOY.G5G(A,w,1),y);return {lower:z,upper:z * v.config.Awa};break;}}};Array.isArray(p.ns.curves) && (v.xTa=h(p.ns.curves[0],0,0,1),v.wTa=h(p.ns.curves[1],0,0,1));v.Xrb=g(p.ns.threshold || 6E3,1,1E5);G5j=3;break;case 2:v=k.call(this,p,q) || this;G5j=1;break;}}}})(a.jz);b.fca=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Sga=b.gsa=b.vVa=void 0;c=a(101);b.vVa=function(l,g,h){var d,f,n;d=0;if(h){l.some(function(k){var m;m=k.b;k=k.m;if(g <= m)return (d=n && m !== f?n + (k - n) / (m - f) * (g - f):k,!0);f=m;d=n=k;return !1;});}else l.some(function(k){d=k.m;return g <= k.b;});return d;};b.gsa=function(l,g,h){var d;g=(null === (d=g.ub) || void 0 === d?void 0:d.Da) || 0;return l.zQa?(l=(0,c.u3)(l.yQa,h.wm - h.zd,1),g * (1 - l)):g * l.dX / 100;};b.Sga=function(l,g){return l < 2 * g?l / 2:l - g;};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.h6a=b.L_=void 0;a(0);c=a(9);l=a(440);g=a(4);a(19);r=(function(){function h(){this.P=new l.nda();}Object.defineProperties(h.prototype,{empty:{get:function(){return !this.Mv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{root:{get:function(){var d;return null === (d=this.Mv) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{values:{get:function(){var d;d=[];this.bF(function(f){return !!d.push(f);});return d;},enumerable:!1,configurable:!0}});h.prototype.has=function(d){return !!this.P.get(d);};h.prototype.parent=function(d){var f;d=this.P.get(d);c.I && (0,g.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (f=null === d || void 0 === d?void 0:d.parent) || void 0 === f?void 0:f.value;};h.prototype.children=function(d){d=this.P.get(d);c.I && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(f){return f.value;}):[];};h.prototype.Xma=function(d){d=this.P.get(d);c.I && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};h.prototype.add=function(d,f){var n;c.I && (0,g.assert)(!this.P.get(d),"Attempted to add a value to tree that is already present");n={value:d};void 0 === this.Mv?(c.I && (0,g.assert)(void 0 === f,"a parent cannot be specified when the tree is empty"),this.Mv=n):(c.I && (0,g.assert)(void 0 !== f,"a parent must be specified when the tree is non-empty"),f=this.P.get(f),c.I && (0,g.assert)(f,"Parent value does not exist in tree"),this.kQa(n,f));this.P.set(d,n);return this;};h.prototype.remove=function(d){d=this.P.get(d);c.I && (0,g.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};h.prototype.removeNode=function(d){var f;f=this;this.cla(function(n){return f.P.delete(n);},d.value);void 0 === d.parent?this.Mv=void 0:this.detach(d);};h.prototype.move=function(d,f){d=this.P.get(d);f=this.P.get(f);c.I && (0,g.assert)(d,"cannot move a value that is not in the tree");c.I && (0,g.assert)(f,"cannot move a value to a parent value not in the tree");c.I && (0,g.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.I && (0,g.assert)(!this.lLb(d,f),"cannot move a node below itself or one of its decendants");d.parent !== f && (this.detach(d),this.kQa(d,f));return this;};h.prototype.lXb=function(d){var f,n;f=this;d=this.P.get(d);c.I && (0,g.assert)(d,"cannot replant at a value that is not in the tree");n=[];this.detach(d);this.cla(function(k){f.P.delete(k);n.unshift(k);return !0;});this.Mv=d;};h.prototype.clear=function(){this.Mv && this.remove(this.Mv.value);return this;};h.prototype.oWa=function(d,f){var n,k;n=this;d=this.P.get(d);c.I && (0,g.assert)(d,"cannot iterate children of a value not in the tree");null === (k=d.children) || void 0 === k?void 0:k.forEach(function(m){return f(m.value,n);});};h.prototype.d0b=function(d,f){var n,k;n=this;d=this.P.get(d);c.I && (0,g.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (k=d.children) || void 0 === k || !k.some(function(m){return f(m.value,n);}));};h.prototype.bF=function(d){this.pWa(d,void 0);};h.prototype.pWa=function(d,f,n,k){var m;m=this;void 0 === k && (k=0);c.I && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (f=null !== f && void 0 !== f?f:this.Mv.value,d(f,n,this,k) && this.oWa(f,function(p){return m.pWa(d,p,f,k + 1);}));};h.prototype.cla=function(d,f){var n;n=this;c.I && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (null !== f && void 0 !== f?f:f=this.Mv.value,this.oWa(f,function(k){return n.cla(d,k);}),d(f,this));};h.prototype.$Va=function(d,f){var n,k;n=this;c.I && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");if(!this.empty){null !== f && void 0 !== f?f:f=this.Mv.value;return this.d0b(f,function(m){return !!(k=n.$Va(d,m));})?k:d(f,this)?f:void 0;}};h.prototype.bAb=function(d){var f,n,k,m;f=this;n=this.values;k=n.filter(function(p){return !d.has(p);});m=d.values.filter(function(p){return !f.has(p);});n=n.filter(function(p){return d.has(p) && f.parent(p) !== d.parent(p);});return {Aga:k,DM:m,F7a:n};};h.prototype.kQa=function(d,f){var n;d.parent=f;(null !== (n=f.children) && void 0 !== n?n:f.children=[]).push(d);};h.prototype.detach=function(d){var f;c.I && (0,g.assert)(d.parent,"cannot detach the root");c.I && (0,g.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");f=d.parent.children.indexOf(d);(0,g.assert)(0 <= f,"logic error: node does not appear in the children of its parent");d.parent.children.splice(f,1);d.parent=void 0;};h.prototype.lLb=function(d,f){for(;void 0 !== f;){if(f === d)return !0;f=f.parent;}return !1;};return h;})();b.L_=r;b.h6a=function(h,d){var f;f="";h.bF(function(n,k,m,p){f+=("").concat(Array(p + 1).join("-")).concat(d(n),"\n");return !0;});return f;};},function(r,b){var l,g,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.mMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{mMa:{value:{},configurable:!1,enumerable:!1}})).mMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.nda=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;h=Date.now() % g;r=(function(){function d(){this.id=h=(h + 1) % g;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,n){c(f)[this.id]=n;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.nda=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.sca=void 0;c=a(0);l=a(13);g=a(9);h=a(4);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.oa=function(f){var n;n=this;this.Fa=f;this.Fa.events.on("segmentNormalized",function(){n.s8();});this.s8();};Object.defineProperties(d.prototype,{YU:{get:function(){return this.nnb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{owa:{get:function(){(0,h.assert)(this.Fa,"Must be initialized");return this.Fa.fa;},enumerable:!1,configurable:!0}});d.prototype.s8=function(){var f,n,k;f=this;if(this.Fa){n={};k=this.Fa.fa;this.nnb=c.__assign(c.__assign({},k),{L:new Proxy(k.L,{get:function(m,p){var q;if(n[p])return n[p];m=k.L[p];if(!m)return m;q=f.DHb(p);q?(q=q.Sqb(),n[p]=c.__assign(c.__assign(c.__assign({},q),m),{sa:q.sa,qa:q.qa})):n[p]=k.L[p];return n[p];}})});this.events.emit("updated");}};d.prototype.DHb=function(f){var n;g.I && (0,h.assert)(this.Fa,"Must be initialized");n=this.Fa.navigator;return n.zZa(f)?n.Hd(f):void 0;};return d;})();b.sca=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.mba=void 0;c=a(0);l=a(36);g=a(21);h=c.__importDefault(a(5));d=a(72);f=a(436);n=a(4);k=a(1083);m=a(9);p=a(443);r=(function(){function q(v,t,w,u){var x,z;function y(A,B){return A.J === B.J && A.offset.equal(B.offset);}x=this;this.Uw=v;this.X_=t;this.config=w;this.console=new h.default.Console("GRAPHLOCATIONSERVICE");this.Yg=new d.gu({Pm:this,source:(u || "") + "GraphLocation",console:this.console});(0,p.Xsa)(this,"d",new p.Xba(w,y));(0,p.Xsa)(this,"u",new p.Xba(w,y));"temp" !== u && (null === (z=this.X_.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.bXa)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.Uw();},enumerable:!1,configurable:!0}});q.prototype.icb=function(v,t){return new q(function(){return v;},{YU:t,owa:t},this.config,"temp");};q.prototype.Fx=function(v){var t,w,u;m.I && this.console.trace("downConverting",v);t=this.parent;w=this.X_;u=w.YU;if(t === w.owa)return v;if(u.L[v.J])return (t.L[v.J] || m.I && this.console.warn("Received a down converted position unexpectedly",v,Error().stack),v);w=(0,f.lia)(v,t);v=(0,l.jcb)(t,u,{offset:w.i2.G,u:v.J});v={offset:w.Gn.add(g.N.Na(v.offset)),J:v.u};m.I && this.console.trace("downConverting ret:",v);return v;};q.prototype.Ft=function(v){var t,w,u;m.I && this.console.trace("upConverting",v);t=this.parent;w=this.X_;u=w.YU;if(t === w.owa)return v;if(t.L[v.J])return (u.L[v.J] || m.I && this.console.warn("Received a up converted position unexpectedly",v,Error().stack),v);w=(0,f.lia)(v,u);v=(0,l.iSa)(t,u,{offset:w.i2.G,u:v.J});v={offset:w.Gn.add(g.N.Na(v.offset)),J:v.u};m.I && this.console.trace("upConverting ret:",v);return v;};q.prototype.GGb=function(v){var t;t=(0,l.iXa)(this.parent,this.X_.YU,{u:v.J,offset:v.offset.G});t=(0,k.a1a)(t);(0,n.assert)(t,("Could not find any segments in the path of ").concat(v));return t;};c.__decorate([(0,d.Pb)({methodName:"downConvertPosition",Vj:!0,iq:!0,return:!0}),(0,p.Kha)("d")],q.prototype,"Fx",null);c.__decorate([(0,d.Pb)({methodName:"upConvertPosition",Vj:!0,iq:!0,return:!0}),(0,p.Kha)("u")],q.prototype,"Ft",null);return q;})();b.mba=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZWa=b.bXa=b.Xsa=b.Kha=b.Xba=void 0;c=a(0);l=c.__importDefault(a(5));g=a(4);h=a(10);r=(function(){function f(n,k,m){void 0 === m && (m={});this.config=n;this.kCb=k;this.eh=[];this.Jha=new h.oD();this.$Qa=new h.oD();this.options=c.__assign({$n:10},m);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.eBb;},enumerable:!1,configurable:!0}});f.prototype.fma=function(n,k){var m;if(!this.isEnabled)return k();m=this.bFb(n);if(m)return m.value;k=k();this.Qs(n,k);return k;};f.prototype.findIndex=function(n){var k,m,p,q;k=Infinity;m=Infinity;if(this.options.SQ || this.options.BM){p=l.default.time.Ca();this.options.BM && (k=p - this.options.BM);this.options.SQ && (m=p - this.options.SQ);}for(p=0;p < this.eh.length;p++){q=this.eh[p];if(this.options.BM && q.l1a < k){this.eh.splice(p,this.eh.length - p);break;}if(this.options.SQ && q.En < m)(this.eh.splice(p,1),p--);else if(this.kCb(q.key,n))return p;}return -1;};f.prototype.bFb=function(n){var k;n=this.findIndex(n);if(-1 !== n){k=this.eh[n];this.eh.splice(n,1);this.eh.unshift(k);this.options.BM && (k.l1a=l.default.time.Ca());this.$Qa.push(n);this.Jha.push(1);return k;}this.Jha.push(0);};f.prototype.Qs=function(n,k){this.eh.unshift({key:n,value:k});if(this.options.BM || this.options.SQ)(n=l.default.time.Ca(),this.options.BM && (this.eh[0].l1a=n),this.options.SQ && (this.eh[0].En=n));this.Ztb();};f.prototype.Ztb=function(){this.eh.length > this.options.$n && this.eh.pop();};f.prototype.clear=function(){this.eh=[];};return f;})();b.Xba=r;d=new WeakMap();b.Kha=function(f){void 0 === f && (f="default");return function(n,k,m){var p;p=m.value;m.value=function(q){var v,t,w;v=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[f];(0,g.assert)(w,"lruCache not defined");return w.fma(q,function(){return p.call(v,q);});};};};b.Xsa=function(f,n,k){d.has(f) || d.set(f,{});d.get(f)[n]=k;};b.bXa=function(f){var n;if(!d.has(f))return [];n=d.get(f);return Object.keys(n).map(function(k){return n[k];});};b.ZWa=function(f){return d.has(f)?d.get(f):{};};},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dra=b.Qza=void 0;c=a(0);l=a(36);g=a(1084);h=a(72);d=a(4);r=(function(f){function n(k,m,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,k,m,p,q,!0) || this;q.Ok=k;q.G4a=m;q.o8a=p;k.Xa.bf(new g.Rza(q));return q;}c.__extends(n,f);n.prototype.dC=function(k){var m,p;m=f.prototype.dC.call(this,k);if(m){p=k.X.xm;p && !this.Z_ && (this.uea.js({applyingContentPlaygraph:!0}),this.Z_=p,this.umb=this.wvb(k.X),this.UV());}return m;};Object.defineProperties(n.prototype,{wZa:{get:function(){return this.umb;},enumerable:!1,configurable:!0}});n.prototype.yA=function(k){if(this.Z_)return (k=c.__assign(c.__assign({},k),{L:c.__assign({},k.L)}),(0,l.Ypa)(k,this.Z_.fa));};n.prototype.wvb=function(k){var m,p;m=k.Wo;p=k.aB;return !(!m || !m.some(function(q){return q.aB !== p;}));};Object.defineProperties(n.prototype,{xm:{get:function(){var k;return null === (k=this.Z_) || void 0 === k?void 0:k.fa;},enumerable:!1,configurable:!0}});c.__decorate([(0,h.Pb)({methodName:"processViewableResponse"})],n.prototype,"dC",null);return n;})(a(445).eda);b.Qza=r;b.dra=function(f){var n;n=[];return {Kp:function(k,m){var p,q,v,t,w,u,y;v=k.K;t=k.dW;w=f();if(w.jha && w.jha !== v){u=null === (p=null === t || void 0 === t?void 0:t.Tf) || void 0 === p?void 0:p.Uc;p=null === (q=null === t || void 0 === t?void 0:t.Tf) || void 0 === q?void 0:q.Ie;q=w.Uc;t=w.jha;(0,d.assert)(t,"did not receive parent viewable id");t={Tf:{Uc:null !== u && void 0 !== u?u:q,Ie:null !== p && void 0 !== p?p:t}};}w.Xa.console.trace("In wrapped request viewable",v,t);y=m(c.__assign(c.__assign({},k),{dW:t}));n.forEach(function(x){return x({K:v,FC:y.FC});});return y;},N$a:function(k){n.push(k);}};};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.eda=void 0;c=a(0);l=a(252);g=a(72);h=a(19);d=a(4);f=a(9);n=a(440);k=a(21);m=a(1085);p=a(446);q=a(1086);r=(function(){function v(t,w,u,y,x){var z;void 0 === y && (y="CphAsePlaygraph");void 0 === x && (x=!0);z=this;this.Ok=t;this.G4a=w;this.o8a=u;this.y2b=y;this.xmb=new n.nda();x && this.oa();this.G4a(function(A){var B;B=A.FC;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,B];case 1:return (C=D.cb(),this.dC(C),[2]);}});});});}Object.defineProperties(v.prototype,{Xa:{get:function(){return this.Ok.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Gi:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fa:{get:function(){return this.dj;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Mg:{get:function(){return this.Ok.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{S:{get:function(){return this.Xa.console;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{W:{get:function(){return this.Xa.config;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wZa:{get:function(){return !1;},enumerable:!1,configurable:!0}});v.prototype.oa=function(){var t,w,u;t=this;w=this.Ok;this.uea=new g.gu({$n:10,Pm:this,source:this.y2b,console:this.S});this.events=(0,p.Xia)(function(){return w;},w.Xa.events,this.o8a,q.M5a);this.dj=w.Xa.fa;u=w.Mg;w.Xa.bf(new l.Kw(this.uea));w.Xa.bf(new l.Kw(w.Mg.Yg));w.Xa.bf(new m.oza(("").concat(w.o1a,"::gls"),u));w.Xa.events.on("playgraphUpdating",function(){t.Ok.Tna.s8();});};v.prototype.Ou=function(t){var w,u,y;y=null !== (w=this.Y) && void 0 !== w?w:this.Xa.Y;this.Y=t;t.Eua && t.Eua(this.Ok);(w=this.Ok.Xa.Ou(null !== (u=t.LT) && void 0 !== u?u:t))?(this.Y=t,y !== t && y.ria && y.ria()):this.Y=y;return w;};v.prototype.UV=function(t,w,u,y){if(t=this.yA(null !== t && void 0 !== t?t:this.dj))return this.RRb(t,this.wZa,w,u,y);};v.prototype.RRb=function(t,w,u,y,x){var z,A,B,C,D,E,G;z=this.Ok.Ac;A=z.Y;C=z.fa;if(B=u?u:z.Eq && A.ae?A.zg:z.Fq?z.$e:void 0){D=this.Xa.fa.L[B.J];D && D.Qb && (B=this.Mg.Ft(B));}z.config.$4b && w && A.sC(!0);w=z.SXa();f.I && this.S.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(C)));f.I && this.S.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(t)));this.xmb.set(t,!0);C=this.Xa.Gt(t);try{if(!C.ia || B && !A.ae && !z.Fq || u && x)if(((0,d.assert)(!A.ta.Li,"Player is not paused"),z.Gf(!0),C=this.Xa.Gt(t),B)){E=this.Mg.Fx(B);G=t.L[E.J];"padding" === (null === G || void 0 === G?void 0:G.type) && (E={J:G.Hb,offset:k.N.Ia});this.Gua(B,y);this.Xa.Y8(E,y,x);A.resume();}return C;}finally{w.release();}};v.prototype.Gt=function(t){var u,y,x;function w(){u.dj=t;}u=this;x=null !== (y=this.yA(t)) && void 0 !== y?y:t;try{return (this.Xa.events.isa("playgraphUpdating",w),this.Xa.Gt(x));}finally{this.Xa.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(v.prototype,{Uc:{get:function(){return this.uMa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jha:{get:function(){var t,w,u,y;t=this;u=Object.keys(this.Xa.fa.L);if(u=(0,h.uc)(u,function(x){return !!t.Xa.fa.L[x].Qb;})){u=this.Xa.fa.L[u].Qb;y=this.fa.L[u];return null !== (w=null === y || void 0 === y?void 0:y.K) && void 0 !== w?w:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});v.prototype.dC=function(t){var w,u,y,x;u=t.X;y=u.Uc;u=u.xm;x=null !== (w=this.W.xka) && void 0 !== w?w:[];if(u && x.some(function(z){return z == t.O;}))return (w=("").concat(t.O," was excluded from content playgraph"),this.uea.js(w),f.I && this.S.trace(w),!1);y && !this.uMa && (this.uMa=y);return !0;};v.prototype.Gf=function(t){this.Xa.Gf(t);};v.prototype.Gua=function(){};c.__decorate([(0,g.Pb)({methodName:"attachPlayer"})],v.prototype,"Ou",null);c.__decorate([(0,g.Pb)({methodName:"reevaluateInnerPlaygraph"})],v.prototype,"UV",null);c.__decorate([(0,g.Pb)({methodName:"processViewableResponse"})],v.prototype,"dC",null);c.__decorate([(0,g.Pb)({methodName:"cancelStreaming"})],v.prototype,"Gf",null);return v;})();b.eda=r;},function(r,b,a){var l,g,h,d;function c(f,n){return n && !Array.isArray(n) && -1 === n.xVa.indexOf(f)?n.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.Xia=void 0;l=a(0);r=a(13);g=a(185);h=a(432);d=(function(f){function n(k,m){var p;p=f.call(this) || this;p.yOb=k;p.C_a=m;p.Kea={};return p;}l.__extends(n,f);n.prototype.emit=function(k){for(var m=[],p=1;p < arguments.length;p++){m[p - 1]=arguments[p];}return f.prototype.emit.call(this,k,this.yOb(k,m[0]));};n.prototype.subscribe=function(k){var m,p;m=this;if(!this.listeners(k).length){p=function(){for(var q=[],v=0;v < arguments.length;v++){q[v]=arguments[v];}return m.emit.apply(m,l.__spreadArray([k],l.__read(q),!1));};this.Kea[k]=p;this.C_a.addListener(k,p);}};n.prototype.addListener=function(k,m){this.subscribe(k);f.prototype.addListener.call(this,k,m);return this;};n.prototype.removeListener=function(k,m){f.prototype.removeListener.call(this,k,m);m=this.Kea[k];!this.listeners(k).length && m && (this.C_a.removeListener(k,m),this.Kea[k]=void 0);return this;};n.prototype.on=function(k,m){this.addListener(k,m);return this;};n.prototype.Xq=function(k,m){this.removeListener(k,m);return this;};n.prototype.once=function(k,m){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);m.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.addListener(k,p);return this;};n.prototype.HV=function(k,m){this.subscribe(k);f.prototype.HV.call(this,k,m);return this;};n.prototype.isa=function(k,m){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);m.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.HV(k,p);return this;};return n;})(r.EventEmitter);b.Xia=function(f,n,k,m){return new d(function(p,q){var v,t;t=c(p,m["*"]);p=null !== (v=m[p]) && void 0 !== v?v:[];v=t.concat(p).filter(function(w){return "object" === typeof w;});t=l.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return v.length?(0,h.N8)(f,q,k,{rules:v,Ul:!1,Jga:!0},g.Vt.pwa,t):q;},n);};},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Gaa=void 0;c=a(0);l=a(13);g=a(4);h=a(9);d=0;r=(function(f){function n(k,m,p,q,v,t,w,u){m=f.call(this,("cdnList").concat(d++),m,p,q,v,t,w,"cdnList",u) || this;m.ng=k;m.oa();return m;}c.__extends(n,f);n.prototype.oa=function(){var k;k=this;this.wQ=new l.Af();this.wQ.on(this.xb.Y,"skipped",function(m){k.xu && ((null === m || void 0 === m?0:m.ZUb) && k.IR(m.ZUb),k.xu=void 0);});this.wQ.on(this.xb.Y,"paused",function(){k.xu && k.xb.ae && k.IR(k.xb.Ed);});this.wQ.on(this.xb.Y,"underflow",function(){k.xu && k.xb.ae && k.IR(k.xb.Ed);});};n.prototype.Ou=function(k,m,p){this.wQ.clear();f.prototype.Ou.call(this,k,m,p);this.oa();};n.prototype.close=function(){h.I && this.console.trace("close");f.prototype.close.call(this);this.wQ.clear();};n.prototype.b0b=function(k,m){var p;p=this;this.xu && this.IR(k);return this.WVa(m).map(function(q){return p.ng[q];});};n.prototype.p7a=function(k){var m;m=this;this.WVa(k).forEach(function(p){delete m.ng[p];});};n.prototype.WVa=function(k){var m;m=this;return Object.keys(this.ng).filter(function(p){return m.ng[p].O === ("").concat(k);});};n.prototype.Tq=function(k){var m,p,q;m=k.stream;p=k.Rc;q=k.Bb;k=k.Kb;(0,g.assert)(void 0 !== q);(0,g.assert)(void 0 !== k);h.I && this.console.trace(("Media appended ").concat(q.ob(),"-").concat(k.ob()));this.qga({stream:m,Rc:p},q,k);};n.prototype.I5=function(k,m){return k.stream === m.stream && k.Rc === m.Rc;};n.prototype.mGb=function(k){var m,p;p=k.vr;k=p.Rc;p=null === (m=p.stream.pa.X.tA) || void 0 === m?void 0:m.Ap;return ("").concat(k,"::").concat(p);};n.prototype.Zja=function(k,m){h.I && this.console.trace(("Presenting event for ( ").concat(k.vr.stream.id,", ").concat(k.vr.Rc," )") + (" at ").concat(m.ob()));this.xu?this.IR(m):this.RP=m;this.xu=k;};n.prototype.IR=function(k){var m,p,q,v,t,w,u,y,x;(0,g.assert)(this.xu);if(null === (m=this.hja) || void 0 === m?0:m.lessThan(k))k=this.hja;t=this.xu;m=this.ng;w=t.vr;u=w.stream;w=w.Rc;y=null === (p=u.yU) || void 0 === p?void 0:p.Bm;p=k.wa(this.RP || t.timestamp).G;if(void 0 !== w && void 0 !== y){x=null === (q=u.pa.X.tA) || void 0 === q?void 0:q.Ap;q=u.track.O;t=this.mGb(t);m=(v=(m[t] || (m[t]={sm:w,Ap:x,O:q,QE:{}})).QE)[y] || (v[y]={bitrate:u.bitrate,Sb:y,mediaType:u.mediaType,totalTime:0,zb:u.zb});m.totalTime=Math.max(m.totalTime + p,0);}this.RP=k;};n.prototype.clone=function(k,m){m=void 0 === m?{}:m;k=new (m.qfc || n)(k,this.sSb,this.xb,this.w1,this.events,this.bq,this.Bd,m.priority);this.Oub(k);k.xu=this.xu;k.RP=this.RP;h.I && k.console.trace("Cloning",{nac:k.bk.length});return k;};n.prototype.reset=function(){f.prototype.reset.call(this);this.RP=void 0;};n.prototype.J5=function(k){return ("(").concat(k.stream.Wb,", ").concat(k.Rc,")");};return n;})(a(261).i_);b.Gaa=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Uya=b.Ys=void 0;c=a(0);r=a(13);l=a(144);g=c.__importDefault(a(53));h=a(7);d=c.__importDefault(a(5));f=a(21);n=a(4);k=a(1114);m=a(91);p=a(60);q=a(19);b.Ys=function(v){return v.wa(f.N.Na(v.KG));};a=(function(v){function t(w,u,y,x,z,A,B){var C,D;C=this;C=v.call(this) || this;C.mf=w;C.zi=u;C.Yc=y;C.W=x;C.qnb=z;C.Y=A;C.vn=B;C.LOa=!1;C.IMa=!1;C.IQ=!1;C.S=l.Sp.fv(C.mf);C.DD=C.S.error.bind(C.S);C.gs=C.S.warn.bind(C.S);C.Bu=C.S.trace.bind(C.S);null === (D=y.events) || void 0 === D?void 0:D.addListener("ready",function(){C.iu();});C.R2a=new k.IFa(C.W,C.mf,C.zi.re,C.S);C.reset();return C;}c.__extends(t,v);Object.defineProperties(t.prototype,{endOfStream:{get:function(){return this.YP;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{p1b:{get:function(){return !!this.Yc.ZBb;},enumerable:!1,configurable:!0}});t.prototype.reset=function(w){var u,y,x;null === (u=this.LNa) || void 0 === u?void 0:u.Ra();this.hm=!1;w || (this.xn=[]);this.wk=this.Pea=this.KD=void 0;this.Dea=!1;this.WI=void 0;this.IQ=this.YP=!1;this.vOa(f.N.Ia);null === (x=(y=this.Yc).reset) || void 0 === x?void 0:x.call(y);this.R2a.reset();};t.prototype.ZDb=function(){this.Pea=!0;};t.prototype.pause=function(){this.hm=!0;};t.prototype.resume=function(){this.hm=!1;this.iu();};t.prototype.j3=function(){this.IMa=!0;this.hm || this.iu();};t.prototype.sC=function(w){this.LOa=w;};t.prototype.mrb=function(w){var u,y,x;if(this.W.nBb){(0,n.assert)(w.Ic);x=w.Ic.mb;(0,n.assert)(void 0 !== (null === (u=w.La) || void 0 === u?void 0:u.G));(0,n.assert)(void 0 !== x.Wa);if((null === (y=w.La) || void 0 === y?void 0:y.G) >= x.Wa.G)return;}this.xn.push(w);this.iu();};t.prototype.$y=function(){this.iu();};t.prototype.J7a=function(w){w=this.xn.indexOf(w);-1 !== w && this.xn.splice(w,1);};t.prototype.IQb=function(w){this.W.Oga && void 0 === this.wk && this.tMa(w,0);this.iu();};t.prototype.h7=function(w,u){var y,x;y=this;void 0 === w && (w=!1);this.YP || (this.YP=!0,this.iu(),!w && this.p1b) || (u && this.vn && this.W.Dzb?(w=f.N.Na(this.W.d2b),u=u.wa(w),w=(0,p.B$)(this.vn,u,!0),u=w.mk,w=w.promise,null === (x=this.LNa) || void 0 === x?void 0:x.Ra(),this.LNa=u,w.then(function(){y.YP && y.Yc.endOfStream();})):this.Yc.endOfStream());};t.prototype.vOa=function(w){var u;null !== (u=this.Fob) && void 0 !== u && u.equal(w) || (this.Fob=w,this.Yc.a_b(w.xa,w.T));};t.prototype.iu=function(){var w,u,y,x,z,A,B,C;x=this.W;if(this.xn.length || this.wk && !this.wk.kd)if(!this.Yc || !1 === this.Yc.ready)this.fJ("@" + d.default.time.Ca() + ", append: not appending, sourceBuffer not ready");else if(!this.wk || this.wk.kd || this.wk.qj())if(this.wk && !this.wk.kd || this.xn.length)if(this.hm){z=this.wk && !this.wk.kd?this.wk:this.xn[0];this.fJ("@" + d.default.time.Ca() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(z));}else if((!this.wk || this.wk.kd || (this.GMa(this.wk),this.wk.kd)) && this.xn.length){A=this.xn[0];if(A.aborted)(this.gs("aborted MediaRequest should not appear in the toAppend list:",A.toString(),"complete:",A.complete),this.fJ("@" + d.default.time.Ca() + ", append: removing aborted request from toAppend: " + A.toString()),this.xn.shift());else {B=A.stream;C=B.pa;if(B.Ih)if((A.Gs && !this.IQ && (null === (u=(w=this.Yc).j$a) || void 0 === u?void 0:u.call(w,{K:B.track.pa.K,Z_a:B.ai}),this.IQ=!0),this.r_b(B,A.index)))(this.Pea=!1,this.tMa(B,A.index));else if((w=this.Y.IF(C),B=this.oKb(B),w || B || !this.Dea && !x.Qwa))if((w=this.FYa(A),this.mf === g.default.cn.ga && (A.Fk || A.Ts || (null === (z=A.Ga) || void 0 === z?0:z.Kn)) && A.Ga && !x.JM && !this.YP && this.xn.length <= (A.Fk || A.Ts?1:2) && w > x.O6 && (null === (y=A.oC) || void 0 === y || !y.YT)))this.CYb();else {this.Dea || (this.Dea=B);this.xn.shift();try{this.klb(A);}catch(D){throw (this.S.error(D),D);}}}}};t.prototype.CYb=function(){var w;w=this;this.vn && (this.xoa?this.xoa.P_a || this.xoa.Mf():this.xoa=this.vn.Ax(function(){return w.AMb();},"JIT Appender"));};t.prototype.AMb=function(){var w,u,y,x;return c.__generator(this,function(z){switch(z.label){case 0:if(1 !== this.xn.length)return [3,3];w=this.xn[0];if(!w.Fk && !w.Ts || (null === (x=w.oC) || void 0 === x?0:x.YT))return [2];u=this.FYa(w);y=this.W.O6;return u > y?[4,p.yh.GC(f.N.Na(u - y))]:[3,2];case 1:(z.cb(),z.label=2);case 2:return (this.iu(),[3,0]);case 3:return [2];}});};t.prototype.FYa=function(w){var u;return (null === (u=w.Bb) || void 0 === u?NaN:u.G) - this.Y.lp();};t.prototype.r_b=function(w,u){if(this.Pea || void 0 === this.KD || w.Wb !== this.KD.Wb)return !0;w=w.Ih;(0,n.assert)(w);return 1 < w.length?(0,q.Vga)(w,function(y){return y.Ye <= u;}) !== this.KD.d0a:!1;};t.prototype.oKb=function(w){if(w.mediaType === h.v.ga || !w.ai)return !0;if(void 0 === this.KD)return !1;if(!w.track.HU)return !w.ai;w=w.Ih;(0,n.assert)(w);return !1 === w[this.KD.d0a].YE;};t.prototype.tMa=function(w,u){var y,x,z,A;if(!this.LOa || this.IMa){z=w.Ih.reduce(function(B,C,D){return C.Ye <= u?D:B;},0);A=w.Ih[z];this.KD || (null === (x=(y=this.Yc).j$a) || void 0 === x?void 0:x.call(y,{K:w.track.pa.K,Z_a:w.ai}),this.IQ=!0);if(this.Yc.appendBuffer(A.data,{Ad:!0,profile:w.profile,bitrate:w.bitrate,Wb:w.Wb}))(this.fJ("@" + d.default.time.Ca() + ", header appended, streamId: " + w.Wb),this.KD={Wb:w.Wb,d0a:z},this.gob(w.pa.pdc || 0,w.Wb,z),this.iu());else throw (this.gs("appendHeader error: " + this.Yc.error),this.fJ("@" + d.default.time.Ca() + ", appendHeader error: " + this.Yc.error),Error("appendHeaderError"));}};t.prototype.klb=function(w){var u,y,x,z,A,B;u=this;z=w.Fsa || f.N.Ia;A=w.Ic.mb.u;A.Vf && Infinity !== A.Vf && (z=new f.N(A.Vf,1E3).add(z).th,Infinity === this.zi.duration || this.zi.duration < z) && (this.zi.duration=z);z=void 0 !== w.Qv?f.N.Na(w.Qv).add(w.Fsa):void 0;A=null === (y=this.xn[0]) || void 0 === y?void 0:y.Bb;y={endOfStream:this.endOfStream || !(null === (x=w.oC) || void 0 === x || !x.YT),LL:z,wqa:A};z=this.R2a.append(w,y);x=z.Xh;A=z.fi;y=z.response;z=z.offset;null === A || void 0 === A?void 0:A.forEach(function(C){return u.emit(C.type,C);});A=w.stream;if(A.ha){B=A.Qn().c8;z=z.wa(B.Nd(A.T));}this.vOa(z);x && (w.Fk || w.Ts) && w.Xh();this.GMa(w,x,y);};t.prototype.GMa=function(w,u,y){var x,z,A,B,C;void 0 === u && (u=!1);C=u?{status:m.kf.Zm,Ik:void 0}:w.hq(this.zi,this.Yc,this.zi.re,void 0,y);y=C.status;(C=C.Ik) && this.emit(C.type,C);switch(y){case m.kf.wh:this.jlb(w);break;case m.kf.b_:u || (this.wk=w);break;case m.kf.Zm:(u || (this.wk=w,void 0 === this.WI || this.mf !== g.default.cn.ga || w.Bb.equal(this.WI) || (this.WI=void 0),this.fJ("@" + d.default.time.Ca() + ", request appended, type: " + w.mediaType + ", streamId: " + w.Wb + ", pts: " + (null === (x=w.Bb) || void 0 === x?void 0:x.G) + "-" + w.Kb.G)),w.Fk || w.Ts?(this.WI=u?w.Bb:w.Kb,null === (A=(z=this.Yc).ZBb) || void 0 === A?void 0:A.call(z,w.oC),this.IQ=!1,(null === (B=w.oC) || void 0 === B?0:B.YT) && this.qnb && this.h7(!1,this.WI)):this.WI=void 0,this.hob(w),this.iu());}};t.prototype.jlb=function(w){if(void 0 !== this.Yc.error){if("done" === this.Yc.error)return;this.DD("failure to append queued mediaRequest:",null === w || void 0 === w?void 0:w.toString(),"err:",JSON.stringify(this.Yc.error));throw this.Yc.error;}w=Error("failure to append queued mediaRequest: " + (null === w || void 0 === w?void 0:w.toString()) + " err: " + this.Yc.error);this.DD(w.message);throw w;};t.prototype.gob=function(w,u,y){w={type:"headerAppended",mediaType:this.mf,manifestIndex:w,streamId:u,isIndex:y};this.emit(w.type,w);};t.prototype.hob=function(w){w={type:"requestAppended",mediaType:this.mf,request:w};this.emit(w.type,w);};t.prototype.fJ=function(w){w={type:"managerdebugevent",message:w};this.emit(w.type,w);};return t;})(r.EventEmitter);b.Uya=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Pia=void 0;c=a(128);l=a(1129);b.Pia=function(g,h){var d;g=h(g);d=new l.EIa(g,c.Av.Kta.NM);return c.Av.Dsa(g,d,function(){return d.Ok;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q8b="LogblobBuilderSymbol";b.TO="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gLa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jLa="ThroughputTrackerSymbol";b.hLa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IBa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uza="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tya={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p){p=g.NC.call(this,k,m,l.v.Audio,p) || this;p.config=k;p.bo=m;p.type=l.Nt.hw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.CY=void 0;l=a(26);g=a(457);h=a(123);r=a(125);d=a(376);f=a(265);n=new r.pD().format;ha(c,g.NC);c.prototype.RW=function(){var k;k=n(c.e$,h.jd.afb);return Promise.resolve(this.config().iK && this.bo.isTypeSupported(k));};c.prototype.rq=function(){return d.Vaa.rq();};c.prototype.BYa=function(){return this.config().kE;};c.prototype.BS=function(k){return this.config().GSb?Promise.resolve(new f.j_(k,k.map(function(){return {supported:!0};}))):g.NC.prototype.BS.call(this,k);};b.CY=c;c.e$="audio/mp4;codecs={0};";},function(r,b,a){var l,g,h,d,f;function c(n,k,m,p){this.config=n;this.bo=k;this.mediaType=m;this.ly=p;this.Wpa={};this.Wpa[l.v.Audio]="audio";this.Wpa[l.v.SLa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.NC=void 0;l=a(26);r=a(125);g=a(165);h=a(12);d=a(265);f=new r.pD().format;c.prototype.UYa=function(n){return this.Zzb(this.HHb(this.BYa(),n));};c.prototype.tE=function(n){return this.bo.isTypeSupported(n);};c.prototype.JFb=function(){return [g.wd.J$,g.wd.Hgb,g.wd.PC,g.wd.QC];};c.prototype.UKb=function(){this.ko=[];this.ot=[];this.config().ISb && this.ot.push(g.wd.Mw);this.config().W4a && this.ot.push(g.wd.tCa);this.config().V4a && this.ot.push(g.wd.sCa);this.config().U4a && this.ot.push(g.wd.Qt);this.config().S4a && this.ot.push(g.wd.gz);this.config().T4a && this.ot.push(g.wd.gxa);this.config().X4a && this.ot.push(g.wd.Fz);this.config().R4a && this.ot.push(g.wd.ti);this.ot=this.ot.concat(this.JFb());!this.config().QBb && this.ko.push(g.wd.Mw);!this.config().UUa && this.ko.push(g.wd.bfb);!this.config().TUa && this.ko.push(g.wd.cfb);!this.config().iK && this.ko.push(g.wd.dfb);!this.config().CBb && this.ko.push(/prk$/);this.config().U4a || this.config().mBb || this.ko.push(g.wd.Qt);this.config().W4a || this.config().qBb || this.ko.push(g.wd.tCa);this.config().V4a || this.config().aka || this.ko.push(g.wd.sCa);this.config().S4a || this.config().hK || this.ko.push(g.wd.gz);this.config().T4a || this.config().$ja || this.ko.push(g.wd.gxa);this.config().X4a || this.config().MBb || this.ko.push(g.wd.Fz);this.config().R4a || this.config().cBb || this.ko.push(g.wd.ti);!this.config().LBb && this.ko.push(g.wd.wI);};c.prototype.HHb=function(n,k){var m;m=h.je.hardwareConcurrency && h.je.hardwareConcurrency;return n.filter(function(p){return void 0 !== p.minimumCores && m < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === k || void 0 === k?void 0:k.od) || !p.restrictToUILabels.includes(k.od))?!1:!0;}).map(function(p){return p.name;});};c.prototype.BS=function(n){var k,m;k=this;m=n.map(function(p){for(var q=ma(k.ot),v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!0});}q=ma(k.ko);for(v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return k.AS(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(m).then(function(p){return new d.j_(n,p);});};c.prototype.AS=function(n){var k;k=this;return this.ooa(n).then(function(m){return m.supported?k.config().yBb?k.ly.AS(n):k.Jka(n):m;});};c.prototype.Jka=function(n){var k;n=this.LV[n];k="";return n?(Array.isArray(n) && (k=1 < n.length?" " + n[1]:"",n=n[0]),n=f("{0}/mp4;codecs={1};{2}",this.Wpa[this.mediaType],n,k),this.tE(n)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.Zzb=function(n){this.UKb();return this.BS(n);};c.prototype.ooa=function(){return Promise.resolve({supported:!0});};Sa.Object.defineProperties(c.prototype,{LV:{configurable:!0,enumerable:!0,get:function(){this.ZNa || (this.ZNa=this.rq());return this.ZNa;}}});b.NC=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nFa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rFa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qFa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MZ="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tEa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jya="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hya="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gya="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aza="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dFa="ManifestProviderConfigSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Mda=void 0;l=a(12);c.zYa=function(){var g;g=l.Zt && l.Zt.height;return g?1080 <= g?1080:720:720;};b.Mda=c;},function(r,b,a){var l;function c(g){this.log=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cP=void 0;l=a(472);c.prototype.Sab=function(g,h){var d,f;d=this;if(!g)return (this.log.warn("There are no media streams for " + h.type + " track - " + h.trackId),[]);f=g.map(function(n){var k,m,p,q,v,t,w,u;u=new l.MediaStream(h,h.type,n.Bm,n.bitrate,n.zb,n.size,d.TFb(n.urls),n.wA,n.zWa / n.yWa,n.ai,n.ri);u.e_b(n.U7a,n.yta,n.x5a,n.w5a);u.vZb(null !== (k=n.Ayb) && void 0 !== k?k:void 0,null !== (m=n.Byb) && void 0 !== m?m:void 0,null !== (p=n.zyb) && void 0 !== p?p:void 0,null !== (q=n.yyb) && void 0 !== q?q:void 0,null !== (v=n.x5a) && void 0 !== v?v:void 0,null !== (t=n.w5a) && void 0 !== t?t:void 0);h.Bk && (u.Bk=h.Bk);n.RE && (u.RE=null !== (w=n.RE) && void 0 !== w?w:void 0);n.wA && (u.Ue=n.wA);return u;});f.sort(function(n,k){return n.bitrate - k.bitrate;});f.forEach(function(n,k){n.lower=f[k - 1];n.Fcc=f[k + 1];});return f;};c.prototype.TFb=function(g){return g.reduce(function(h,d){h[d.yg]=d.url;return h;},{});};b.cP=c;},function(r,b,a){var l,g,h;function c(d,f,n,k,m,p,q,v,t,w,u){this.track=d;this.type=f;this.Sb=n;this.bitrate=k;this.zb=m;this.size=p;this.Mja=q;this.Ue=v;this.framerate=t;this.ai=w;this.ri=u;this.sg={Type:f,Bitrate:k,DownloadableId:n};}Object.defineProperty(b,"__esModule",{value:!0});b.Xeb=b.MediaStream=void 0;l=a(16);g=a(14);h=a(103);c.prototype.toJSON=function(){return this.sg;};c.prototype.e_b=function(d,f,n,k){(0,g.Nc)(d) && (0,g.Nc)(f) && (this.width=d,this.height=f,(0,g.sb)(n) && (0,g.sb)(k) && (this.width=Math.round(n / k * d)),this.sg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.vZb=function(d,f,n,k,m,p){(0,g.Nc)(d) && (0,g.Nc)(f) && (0,g.Nc)(n) && (0,g.Nc)(k) && (this.dja=d,this.qTa=f,this.pTa=n,this.oTa=k);(0,g.Nc)(m) && (0,g.Nc)(p) && (this.y5a=m,this.z5a=p);};b.MediaStream=c;b.Xeb=function(d,f,n,k,m){if(d == l.PZ || d === h.Jj.audio)return f;if(d == l.YO || d === h.Jj.video)return n;if(d == h.Jj.Rva)return k;if(d == h.Jj.ewa)return m;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IIa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vLa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wHa="PboLinksManagerSymbol";b.uHa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ea="ManifestEnricherSymbol";},function(r,b,a){var u,y,x,z,A,B,C,D,E;function c(G,F){var H,K;H=this;K=G.styles || ({});return {startTime:F.startTime,id:F.id,endTime:F.endTime,displayTime:F.displayTime,duration:F.duration,blocks:F.blocks.map(function(O){var I;I=z.fyb(G,O);return {textNodes:O.textNodes.map(w.bind(H,K)),region:I,id:O.id};})};}function l(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function g(G,F){var H,K,O,I,P,N;H=y.wf(!0);K={};O=[];I=null;P=[];N={};H.onerror=function(J){F(J,null);};H.onend=function(){F(null,K);};H.onclosetag=function(){O.pop();};H.onopentag=function(J){var L,R,ka,la;L=J.attributes;R=J.name;ka=K.regions;la=K.styles;O.push(J);if("tt" === R)K=q(L);else if("body" === R)"undefined" !== typeof L.style && (K.defaultStyle=L.style,P.push(L.style));else if("initial" === R && t(O,"styling"))N=v(L,B);else if("style" === R && t(O,"styling")){ka=L["xml:id"];J=N;L=v(L,B);if(Object.keys(J).length)for(var X in J){"undefined" === typeof L[X] && (L[X]=J[X]);}la[ka]=L;}else "style" === R && t(O,"region")?(la=Object.keys(L)[0],"string" === typeof la && (ka[I][la.slice(4)]=L[la])):"region" === R && t(O,"layout") && (I=L["xml:id"],ka[I]=v(L,D));};setTimeout(function(){var J;for(H.write(G);0 < O.length && !H.error;){J=l(O).name;H.write("</" + J + ">");}H.close();},10);}function h(G,F){var H;H=G.filter(function(K){return K.startTime <= F && F <= K.endTime;});G=G.filter(function(K){return K.startTime > F;});return 0 < G.length?H.concat([G[0]]):H;}function d(){}function f(G){var F,H,K,O;F=G.preferences;H=G.Hf;K=G.hf;O=G.la;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Ud=this.Wea=null;this.cJ="object" === typeof F?G.preferences:{};this.LI="object" === typeof H?G.Hf:{};this.gq="number" === typeof K?G.hf:0;this.aE=G.xml || "";this.ya="object" === typeof O?G.la:E;this.un=G.request;this.xk=G.url;this.uk=[];this.Go=this.gq;this.Vd=null;this.Ww=this.Tz=!1;this.iea=G.j8 || 0;}function n(G,F){return G && "object" === typeof G[F] && null !== G[F]?G[F]:{};}function k(G,F){return G !== F && !(G && 0 === Object.keys(G).length && F && 0 === Object.keys(F).length);}function m(){var G,F,H;G=this;F=G.aE.indexOf("<p");if(-1 < F){H=G.aE.slice(0,F);g(H,function(K,O){null !== K?(K.DJb=H,G.emit("error",K)):(G.Wea=O,G.Ud=new x(G.aE,O.tickRate),p.call(G,G.gq));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var F,H,K,O,I,P,N,J;F=this;H=F.Wea;K=0;O=[];I=H.defaultStyle?[H.defaultStyle]:[];P=H.lang?[H.lang]:[];F.ya.info("parsing the next 5 entries...");N=F.Ud.hHb(G);F.ya.debug(N);J=y.wf(!0);J.onerror=function(L){L.xml=N;F.emit("error",L);};J.onend=function(){var L;L=F.uk.reduce(function(R,ka){ka=ka.blocks.reduce(function(la,X){return la.concat([X.id]);},[]);return R.concat(ka);},[]);O.forEach(function(R){var ka;if(-1 === L.indexOf(R.id)){ka=R && R.blocks && R.blocks.filter(function(la){return 0 < la.textNodes.length;});ka && 0 < ka.length && (R.blocks=ka,F.uk.push(R));}});F.Ww=!1;F.Tz || (F.Tz=!0,F.emit("ready"));};J.ontext=function(L){("" !== L.trim() || L.match(/ +/)) && l(l(O).blocks).textNodes.push({text:L.match(/ +/)?L:L.trim(),style:l(I),lang:l(P),lineBreaks:K});K=0;};J.onclosetag=function(){var L;L=J.tag;"undefined" !== typeof L.attributes.style && I.pop();"undefined" !== typeof L.attributes["xml:lang"] && P.pop();};J.onopentag=function(L){var R,ka,la,X,da;R=L.attributes;ka=L.name;L=H.tickRate;if("p" === ka){K=0;ka=R["xml:id"];R.style && I.push(R.style);R["xml:lang"] && P.push(R["xml:lang"]);la=Math.floor(parseInt(R.begin) / L * 1E3);if(0 === O.length || l(O).displayTime !== la){la=O.push;X={};da=parseInt(R.begin) / L;L=parseInt(R.end) / L;X.id=ka;X.startTime=Math.floor(1E3 * da);X.endTime=Math.floor(1E3 * L);X.style=R.style;X.region=R.region;X.displayTime=X.startTime;X.duration=X.endTime - X.startTime;X.extent=R["tts:extent"] || null;X.origin=R["tts:origin"] || null;X.latestEndSoFar=0 > X.endTime?0:X.endTime;X.blocks=[{textNodes:[],region:X.region,id:ka,extent:X.extent,origin:X.origin}];la.call(O,X);}else l(O).blocks.push({textNodes:[],region:R.region,id:ka,extent:R["tts:extent"] || null,origin:R["tts:origin"] || null});}else "span" === ka?(I.push(R.style),R["xml:lang"] && P.push(R["xml:lang"]),L=H.styles[R.style],R.style && L && L.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(L.ruby) && l(l(O).blocks).textNodes.push({text:"",style:l(I),lang:l(P),lineBreaks:0})):"br" === ka && K++;};J.write("<entries>").write(N).write("</entries>").close();}function q(G){var F;G=v(G,C);if("string" === typeof G.extent){F=G.extent.split(" ").map(function(H){return parseInt(H,10);});G.width=F[0];G.height=F[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(F=G.cellResolution.split(" ").map(function(H){return parseInt(H,10);}),G.cellResolution={},G.cellResolution.x=F[0],G.cellResolution.y=F[1]):G.cellResolution={x:52,y:19};return G;}function v(G,F){var H;H={};F.forEach(function(K){"undefined" !== typeof G["tts:" + K]?H[K]=G["tts:" + K]:"undefined" !== typeof G["ttp:" + K]?H[K]=G["ttp:" + K]:"undefined" !== typeof G["ebutts:" + K]?H[K]=G["ebutts:" + K]:"undefined" !== typeof G["xml:" + K] && (H[K]=G["xml:" + K]);});H.styles={};H.regions={};return H;}function t(G,F){var H;for(H=G.length - 1;0 <= H;H--){if(G[H].name === F)return !0;}return !1;}function w(G,F){return {lineBreaks:F.lineBreaks,text:F.text,lang:F.lang,style:A.jyb(G[F.style] || ({}),this.LI,this.cJ),id:F.id};}u=a(102).EventEmitter;y=a(479);x=a(1185);z=a(1186);A=a(1187);B=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");E={info:d,debug:d};b=Object.create(u.prototype);f.prototype=b;b.start=function(){var G;G=this;G.ya.info("incremental text stream created, starting at pts " + G.gq);G.aE?m.call(G):G.un({url:G.xk},function(F,H){G.aE=H;m.call(G);});};b.kF=function(G){var F,H,K;F=this;G < F.Go - F.iea && (F.uk=[]);H=F.uk;K=0 < H.length?H[H.length - 1].startTime:G;F.Go=G;for(!F.Vd && 5 > F.uk.length && !F.Ww && (F.ya.info("buffer size: " + F.uk.length + "; minimum: 5"),F.Ww=!0,F.Vd=setTimeout(function(){F.Vd=null;p.call(F,K + 1);},10));0 < H.length && H[0].endTime < G;){H.shift();}H=h(H,G).map(c.bind(F,F.Wea));G < F.Ud.QVa() && 0 === H.length && (H=null);return H;};b.Sn=function(G,F){return this.Ud?this.Ud.Sn(G,F):0;};b.close=function(){};b.j$=function(G){var F;F=n(G,"preferences");G=n(G,"defaults");return k(F,this.cJ) || k(G,this.LI)?(this.cJ=F,this.LI=G,!0):!1;};r.exports={Dba:f,VSb:g,Zf:l,bGb:h,Jzb:c,j$:b.j$};},function(r){var w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P;function b(){}function a(N,J){if(!(this instanceof a))return new a(N,J);for(var L=0,R=u.length;L < R;L++){this[u[L]]="";}this.q=this.c=this.Em=this.textNode="";this.NQa=w.$ba;this.Om=J || ({});this.Om.T1a=this.Om.T1a || this.Om.jdc;this.opa=this.Om.T1a?"toLowerCase":"toUpperCase";this.ri=[];this.closed=this.ER=this.PM=!1;this.tag=this.error=null;this.Ul=!!N;this.$3a=!(!N && !this.Om.$3a);this.state=P.maa;this.kw=(this.H$a=this.Om.H$a)?Object.create(w.alb):Object.create(w.kw);this.lA=[];this.Om.RX && (this.tj=Object.create(K));if(this.a$=!1 !== this.Om.position)this.position=this.line=this.FR=0;this.onready && this.onready(void 0);}function c(N,J){var L;if(!(this instanceof c))return new c(N,J);b.apply(this);this.Vw=new a(N,J);this.readable=this.writable=!0;L=this;this.Vw.onend=function(){L.emit("end");};this.Vw.onerror=function(R){L.emit("error",R);L.Vw.error=null;};y.forEach(function(R){Object.defineProperty(L,"on" + R,{get:function(){return L.Vw["on" + R];},set:function(ka){if(!ka)return (L.removeAllListeners(R),L.Vw["on" + R]=ka);L.on(R,ka);},enumerable:!0,configurable:!1});});}function l(N){return N.split("").reduce(function(J,L){J[L]=!0;return J;},{});}function g(N,J){return "[object RegExp]" === Object.prototype.toString.call(N)?!!J.match(N):N[J];}function h(N,J,L){N.textNode && d(N);N[J] && N[J](L);}function d(N){N.textNode=f(N.Om,N.textNode);N.textNode && N.ontext && N.ontext(N.textNode);N.textNode="";}function f(N,J){N.trim && (J=J.trim());N.normalize && (J=J.replace(/\s+/g," "));return J;}function n(N,J){d(N);N.a$ && (J+="\nLine: " + N.line + "\nColumn: " + N.FR + "\nChar: " + N.c);J=Error(J);N.error=J;N.onerror && N.onerror(J);return N;}function k(N){N.PM && !N.ER && m(N,"Unclosed root tag");N.state !== P.maa && N.state !== P.naa && N.state !== P.Za && n(N,"Unexpected end");d(N);N.c="";N.closed=!0;N.onend && N.onend(void 0);a.call(N,N.Ul,N.Om);return N;}function m(N,J){if("object" !== typeof N || !(N instanceof a))throw Error("bad call to strictFail");N.Ul && n(N,J);}function p(N,J){var L,R;L=0 > N.indexOf(":")?["",N]:N.split(":");R=L[0];L=L[1];J && "xmlns" === N && (R="xmlns",L="");return {prefix:R,local:L};}function q(N){var J,L,R;N.Ul || (N.Di=N.Di[N.opa]());if(-1 !== N.lA.indexOf(N.Di) || N.tag.attributes.hasOwnProperty(N.Di))return N.Di=N.Ei="";if(N.Om.RX){J=p(N.Di,!0);L=J.local;if("xmlns" === J.prefix)if("xml" === L && N.Ei !== F)m(N,"xml: prefix must be bound to " + F + "\nActual: " + N.Ei);else if("xmlns" === L && N.Ei !== H)m(N,"xmlns: prefix must be bound to " + H + "\nActual: " + N.Ei);else {J=N.tag;R=N.ri[N.ri.length - 1] || N;J.tj === R.tj && (J.tj=Object.create(R.tj));J.tj[L]=N.Ei;}N.lA.push([N.Di,N.Ei]);}else (N.tag.attributes[N.Di]=N.Ei,h(N,"onattribute",{name:N.Di,value:N.Ei}));N.Di=N.Ei="";}function v(N,J){var L,R,la,X,da,ta,Ba;if(N.Om.RX){L=N.tag;R=p(N.tagName);L.prefix=R.prefix;L.local=R.local;L.uri=L.tj[R.prefix] || "";L.prefix && !L.uri && (m(N,"Unbound namespace prefix: " + JSON.stringify(N.tagName)),L.uri=R.prefix);R=N.ri[N.ri.length - 1] || N;L.tj && R.tj !== L.tj && Object.keys(L.tj).forEach(function(Ja){h(N,"onopennamespace",{prefix:Ja,uri:L.tj[Ja]});});R=0;for(var ka=N.lA.length;R < ka;R++){la=N.lA[R];X=la[0];da=la[1];ta=p(X,!0);la=ta.prefix;Ba="" == la?"":L.tj[la] || "";da={name:X,value:da,prefix:la,local:ta.local,uri:Ba};la && "xmlns" != la && !Ba && (m(N,"Unbound namespace prefix: " + JSON.stringify(la)),da.uri=la);N.tag.attributes[X]=da;h(N,"onattribute",da);}N.lA.length=0;}N.tag.Zcc=!!J;N.PM=!0;N.ri.push(N.tag);h(N,"onopentag",N.tag);J || (N.state=N.$3a || "script" !== N.tagName.toLowerCase()?P.Za:P.rI,N.tag=null,N.tagName="");N.Di=N.Ei="";N.lA.length=0;}function t(N){var J,L,ka;if(N.tagName){if(N.Dj){if("script" !== N.tagName){N.Dj+="</" + N.tagName + ">";N.tagName="";N.state=P.rI;return;}h(N,"onscript",N.Dj);N.Dj="";}J=N.ri.length;L=N.tagName;N.Ul || (L=L[N.opa]());for(var R=L;J--;){if(N.ri[J].name !== R)m(N,"Unexpected close tag");else break;}if(0 > J)(m(N,"Unmatched closing tag: " + N.tagName),N.textNode+="</" + N.tagName + ">");else {N.tagName=L;for(L=N.ri.length;L-- > J;){ka=N.tag=N.ri.pop();N.tagName=N.tag.name;h(N,"onclosetag",N.tagName);for(var la in ka.tj){;}R=N.ri[N.ri.length - 1] || N;N.Om.RX && ka.tj !== R.tj && Object.keys(ka.tj).forEach(function(X){h(N,"onclosenamespace",{prefix:X,uri:ka.tj[X]});});}0 === J && (N.ER=!0);N.tagName=N.Ei=N.Di="";N.lA.length=0;}}else (m(N,"Weird empty close tag."),N.textNode+="</>");N.state=P.Za;}w={wf:function(N,J){return new a(N,J);}};w.P9b=a;w.Q9b=c;w.hTa=function(N){return new c(N,void 0);};w.$ba=65536;u=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.Ph=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(N){function J(){this.__proto__=N;}J.prototype=N;return new J();});Object.getPrototypeOf || (Object.getPrototypeOf=function(N){return N.__proto__;});Object.keys || (Object.keys=function(N){var J,L;J=[];for(L in N){N.hasOwnProperty(L) && J.push(L);}return J;});a.prototype={end:function(){k(this);},write:function(N){var ka,la,X,da,ta,Ba;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === N)return k(this);if(this.error)throw this.error;for(var J=0,L;this.c=L=N.charAt(J++);){switch((this.a$ && (this.position++,"\n" === L?(this.line++,this.FR=0):this.FR++),this.state)){case P.maa:if((this.state=P.naa,"\ufeff" === L))continue;case P.naa:"<" === L?(this.state=P.tca,this.nva=this.position):g(x,L) || (m(this,"Non-whitespace before first tag."),this.textNode=L,this.state=P.Za);continue;case P.Za:if(this.PM && !this.ER){for(var R=J - 1;L && "<" !== L && "&" !== L;){(L=N.charAt(J++)) && this.a$ && (this.position++,"\n" === L?(this.line++,this.FR=0):this.FR++);}this.textNode+=N.substring(R,J - 1);}"<" !== L || this.PM && this.ER && !this.Ul?(g(x,L) || this.PM && !this.ER || m(this,"Text data outside of root node."),"&" === L?this.state=P.Oda:this.textNode+=L):(this.state=P.tca,this.nva=this.position);continue;case P.rI:"<" === L?this.state=P.RJa:this.Dj+=L;continue;case P.RJa:"/" === L?this.state=P.Baa:(this.Dj+="<" + L,this.state=P.rI);continue;case P.tca:"!" === L?(this.state=P.wda,this.jr=""):g(x,L) || (g(O,L)?(this.state=P.uGa,this.tagName=L):"/" === L?(this.state=P.Baa,this.tagName=""):"?" === L?(this.state=P.VGa,this.g8=this.BG=""):(m(this,"Unencoded <"),this.nva + 1 < this.position && (L=Array(this.position - this.nva).join(" ") + L),this.textNode+="<" + L,this.state=P.Za));continue;case P.wda:(this.jr + L).toUpperCase() === E?(h(this,"onopencdata"),this.state=P.gY,this.vl=this.jr=""):"--" === this.jr + L?(this.state=P.jY,this.jr=this.xl=""):(this.jr + L).toUpperCase() === G?(this.state=P.oY,(this.doctype || this.PM) && m(this,"Inappropriately located doctype declaration"),this.jr=this.doctype=""):">" === L?(h(this,"onsgmldeclaration",this.jr),this.jr="",this.state=P.Za):(g(B,L) && (this.state=P.UJa),this.jr+=L);continue;case P.UJa:L === this.q && (this.state=P.wda,this.q="");this.jr+=L;continue;case P.oY:">" === L?(this.state=P.Za,h(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=L,"[" === L?this.state=P.Kaa:g(B,L) && (this.state=P.eAa,this.q=L));continue;case P.eAa:this.doctype+=L;L === this.q && (this.q="",this.state=P.oY);continue;case P.Kaa:this.doctype+=L;"]" === L?this.state=P.oY:g(B,L) && (this.state=P.dAa,this.q=L);continue;case P.dAa:this.doctype+=L;L === this.q && (this.state=P.Kaa,this.q="");continue;case P.jY:"-" === L?this.state=P.hza:this.xl+=L;continue;case P.hza:"-" === L?(this.state=P.gza,(this.xl=f(this.Om,this.xl)) && h(this,"oncomment",this.xl),this.xl=""):(this.xl+="-" + L,this.state=P.jY);continue;case P.gza:">" !== L?(m(this,"Malformed comment"),this.xl+="--" + L,this.state=P.jY):this.state=P.Za;continue;case P.gY:"]" === L?this.state=P.Yya:this.vl+=L;continue;case P.Yya:"]" === L?this.state=P.Zya:(this.vl+="]" + L,this.state=P.gY);continue;case P.Zya:">" === L?(this.vl && h(this,"oncdata",this.vl),h(this,"onclosecdata"),this.vl="",this.state=P.Za):"]" === L?this.vl+="]":(this.vl+="]]" + L,this.state=P.gY);continue;case P.VGa:"?" === L?this.state=P.Gca:g(x,L)?this.state=P.Fca:this.g8+=L;continue;case P.Fca:if(!this.BG && g(x,L))continue;else "?" === L?this.state=P.Gca:this.BG+=L;continue;case P.Gca:">" === L?(h(this,"onprocessinginstruction",{name:this.g8,body:this.BG}),this.g8=this.BG="",this.state=P.Za):(this.BG+="?" + L,this.state=P.Fca);continue;case P.uGa:if(g(I,L))this.tagName+=L;else {this.Ul || (this.tagName=this.tagName[this.opa]());R=this.ri[this.ri.length - 1] || this;ka=this.tag={name:this.tagName,attributes:{}};this.Om.RX && (ka.tj=R.tj);this.lA.length=0;">" === L?v(this):"/" === L?this.state=P.$Z:(!g(x,L) && m(this,"Invalid character in tag name"),this.state=P.KH);}continue;case P.$Z:">" === L?(v(this,!0),t(this)):(m(this,"Forward-slash in opening tag not followed by >"),this.state=P.KH);continue;case P.KH:if(g(x,L))continue;else ">" === L?v(this):"/" === L?this.state=P.$Z:g(O,L)?(this.Di=L,this.Ei="",this.state=P.WX):m(this,"Invalid attribute name");continue;case P.WX:"=" === L?this.state=P.O$:">" === L?(m(this,"Attribute without value"),this.Ei=this.Di,q(this),v(this)):g(x,L)?this.state=P.bxa:g(I,L)?this.Di+=L:m(this,"Invalid attribute name");continue;case P.bxa:if("=" === L)this.state=P.O$;else if(g(x,L))continue;else (m(this,"Attribute without value"),this.Ei=this.tag.attributes[this.Di]="",h(this,"onattribute",{name:this.Di,value:""}),this.Di="",">" === L?v(this):g(O,L)?(this.Di=L,this.state=P.WX):(m(this,"Invalid attribute name"),this.state=P.KH));continue;case P.O$:if(g(x,L))continue;else g(B,L)?(this.q=L,this.state=P.R$):(m(this,"Unquoted attribute value"),this.state=P.S$,this.Ei=L);continue;case P.R$:if(L !== this.q){"&" === L?this.state=P.P$:this.Ei+=L;continue;}q(this);this.q="";this.state=P.cxa;continue;case P.cxa:g(x,L)?this.state=P.KH:">" === L?v(this):"/" === L?this.state=P.$Z:g(O,L)?(m(this,"No whitespace between attributes"),this.Di=L,this.Ei="",this.state=P.WX):m(this,"Invalid attribute name");continue;case P.S$:if(!g(D,L)){"&" === L?this.state=P.Q$:this.Ei+=L;continue;}q(this);">" === L?v(this):this.state=P.KH;continue;case P.Baa:if(this.tagName)">" === L?t(this):g(I,L)?this.tagName+=L:this.Dj?(this.Dj+="</" + this.tagName,this.tagName="",this.state=P.rI):(!g(x,L) && m(this,"Invalid tagname in closing tag"),this.state=P.eza);else if(g(x,L))continue;else g(O,L)?this.tagName=L:this.Dj?(this.Dj+="</" + L,this.state=P.rI):m(this,"Invalid tagname in closing tag.");continue;case P.eza:if(g(x,L))continue;">" === L?t(this):m(this,"Invalid characters in closing tag");continue;case P.Oda:case P.P$:case P.Q$:switch(this.state){case P.Oda:(la=P.Za,X="textNode");break;case P.P$:la=P.R$;X="attribValue";break;case P.Q$:(la=P.S$,X="attribValue");}if(";" === L){L=X;R=this[L];ka=this.Em;da=ka.toLowerCase();ta="";if(this.kw[ka])ka=this.kw[ka];else if(this.kw[da])ka=this.kw[da];else {ka=da;if("#" === ka.charAt(0))if("x" === ka.charAt(1)){ka=ka.slice(2);Ba=parseInt(ka,16);ta=Ba.toString(16);}else (ka=ka.slice(1),Ba=parseInt(ka,10),ta=Ba.toString(10));ka=ka.replace(/^0+/,"");ka=ta.toLowerCase() !== ka?(m(this,"Invalid character entity"),"&" + this.Em + ";"):String.fromCodePoint(Ba);}this[L]=R + ka;this.Em="";this.state=la;}else g(C,L)?this.Em+=L:(m(this,"Invalid character entity"),this[X]+="&" + this.Em + L,this.Em="",this.state=la);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.NQa){N=Math.max(w.$ba,10);L=J=0;for(la=u.length;L < la;L++){X=this[u[L]].length;if(X > N)switch(u[L]){case "textNode":d(this);break;case "cdata":h(this,"oncdata",this.vl);this.vl="";break;case "script":h(this,"onscript",this.Dj);this.Dj="";break;default:n(this,"Max buffer length exceeded: " + u[L]);}J=Math.max(J,X);}this.NQa=w.$ba - J + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.vl && (h(this,"oncdata",this.vl),this.vl="");"" !== this.Dj && (h(this,"onscript",this.Dj),this.Dj="");}};y=w.Ph.filter(function(N){return "error" !== N && "end" !== N;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(N){this.Vw.write(N.toString());this.emit("data",N);return !0;};c.prototype.end=function(N){N && N.length && this.write(N);this.Vw.end();return !0;};c.prototype.on=function(N,J){var L;L=this;L.Vw["on" + N] || -1 === y.indexOf(N) || (L.Vw["on" + N]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,N);L.emit.apply(L,R);});return b.prototype.on.call(L,N,J);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";C=z + A + "#";D=x + ">";E="[CDATA[";G="DOCTYPE";F="http://www.w3.org/XML/1998/namespace";H="http://www.w3.org/2000/xmlns/";K={xml:F,RX:H};x=l(x);z=l(z);A=l(A);O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=l(B);C=l(C);D=l(D);P=0;w.Dz={maa:P++,naa:P++,Za:P++,Oda:P++,tca:P++,wda:P++,UJa:P++,oY:P++,eAa:P++,Kaa:P++,dAa:P++,K6b:P++,jY:P++,hza:P++,gza:P++,gY:P++,Yya:P++,Zya:P++,VGa:P++,Fca:P++,Gca:P++,uGa:P++,$Z:P++,KH:P++,WX:P++,bxa:P++,O$:P++,R$:P++,cxa:P++,S$:P++,P$:P++,Q$:P++,Baa:P++,eza:P++,rI:P++,RJa:P++};w.alb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.kw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.kw).forEach(function(N){var J;J=w.kw[N];J="number" === typeof J?String.fromCharCode(J):J;w.kw[N]=J;});for(P in w.Dz){w.Dz[w.Dz[P]]=P;}P=w.Dz;String.fromCodePoint || (function(){var J,L;function N(){var R,ka,la,da,ta;R=[];ka=-1;la=arguments.length;if(!la)return "";for(var X="";++ka < la;){da=Number(arguments[ka]);if(!isFinite(da) || 0 > da || 1114111 < da || L(da) != da)throw RangeError("Invalid code point: " + da);if(65535 >= da)R.push(da);else {da-=65536;ta=(da >> 10) + 55296;da=da % 1024 + 56320;R.push(ta,da);}if(ka + 1 == la || 16384 < R.length)(X+=J.apply(null,R),R.length=0);}return X;}J=String.fromCharCode;L=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:N,configurable:!0,writable:!0}):String.fromCodePoint=N;})();r.exports=w;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){var c;function a(l,g){for(var h=0;h < l.length;h++){if(g(l[h],h,l))return l[h];}}Object.defineProperty(b,"__esModule",{value:!0});b.uc=b.Khb=b.oEa=void 0;r=(function(){function l(g){this.nl=[];this.ax=this.BNa=0;this.ya=g;}l.prototype.uma=function(g){var h;h=a(this.nl,function(d){return g >= d.gb && g < d.Vf;});"undefined" === typeof h && this.ya.warn("Get Segment at pts " + g + " is undefined");return h;};l.prototype.Mpb=function(g,h){var f;for(var d=this.nl;0 < d.length && 300 <= g.J - d[0].J;){this.H8a();}for(;0 < d.length && 300 <= d[d.length - 1].J - g.J;){this.IYb();}for(;1445698 < this.ax + g.size && 0 < d.length && 4 < g.J - d[0].J;){this.ya.trace("Size exceeds, removing live segment with segmentId " + d[0].J);this.H8a();}f=new c(g,h);g=d.length;if(0 === g || d[g - 1].J < f.J)this.JYb(f);else {g=a(d,function(n){return n.J >= f.J;});if((null === g || void 0 === g?void 0:g.J) === f.J)return;this.KYb(d.indexOf(g),f);}this.BNa=d[d.length - 1].J;};l.prototype.ubb=function(g){"undefined" === typeof g?this.ya.warn("Current segment is undefined."):(this.gm=g,this.ya.trace("Current segment id is " + g.J));};l.prototype.lHb=function(){if(this.E0){if(this.BNa !== this.E0.J)return this.nl[this.nl.indexOf(this.E0) + 1];}else return this.nl[0];};l.prototype.tX=function(g){this.E0=this.H3(g);};l.prototype.H3=function(g){var h;h=a(this.nl,function(d){return d.J === g;});"undefined" === typeof h && this.ya.error("Segment with segmentId " + g + " is not in segmentArray");return h;};l.prototype.cYa=function(){var g;return (null === (g=this.E0) || void 0 === g?void 0:g.J) || -1;};l.prototype.Q3b=function(g,h){g=this.H3(g);"undefined" !== typeof g && (this.nl[this.nl.indexOf(g)].header=h);};l.prototype.qGb=function(g){g=this.H3(g);return (null === g || void 0 === g?void 0:g.header) || ({});};l.prototype.H8a=function(){this.ax-=this.nl[0].size;this.nl.shift();};l.prototype.JYb=function(g){this.ax+=g.size;this.nl.push(g);};l.prototype.KYb=function(g,h){this.ax+=h.size;this.nl.splice(g,0,h);};l.prototype.IYb=function(){this.ax-=this.nl[this.nl.length - 1].size;this.nl.pop();};return l;})();b.oEa=r;c=(function(){return function(l,g){this.J=l.J;this.xml=l.xml;this.gb=l.gb;this.Vf=l.Vf;this.dna=g;this.size=l.size;this.xG=l.xG;};})();b.Khb=c;b.uc=a;},function(r,b,a){var l;function c(g){var h;g=g.split(".");h=g[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * h[0] + 60 * h[1] + h[2]) + parseInt(g[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.z2=b.rEa=void 0;l=a(481);r=(function(){function g(h){this.Vr=[];this.ya=h;}g.prototype.Opb=function(h,d,f){var n,k,m,p,q,v;void 0 === f && (f=0);n=this.Vr;k=h.indexOf("<p");m=-1;do {p={};p.J=d;p.a$a=k;q=h.indexOf("begin=",k) + 7;v=h.indexOf("end=",k) + 5;q=c(h.substring(q,q + 12)) - f;v=c(h.substring(v,v + 12)) - f;m=v > m?v:m;p.startTime=q;p.endTime=v;p.latestEndSoFar=m;p.jCb=h.indexOf("/p>",k) + 3;k=p.jCb;if(0 === n.length || p.startTime > n[n.length - 1].startTime)(n.push(p),this.ya.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,$Bb:p.endTime}));else if((v=l.uc(n,function(t){return t.startTime >= p.startTime;}),v.startTime !== p.startTime || v.a$a !== p.a$a))(v=n.indexOf(v),n.splice(v,0,p),this.ya.trace("LiveTtmlIndex:  entry is pushed at index number " + v,{startTime:p.startTime,$Bb:p.endTime}));k=h.indexOf("<p",k);}while(-1 !== k);};g.prototype.Sn=function(h,d){return this.Vr.filter(function(f){return f.startTime <= d && f.endTime >= h;}).length;};g.prototype.cHb=function(h){var d;d=l.uc(this.Vr,function(f){return f.startTime <= h && h < f.endTime || f.startTime >= h;});return (null === d || void 0 === d?void 0:d.J) || -1;};g.prototype.QVa=function(){return 0 < this.Vr.length?this.Vr[this.Vr.length - 1].endTime:0;};return g;})();b.rEa=r;b.z2=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nca="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wAa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,l,g){if(null != g){if(0 < g(c,l))throw a.cTa(c,l);}else if(c.zk && 0 < c.zk(l))throw a.cTa(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.qda=void 0;a.cTa=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.qda=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zAa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gHa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MEa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PFa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yHa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PLa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mxa="AppLogSinkSymbol";},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F;function c(H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q){var M;M=this;this.j=H;this.Ba=K;this.sab=O;this.Jf=I;this.Spa=P;this.Cka=N;this.Qd=J;this.e3=L;this.De=R;this.config=ka;this.Wc=la;this.ta=X;this.Ea=da;this.Bp=ta;this.dy=Ba;this.li=Ja;this.Is=Va;this.aG=Ta;this.kc=T;this.JL=aa;this.wB=Q;this.fX=[];this.bqa=this.lB=this.cW=0;this.bK=[];this.vga=!1;this.pr=function(S){var ra,oa,Ca,Ua,Pa,Ya;oa={};try{oa={playdelaysdk:(0,m.Xf)(M.j.AR()),applicationPlaydelay:(0,m.Xf)(M.j.Nha()),playdelay:(0,m.Xf)(M.j.Oha()),trackid:M.j.Hj,bookmark:(0,m.Xf)(M.j.tl || 0),pbnum:M.j.index,endianness:(0,f.yXa)()};M.config().NBb && (oa.transitiontime=M.j.Xl,oa.uiplaystarttime=M.j.Ua.DC,oa.playbackrequestedat=M.j.Lh.ca(p.na),oa.clockgettime=M.getTime(),oa.clockgetpreciseepoch=M.ta.se.ca(p.na),oa.clockgetpreciseappepoch=M.Ea.cy.ca(p.na),oa.absolutestarttime=M.j.gF(),oa.relativetime=M.j.EYa());M.Z3(oa,"startplay");}catch(ob){M.log.error("error in startplay log fields",ob);}M.j.Ch && (oa.blocked=M.j.Ch);M.kc.e_a(oa);(0,x.sb)(M.j.KQa) && (oa.bookmarkact=(0,m.Xf)(M.j.KQa));Ca=M.j.Oc.at && M.j.Oc.ats?M.j.Oc.at - M.j.Oc.ats:void 0;Ca && (oa.nccpat=Ca);(Ca=M.j.Oc.lr && M.j.Oc.lc?M.j.Oc.lr - M.j.Oc.lc:void 0) && (oa.nccplt=Ca);(Ca=M.j.Oc.lc && M.j.Oc.lg?M.j.Oc.lc - M.j.Oc.lg:void 0) && (oa.lct=Ca);(Ca=M.QE()) && (oa.downloadables=Ca);mb._cad_global.device && (0,x.Nc)(mb._cad_global.device.s3) && (oa.esnSource=mb._cad_global.device.s3);(0,m.Jd)(oa,M.Bp,{prefix:"pi_"});M.j.Bn && M.j.Bn.initBitrate && (oa.initvbitrate=M.j.Bn.initBitrate);M.j.Bn && M.j.Bn.selector && (oa.selector=M.j.Bn.selector);oa.fullDlreports=M.Vbb;if(M.j.state.value >= y.Rb.Sd)try{Ua=M.j.rs();if(Ua){M.maxBitrate=(0,f.bO)(Ua.map(function(ob){return ob.bitrate;}));M.G2a=(0,f.bO)(Ua.map(function(ob){return ob.height;}));Pa=0 < Ua.length?(0,C.jZa)(function(ob,pb){return ob.height === pb.height;},Ua).map(function(ob){return (0,z.Hpa)(ob,function(pb){return pb.bitrate;});}):void 0;oa.maxbitrate=M.maxBitrate;oa.maxresheight=M.G2a;}}catch(ob){M.log.error("Exception computing max bitrate",ob);}try{Ya=(0,f.tF)();Ya && (oa.pdltime=Ya);}catch(ob){}try{(0,m.Jd)(oa,M.j.Oc,{prefix:"sm_"});(0,m.Jd)(oa,M.j.J4(),{prefix:"vd_"});}catch(ob){}S && M.j.pt && (oa.pssh=M.j.pt);M.i_a(M.j,oa);oa.avtp=M.lH.Im().Nva;(null === (ra=M.j.ab) || void 0 === ra?0:ra.Qw) && M.e5(oa);if(M.j.yb.value)try{oa.ttTrackFields=M.j.yb.value.sg;}catch(ob){}M.kc.a_a(oa,M.j.jc.value,M.Ba);M.kc.eL(oa,!0,M.j.Fg.value,M.Ba);M.j.X && (oa.packageId=M.j.X.Ha.Rm);M.j.X && M.j.X.Ha.ap && (oa.hasChoiceMap=!0);M.HMb(Pa);M.GMb();S && (M.Dna(oa),M.Fna(oa));M.c_a(M.j,oa);M.CF(M.j,oa);M.DF(M.j,oa);M.Hq(M.j,oa);M.gB(M.j,oa,M.vga);M.HT(M.j,oa);M.pKb(M.j,oa);M.Ena(oa);M.Hna(oa);M.kc.dL(oa);M.b_a(oa);M.kc.f5(oa,M.Ba);M.Gna(oa);M.mc(A.Bc.pr,S,F.Cd | F.Nr | F.vi | F.Or | F.MC | F.hY | F.OC | F.vo,oa);};this.vt=function(S,ra,oa){ra={playdelay:(0,m.Xf)(S),reason:oa,intrplayseq:M.lB - 1,skipped:ra};"repos" === oa && (ra.prstate=!0 === M.j.paused.value?"paused":"playing");M.cL(ra,g.Qh.vt);M.DF(M.j,ra);M.Hq(M.j,ra);M.mc(A.Bc.vt,!1,F.Cd | F.Nr | F.vi,ra);"rebuffer" !== oa && "force_rebuffer" !== oa || M.j.Kk.Ipb(Number((0,m.Xf)(S)));};this.px=function(S,ra,oa,Ca){S={moff:(0,m.zl)(oa),moffms:(0,m.Xf)(oa),vbitrate:ra.bitrate,vbitrateold:S.bitrate,vdlid:ra.Sb,vdlidold:S.Sb,vheight:ra.height,vheightold:S.height,vwidth:ra.width,vwidthold:S.width,bw:Ca};M.DF(M.j,S);M.Hq(M.j,S);M.gB(M.j,S);M.cL(S,g.Qh.px);M.mc(A.Bc.px,!1,F.vi,S);};this.gta=function(S,ra,oa){S={moff:(0,m.zl)(oa),moffms:(0,m.Xf)(oa),vdlidold:S.Sb,vbitrateold:S.bitrate};M.DF(M.j,S);M.Hq(M.j,S);M.gB(M.j,S);M.kc.rp(S,ra,M.j.gf.value && M.j.gf.value.stream);M.cL(S,g.Qh.$V);M.mc(A.Bc.$V,!1,F.vi,S);};this.Qra=function(){var S,ra;S={waittime:(0,m.Xf)(M.j.EYa()),abortedevent:"startplay",trackid:M.j.Hj,prstate:M.Ox(),paustate:M.j.paused.value};M.Z3(S,"endplay");M.cL(S,g.Qh.mM);M.Is.qS && (S.eventlist_version=1,S.eventlist=M.aG.rYa(M.j));M.j.Bn && M.j.Bn.initBitrate && (S.initvbitrate=M.j.Bn.initBitrate);try{ra=(0,f.tF)();ra && (S.pdltime=ra);(0,m.Jd)(S,M.j.Oc,{prefix:"sm_"});}catch(oa){}M.Ana(S);M.kc.f5(S,M.Ba);M.kc.eL(S,!1,M.j.Fg.value,M.Ba);M.Dna(S);M.kc.rp(S,M.j.Ke.value,M.j.Jg.value);M.i_a(M.j,S);M.CF(M.j,S);M.HT(M.j,S);M.Gna(S);M.Fna(S);M.Hq(M.j,S);M.mc(A.Bc.mM,!1,F.Cd | F.vi | F.MC | F.Or | F.vo,S);};this.Pra=function(S,ra){S={waittime:(0,m.Xf)(S),abortedevent:"resumeplay",resumeplayreason:ra};M.j.Bn && M.j.Bn.initBitrate && (S.initvbitrate=M.j.Bn.initBitrate);M.kc.rp(S,M.j.Ke.value,M.j.Jg.value);M.HT(M.j,S);M.Hq(M.j,S);M.mc(A.Bc.mM,!1,F.Cd | F.vi | F.vo,S);};this.ova=function(S,ra,oa){S={newstate:ra?"Paused":"Playing",oldstate:S?"Paused":"Playing",reason:oa};M.DF(M.j,S);M.Hq(M.j,S);M.gB(M.j,S);M.kc.rp(S,M.j.Ld.value && M.j.Ld.value.stream,M.j.gf.value && M.j.gf.value.stream);M.cL(S,g.Qh.NW);M.mc(A.Bc.NW,!1,F.Cd | F.vi,S);};this.OT=function(S,ra,oa){var Ca,Ua;S=(0,m.Jd)({vdlid:M.j.Ke.value.Sb,playingms:S,pausedms:ra,intrplayseq:M.lB++,prstate:M.Ox(),paustate:M.j.paused.value},oa);M.Z3(S,"intrplay");ra=M.j.qc[D.v.Z].value;oa=M.j.qc[D.v.ga].value;S.cdnid=S.vcdnid=ra && ra.id;S.acdnid=oa && oa.id;S.locid=M.cU && M.cU.epa;S.loclv=M.cU && M.cU.M1a;S.avtp=M.lH.Im().Nva;S.mediabuffered=null === (Ca=M.j.ee) || void 0 === Ca?void 0:Ca.a4();if(null === (Ua=M.j.ab) || void 0 === Ua?0:Ua.Qw)(M.Ana(S),M.e5(S),M.g_a(S));try{(0,m.Jd)(S,M.j.J4(),{prefix:"vd_"});}catch(Pa){}M.DF(M.j,S);M.Hq(M.j,S);M.gB(M.j,S);M.kc.rp(S,M.j.Ld.value && M.j.Ld.value.stream,M.j.gf.value && M.j.gf.value.stream);M.mc(A.Bc.OT,!1,F.Cd | F.vi,S);};this.hC=function(S,ra,oa){S={moffold:(0,m.zl)(S),reposseq:M.cW++,prstate:M.Ox(),paustate:M.j.paused.value};M.gB(M.j,S);M.kc.rp(S,oa && oa.stream,ra && ra.stream);M.cL(S,g.Qh.hC);M.mc(A.Bc.hC,!1,F.Cd | F.vi,S);};this.gha=function(){var S,ra,oa,Ca;ra=M.j.jc.value;oa=M.j.Jg.value.Sb;ra=ra?{trackId:ra.trackId,bcp47:ra.Re,downloadableId:oa,rank:ra.$b,chan:ra.channels}:{};oa=M.$x;Ca=null === (S=M.Coa) || void 0 === S?void 0:S.Sb;S=oa?{trackId:oa.trackId,bcp47:oa.Re,downloadableId:Ca,rank:oa.$b,chan:oa.channels}:{};M.mc(A.Bc.oQa,!1,F.Cd | F.vi,{switchdelay:(0,m.Xf)(M.getTime() - M.Doa),track:ra,oldtrack:S});};this.IW=function(S){M.mc(A.Bc.e$a,!1,F.Cd | F.vi,{speedold:Math.floor(1E3 * S.oldValue),speed:Math.floor(1E3 * S.newValue)});};this.uN=function(){M.mc(A.Bc.h2b,!1,F.Cd | F.vi,{track:M.j.yb.value.sg});};this.Ty=function(S){var ra,oa;ra=M.j.yb.value;if(S.newValue || ra && ra.Un() && !ra.Lm()){oa=(S=null !== (oa=S.newValue) && void 0 !== oa?oa:ra)?{trackId:S.trackId,bcp47:S.Re,downloadableId:S.Sb,rank:S.$b,isImageBased:S.ak}:{};S=(S=M.Loa)?{trackId:S.trackId,bcp47:S.Re,downloadableId:S.Sb,rank:S.$b,isImageBased:S.ak}:{};oa={switchdelay:(0,m.Xf)(M.getTime() - M.Koa),track:oa,oldtrack:S};M.kc.rp(oa,M.j.Ld.value && M.j.Ld.value.stream,M.j.gf.value && M.j.gf.value.stream);M.mc(A.Bc.zab,!1,F.Cd | F.vi,oa);}};this.Yo=function(S){M.mc(A.Bc.isb,!1,F.Cd | F.vi,S.newValue);};this.Ntb=function(S,ra){var oa,Ca;oa=ra.serverid;Ca={locid:ra.location,loclv:ra.locationlv,selocaid:oa,selcdnid:oa,selocaname:ra.servername};Ca.mediatype=ra.mediatype;Ca.selreason=ra.selreason || "unknown";Ca.seldetail=ra.seldetail;Ca.cdnbwdata=JSON.stringify([{id:oa}]);S && (Ca.oldlocid=S.epa,Ca.oldloclv=S.M1a,Ca.oldocaid=S.lZb,Ca.oldocaname=S.wW);M.mc(A.Bc.rRa,!1,F.hY,Ca);};this.nUa=function(){var S,ra,oa;if(M.j.ng)try{S=!1;M.Vbb || (S=!0,M.bK=M.bK.filter(function(Ca){return !Ca.ia;}));if(0 < M.bK.length){ra=M.e3.construct(M.bK,M.j.Lh.ca(p.na));M.bK=[];ra.erroronly=S;oa={};(0,m.Wf)(ra,function(Ca,Ua){oa[Ca]=JSON.stringify(Ua);});M.mc(A.Bc.pAb,!1,F.vi,oa);}}catch(Ca){M.log.error("Exception in dlreport.",Ca);}};this.Ox=function(){var S;S=M.j.lb.value;return S === y.Ya.Td?"playing":S === y.Ya.Rh?"paused":S === y.Ya.Up?"ended":"waiting";};this.my=function(){var S,ra,oa;if(M.j.state.value == y.Rb.Sd){oa=M.zV();M.config().nta && (oa.avtp=M.lH.Im().Nva,(null === (S=M.j.ab) || void 0 === S?0:S.Qw) && M.e5(oa));oa.mediabuffered=null === (ra=M.j.ee) || void 0 === ra?void 0:ra.a4();oa.midplayseq=M.bqa++;oa.prstate=M.Ox();oa.paustate=M.j.paused.value;M.config().hZb && M.P$a("midplay");M.config().ar && M.Ina(oa);M.Ena(oa);M.Hna(oa);M.Hq(M.j,oa);M.kc.dL(oa);M.mc(A.Bc.my,!1,F.Cd | F.vi | F.MC | F.Or,oa);}};this.P$a=function(S){var ra,oa;ra={};ra.trigger=S;try{oa=M.j.kma();ra.subtitleqoescore=M.j.Vm.pIb(oa);ra.metrics=JSON.stringify(M.j.Vm.Fma(oa));}catch(Ca){M.log.error("error getting subtitle qoe data",Ca);}M.mc(A.Bc.i1b,!1,F.Cd | F.MC | F.Nr,ra);};this.transition=function(S){M.gB(M.j,S);M.HT(M.j,S);M.mc(A.Bc.transition,!1,0,S);};this.hua=function(S,ra){M.mc(A.Bc.hua,ra,0,S);};this.Hx=function(S){var ra,oa,Ca,Ua,Pa,Ya,ob;oa=M.zV();M.Z3(oa,"endplay");oa.prstate=M.Ox();oa.paustate=M.j.paused.value;oa.muted=M.j.muted.value;M.j.Uy && "downloaded" === M.j.Uy.VK() && (oa.trickplay_ms=M.j.oX.offset,oa.trickplay_res=M.j.oX.T7a);M.config().acb && (oa.rtinfo=M.j.VHb());M.config().nta && (null === (ra=M.j.ab) || void 0 === ra?0:ra.Qw) && M.e5(oa);oa.endreason=S?"error":M.j.lb.value === y.Ya.Up?"ended":"stopped";(ra=M.Bp) && (0,m.Jd)(oa,ra,{prefix:"pi_"});try{(0,m.Jd)(oa,M.j.Oc,{prefix:"sm_"});}catch(Na){}M.j.zna && (oa.inactivityTime=M.j.zna);M.Ana(oa);M.g_a(oa);if(M.j.X1){ra=M.j.X1;Ca=M.config().OQa;Ua=M.j.loadTime;Pa={iv:Ca,seg:[]};Ya=function(Na,ab,fb){return 0 === ab || void 0 === fb[ab - 1]?Na:Na - fb[ab - 1];};ob=ra.Brb.map(Ya);Ya=ra.U4b.map(Ya);for(var pb,Db=0;Db < ob.length;Db++){if(ob[Db] || Ya[Db])pb?(pb.ams.push(ob[Db]),pb.vms.push(Ya[Db])):pb={ams:[ra.Brb[Db]],vms:[ra.U4b[Db]],soffms:ra.startTime + Db * Ca - Ua};Db !== ob.length - 1 && ob[Db] && Ya[Db] || !pb || (Pa.seg.push(pb),pb=void 0);}oa.bt=JSON.stringify(Pa);}S && (M.Dna(oa),M.Fna(oa));M.P$a("endplay");M.config().ar && M.Ina(oa);M.kc.eL(oa,!1,M.j.Fg.value,M.Ba);M.c_a(M.j,oa);M.CF(M.j,oa);M.DF(M.j,oa);M.gB(M.j,oa,M.vga);M.Hq(M.j,oa);M.HT(M.j,oa);M.Ena(oa);M.Hna(oa);M.kc.dL(oa);M.rKb(oa);M.b_a(oa);M.tKb(oa);M.sKb(oa);M.vKb(oa);M.Gna(oa);M.wKb(oa);M.mc(A.Bc.Hx,S,F.Cd | F.Nr | F.vi | F.MC | F.Or | F.OC | F.vo,oa);};this.wAb=function(S){M.bK.push(M.e3.Bvb(S.response));};this.Ch=function(){M.mc(A.Bc.HQa,!1,F.Cd | F.MC | F.vo,{});};this.Wub=function(S){var ra,oa;ra=S.response.Jl;S=(0,p.Jb)(ra.Oi);oa=(0,p.Jb)(ra.Mp);ra=(0,v.va)(ra.w2 || 0);ra.C0a() || ra.hoa() || (S=new t.qda(S,oa),M.lH.Cpb(new w.EAa(S,ra)));};this.J7=function(S){var ra,oa,Ca;Ca=S.newValue;S.Eh && S.Eh.VL && Ca && (null === (ra=S.Eh) || void 0 === ra || !ra.reason) || Ca == M.RF || (M.ova(M.RF,Ca,null === (oa=S.Eh) || void 0 === oa?void 0:oa.reason),M.RF=Ca);};this.ix=function(S){function ra(oa){var Ca;if(M.j.Ob && M.j.Ob.sourceBuffers){Ca=M.j.Ob.sourceBuffers.filter(function(Ua){return Ua.type === oa;}).pop();if(Ca)return {busy:Ca.mh(),updating:Ca.updating(),ranges:Ca.b4()};}}S={cause:S.cause};S.cause && S.cause === d.Tca && (S.mediaTime=M.j.mediaTime.value,S.buf_audio=ra(h.PZ),S.buf_video=ra(h.YO));M.OT(M.fX[y.Ya.Td] || 0,M.fX[y.Ya.Rh] || 0,S);};this.Oab=function(S){var ra;S=S.oldValue;ra=M.getTime();S === y.Ya.Bf?M.fX=[]:M.fX[S]=(M.fX[S] || 0) + (ra - M.QMb);M.QMb=ra;};this.sl=function(S){M.Doa=M.getTime();M.$x=S.oldValue;};this.Wk=function(S){M.Koa=M.getTime();M.Loa=S.oldValue;};this.nR=function(S){M.Coa=S.oldValue;};this.qU=function(S){function ra(oa,Ca){var Ua;if(!oa || oa.epa !== Ca.location){Ua={epa:Ca.location,M1a:Ca.locationlv,lZb:Ca.serverid,wW:Ca.servername};M.Ntb(oa,Ca);return Ua;}}if("audio" === S.mediatype){if(S=ra(M.LMb,S))M.LMb=S;}else if(S=ra(M.cU,S))M.cU=S;};this.uW=function(S){var ra,oa;ra=S.mediatype;oa=S.reason;"video" === ra?"serverswitchaway" === oa?(M.Si.summary.Dcb++,M.Si.V5=M.ta.se.ca(p.na)):"serverswitchback" === oa && (M.Si.summary.Ecb++,M.Si.V5 && (M.Si.summary.Fcb.push(M.ta.se.ca(p.na) - M.Si.V5),M.Si.V5=void 0)):"audio" === ra && ("serverswitchaway" === oa?(M.Si.summary.bQa++,M.Si.O5=M.ta.se.ca(p.na)):"serverswitchback" === oa && (M.Si.summary.cQa++,M.Si.O5 && (M.Si.summary.dQa.push(M.ta.se.ca(p.na) - M.Si.O5),M.Si.O5=void 0)));M.mc(A.Bc.nZb,!1,F.Cd | F.vi,{mediatype:S.mediatype,server:S.server,selreason:S.reason,location:S.location,bitrate:S.bitrate,confidence:S.confidence,throughput:S.throughput,oldserver:S.oldserver});};this.jE=function(S){M.mc(A.Bc.Xqb,!1,F.vi,{strmsel:S.strmsel});};this.d6=function(S){S=l.__rest(S,["type"]);M.Hq(M.j,S);M.mc(A.Bc.INb,!1,F.Cd,S);};this.c6=function(S){var ra,oa,Ca;ra=S.mediaType;oa=S.current;S=S.Ol;if(ra === D.v.Z){Ca={};ra={mediatype:(Ca[D.v.ga]="audio",Ca[D.v.Z]="video",Ca[D.v.Za]="subtitle",Ca)[ra],curr:{enc:oa.XE,origin:oa.WE},prev:{enc:S.XE,origin:S.WE}};M.Hq(M.j,ra);M.mc(A.Bc.HNb,!1,F.Cd,ra);}};this.nN=function(S){S=Object.assign({},S);S.details && (S.details=JSON.stringify(S.details));M.mc(A.Bc.h1b,!0,F.Cd | F.Nr | F.hY,S);};this.vga=Ja.Fwa || Ja.m$ || Ja.rWa;this.lH=O();this.log=(0,n.Gh)(H,"LogblobBuilder");this.RF=H.paused.value;this.ja=this.Ba.ja;this.Si={summary:{Dcb:0,Ecb:0,Fcb:[],bQa:0,cQa:0,dQa:[]},V5:void 0,O5:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.UO=void 0;l=a(0);g=a(66);h=a(16);d=a(64);f=a(42);n=a(8);k=a(20);m=a(22);p=a(3);q=a(2);v=a(51);t=a(485);w=a(1215);u=a(12);y=a(15);x=a(14);z=a(1216);A=a(262);B=a(115);C=a(79);D=a(47);E=a(189);G=a(238);c.prototype.i_a=function(H,K){var O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T;if(this.config().ar)try{O={};I=this.Wc.getStats(void 0,void 0,H.O);P=H.gF();N=I.kH.gvb || [];O.attempts=I.Z7 || 0;O.num_completed_tasks=N.length;J=this.Qd.cDb;L={};R=B.Zi.oN;ka=B.Zi.Ds;la=B.Zi.Tha;I.Ck && (L.scheduled=I.Ck - P);X=H.X;X && (0,x.sb)(X.GG) && (L.preauthsent=X.GG - H.loadTime,L.preauthreceived=X.IM - H.loadTime);da=N.filter(function(aa){return "manifest" === aa.type;});O.mf_succ=da.filter(J("status",R)).length;O.mf_fail=da.filter(J("status",ka)).length;ta=H.Oc;(0,x.Nc)(ta.lg) && 0 > ta.lg && H.loadTime && (L.ldlsent=ta.lc,L.ldlreceived=ta.lr);Ba=N.filter(function(aa){return "ldl" === aa.type;});O.ldl_succ=Ba.filter(J("status",R)).length;O.ldl_fail=Ba.filter(J("status",ka)).length;I=!0;P=[];"notcached" === H.sE && (I=!1,P.push("Missing cached manifest"));this.config().pS || (I=!1,P.push("LDL prefetch disabled"));Ja=Ba.filter(J("status",la)).length;this.config().pS && 0 === Ja && (!L.ldlreceived || 0 <= L.ldlreceived) && (I=!1,P.push("LDL received after start"));if(this.config().dVa)if(K.isPrefetchItem){Va=K.prefetchedAudioMs / K.bcABufferLevelMs;if(1 > K.prefetchedVideoMs / K.bcVBufferLevelMs || 1 > Va)(I=!1,P.push("Insufficient media fetched"));}else (I=!1,P.push("aseStats not initialized"));Ta=N.filter(function(aa){return "getHeaders" === aa.type;});O.header_succ=Ta.filter(J("status",R)).length;O.header_fail=Ta.filter(J("status",ka)).length;T=N.filter(function(aa){return "getMedia" === aa.type;});O.media_succ=T.filter(J("status",R)).length;O.media_fail=T.filter(J("status",ka)).length;O.hm_succ=O.header_succ + O.media_succ;O.hm_fail=O.header_fail + O.media_fail;(0,m.Jd)(K,O,{prefix:"pr_"});this.Is.qS && (K.eventlist_version=1,K.eventlist=this.aG.rYa(H));(K.prefetchCompleted=I) || (K.prefetchFailed=P,(0,m.Jd)(K,L,{prefix:"pe_"}));this.Ina(K);}catch(aa){this.log.warn("error in collecting video prepare data",aa);}};c.prototype.ZHb=function(H,K){if(H=H.TS())if(K=H[K])return K.sa;};c.prototype.c_a=function(H,K){H.Ua.Yf && (K.isBranching=!0);};c.prototype.CF=function(H,K){var O,I;I=(null === (O=H.X) || void 0 === O?void 0:O.eoa) || "videopreparer" === H.rE;K.cachedManifest=H.sE;K.cachedLicense=H.rE;K.usedldl=this.config().pS?I.toString():"not_capable";};c.prototype.DF=function(H,K){var O,I;if(this.config().uKb){O=H.lma();I=H.aa.X;O && I && (K.segment=O,I=H.VA(),K.segmenttime=I,H=this.ZHb(H,O),null !== I && void 0 !== H && (K.segmentoffset=I - H));}};c.prototype.gB=function(H,K,O){K.pxid=H.V7;(void 0 === O?0:O) && (K.playgraph_trace=H.Q5a);};c.prototype.HT=function(H,K){K.hasContentPlaygraph=H.P4();};c.prototype.pKb=function(H,K){var O,I;if(H.P4()){O=H.zA;I=H.X.Ha.xm.fa;K.auxViewables=Object.keys(I.L).map(function(P){return I.L[P].K;}).filter(function(P,N,J){return P !== O && J.indexOf(P) === N;});}};c.prototype.g_a=function(H){var K,O;K=this.j.Gcc;O=K && K.Cec;K && K.WJb && (H.htwbr=K.WJb,H.pbtwbr=K.mec,H.hptwbr=K.Kcc);K && K.jYb && (H.rr=K.jYb,H.ra=K.zec);K && O && 0 < (O.length || 0) && (H.qe=JSON.stringify(O));};c.prototype.Dna=function(H){var K,O,I;try{K=this.Qd.createElement("canvas");O=K.getContext("webgl") || K.getContext("experimental-webgl");if(O){I=O.getExtension("WEBGL_debug_renderer_info");I && (H.WebGLRenderer=O.getParameter(I.UNMASKED_RENDERER_WEBGL),H.WebGLVendor=O.getParameter(I.UNMASKED_VENDOR_WEBGL));}}catch(P){}};c.prototype.vKb=function(H){H.switchAwaySummary={vsa:this.Si.summary.Dcb,vsb:this.Si.summary.Ecb,vsbt:this.Si.summary.Fcb,asa:this.Si.summary.bQa,asb:this.Si.summary.cQa,asbt:this.Si.summary.dQa};};c.prototype.amb=function(H){var K;K=[];return H?Object.keys(H).map(function(O){return +O;}):K;};c.prototype.QE=function(){var H,K;H=this;if(this.j.Xv && this.j.Vh){K=[];this.j.Xv.concat(this.j.Vh).forEach(function(O){O.streams.forEach(function(I){K.push({dlid:I.Sb,type:I.type,bitrate:I.bitrate,vmaf:I.zb,cdn_ids:H.amb(I.Mja)});});});return JSON.stringify(K);}};c.prototype.Mtb=function(){var K,O,I;function H(P,N){var J,L,R;J=P.cdnId + "$" + P.correlationId;L=I[J];L || (L={cdnid:P.cdnId,pbcid:P.correlationId,dls:[]},I[J]=L,O.push(L));(0,k.XJ)(P.bitrate);(0,k.XJ)(P.duration);J={bitrate:P.bitrate,tm:(0,u.dn)(P.duration)};R=P.vmaf;R && ((0,k.XJ)(P.vmaf),J.vf=R);J[N]=(0,m.Ni)(P.downloadableId);L.dls.push(J);}K=this.j.Kk.hFb();O=[];I={};K.audio.forEach(function(P){H(P,"adlid");});K.video.forEach(function(P){H(P,"dlid");});return JSON.stringify(O);};c.prototype.zV=function(){var H,K,O,I,P,N,J,L,R,ka,la,X,da;H=this.j.Kk;K={totaltime:(0,m.zl)(H.mp("content")),totalcontenttime:(0,m.zl)(H.oT("content")),totaladtime:(0,m.zl)(H.mp("ads")),totalothertime:(0,m.zl)(H.mp("other")),cdndldist:this.Mtb(),reposcount:this.cW,intrplaycount:this.lB};try{O={numskip:0,numlowqual:0};I=this.j.ee;P=I.dv();(0,x.sb)(P) && (K.totfr=P,O.numren=P);P=I.mF();(0,x.sb)(P) && (K.totdfr=P,O.numrendrop=P);P=I.XS();(0,x.sb)(P) && (K.totcfr=P,O.numrenerr=P);K.playqualvideo=JSON.stringify(O);N=this.j.Ke.value;N && (K.videofr=N.framerate.toFixed(3));J=H.xla();J && (K.abrdel=J);L=H.W4() && H.SWa();L && (K.tw_vmaf=L);R=H.QWa();R && (0,m.Jd)(K,R);K.rbfrs=this.lB;K.maxbitrate=this.maxBitrate;K.maxresheight=this.G2a;ka=this.j.YA();for(H=0;H < ka.length;H++){la=ka[H];X=this.Ba.ML.Qy(la);if(X){(0,k.ma)(da);K.maxbitrate=da?da.bitrate:0;K.maxresheight=da?da.height:0;K.bitratefilters=X.join("|");break;}da=la;}this.j.Uy && (K.trickplay=this.j.Uy.VK());null !== this.j.Vm.wQa && (K.avg_subt_delay=this.j.Vm.wQa);}catch(ta){this.log.error("Exception reading some of the endplay fields",ta);}(0,m.Jd)(K,this.j.J4(),{prefix:"vd_"});return K;};c.prototype.getTime=function(){return this.Ea.Db().ca(p.na);};c.prototype.xma=function(){return this.getTime() - this.Ba.Lh.ca(p.na);};c.prototype.Ina=function(H){var K;try{K=this.Wc.getStats();H.pr_cache_size=JSON.stringify(K.cache);H.pr_stats=JSON.stringify(K.IEb);}catch(O){}};c.prototype.Ena=function(H){this.log.debug("httpstats",this.De.Nf);(0,m.Jd)(H,this.De.Nf,{prefix:"http_"});};c.prototype.Hq=function(H,K){H=H.Zc;H.ha && (K.intenttoplayatedge=H.xT(),H=H.UA(),K.livestage=this.KGb(H));};c.prototype.KGb=function(H){switch(H){case E.Ir.uP:case E.Ir.Mba:case E.Ir.dba:return H.toLowerCase();default:return (0,G.vS)(H);}};c.prototype.Ana=function(H){var K,O,I;K=this.config().ETa && !(this.ja % this.config().ETa);O=this.j.ab;I=null === O || void 0 === O?void 0:O.Ah;K && I && (H.ASEstats=JSON.stringify(O.K_a()));};c.prototype.e5=function(H){Object.assign(H,this.j.ab.Kd.wIb());};c.prototype.Hna=function(H){var K;try{K=u.Yt.memory;(0,x.z0a)(K) && (H.totalJSHeapSize=K.totalJSHeapSize,H.usedJSHeapSize=K.usedJSHeapSize,H.jsHeapSizeLimit=K.jsHeapSizeLimit);}catch(O){}};c.prototype.b_a=function(H){var K;try{if(this.config().CR){K=this.j.nFb();H.battery=K;this.log.trace("batterystatuses",K);}}catch(O){}};c.prototype.rKb=function(H){this.j.P2 && (H.dqec=this.j.P2);};c.prototype.Gna=function(H){var K,O,I;(null === (K=this.j.Zd) || void 0 === K?0:K.MK)?H.keysys=this.j.Zd.MK():(null === (I=null === (O=this.j.Zd) || void 0 === O?void 0:O.mediaKeys) || void 0 === I?0:I.keySystem)?H.keysys=this.j.Zd.mediaKeys.keySystem:this.JL.S0a && (H.keysys=this.JL.S0a);this.wB.U0a && (H.keySystemRestrictions=this.wB.U0a);this.wB.V0a && (H.keySystemRestrictionsDebug=this.wB.V0a);};c.prototype.Fna=function(H){var K;if(null === (K=this.j.Zd) || void 0 === K?0:K.QXa)H.keystatus=this.j.Zd.Boa;};c.prototype.sKb=function(H){this.Bka && (H.externaldisplay=this.Bka.uK);};c.prototype.tKb=function(H){var K,O;if(this.Kwa){K=this.Kwa.map(function(I){return I.re;}).filter(function(I){return void 0 !== I;});O=(0,z.Hpa)(K,function(I){return I.height;});O && (H.media_capabilities_smooth=O.smooth,H.media_capabilities_efficient=O.powerEfficient,H.media_capabilities_bitrate=O.bitrate,H.media_capabilities_height=O.height,H.media_capabilities_width=O.width);H.media_capabilities=K.map(function(I){return {smooth:I.smooth,efficient:I.powerEfficient,bitrate:I.bitrate,height:I.height,width:I.width};});}};c.prototype.wKb=function(H){H.didHydrateTracks=this.j.a3;};c.prototype.GMb=function(){void 0 === this.Bka && (this.Bka=this.Cka.YCb());};c.prototype.HMb=function(H){var K;K=this;void 0 === this.Kwa && void 0 !== H && (this.Kwa=H.map(function(O){return K.Spa.Ika(O);}));};c.prototype.Z3=function(H,K){(K=this.j.OK(K)) && Object.entries(K).forEach(function(O){var I;I=ma(O);O=I.next().value;I=I.next().value;H[O]=I;});};c.prototype.cL=function(H,K){var O;(K=null === (O=this.j.ab) || void 0 === O?void 0:O.q4(void 0,K)) && Object.entries(K).forEach(function(I){var P;P=ma(I);I=P.next().value;P=P.next().value;H[I]=P;});};c.prototype.mc=function(H,K,O,I){var P,N;N=K?"error":"info";K && this.j.kh && (0,q.JY)(this.j.kh.errorCode,this.j.kh.za,this.xma(),null === (P=this.j.ee) || void 0 === P?void 0:P.dv()) && (N="info");this.jga(I,this.j,K,O);H=this.dy.ss(H,N,I,this.Ba);this.Jf.mc(H);};c.prototype.qKb=function(H,K){var O,I;I=null === (O=K.ab) || void 0 === O?void 0:O.Dyb;I && (null === I || void 0 === I?void 0:I.K) !== K.zA && (H.auxMid || (H.auxMid=I.K),H.auxPlaybackcontextid || (H.auxPlaybackcontextid=K.Dk(I.K).xf));};c.prototype.jga=function(H,K,O,I){var P,N,J,L,R;this.kc.d_a(H,K);this.qKb(H,K);I & F.Cd && ((0,k.ma)(!H || void 0 === H.moff),this.kc.h_a(H,K,K.P4()));I & F.Nr && this.kc.j_a(H,K);I & F.vi && (null === (P=K.ab) || void 0 === P?0:P.Ah) && (H.abuflbytes=null !== (N=H.abuflbytes) && void 0 !== N?N:K.cha(),H.abuflmsec=null !== (J=H.abuflmsec) && void 0 !== J?J:K.jR(),H.vbuflbytes=null !== (L=H.vbuflbytes) && void 0 !== L?L:K.Iwa(),H.vbuflmsec=null !== (R=H.vbuflmsec) && void 0 !== R?R:K.BX());I & F.Or && this.kc.k_a(H,K.ik);I & F.MC && (P=u.je.hardwareConcurrency,0 <= P && (H.numcores=P),P=this.Ba.Tja) && (N=P.yla(),H.droppedFrames=JSON.stringify(N),P=P.hT(this.config().NAb),(0,m.Wf)(P,function(ka,la){H["droppedFramesP" + ka]=JSON.stringify(la);}));if(I & F.hY)try{K.ng && (H.cdninfo=JSON.stringify(K.ng.map(function(ka){return {id:ka.id,nm:ka.name,rk:ka.$b,wt:ka.location.weight,lv:ka.location.level};})));}catch(ka){}O && I & F.OC && ((0,k.ma)(K.kh),this.kc.f_a(H,K,K.kh));I & F.vo && this.kc.Cna(H);};Sa.Object.defineProperties(c.prototype,{Vbb:{configurable:!0,enumerable:!0,get:function(){return this.j.Yu || this.j.kS;}}});b.UO=c;(function(H){H[H.Cd=1]="MOFF";H[H.Nr=2]="PRESENTEDSTREAMS";H[H.vi=4]="BUFFER";H[H.Or=8]="SCREEN";H[H.MC=16]="CPU";H[H.hY=32]="CDN";H[H.OC=64]="FATALERROR";H[H.vo=128]="BROWSERINFO";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GAa="DownloadReportBuilderSymbol";},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;r=a(0);l=a(275);g=a(103);h=a(22);d=a(2);f=a(20);n=a(12);k=a(14);m=a(1);a=a(11);c.prototype.construct=function(q,v){var t,w,u;t=this;w={};q.forEach(function(y){var x;x=y.url;w[x] || (w[x]=[]);w[x].push(y);});u=[];(0,h.Wf)(w,function(y,x){u.push(t.FIb(x,v));});return {urls:u};};c.prototype.FIb=function(q,v){var t,w,u,y;t=this;w=q[0];u={url:w.url,bitrate:w.bitrate,cdnid:(0,k.Mq)(w.qc)?w.qc.id:w.qc,dltype:w.rAb,id:w.Sb};y={};q.forEach(function(x){var z;z=t.ALb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,h.Wf)(y,function(x,z){"fail" === x?u.failures=t.fGb(z,v):"success" === x && (u.downloads=t.VFb(z,v));});return u;};c.prototype.VFb=function(q,v){var t,w,u;t=this;w={};q.forEach(function(y){var x;x=y.Jub;w[x] || (w[x]=[]);w[x].push(y);});u=[];(0,h.Wf)(w,function(y,x){var z;z=[];x.forEach(function(A){z.push(A);t.jLb(A) && (u.push(t.sXa(z,v,y)),z=[]);});0 < z.length && u.push(t.sXa(z,v,y));});return u;};c.prototype.sXa=function(q,v,t){var w,u,y,x,A;w=q.sort(function(B,C){return B.Jl.Oi < C.Jl.Oi?-1:B.Jl.Oi > C.Jl.Oi?1:0;});u=w[0].Jl;y=u.Lv;x=u.Oi;u=u.Mp;for(var z=1;z < q.length;z++){A=q[z].Jl;A.Lv < y && (y=A.Lv);A.Oi < x && (x=A.Oi);A.Mp > u && (u=A.Mp);}z=this.LHb(w);A=w[w.length - 1];return {time:y - v,tcpid:t?parseInt(t):-1,tresp:x - y,first:z,ranges:this.MHb(w,z),dur:u - x,trace:this.XA(q),status:this.VK(A)};};c.prototype.LHb=function(q){var v;v=0;q.forEach(function(t){t.Ev && (v=(0,n.uw)(v,t.Ev[0]));});return v;};c.prototype.MHb=function(q,v){var t;t=[];q.forEach(function(w){w.Ev?t.push([w.Ev[0] - v,w.Ev[1] - v]):t.push([0,-1]);});return t;};c.prototype.XA=function(q){var v,t;v=[];q.forEach(function(w){var u;w=w.Jl;if(t){u=w.Lv - t.Mp;0 < u && v.push([u,-2]);u=(0,n.Kr)(t.Mp,w.Lv);u=w.Oi - u;0 < u && v.push([u,-3]);}v.push([w.Mp - w.Oi,w.w2 || 0]);t=w;});return v;};c.prototype.jLb=function(q){if(q.za === d.R.TC || q.za === d.R.UC)return !0;};c.prototype.VK=function(q){if(q.ia)return "complete";if(q.za === d.R.TC)return "abort";if(q.za === d.R.UC)return "stall";(0,f.ma)(!1,"download status should never be: other");return "other";};c.prototype.fGb=function(q,v){var t,w;t=this;w=[];q.forEach(function(u){var y;y=u.Jl;u={time:y.Oi - v,tresp:y.Oi - y.Lv,dur:y.Mp - y.Oi,range:u.Ev,reason:t.OHb(u),httpcode:u.yl,nwerr:(0,l.jYa)(u.za)};w.push(u);});return w;};c.prototype.OHb=function(q){return q.yl || q.za === d.R.IO?"http":q.za === d.R.KO?"timeout":"network";};c.prototype.ALb=function(q){return q.ia || void 0 === q.ia || q.za === d.R.TC || q.za === d.R.UC?!1:!0;};c.prototype.Bvb=function(q){var v,t,w,u,y,x;v=q.request;t=v.stream;w=v.track;u=v.url;y=this.SFb(w,u);switch(y){case g.Jj.audio:case g.Jj.video:x=v.stream.Sb;break;case g.Jj.Rva:case g.Jj.ewa:x=w.Sb;}q={bitrate:t && t.bitrate,rAb:y,Sb:x,Jl:q.Jl,qc:v.qc,url:u,Ve:q.Ve,yl:q.yl,za:q.za,ia:q.ia,Jub:this.MCb(q)};void 0 !== v.offset && void 0 != v.length && (q.Ev=[v.offset,v.offset + v.length - 1]);return q;};c.prototype.SFb=function(q,v){if(q)return q.type;if(0 <= v.indexOf("netflix.com")){if(0 <= v.indexOf("nccp"))return "nccp";if(0 <= v.indexOf("api"))return "api";}return "other";};c.prototype.MCb=function(q){if(q.headers && (q=q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(v){return 0 == v.indexOf("port=");}).map(function(v){return v.split("=")[1];})[0])?(0,h.Ni)(q):q;};p=c;p=r.__decorate([(0,m.U)(),r.__param(0,(0,m.l)(a.ac))],p);b.FAa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WO="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kGa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jGa="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QBa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TCa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cHa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,f,n,k,m,p;function c(q){var v;q=new n.wO(q);if(1481462272 != q.Hp())throw Error("Invalid header");v={XMR:{Version:q.Hp(),RightsID:q.Gv(16)}};l(q,v.XMR,q.buffer.length);return v;}function l(q,v,t){var w,u,y,x,z;for(;q.position < t;){w=q.Sg();u=q.Hp();u-=8;switch(w){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:g(w)};z=v[y];z?(0,p.isArray)(z)?z.push(x):(v[y]=[],v[y].push(z),v[y].push(x)):v[y]=x;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + u);break;case 5:x.Reserved1=q.Sg();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Sg();x.MinimumAnalogVideoOutputProtectionLevel=q.Sg();x.Reserved2=q.Sg();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Sg();break;case 10:x.Reserved=q.Gv(16);x.SymmetricCipherType=q.Sg();x.AsymmetricCipherType=q.Sg();u=q.Sg();x.EncryptedKeyLength=u;w=q.Gv(u);x.EncryptedKeyData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:x.SignatureType=q.Gv(2);u=q.Sg();w=q.Gv(u);x.SignatureData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:x.Reserved=q.Sg();break;case 18:x.BeginDate=q.Hp();x.EndDate=q.Hp();break;case 42:x.CurveType=q.Gv(2);u=q.Sg();w=q.Gv(u);x.Key=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:x.ExpireAfterFirstPlay=q.Hp();break;case 50:x.Sequence=q.Hp();break;case 51:x.LicenseProcessingIndicator=q.Sg();break;case 52:x.MinimumSecurityLevel=q.Sg();break;case 57:x.PlayEnablerType=h(q.Gv(16));break;case 85:break;default:x.OtherData=q.Gv(u);}}}function g(q){return "0x" + q.toString(16);}function h(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Xyb=b.Yyb=b.Wyb=b.Vyb=b.Uyb=void 0;d=a(16);f=a(8);n=a(164);k=a(191);m=a(504);p=a(14);b.Uyb=function(q,v,t){switch(v){case d.GY:q && (q=(0,f.AQa)(q),(0,m.Wcb)(q,function(w){w.ia && (w=w.object) && (w=(0,k.qXa)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,k.j5a)(w)) && (w=(0,f.kq)(w)) && (w=c(w)) && t(w);}));}};b.Vyb=c;b.Wyb=l;b.Yyb=g;b.Xyb=h;},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Wcb=void 0;c=a(8);l=a(2);g=a(505);h=a(506);d=a(59);b.Wcb=function(f,n){var k,m;try{m=(0,g.Xcb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.If)(function(){if(m && m.documentElement)try{k=(0,h.Ycb)(m);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.If)(function(){k?n({ia:!0,object:k}):n({ia:!1,za:l.R.wgb});});});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Xcb=void 0;c=a(8);l=a(14);b.Xcb=function(g){var h,d;if((0,l.qL)(g)){h=new DOMParser().parseFromString(g,"text/xml");d=h.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:g.slice(0,300),fileSize:g.length});}catch(f){}throw Error("xml parser error");}return h;}throw Error("bad xml text");};},function(r,b,a){var l;function c(g){var h,d,f,n,k,m,p;d={};d[l.$wa]=g.localName;f={};d[l.QX]=f;n=[];d[l.Tcb]=n;k=g.attributes;m=k.length;for(h=0;h < m;h++){p=k[h];f[p.localName]=p.value;}g=g.childNodes;m=g.length;f={};for(h=0;h < m;h++){switch((k=g[h],k.nodeType)){case b.adb:k=c(k);p=k[l.$wa];k[l.Ucb]=d;n.push(k);d[p]?f[p][l.Vcb]=k:d[p]=k;f[p]=k;break;case b.bdb:case b.Zcb:(k=k.text || k.nodeValue,n.push(k),d[l.aw] || (d[l.aw]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.$cb=b.Zcb=b.bdb=b.y5b=b.adb=b.z5b=b.Ycb=void 0;l=a(191);b.Ycb=function(g){return c(g.nodeType == b.$cb?g.documentElement:g);};b.z5b=c;b.adb=1;b.y5b=2;b.bdb=3;b.Zcb=4;b.$cb=9;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QHa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sHa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iHa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yIa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jca={aU:"keepAlive",splice:"splice"};b.oHa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JHa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa="DxDisplaySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VAa="DxManagerSymbol";b.UAa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AEa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iMa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cIa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJa="PreparerManifestFetcherSymbol";b.iJa="PreparerLicenseFetcherSymbol";b.hJa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var l,g,h,d;function c(f){this.Ml=f;}Object.defineProperty(b,"__esModule",{value:!0});b.gda=b.XIa=void 0;r=a(0);l=a(18);g=a(1);h=a(117);d=a(36);c.prototype.g2a=function(f){var n,k;n=this;if(f.vd.key.fa)return Promise.resolve(f.vd.key.fa);k=f.vd.key.K;return f.vd.dg.Nn(k).Rp.then(function(m){m=m.X;return m.ap?(0,d.g2)(m.ap,{config:l.config}):(0,d.y9)(k,n.Ml.yq(k));});};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.oI))],a);b.XIa=a;b.gda="PlaygraphResolverSymbol";},function(r,b,a){var l,g;function c(h,d){this.Uu=void 0 === h?function(){}:h;this.C8=d;this.Yv=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Yda=void 0;l=a(0);g=a(20);c.prototype.store=function(h,d){var f,m;f=this.generateKey(h);this.Yv.has(f) && this.Gqa(this.Yv.get(f),!0);if(!h.Ie)for(var n=ma(this.Yv),k=n.next();!k.done;k=n.next()){m=ma(k.value);k=m.next().value;m=m.next().value;k.includes(":" + h.K + ":") && (this.Gqa(m,!0),this.Yv.delete(k));}this.Yv.set(f,d);};c.prototype.Nn=function(h,d){var f,n,k;k=null === (f=null === d || void 0 === d?void 0:d.Tf) || void 0 === f?void 0:f.Uc;f=null === (n=null === d || void 0 === d?void 0:d.Tf) || void 0 === n?void 0:n.Ie;n={K:h,Ie:f,Uc:k};this.has(n) || this.Uu(h,d);return this.get(n);};c.prototype.Jv=function(h,d){return l.__awaiter(this,void 0,void 0,function n(){var k;k=this;return Ga(n,function(m){(0,g.ma)(k.C8,"AseViewableConfigProvider.requestAdBreakHydrationDelegate should exists if an adBreak hydration was requested");(0,g.ma)(d.Tf,"auxiliaryOptions must exist if an adBreak hydration was requested");(0,g.ma)(!!d.Tf.Uc,"auxiliaryManifestToken must exist if an adBreak hydration was requested");return m.return(k.C8(h,d));});});};c.prototype.has=function(h){h=this.generateKey(h);return this.Yv.has(h) && !this.Yv.get(h).Bs;};c.prototype.clear=function(){var h;h=this;this.Yv.forEach(function(d){h.Gqa(d,!1);});this.Yv.clear();};c.prototype.get=function(h){return this.Yv.get(this.generateKey(h));};c.prototype.generateKey=function(h){var d,f;d=h.Uc;f=h.Ie;return h.K.toString() + (f?":" + f:"") + (d?":" + d:"");};c.prototype.Gqa=function(h,d){var f;null === (f=h.events) || void 0 === f?void 0:f.emit("viewableEvicted",{type:"viewableEvicted"});h.Dva=d;};b.Yda=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wFa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CGa="OpenConnectSideChannelSymbol";b.GFa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EFa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mHa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uLa="TransportFactorySymbol";b.YFa="MslTransportSymbol";b.DKa="SslTransportSymbol";},function(r,b,a){var n,k;function c(m){return !(!m || !m.VB && !m.pboc || !m.code && !m.code);}function l(m){return !(!m || !m.cc);}function g(m){return !!(m instanceof Error);}function h(m){switch(m){case "ACCOUNT_ON_HOLD":return k.R.Hib;case "STREAM_QUOTA_EXCEEDED":return k.R.Qib;case "INSUFFICICENT_MATURITY":return k.R.Vib;case "TITLE_OUT_OF_WINDOW":return k.R.djb;case "CHOICE_MAP_ERROR":return k.R.Pib;case "BadRequest":return k.R.Zib;case "Invalid_SemVer_Format":return k.R.Wib;case "RESTRICTED_TO_TESTERS":return k.R.bjb;case "AGE_VERIFICATION_REQUIRED":return k.R.Nib;case "BLACKLISTED_IP":return k.R.Oib;case "DEVICE_EOL_WARNING":return k.R.yca;case "DEVICE_EOL_FINAL":return k.R.EGa;case "INCORRECT_PIN":return k.R.IGa;case "MOBILE_ONLY":return k.R.ajb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.R.$ib;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.R.ejb;case "RESET_DEVICE":return k.R.HGa;case "RELOAD_DEVICE":return k.R.GGa;case "EXIT_DEVICE":return k.R.FGa;case "FREE_PREVIEW_ENDED":return k.R.Uib;case "STREAMING_LOCATION_DISALLOWED":return k.R.cjb;case "EXTRA_MEMBER_STREAM_HOLD":return k.R.Tib;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.R.Sib;case "ADS_UNAVAILABLE_VIEWABLE":return k.R.Iib;case "ADS_UNSUPPORTED_DEVICE":return k.R.Lib;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return k.R.Jib;case "ADS_UNSUPPORTED_COUNTRY":return k.R.Kib;case "ADS_VPN_USE_DETECTED":return k.R.Mib;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return k.R.Yib;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return k.R.Xib;default:return k.R.WBa;}}function d(m,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new n.Jc(m,h(p.code),"BadRequest" === p.code?k.IZ.feb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(m,p){return new n.Jc(m,p.cc,p.Lc,void 0,p.oy,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.XQa=b.YQa=b.wEb=b.BEb=b.Al=b.AEb=b.TT=b.sLb=b.j0a=void 0;n=a(34);k=a(2);b.j0a=c;b.sLb=l;b.TT=g;b.AEb=h;b.Al=function(m,p){return l(p)?f(m,p):c(p)?d(m,p):g(p)?n.Jc.nla(m,p):new n.Jc(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.BEb=d;b.wEb=f;b.YQa=function(m,p,q,v,t){var w,u,y,x;w=p.W8a[q];if(void 0 === w)throw {VB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};u=w.version;if(void 0 === u)throw {VB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=w.service;if(void 0 === y)throw {VB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=w.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {VB:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?m.yHb(v) + "/" + x + "/" + y + "/" + u:m.nHb(v) + "/" + x + "/" + y + "/" + u + "/" + (void 0 === t?"router":t);};b.XQa=function(m,p){var q;q={"Content-Type":"text/plain"};p=p();m.sPa && p && (q["X-Esn"]=p.Wj);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SHa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zLa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bo=void 0;r=b.Bo || (b.Bo={});r[r.YZ=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.YC=2]="LOADED";r[r.QO=3]="LOAD_FAILED";r[r.DGa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aya="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qIa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JJa="RepositionTraceSymbol";b.HJa="RepositionTraceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wxa="AseIntegrationFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vxa="AdManagerFactorySymbol";},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta;function c(T,aa,Q,M,S,ra,oa,Ca,Ua,Pa,Ya,ob,pb,Db,Na,ab,fb,ib,kb,Ab,Bb,Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc,Td,Ud,Hf,If,Vd){var wb,Jf;function cf(sb){sb.newValue && sb.newValue.stream && (wb.Ld.removeListener(cf),wb.n5=sb.newValue.stream.bitrate);}function df(sb){sb.newValue !== R.Ya.Bf && sb.newValue !== R.Ya.Rh && (wb.lb.removeListener(df),wb.Wx=wb.ta.SG,wb.Cb.zc(R.ea.ht));}function ef(sb){sb.newValue !== R.Ya.Bf && (wb.lb.removeListener(ef),wb.Lk=!0,wb.AV=wb.ta.se.ca(D.na),wb.Cb.zc(R.ea.Lk));}wb=this;this.fb=S;this.Ij=ra;this.Sx=oa;this.Ea=Ua;this.kA=Pa;this.ta=Ya;this.zU=ob;this.zpa=Na;this.BL=ab;this.Wc=fb;this.qh=ib;this.li=kb;this.wJ=Ab;this.BV=Bb;this.Kh=Hb;this.dwa=Kb;this.Jf=Qb;this.Qd=Tb;this.Sra=Fb;this.Ll=Sb;this.I7a=Zb;this.Xga=vc;this.aG=Kc;this.Cra=Td;this.hga=Ud;this.Lha=Hf;this.tJ=If;this.Q5a=[];this.Dp=new Map();this.jc=new q.Fb(null);this.Fg=new q.Fb(null);this.yb=new q.Fb(null);this.Uh=new q.Fb(null);this.At=new q.Fb(void 0);this.Ke=new q.Fb(null);this.Jg=new q.Fb(null);this.mediaTime=new q.Fb(void 0);this.playbackRate=new Ba.uIa(1,v.config.Mpa);this.background=new q.Fb(!0);this.r3b=function(sb){return wb.jc.set(sb.newValue);};this.Z3b=function(sb){return wb.Fg.set(sb.newValue);};this.W3b=function(sb){return wb.yb.set(sb.newValue);};this.p3b=function(sb){return wb.Uh.set(sb.newValue);};this.V3b=function(sb){return wb.At.set(sb.newValue);};this.Y3b=function(sb){return wb.Ke.set(sb.newValue);};this.q3b=function(sb){return wb.Jg.set(sb.newValue);};this.N3b=function(sb){return wb.Ld.set(sb.newValue);};this.M3b=function(sb){return wb.gf.set(sb.newValue);};this.K3b=function(sb){return wb.mediaTime.set(sb.newValue);};this.s3b=function(sb){return wb.background.set(sb.newValue);};this.GN=function(sb){return wb.playbackRate.set(sb.newValue);};this.Ik={};this.Gta=this.Xva=0;this.Cb=new t.Vi();this.u$={};this.LW=this.G5a=this.Lk=!1;this.EC=new q.Fb(void 0);this.state=new q.Fb(R.Rb.iI);this.rh=new q.Fb(!1);this.paused=new q.Fb(!1);this.muted=new q.Fb(!1);this.volume=new q.Fb(v.config.pzb / 100);this.lb=new q.Fb(R.Ya.Bf);this.Ff=new q.Fb(R.lf.ie);this.jq=new q.Fb(R.lf.ie);this.Vl=new q.Fb(R.lf.ie);this.gf=new q.Fb(null);this.Ld=new q.Fb(null);this.Gha=new q.Fb(null);this.Z4=(0,m.RCa)(this);this.qc=[new q.Fb(null),new q.Fb(null)];this.sha={};this.kS=!1;this.ub=this.Pk=-1;this.vma=function(sb,Vb){var Lc;sb=void 0 === sb?null:sb;return (0,O.sb)(sb)?Vb && !wb.Zh(Vb).X?sb:(null === (Lc=wb.ab) || void 0 === Lc?0:Lc.Ah)?wb.ab.Ria(sb):sb:null;};this.cV=function(){wb.iva();};this.zA=T;this.addEventListener=this.Cb.addListener;this.removeEventListener=this.Cb.removeListener;this.fireEvent=this.Cb.zc;this.sga({K:T,J:M,Ua:Q || ({})},v.config.ar?this.Wc.Bq(T):void 0,aa);this.log=(0,C.Gh)(this);this.hUa=Ca(this);this.Vrb=pb(this);this.ik=(0,J.createElement)("DIV",p.pda,void 0,{id:this.O});this.HKb();this.xc=this.log.F2("Playback");(0,h.$Ha)(this);y.Az.w3a=this;y.Az.$ka || (y.Az.$ka=this);this.xc.info("Playback created",this.sg);this.P1a?this.xc.info("Playback selected for trace playback info logging"):this.xc.trace("Playback not selected for trace playback info logging");v.config.ar && (this.Wc.Uma(this.O,this.E2.bind(this)),this.addEventListener(R.ea.ht,function(){wb.Wc.cJb(wb.O);wb.yb.addListener(function(){wb.Wc.lZa();});wb.jc.addListener(function(){wb.Wc.lZa();});}),this.addEventListener(R.ea.og,function(){wb.Wc.aJb(wb.O);}));this.state.addListener(function(sb){wb.xc.info("Playback state changed",{From:sb.oldValue,To:sb.newValue});(0,G.ma)(sb.newValue > sb.oldValue);});u.$d.addListener(u.Ek,this.cV,p.uca);Jf=Db((0,D.th)(1));this.mediaTime.addListener(function(){wb.KDb();Jf.Qk(function(){return wb.dWa();});});this.lb.addListener(function(sb){wb.xc.info("PresentingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.bh)(wb.mediaTime.value)},wb.Us());});this.lb.addListener(function(){wb.rh.set(wb.lb.value === R.Ya.Td);});this.Ff.addListener(function(sb){wb.xc.info("BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.bh)(wb.mediaTime.value)},wb.Us());});this.jq.addListener(function(sb){wb.xc.info("AV BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.bh)(wb.mediaTime.value)},wb.Us());});this.Vl.addListener(function(sb){wb.xc.info("Text BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.bh)(wb.mediaTime.value)},wb.Us());});this.jc.addListener(function(sb){(0,G.ma)(sb.newValue && sb.newValue.Bg);wb.xc.info("AudioTrack changed",sb.newValue && ({ToBcp47:sb.newValue.Re,To:sb.newValue.trackId}),sb.oldValue && ({FromBcp47:sb.oldValue.Re,From:sb.oldValue.trackId}),{MediaTime:(0,F.bh)(wb.mediaTime.value)});});this.yb.addListener(function(sb){(0,G.ma)(!sb.newValue || sb.newValue.Bg);wb.xc.info("TimedTextTrack changed",sb.newValue?{ToBcp47:sb.newValue.Re,To:sb.newValue.trackId}:{To:"none"},sb.oldValue?{FromBcp47:sb.oldValue.Re,From:sb.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.bh)(wb.mediaTime.value)});});this.lb.addListener(ef,p.kI);this.lb.addListener(df);this.addEventListener(R.ea.ht,function(){wb.LW=!0;wb.l$a=wb.AR();wb.fe("start");});this.Ld.addListener(cf);(0,B.kIa)(this);y.jn.push(this);v.config.ZV && (this.O7=this.Sra(this),this.R7=new z.wIa(this));y.Xca.forEach(function(sb){sb(wb);});this.Spb=function(){wb.addEventListener(R.ea.iC,function(sb){var Vb;sb=sb.cause;sb !== R.Sc.Hr && sb !== R.Sc.sI && (null === (Vb=wb.ab) || void 0 === Vb?void 0:Vb.stop());});wb.addEventListener(R.ea.vj,function(sb){var Vb,Lc,ff,Kf,Cc,Wd,Lf,Xd,gf,Mf;wb.I7a.vj(sb);ff=sb.cause;Kf=sb.skip;Cc=sb.Z6;Wd=sb.Qqa;Lf=sb.O;Xd=sb.ep;wb.aa.Kk.Jqa(Wd,Cc);if(ff !== R.Sc.sI && ff !== R.Sc.Hr)if(Kf){if(null !== (Vb=wb.ab) && void 0 !== Vb && Vb.Wh(Cc)){wb.xc.trace("Repositioned. Skipping from " + Wd + " to " + Cc);sb=function(Wb){wb.log.error("streamingSession.skipped threw an exception",Wb);Wb=ka.Jc.nla(E.V.ndb,Wb);wb.dr(Wb.code,Wb);};try{wb.ab.ZG(Cc).then(function(Wb){var Mc;Wb.hL || (null === (Mc=wb.ab) || void 0 === Mc?void 0:Mc.play());}).catch(sb);}catch(Wb){sb(Wb);}}else wb.log.error("can skip returned false");}else {wb.xc.trace("Repositioned. Seeking from " + Wd + " to " + Cc);try{gf=wb.fb.x4(wb.aa);Mf=Object.keys(gf.L).find(function(Wb){var Mc;Wb=gf.L[Wb];return Wb.K === Lf && Wb.sa <= Xd && (null !== (Mc=Wb.qa) && void 0 !== Mc?Mc:Infinity) > Xd;});null === (Lc=wb.ab) || void 0 === Lc?void 0:Lc.HYb(Xd,Mf);}catch(Wb){wb.log.error("streamingSession.seekByContentPts threw an exception",Wb);Cc=ka.Jc.nla(E.V.ldb,Wb);wb.dr(Cc.code,Cc);}}});};this.playbackRate.addListener(function(){var sb,Vb;if(null === (sb=wb.ab) || void 0 === sb?0:sb.Ah)null === (Vb=wb.ab) || void 0 === Vb?void 0:Vb.MTb();});this.addEventListener(R.ea.ix,function(sb){var Vb;sb.cause == y.Uca && (wb.Ff.set(R.lf.ie),null === (Vb=wb.ab) || void 0 === Vb?void 0:Vb.Zl(wb.ee.xXa()));});Vd && (this.aa.X=Vd,this.Kh.PW(T,Vd));}Object.defineProperty(b,"__esModule",{value:!0});b.pIa=void 0;l=a(0);g=a(284);h=a(286);d=a(160);f=a(540);n=a(1290);k=a(1291);m=a(543);p=a(16);q=a(70);v=a(18);t=a(71);w=a(544);u=a(58);y=a(64);x=a(131);z=a(546);A=a(1294);B=a(550);C=a(8);D=a(3);E=a(2);G=a(20);F=a(76);H=a(22);K=a(59);O=a(14);I=a(551);P=a(79);N=a(290);J=a(42);L=a(98);R=a(15);ka=a(34);la=a(287);X=a(553);da=a(126);ta=a(1299);Ba=a(1300);Ja=a(36);Va=a(61);Ta=a(47);c.prototype.fe=function(T,aa){var Q;aa=void 0 === aa?this.zA:aa;null === (Q=this.Dp.get(aa)) || void 0 === Q?void 0:Q.fe(T);};c.prototype.Tx=function(T){this.aa.Tx(T);};c.prototype.P4=function(){var T;return !(null === (T=this.X) || void 0 === T || !T.Ha.xm);};c.prototype.vT=function(){var T,aa,Q;return !(null === (Q=null === (aa=null === (T=this.X) || void 0 === T?void 0:T.Ha.om) || void 0 === aa?void 0:aa.Xd.length) || void 0 === Q || !Q);};c.prototype.HKb=function(){var T;T=this;this.jc.addListener(function(aa){return T.aa.jc.set(aa.newValue);});this.Fg.addListener(function(aa){return T.aa.Fg.set(aa.newValue);});this.yb.addListener(function(aa){return T.aa.yb.set(aa.newValue);});this.Uh.addListener(function(aa){return T.aa.Uh.set(aa.newValue);});this.At.addListener(function(aa){return T.aa.At.set(aa.newValue);});this.Ke.addListener(function(aa){return T.aa.Ke.set(aa.newValue);});this.Jg.addListener(function(aa){return T.aa.Jg.set(aa.newValue);});this.Ld.addListener(function(aa){return T.aa.Ld.set(aa.newValue);});this.gf.addListener(function(aa){return T.aa.gf.set(aa.newValue);});this.qc[Ta.v.ga].addListener(function(aa){return T.aa.qc[Ta.v.ga].set(aa.newValue);});this.qc[Ta.v.Z].addListener(function(aa){return T.aa.qc[Ta.v.Z].set(aa.newValue);});this.mediaTime.addListener(function(aa){return T.aa.mediaTime.set(aa.newValue);});this.background.addListener(function(aa){return T.aa.background.set(aa.newValue);});this.playbackRate.addListener(function(aa){return T.aa.playbackRate.set(aa.newValue);});this.k8a();};c.prototype.k8a=function(){var T;T=this;this.aa !== this.lua && (this.aa.mediaTime.set(this.mediaTime.value),this.aa.background.set(this.background.value),this.aa.playbackRate.set(this.playbackRate.value),this.uo(function(aa){return aa.jc;},this.r3b),this.uo(function(aa){return aa.Fg;},this.Z3b),this.uo(function(aa){return aa.At;},this.V3b),this.uo(function(aa){return aa.yb;},this.W3b),this.uo(function(aa){return aa.Uh;},this.p3b),this.uo(function(aa){return aa.Ke;},this.Y3b),this.uo(function(aa){return aa.Jg;},this.q3b),this.uo(function(aa){return aa.gf;},this.M3b),this.uo(function(aa){return aa.Ld;},this.N3b),this.uo(function(aa){return aa.qc[Ta.v.ga];},function(aa){return T.qc[Ta.v.ga].set(aa.newValue);}),this.uo(function(aa){return aa.qc[Ta.v.Z];},function(aa){return T.qc[Ta.v.Z].set(aa.newValue);}),this.uo(function(aa){return aa.mediaTime;},this.K3b),this.uo(function(aa){return aa.background;},this.s3b),this.uo(function(aa){return aa.playbackRate;},this.GN),this.yb.set(this.aa.yb.value),this.jc.set(this.aa.jc.value,{s1:!0}),this.Fg.set(this.aa.Fg.value),this.Uh.set(this.aa.Uh.value),this.At.set(this.aa.At.value),this.Ke.set(this.aa.Ke.value),this.Jg.set(this.aa.Jg.value),this.lua=this.aa);};c.prototype.uo=function(T,aa){this.lua && T(this.lua).removeListener(aa);T(this.aa).addListener(aa);};c.prototype.Etb=function(){var T;return !(null === (T=this.Dd) || void 0 === T?0:T.ql.value);};c.prototype.load=function(T){var aa,Q;aa=this;this.load=function(){};this.U5a=T;if(this.state.value == R.Rb.iI){this.xc.info("Playback loading",this);this.KQb();this.fe("asl_load_start");Q=this.kA;T=Q.startTime;Q=Q.endTime;(0,O.Nc)(T)?(0,O.Nc)(Q)?this.fe("asl_ended"):this.fe("asl_in_progress"):this.fe("asl_not_started");this.kA.oU(function(M){aa.fe("asl_load_complete");M.ia?aa.uxb():aa.dr(M.errorCode || E.V.zba,M);});}};c.prototype.oUb=function(){!1;try{this.state.value === R.Rb.LOADING && (this.Lbb(),this.tl=this.wJ.mqb({Yy:(0,D.Jb)(this.gb),O:this.O,ZB:this.xx,Ua:this.Ua,TB:this.Ua.Yf?v.config.mra:v.config.TB,Zc:this.Zc}).ca(D.na),this.Uga(),this.wyb());}catch(T){this.dr(E.V.ihb,{za:E.R.cl,Ib:(0,H.te)(T)});}};c.prototype.Lbb=function(){var T,aa,Q;Q={width:1,height:1};this.YA({Tbb:!0}).forEach(function(M){Q.width * Q.height < M.width * M.height && (Q={width:M.width,height:M.height});});Q.height === (null === (T=this.EC.value) || void 0 === T?void 0:T.height) && Q.width === (null === (aa=this.EC.value) || void 0 === aa?void 0:aa.width) || this.EC.set(Q);};c.prototype.wv=function(){var T,aa;!1;aa=this.fb.x4(this);this.ZSa(aa);null === (T=this.ab) || void 0 === T?void 0:T.Gt(aa);};c.prototype.iG=function(T){var aa,Q;!1;(0,G.ma)(this.ab,"ASE should be initialized");Q=this.fb.dT(T);Q?T === this.fb.ih?this.ab.h2(Q,!0) || this.sT(Q,{}):null === (aa=this.ab) || void 0 === aa?void 0:aa.Ej(T,Q,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.sT=function(T,aa,Q){var M,S,ra,oa,Ca;M=this;Q=void 0 === Q?!0:Q;!1;oa=this.fb.Hd(T);if(this.li.m$ && this.fb.aa.K === oa.K)return Promise.resolve(this.ee.seek(oa.sa,R.Sc.Gw,void 0));oa=this.Ij.ZK(oa.K);aa=(0,P.E6)(oa.qb,aa);if(null === (S=this.ab) || void 0 === S || !S.Ah)throw (!1,Error("No streaming session"));!1;this.gE("Transition " + this.fb.ih + "->" + T);Ca=this.Zh(T);Ca.Xl=this.Ea.Db().ca(D.na);Ca.Ua=aa;return "seamless" !== (null !== (ra=this.fb.Hd(T).Pd) && void 0 !== ra?ra:"seamless") || Q?(this.ab.eT(T).xR?this.OIb(T,Ca.O):this.oW(T,Ca.O)).then(function(){M.hEb(Ca.O);}):Promise.resolve();};c.prototype.oW=function(T,aa){var Q;Q=this.fb.fk.L[T].sa;!1;this.gE("NO DATA " + T + ", SEEKING " + Q + ", viewableId: " + aa);return Promise.resolve(this.ee.seek(Q,R.Sc.Gw,T,!0));};c.prototype.OIb=function(T,aa){var Q,M,S,ra,oa;Q=this;!1;M=this.ab;if(null === M || void 0 === M || !M.Ah)throw Error("No streaming session");S=new Promise(function(Ca){function Ua(){!1;M.removeEventListener("stop",Ua);Ca();}M.addEventListener("stop",Ua);});ra=!1;oa=new Promise(function(Ca){function Ua(Ya){!1;Q.removeEventListener(R.ea.vj,Ua);ra=Ya.skip;Ca();}function Pa(){!1;Q.removeEventListener(R.ea.iC,Pa);M.stop();}Q.addEventListener(R.ea.iC,Pa);Q.addEventListener(R.ea.vj,Ua);});S=Promise.all([S,oa]).then(function(){var Ca;Ca=!1;ra && (Ca=M.h2(T,!1));if(!Ca)return (Q.gE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Q.oW(T,aa));});oa=M.Tia(T,this.fb.fk.L[T].sa);!1;this.ee.seek(oa,R.Sc.sI,T,!0);return S;};c.prototype.sga=function(T,aa,Q){var M,S,ra,oa,Ca,Ua,Pa,Ya;aa=void 0 === aa?this.Sx.zx():aa;Q=void 0 === Q?this.Ea.Db():Q;ra=!!v.config.mcb && !(aa % v.config.mcb);oa=T.K;Ca=T.J;Ua=T.Ua;Pa=T.Ef;if(this.Dp.has(oa))aa=this.Dp.get(oa);else {aa=this.BV(y.Az.index++,oa,Ca,Ua,aa,Q,ra,this.aa,this.vma,Pa,this);this.Dp.set(oa,aa);1 < this.Dp.size && (aa.AL=this.BL.create(this,aa,!1));aa.ML=new x.JFa(this,aa);Ya=null === Pa || void 0 === Pa?void 0:Pa.Uc;(T=T.Prb) || (T=null === (S=null === (M=this.aa.X) || void 0 === M?void 0:M.Wo) || void 0 === S?void 0:S.find(function(ob){return ob.Ha.O === oa && (void 0 === Ya || ob.Ha.Uc === Ya);}));T && this.h8(T,aa);1 < this.Dp.size && this.Kh.N4(aa.O) && this.m8(aa);}};c.prototype.E2=function(T,aa,Q,M){var S,ra,oa,Ca,Ua,Pa,Ya,ob;S=this;!1;Pa={lL:!0,Yf:!1,DC:Date.now()};(0,G.ma)(aa.Tf,"Auxiliary viewable config request options must have auxiliary options");Ya=aa.Tf;aa=Ya.Uc;Ya=Ya.Ie;if(this.U4(Ya)){ob=null === (ra=this.Dk(Ya).X) || void 0 === ra?void 0:ra.Ha;ra={Uc:aa,oV:this.xf,Ie:Ya,tV:ob};(0,G.ma)(null === (oa=this.ab) || void 0 === oa?void 0:oa.Gi,"If we have auxiliary viewables combined playgraph must exist");oa=Object.keys(null === (Ua=null === (Ca=this.ab) || void 0 === Ca?void 0:Ca.Gi) || void 0 === Ua?void 0:Ua.L).find(function(pb){var Db,Na;return (null === (Na=null === (Db=S.ab) || void 0 === Db?void 0:Db.Gi) || void 0 === Na?void 0:Na.L[pb].K) === T;});(0,G.ma)(!!oa,"Segment for the auxiliary viewable should exist in the combined playgraph");this.sga({Prb:M,Ef:ra,Ua:Pa,J:oa,K:T},Q);}};c.prototype.U4=function(T){return !!this.Dp.has(T);};c.prototype.xZa=function(T){try{return (this.Zh(T),!0);}catch(aa){return !1;}};c.prototype.Dk=function(T){if(T === Ja.gn)return this.aa;if(!this.Dp.has(T))throw Error("Playback segment not found: " + T);return this.Dp.get(T);};c.prototype.Zh=function(T){var Q,M,S,ra,oa,Ca;function aa(Ua){for(var Pa=ma(Q.qG),Ya=Pa.next();!Ya.done;Ya=Pa.next()){if((Ya=Ya.value,Ya.J === Ua))return Ya;}}Q=this;Ca=aa(T);return Ca?Ca:(null === (S=null === (M=this.ab) || void 0 === M?void 0:M.Gi) || void 0 === S?0:S.L[T]) && (M=null === (ra=this.ab) || void 0 === ra?void 0:ra.Gi.L[T].Qb) && this.fb.Nv(M)?(ra=this.fb.Hd(M).K,T=null === (oa=this.ab) || void 0 === oa?void 0:oa.Gi.L[T].K,ra === T && (Ca=aa(M)),null !== Ca && void 0 !== Ca?Ca:this.Dk(T)):this.aa;};c.prototype.BHb=function(T){for(var aa,Q,M=ma(this.qG),S=M.next();!S.done;S=M.next()){if((S=S.value,(null === (Q=null === (aa=S.Zd) || void 0 === aa?void 0:aa.Ab) || void 0 === Q?void 0:Q.sessionId) === T))return S;}return this.aa;};c.prototype.m8=function(T){var aa,Q;aa=this;!1;Q=T.O;this.Ij.DZb(Q);return this.tW(T).then(function(M){aa.h8(M,T);M=T.NF?aa.Ob.Gk.K7a(T):Promise.resolve();aa.AUb(T);return M.then(function(){return aa.Ij.d9a(Q);});}).catch(function(M){aa.log.error("queueManifest failed",M);aa.Ij.CZb(Q,M);throw aa.qh(M.code,M);});};c.prototype.Jv=function(T,aa){var Q,M,S,ra,oa,Ca;Q=this;(0,G.ma)(aa.Tf,"auxiliaryOptions must exist if an adBreak hydration was requested");M=aa.Tf;S=M.Uc;M=M.Ie;(0,G.ma)(!!S,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;ra=this.Dk(aa.Tf.Ie);oa=L.el.em;Ca={lL:!0,Yf:!1,DC:Date.now()};return this.Kh.Nx({ja:ra.ja,Ua:Ca,K:ra.O,xq:oa,ff:void 0,CN:void 0,Ef:{Tj:T,Uc:S,Ie:M,oV:ra.xf}},!1).then(function(Ua){var Pa,Ya;Ua.Wo.forEach(function(ob){Q.E2(ob.Ha.O,aa,ra.ja,ob);});(0,G.ma)(null === (Pa=Ua.Ha.om) || void 0 === Pa?void 0:Pa.Xd[0],"manifest result should come with hydratyed adBreak");return null === (Ya=Ua.Ha.om) || void 0 === Ya?void 0:Ya.Xd[0];});};c.prototype.iFb=function(){if((0,O.sb)(this.Oc.ats) && (0,O.sb)(this.Oc.at))return this.Oc.at - this.Oc.ats;};c.prototype.XWa=function(){var T,aa;T=this.BX();aa=this.jR();return Math.min(T,aa);};c.prototype.gN=function(){this.background.value || (this.xc.info("Starting inactivity monitor for movie " + this.O),new w.yDa(this));};c.prototype.close=function(T){T && (this.state.value == R.Rb.CLOSED?T():this.addEventListener(R.ea.closed,function(){T();}));this.iva();};c.prototype.dd=function(T,aa,Q){T=this.qh(T,aa,Q);this.xE(T,void 0);};c.prototype.xE=function(T,aa){var Q,M,S,ra;Q=this;!1;(0,E.JY)(T.errorCode,T.za,this.Ea.Db().wa(this.Lh).ca(D.na),null === (M=this.ee) || void 0 === M?void 0:M.dv()) || this.Lha.add(this.ta.se,null === (S=this.Zd) || void 0 === S?void 0:S.MK(),T.errorCode,T.za,T.Ve);T.r9a(this.Lk);if(this.state.value == R.Rb.iI)this.kh || (this.kh=T,this.load());else {aa && (this.state.value == R.Rb.CLOSED?aa():this.addEventListener(R.ea.closed,function(){aa();}));M=function(){Q.iva(T);};S=v.config.WTa && T && v.config.WTa[T.errorCode];ra=-1;(0,O.qL)(S) && (ra=(0,H.Ni)(S));this.xc.error("Fatal playback error",{Error:"" + T,HandleDelay:"" + S});0 <= ra?setTimeout(M,ra):M();}};c.prototype.gE=function(T){var aa;aa=void 0 === aa?this.J:aa;T=this.Ea.Db().ca(D.na) + "-" + aa + "-" + T;!1;this.Q5a.push(T);};c.prototype.VDb=function(){this.dWa();};c.prototype.lma=function(){var T;if(null === (T=this.ab) || void 0 === T?0:T.Ah)if((T=this.ab.Rn().id,void 0 !== T))return T;return null;};c.prototype.VA=function(){var T,aa;aa=null === (T=this.ab) || void 0 === T?void 0:T.Ah;return void 0 === this.aa.LR || aa?this.vma(this.mediaTime.value):this.aa.LR;};c.prototype.kma=function(){var T;T=this.vma(this.ee.xXa());return null === T?null:Math.min(this.xx.ca(D.na),Math.max(0,T));};c.prototype.TS=function(){var T,aa;return null === (aa=null === (T=this.X) || void 0 === T?void 0:T.Ha.ap) || void 0 === aa?void 0:aa.L;};c.prototype.i$=function(T){!1;this.Ua=(0,P.E6)(this.Ua,T);this.Uga();};c.prototype.Pma=function(T){return (null === T || void 0 === T?0:T.K)?T.K:(null === T || void 0 === T?0:T.Tbb) && this.yE?this.yE.K === Ja.gn?(T=this.yE.Hb) && this.ab && this.ab.Gi?this.ab.Gi.L[T].K:this.O:this.yE.K:this.O;};c.prototype.eFb=function(){var T;T=this.Dk(this.Pma(void 0)).jc;return T.value?T.value.streams:[];};c.prototype.YA=function(T){return (T=this.Dk(this.Pma(T)).Fg) && T.value?T.value.streams:[];};c.prototype.qZa=function(T){for(var aa=ma(this.qG),Q=aa.next();!Q.done;Q=aa.next()){if(Q=(Q=Q.value.ng) && Q.find(function(M){return M.id === T;}))return Q;}!1;};c.prototype.AUb=function(T){T=void 0 === T?this.aa:T;!1;T.yb.value?this.Vm.xUb(T.yb.value):Promise.resolve();};c.prototype.mZa=function(T){for(var aa=ma(this.qG),Q=aa.next();!Q.done;Q=aa.next()){Q=ma(Q.value.Vh);for(var M=Q.next();!M.done;M=Q.next()){if(M=M.value.streams.find(function(S){return S.Sb === T;}))return M;}}!1;};c.prototype.CZa=function(T){for(var aa=ma(this.qG),Q=aa.next();!Q.done;Q=aa.next()){Q=ma(Q.value.Xv);for(var M=Q.next();!M.done;M=Q.next()){if(M=(M=M.value) && M.streams.find(function(S){return S.Sb === T;}))return M;}}!1;};c.prototype.uJb=function(T){for(var aa=ma(this.qG),Q=aa.next();!Q.done;Q=aa.next()){if(Q.value.xf === T)return !0;}return !1;};c.prototype.rs=function(){var T,aa,Q;return null !== (Q=null === (aa=null === (T=this.R7) || void 0 === T?void 0:T.OR) || void 0 === aa?void 0:aa.call(T)) && void 0 !== Q?Q:this.Exb().OVa;};c.prototype.A9a=function(T){var aa,Q;null !== (aa=this.ab) && void 0 !== aa && aa.Ah && this.Dp.has(T) && ((null === (Q=this.R7) || void 0 === Q?0:Q.OR)?this.R7.qbb():(aa=this.cja(T),this.ab.p9(aa,T)));};c.prototype.gMb=function(){return "trailer" === this.od;};c.prototype.oLb=function(){return !!this.od && 0 <= this.od.indexOf("billboard");};c.prototype.nMb=function(){return !!this.od && 0 <= this.od.indexOf("video-merch");};c.prototype.OLb=function(){return !!this.od && 0 <= this.od.indexOf("mini-modal");};c.prototype.oL=function(){return this.gMb() || this.oLb() || this.nMb() || this.OLb();};c.prototype.g4=function(){var T,aa,Q;aa={Tbb:!0};if((null === (T=this.Dk(this.Pma(aa)).X) || void 0 === T || !T.Ha.Wna) && this.Xv){this.YA(aa).forEach(function(M){var S,ra;if((0,O.sb)(M.dja) && (0,O.sb)(M.qTa) && (0,O.sb)(M.pTa) && (0,O.sb)(M.oTa) && (0 < M.dja || 0 < M.qTa)){S=1;ra=1;(0,O.sb)(M.y5a) && (0,O.sb)(M.z5a) && (S=M.y5a,ra=M.z5a);S=M.oTa * ra / (M.pTa * S);Q=(0,O.sb)(Q)?0 < M.dja?Math.max(Q,S):Math.min(Q,S):S;}});return Q;}};c.prototype.VHb=function(){return {tr:this.Xva,rt:this.Gta};};c.prototype.OK=function(T){return this.Ik[T];};c.prototype.Nha=function(){return this.Xl?this.Ea.Db().ca(D.na) - this.Xl:this.ta.se.ca(D.na) - this.gF();};c.prototype.AR=function(){var T;if(this.Xl)return this.Ea.Db().ca(D.na) - this.Xl;T=this.Ea.cy;return this.AV - (this.Lh.ca(D.na) + T.ca(D.na));};c.prototype.Oha=function(){return this.Xl?this.Ea.Db().ca(D.na) - this.Xl:this.AV - this.gF();};c.prototype.nFb=function(){var T,aa;T=this.loadTime;aa={};(0,H.Wf)(this.sha,function(Q,M){aa[Q]=M.map(function(S){return S - T;});});return f.Qu?{level:f.Qu.TXa(),charging:f.Qu.Cla(),statuses:aa}:null;};c.prototype.J4=function(){this.cWa();return this.u$;};c.prototype.gF=function(){var T;T=this.Ua.DC;T=(0,O.sb)(T)?T:this.Lh.ca(D.na) + this.Ea.cy.ca(D.na);(0,G.ma)((0,O.tB)(T));return T;};c.prototype.EYa=function(){return this.Ea.Db().ca(D.na) - this.Lh.ca(D.na);};c.prototype.a5b=function(){this.I_b=!0;};c.prototype.g7=function(){this.m7a();};c.prototype.BX=function(){var T;T=this.C1();return T && T.vbuflmsec || 0;};c.prototype.jR=function(){var T;T=this.C1();return T && T.abuflmsec || 0;};c.prototype.Iwa=function(){var T;T=this.C1();return T && T.vbuflbytes || 0;};c.prototype.cha=function(){var T;T=this.C1();return T && T.abuflbytes || 0;};c.prototype.tW=function(T,aa,Q){var M,S,ra,oa;M=this;T=void 0 === T?this.aa:T;Q=void 0 === Q?!0:Q;!1;S=!!aa;ra=!S && T !== this.aa;oa=v.config.k8.enabled?L.el.Sjb:ra?L.el.mI:this.oL()?L.el.x_:L.el.em;S=this.oL() || S || ra?void 0:this.Ob.Gk.p4(ra);return this.Kh.Nx({ja:T.ja,Ua:T.Ua,K:T.O,xq:oa,ff:S,CN:aa,Ef:T.Ef},T.Ef?!1:Q).then(function(Ca){Ca.doa && M.fireEvent(R.ea.kU,{O:T.O});return Ca;});};c.prototype.h8=function(T,aa,Q){var M,S,ra;aa=void 0 === aa?this.aa:aa;Q=void 0 === Q?!1:Q;!1;if(aa.Ua.Yf && !T.Ha.ap)this.dd(E.V.Zdb);else {M=this.zU.create(this);S=!!(aa.Ef && aa.Ef.Uc && aa.Ef.tV);if(Q){ra=M.bKb(aa.X,aa.vc,T);T=ra.X;ra=ra.vc;}else (T=S?M.vYb(T,null === (ra=aa.Ef) || void 0 === ra?void 0:ra.tV):T,ra=M.i5a(T));aa.X=T;aa.vc=ra;Q || (aa.Fg.set(ra.U2),aa.jc.set(ra.VR),aa.yb.set(ra.WR));aa.Zc.ha && aa.Zc.oVb();}};c.prototype.hEb=function(T){var aa;aa=void 0 === aa?!1:aa;!1;this.OG({K:T,JF:aa});};c.prototype.rZa=function(T,aa){if(!this.li.Fwa)return !0;T=this.Ep.ca(D.na) - T;return 0 > T || T > aa;};c.prototype.XXb=function(){!1;this.ee.seek(this.VA() || 0,R.Sc.LY);};c.prototype.UZa=function(T,aa){var Q,M;Q=this;!1;M=this.aa;M.a3=!0;return this.tW(M,{oV:M.xf,FXb:T,IXb:aa},!1).then(function(S){var ra;Q.h8(S,M,!0);Q.Kh.PW(M.O,M.X);return null === (ra=Q.ab) || void 0 === ra?void 0:ra.HN(Q.P5a);}).then(function(){var S,ra;S=M.Vh.find(function(oa){return oa.trackId === T;});ra=M.Xg.find(function(oa){return oa.trackId === aa;});if(!(S && S.Bg && ra && ra.Bg))throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + aa);Q.fireEvent(R.ea.Qab);return {jc:S,cX:ra};});};c.prototype.Mn=function(){return this.Dd;};c.prototype.OG=function(T){var aa,Q,M;aa=T.K;Q=T.JF;T=T.yE;!1;T !== this.yE && (this.yE=T,this.Lbb());if(this.sM){if(aa === this.zA){this.sM=aa;return;}T=this.Dk(aa);M=T.X;M && (0,O.Nc)(M.GG) && (0,O.Nc)(M.IM) && T.Tx({pr_ats:M.GG,pr_at:M.IM});this.fireEvent(R.ea.ypa,{O:this.zA});this.zA=aa;this.Uga();Q || this.k8a();this.Wx=this.ta.SG;this.aa.Xl || (this.aa.Xl=this.Ea.Db().ca(D.na));}("boolean" === typeof this.Ua.kK?this.Ua.kK:v.config.kK) && !Q && this.dwa.kK(this);Q={O:aa,JF:Q,sM:this.sM};this.sM=aa;this.fireEvent(R.ea.VF,Q);};c.prototype.uxb=function(){!1;try{this.Ob=new n.tFa(this);this.y2=new la.Tza(this);this.AL=this.BL.create(this,this.aa,!0);v.config.Htb && new X.FBa(this,this.Jf,this.log);v.config.CR && this.CR(this);this.C4b();}catch(T){this.dr(E.V.hhb,{za:E.R.cl,Ib:(0,H.te)(T)});}};c.prototype.C4b=function(){!1;this.kh?this.xE(this.kh):(0,O.moa)(this.O)?this.iub():this.dr(E.V.ehb,{Ib:"" + this.O});};c.prototype.iub=function(){var T;!1;T=g.dH.Y8a;T?T.ia?this.uia():this.dr(E.V.rDa,T):((0,G.ma)(!v.config.o3),this.aga());};c.prototype.uia=function(){var T;T=this;!this.background.value && v.config.uia?(0,y.Wca)(function(){T.aga();},this):this.aga();};c.prototype.aga=function(){var T;T=this;!1;this.state.value == R.Rb.LOADING && (v.config.gka && !this.oL()?g.dH.Eu(y.jIa,function(aa){aa.ia?(T.f6=aa.f6,T.qQa()):T.dr(E.V.qDa);},!0):this.qQa());};c.prototype.qQa=function(){var T,aa,Q;T=this;if(this.state.value == R.Rb.LOADING){this.log.info("Authorizing",this);aa=this.Ea.Db().ca(D.na);this.fe("ats");(0,G.XJ)(this.O);(0,G.XJ)(this.Hj);Q=this.uVb.bind(this,aa);Promise.all([this.X,v.config.ar && this.Kh.N4(this.O)?this.Kh.c4(this.O).catch(function(){}):void 0]).then(function(M){var S,ra;S=ma(M);M=S.next().value;S=S.next().value;M && S?ra=S.Ha.expiration > M.Ha.expiration?S:M:M?ra=M:S && (ra=S);ra && 18E5 > ra.Ha.expiration - (0,Va.m2)() && (ra=void 0);return ra?(T.sE=ra === M?"ui":"videopreparer",ra):T.tW();}).then(function(M){try{T.h8(M);Q(p.eg);T.G5a || (T.G5a=!0,T.Cra.Fj(T));}catch(S){T.log.error("Exception processing authorization response",S);Q({ia:!1,za:E.R.Cjb});}}).catch(Q);}};c.prototype.uVb=function(T,aa){var Q,M;Q=this;!1;if(this.state.value == R.Rb.LOADING){this.fe("at");M=this.X;this.Tx({pr_ats:M && (0,O.Nc)(M.GG)?M.GG:T,pr_at:M && (0,O.Nc)(M.IM)?M.IM:this.Ea.Db().ca(D.na)});aa.ia?0 < this.vc.ng.length && this.vc.VR && this.vc.U2 && this.vc.WR?this.U5a?(this.log.info("Processing post-authorize",this),this.U5a(this,function(S){S.ia?Q.tbb():Q.dr(E.V.lhb,S);})):this.tbb():this.dr(E.V.QEa,this.zpa(this.vc)):this.dr(E.V.eI,aa);}};c.prototype.tbb=function(){var T,aa;l.__awaiter(this,void 0,void 0,function M(){var S;S=this;return Ga(M,function(ra){!1;if(S.state.value != R.Rb.LOADING)return ra.return();(null === (T=S.aa.X) || void 0 === T?0:T.Ha.ap) && S.fb.reset((0,Ja.g2)(null === (aa=S.aa.X) || void 0 === aa?void 0:aa.Ha.ap,{config:v.config}));S.ab=S.Xga(S.fb,S);S.ab.h_b({So:d.So,config:v.config,Qd:S.Qd,xc:S.xc,Us:S.Us.bind(S),Ki:C.Ki,yW:S.yW.bind(S),OG:S.OG.bind(S)});S.oUb();ra.PB=0;});});};c.prototype.wyb=function(){var T,aa,Q,M,S,ra,oa;T=this;!1;try{if(this.state.value === R.Rb.LOADING){this.Ob.open();aa=new Promise(function(Ca){T.Ob.addEventListener(N.Yi.d$a,Ca);});this.ee=new I.CFa(this);Q=this.vc.VR.uh === da.Ao.NONE;M={rcb:this.vc.VR.Un || Q};S={ja:this.ja,Ap:this.rf,Yu:this.Yu};try{if(this.state.value !== R.Rb.LOADING)return;ra=this.ab;ra.o5({flags:M,sTa:S,J:this.P5a,cja:this.cja.bind(this)});oa=this.fb.x4(this);this.ZSa(oa);ra.Gt(oa);this.Spb();ra.hsb({Ik:this.Ik,loadTime:this.loadTime});this.Dd=this.hga(ra,this);this.Dd.ql.addListener(function(Ca){Ca.newValue?(T.Vm.GJb(),v.config.ar && T.Wc.kZa()):T.Vm.K_b();});this.Dd.addEventListener(R.ZX.eA,function(){T.Wc.kZa();});}catch(Ca){throw (this.log.error("Failed to initialize ASE streaming",{error:Ca,startPts:this.gb,flags:M}),Ca);}aa.then(function(){var Ca;T.state.value !== R.Rb.CLOSING && T.state.value !== R.Rb.CLOSED && (null === (Ca=T.ab) || void 0 === Ca?void 0:Ca.open());});this.mediaTime.set(this.gb);this.Vm=new k.mLa(this);if("boolean" === typeof this.Ua.y8?this.Ua.y8:v.config.y8)this.gX=new A.nLa(this);this.gN();y.Yca.forEach(function(Ca){Ca(T);});this.JQb();}}catch(Ca){this.dr(E.V.jhb,{za:E.R.cl,Ib:(0,H.te)(Ca)});}};c.prototype.KQb=function(){(0,G.ma)(this.state.value == R.Rb.iI);this.loadTime=this.Ea.Db().ca(D.na);this.state.set(R.Rb.LOADING);};c.prototype.dr=function(T,aa){this.done || (this.done=!0,aa instanceof ka.Jc?this.dd(aa.code,aa):this.dd(T,aa));};c.prototype.CR=function(T){var Q,M;function aa(){var S,ra;S=f.Qu.Cla() + "";ra=T.sha[S];ra || (ra=T.sha[S]=[]);ra.push(Q.Ea.Db().ca(D.na));Q.log.trace("charging change event",{level:f.Qu.TXa(),charging:f.Qu.Cla()});}Q=this;M=f.Qu.Feb;f.Qu.addEventListener(M,aa);T.addEventListener(R.ea.og,function(){f.Qu.removeEventListener(M,aa);});};c.prototype.iva=function(T){var aa,Q;aa=this;if(this.state.value == R.Rb.iI || this.state.value == R.Rb.LOADING || this.state.value == R.Rb.Sd){this.xc.info("Playback closing",this,T?{ErrorCode:T.c3}:void 0);this.gE("Closing");u.$d.removeListener(u.Ek,this.cV);this.kh=T;this.aa.LR=this.VA();this.cWa();(null === (Q=this.ab) || void 0 === Q?0:Q.Ah) && this.ab.flush();try{this.Cb.zc(R.ea.og,{movieId:this.zA});}catch(M){this.xc.error("Unable to fire playback closing event",M);}this.state.set(R.Rb.CLOSING);this.kdb();this.I_b || (0,K.If)(function(){return aa.m7a();});}};c.prototype.KDb=function(){this.Cb.zc(R.ea.obb);};c.prototype.dWa=function(){var T;T=this.mediaTime.value;this.TMb != T && (!1,this.TMb=T,this.Cb.zc(R.ea.Lva));};c.prototype.m7a=function(){var T,aa;T=this;(0,G.ma)(this.state.value == R.Rb.CLOSING);aa=this.f6;this.f6=void 0;aa?g.dH.release(aa,function(Q){(0,G.ma)(Q.ia);T.Cia();}):this.Cia();};c.prototype.kdb=function(){var T;null === (T=this.ab) || void 0 === T?void 0:T.Te();delete this.ab;};c.prototype.Cia=function(){var T;this.Cia=p.zw;(0,G.ma)(this.state.value == R.Rb.CLOSING);T=y.jn.indexOf(this);(0,G.ma)(0 <= T);y.jn.splice(T,1);this.state.set(R.Rb.CLOSED);this.Cb.zc(R.ea.closed,void 0,!0);this.Cb.jh();delete this.Zd;this.aa.g7();};c.prototype.Uga=function(){this.Ua.playbackState && ("number" === typeof this.Ua.playbackState.volume && this.volume.set((0,F.Aw)(this.Ua.playbackState.volume,0,1)),"boolean" === typeof this.Ua.playbackState.muted && this.muted.set(this.Ua.playbackState.muted),"number" === typeof this.Ua.playbackState.playbackRate && this.playbackRate.set(this.Ua.playbackState.playbackRate));};c.prototype.cWa=function(){this.Cb.zc(R.ea.O9a,{u$:this.u$});};c.prototype.yW=function(T,aa,Q){aa=this.qZa(aa);T=this.Zh(T);aa && T.qc[Q].set(aa);};c.prototype.Us=function(){return {AudioBufferLength:this.jR(),VideoBufferLength:this.BX()};};c.prototype.C1=function(){var T;if(null === (T=this.ab) || void 0 === T?0:T.Ah)return this.ab.K_a();};c.prototype.JQb=function(){this.state.value == R.Rb.LOADING && this.state.set(R.Rb.Sd);};c.prototype.Exb=function(){var T,aa,Q;T=void 0 === T?this.O:T;aa=this.YA({K:T});Q=this.Dk(T);return (0,ta.rs)(aa,function(M){return Q.ML.Qy(M);});};c.prototype.cja=function(T){var aa,Q;T=void 0 === T?this.O:T;aa=this.YA({K:T});Q=this.Dk(T);return (0,ta.dZa)(aa,function(M){return Q.ML.Qy(M);});};c.prototype.ZSa=function(T){var aa;aa=this;Object.keys(T.L).filter(function(Q){return !aa.Dp.has(T.L[Q].K);}).forEach(function(Q){var M,S,ra;S=T.L[Q];ra=S.K;S=Object.assign(null !== (M=aa.Ij.ZK(ra).qb) && void 0 !== M?M:{},{gb:S.sa,Vf:S.qa,Yf:!1,DC:Date.now(),lL:!0});aa.sga({K:ra,J:Q,Ua:S});});};Sa.Object.defineProperties(c.prototype,{qG:{configurable:!0,enumerable:!0,get:function(){return this.Dp.values();}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Dp.get(this.zA);}},gb:{configurable:!0,enumerable:!0,get:function(){var T,aa;return void 0 !== this.tl?this.tl:null !== (aa=null === (T=this.qG.next()) || void 0 === T?void 0:T.value.Ua.gb) && void 0 !== aa?aa:0;}},vc:{configurable:!0,enumerable:!0,get:function(){return this.aa.vc;},set:function(T){this.aa.vc=T;}},P3:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ua.P3;}},Q3:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ua.Q3;}},index:{configurable:!0,enumerable:!0,get:function(){return this.aa.index;}},J:{configurable:!0,enumerable:!0,get:function(){return this.aa.J;}},P5a:{configurable:!0,enumerable:!0,get:function(){return this.fb.Gwa?this.fb.ih:this.aa.J;}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.aa.Zd;},set:function(T){this.aa.Zd=T;}},Xl:{configurable:!0,enumerable:!0,get:function(){return this.aa.Xl;},set:function(T){this.aa.Xl=T;}},sE:{configurable:!0,enumerable:!0,get:function(){return this.aa.sE;},set:function(T){this.aa.sE=T;}},rE:{configurable:!0,enumerable:!0,get:function(){return this.aa.rE;},set:function(T){this.aa.rE=T;}},n5:{configurable:!0,enumerable:!0,get:function(){return this.aa.n5;},set:function(T){this.aa.n5=T;}},X:{configurable:!0,enumerable:!0,get:function(){return this.aa.X;},set:function(T){this.aa.X=T;}},tl:{configurable:!0,enumerable:!0,get:function(){return this.aa.tl;},set:function(T){this.aa.tl=T;}},YW:{configurable:!0,enumerable:!0,get:function(){return this.aa.YW;},set:function(T){this.aa.YW=T;}},Ua:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ua;},set:function(T){this.aa.Ua=T;}},AL:{configurable:!0,enumerable:!0,get:function(){return this.aa.AL;},set:function(T){this.aa.AL=T;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Kk;}},O:{configurable:!0,enumerable:!0,get:function(){return this.aa.O;}},od:{configurable:!0,enumerable:!0,get:function(){return this.aa.od;}},Vh:{configurable:!0,enumerable:!0,get:function(){return this.aa.Vh;}},Xv:{configurable:!0,enumerable:!0,get:function(){return this.aa.Xv;}},Vy:{configurable:!0,enumerable:!0,get:function(){return this.aa.Vy;}},Xg:{configurable:!0,enumerable:!0,get:function(){return this.aa.Xg;}},xf:{configurable:!0,enumerable:!0,get:function(){return this.aa.xf;}},NF:{configurable:!0,enumerable:!0,get:function(){return this.aa.NF;}},pt:{configurable:!0,enumerable:!0,get:function(){return this.aa.pt;}},Bk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Bk;}},ng:{configurable:!0,enumerable:!0,get:function(){return this.aa.ng;}},xx:{configurable:!0,enumerable:!0,get:function(){return this.aa.xx;},set:function(T){this.aa.xx=T;}},ja:{configurable:!0,enumerable:!0,get:function(){return this.aa.ja;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.aa.Hj;}},Lh:{configurable:!0,enumerable:!0,get:function(){return this.aa.Lh;}},Wx:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wx;},set:function(T){this.aa.Wx=T;}},rf:{configurable:!0,enumerable:!0,get:function(){return this.aa.rf;}},TG:{configurable:!0,enumerable:!0,get:function(){return this.aa.TG;}},QR:{configurable:!0,enumerable:!0,get:function(){return this.aa.QR;}},Oc:{configurable:!0,enumerable:!0,get:function(){return this.aa.Oc;}},Yo:{configurable:!0,enumerable:!0,get:function(){return this.aa.Yo;}},Tja:{configurable:!0,enumerable:!0,get:function(){return this.aa.Tja;}},ML:{configurable:!0,enumerable:!0,get:function(){return this.aa.ML;}},Yu:{configurable:!0,enumerable:!0,get:function(){return 0 !== v.config.f3 && 0 === this.aa.ja % v.config.f3;}},a3:{configurable:!0,enumerable:!0,get:function(){return this.aa.a3;}},Zc:{configurable:!0,enumerable:!0,get:function(){return this.aa.Zc;}},jja:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},sg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.O,TrackingId:this.Hj,Xid:this.ja};}},V7:{configurable:!0,enumerable:!0,get:function(){return this.fb.V7;}}});b.pIa=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.w$a=void 0;c=a(16);l=a(8);g=a(2);a(22);b.w$a=function(h){var d;(0,l.Ki)("Storage");d={};h({ia:!0,storage:{load:function(f,n){var k;if(d.hasOwnProperty(f)){k=d[f];!1;n({ia:!0,data:k,H9:f});}else (!1,n({za:g.R.Iw}));},save:function(f,n,k,m){k && d.hasOwnProperty(f)?m({ia:!1}):(d[f]=n,!1,m && m({ia:!0,H9:f}));},remove:function(f,n){delete d[f];!1;n && n(c.eg);}}});};},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.u$a=void 0;c=a(8);l=a(81);g=a(30);h=a(538);b.u$a=function(d){c.Aa.get(l.dw).create().then(function(f){d({ia:!0,storage:new h.Pba(f,c.Aa.get(g.dh))});}).catch(function(f){d(f);});};},function(r,b){function a(c,l){this.Ku=c;this.Qd=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Pba=void 0;a.prototype.load=function(c,l){var g;g=this;this.Ku.load(c).then(function(h){l && l(a.R$a(h));}).catch(function(h){l && l(g.mka(c,h));});};a.prototype.save=function(c,l,g,h){var d;d=this;this.Ku.save(c,l,g).then(function(){h && h(a.R$a({key:c,value:l}));}).catch(function(f){h && h(d.mka(c,f));});};a.prototype.remove=function(c,l){var g;g=this;this.Ku.remove(c).then(function(){l && l({ia:!0,H9:c});}).catch(function(h){l && l(g.mka(c,h));});};a.R$a=function(c){return {ia:!0,data:c.value,H9:c.key};};a.prototype.mka=function(c,l){return {ia:!1,H9:c,za:l.za,Ib:l.cause?this.Qd.te(l.cause):void 0};};b.Pba=a;},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.v$a=void 0;c=a(538);l=a(8);g=a(463);h=a(30);b.v$a=function(d){d({ia:!0,storage:new c.Pba(l.Aa.get(g.tEa),l.Aa.get(h.dh))});};},function(r,b,a){var c,l,g,h,d,f,n,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Qu=void 0;c=a(16);l=a(18);r=a(2);g=a(8);h=a(12);d=a(32);f=a(14);n=a(63);k=a(3);a=g.Aa.get(d.Oh);m=g.Aa.get(n.Bz);a.register(r.V.cDa,function(p){var w,u;function q(){p(c.eg);q=c.zw;}function v(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,f.up)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=h.je.getBattery();if(!(0,f.up)(y.then))throw "getBattery did not return a promise";return y;});}w=(0,g.Ki)("BatteryManager");b.Qu={Feb:"chargingchange",TXa:function(){return u?u.level:null;},Cla:function(){return u?u.charging:null;},addEventListener:function(y,x){u && u.addEventListener(y,x);},removeEventListener:function(y,x){u && u.removeEventListener(y,x);}};l.config.CR && (0,f.up)(h.je.getBattery)?m.Lp((0,k.Jb)(l.config.mFb),t()).then(function(y){v(y);u=y;}).catch(function(y){w.error("getBattery failed",y);}).then(q):q();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dEa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,l){var g;g=this;this.gYa=c;this.r4a=l;this.Uva=!1;this.aM=function(){g.Wl=void 0;g.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;a.prototype.update=function(c){var l,g,h,d,f;h=this.gYa();if(this.Obb !== h){d=null === (g=null === (l=this.wU) || void 0 === l?void 0:l.kF(h)) || void 0 === g?void 0:g[0];if(d && ("startTime" in d))if(d.startTime <= h && h <= d.endTime){f=d;this.Abb(d.endTime - h);}else this.Abb(d.startTime - h);this.Obb=h;this.dga !== f && (this.dga=f,!c && this.r4a && this.r4a());}};a.prototype.start=function(){this.Uva=!0;this.update();};a.prototype.n9a=function(c){this.wU=c;this.dga=this.Obb=void 0;c || this.stop();};a.prototype.stop=function(){this.Uva=!1;this.Pp();};a.prototype.TEb=function(){this.update(!0);return this.dga;};a.prototype.Abb=function(c){this.Pp();this.Uva && 0 < c && (this.Wl=setTimeout(this.aM,c + a.oib));};a.prototype.Pp=function(){this.Wl && (clearTimeout(this.Wl),this.Wl=void 0);};b.oLa=a;a.oib=10;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;c=a(15);l=a(104);b.RCa=function(g){function h(d){g.fireEvent(c.ea.OE,{response:d,O:g.aa.O});}return {download:function(d,f){d.j=g;d=l.De.download(d,f);d.l1(h);return d;}};};},function(r,b,a){var c,l,g,h,d,f,n,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;c=a(18);l=a(61);g=a(2);h=a(545);d=a(12);f=a(14);n=a(15);k=a(8);m=a(220);b.yDa=function(p){var v,t,w,u;function q(){p.state.value !== n.Rb.Sd || p.lb.value !== n.Ya.Rh && p.lb.value !== n.Ya.Up?t.Pp():t.JA();}v=c.config.kTb;if(!p.oL() && v){t=k.Aa.get(m.zP)(v,function(){p.fireEvent(n.ea.bL,g.V.c_);});p.lb.addListener(q);p.state.addListener(q);if(c.config.yna){w=(0,l.um)();u=new h.BJa(c.config.yna,function(){var y,x;y=(0,l.um)();x=y - w;x > v && (p.fireEvent(n.ea.bL,g.V.KZ),u.WRa());x > 2 * c.config.yna && (p.zna=(0,d.Kr)(x,p.zna || 0));w=y;});u.$Zb();}p.addEventListener(n.ea.og,function(){t.Pp();(0,f.Nc)(u) && u.WRa();});}};},function(r,b){function a(c,l){this.Sva=c;this.gv=l;}Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;a.prototype.$Zb=function(){this.Z0 || (this.Z0=setInterval(this.gv,this.Sva));};a.prototype.WRa=function(){this.Z0 && (clearInterval(this.Z0),this.Z0=void 0);};b.BJa=a;},function(r,b,a){var l,g,h,d,f,n,k;function c(m){var p,q,v,t;p=this;this.j=m;this.OR=void 0;this.Gea=(0,g.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.tea=(0,g.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.mea=(0,g.createElement)("DIV","width:100%;text-align:center");this.mlb=this.vea("Audio Bitrate");this.Vfa=this.vea("Video Bitrate / VMAF");this.qea=this.vea("CDN");this.sQ={};this.qT=h.Aa.get(d.$m);this.Gea.appendChild(this.tea);this.tea.appendChild(this.mea);q=(0,g.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.llb.bind(this),!1);this.mea.appendChild(q);q=(0,g.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Efa.bind(this),!1);this.mea.appendChild(q);v=this.Inb.bind(this);l.$d.addListener(l.ZA,v);m.addEventListener(n.ea.VF,function(){p.sQ={};});m.addEventListener(n.ea.og,function(){l.$d.removeListener(l.ZA,v);});t=this.fob.bind(this);m.qc.forEach(function(w){w.addListener(t);});m.jc.addListener(t);m.Fg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;l=a(58);g=a(42);h=a(8);d=a(37);f=a(192);n=a(15);k=a(47);c.prototype.show=function(){this.NQ || (this.iOa(),document.body.appendChild(this.Gea),this.NQ=!0);};c.prototype.hv=function(){this.NQ && (document.body.removeChild(this.Gea),this.NQ=!1);};c.prototype.toggle=function(){this.NQ?this.hv():this.show();};c.prototype.qbb=function(){var q,v,t,w;function m(u,y,x){var z,A,B;A=[];y.filter(function(C){return C.Ue === u;}).forEach(function(C){0 <= x.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(u,y,x){var z;z=[];y.filter(function(A){return A.Ue === u;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.rs();t=this.j.YA().sort(function(u,y){return u.bitrate - y.bitrate;});w=t.reduce(function(u,y){0 > u.indexOf(y.Ue) && u.push(y.Ue);return u;},[]).map(function(u){return {profile:u,ranges:m(u,t,v),disallowed:p(u,t,v)};});!1;null === (q=this.j.ab) || void 0 === q?void 0:q.p9(w,this.j.O);};c.prototype.llb=function(){var q,v;this.sQ={};for(var m=this.Vfa.options,p=m.length;p--;){q=m[p];q.selected && (this.sQ[q.value]=1);}this.OR=this.Clb.bind(this);this.qbb();if(m=this.j.ng){v=this.qea.value;m=m.filter(function(t){return t.id == v;})[0];p=this.j.qc[k.v.Z].value;m && m != p && (m.rRa={testreason:"streammanager",selreason:"userselection"},this.j.qc[k.v.Z].set(m));}this.hv();};c.prototype.Efa=function(){this.OR=void 0;this.j.A9a(this.j.O);this.hv();};c.prototype.Clb=function(){var m;m=this;return this.j.YA().filter(function(p){return m.sQ[p.bitrate];});};c.prototype.iOa=function(){var m,p,q,v;m=this;p=this.j.jc.value;q=this.j.Fg.value;v=this.j.ng;p && (v=v.slice(),v.sort(function(t,w){return t.$b - w.$b;}),this.Ifa(this.mlb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == m.j.Jg.value};})));q && (this.Ifa(this.Vfa,q.streams.map(function(t){var w,u,y;w=m.j.ML.Qy(t);u=t.bitrate;t=t.zb;y="" + u;t && (y+=" / " + t);w && (y+=" (" + w.join("|") + ")");return {value:u,caption:y,selected:m.OR?m.sQ[u]:!w};})),this.Vfa.removeAttribute("disabled"));v && (this.Ifa(this.qea,v.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == m.j.qc[k.v.Z].value};})),this.qea.removeAttribute("disabled"));};c.prototype.fob=function(){this.NQ && this.iOa();};c.prototype.vea=function(m){var p,q;p=(0,g.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");m=(0,g.createElement)("DIV",void 0,m);q=(0,g.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(m);p.appendChild(q);this.tea.appendChild(p);return q;};c.prototype.Ifa=function(m,p){m.innerHTML="";p.forEach(function(q){var v;v={title:q.caption};q.selected && (v.selected="selected");v=(0,g.createElement)("option",void 0,q.caption,v);v.value=q.value;m.appendChild(v);});};c.prototype.Inb=function(m){m.ctrlKey && m.altKey && m.shiftKey && m.keyCode == f.rz.akb && this.qT.toa && this.toggle();};b.wIa=c;},function(r,b,a){var l,g,h,d,f;function c(n,k){this.N3=n;this.TE={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.g9a(k);this.bla=this.FXa(this.N3);}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;l=a(42);g=a(548);h=a(549);d=a(12);f=a(22);c.prototype.Gm=function(){return this.element;};c.prototype.qZb=function(n){this.Lu=n;};c.prototype.AZb=function(n){this.entry=n;this.FM();};c.prototype.GZb=function(n){this.g9a(n);this.FM();};c.prototype.FM=function(){var n,k,m,p,q,v,t,w,u,y,x,A,B,C;n=this;k=this.Gm();m=k.parentElement;p=m && m.clientWidth || 0;q=m && m.clientHeight || 0;v=m=0;t={width:p,height:q};if(0 < p && 0 < q && this.entry){this.Lu && (t=(0,l.M3)(p,q,this.Lu),m=Math.round((p - t.width) / 2),v=Math.round((q - t.height) / 2));u=this.stb(t);y=(0,l.M3)(u.width,u.height,this.Lu);u=(w=this.entry.blocks) && w.map(function(D){var E;E=(0,h.ika)(D,y,n.N3,n.bla);D=(0,h.pVa)(D) + ";position:absolute";return (0,l.createElement)("div",D,E,c.Iaa);});}Object.assign(this.TE,{left:m + "px",right:m + "px",top:v + "px",bottom:v + "px"});k.style.display="none";k.style.direction=this.TE.direction;k.innerHTML="";if(u && u.length){p=t.width;m=t.height;x=t;this.uR && (x=this.fpb(t,this.uR,q,v));this.TE.margin=this.Rq?this.d2(t,"top") + "px " + this.d2(t,"right") + "px " + this.d2(t,"bottom") + "px " + this.d2(t,"left") + "px ":void 0;u.forEach(function(D){return k.appendChild(D);});q=(0,l.NR)(this.TE);k.style.cssText=q + ";visibility:hidden;z-index:-1";v=[];for(var z=u.length - 1;0 <= z;z--){A=u[z];B=w[z];C=this.U3a(A,B,p,m);C.width > p && (A.innerHTML=(0,h.ika)(B,t,this.N3,this.bla,p / C.width),C=this.U3a(A,B,p,m));v[z]=C;}v=(0,g.hbb)(v,x);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(x=z.windowColor,z=z.windowOpacity,x && 0 < z && (A=Math.round(m / 50),t=(0,h.rVa)(w,v,A,x,t),t=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,c.Iaa),k.insertBefore(t,k.firstChild)));k.style.display="none";for(t=v.length - 1;0 <= t;t--){z=v[t];x=u[t].style;A=w[t].region;z=(0,h.qVa)(A,z,p,m,0);Object.assign(x,z);}k.style.cssText=q;}};c.prototype.Kua=function(n){this.uR=n;this.FM();};c.prototype.Jma=function(){return this.uR;};c.prototype.Lua=function(n){this.Rq=n;this.FM();};c.prototype.Kma=function(){return this.Rq;};c.prototype.Lma=function(){return "block" === this.TE.display;};c.prototype.Mua=function(n){var k;k=n?"block":"none";this.element.style.display=k;this.TE.display=k;n && this.FM();};c.prototype.A3b=function(n){this.N3=n;this.bla=this.FXa(n);};c.prototype.FXa=function(n){var k,m;k=this;m={};(0,f.Wf)(n,function(p,q){m[p]=k.lPb(q);});return m;};c.prototype.g9a=function(n){this.TE.direction="boolean" === typeof n?n?"ltr":"rtl":"inherit";};c.prototype.d2=function(n,k){if(this.Rq){if("left" === k || "right" === k)return n.width * (this.Rq[k] || 0);if("top" === k || "bottom" === k)return n.height * (this.Rq[k] || 0);}return 0;};c.prototype.stb=function(n){return this.Rq?{height:n.height * (1 - (this.Rq.top || 0) - (this.Rq.bottom || 0)),width:n.width * (1 - (this.Rq.left || 0) - (this.Rq.right || 0))}:n;};c.prototype.lPb=function(n){var k;n="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + n + ";";n=(0,l.createElement)("DIV",n,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Iaa);d.Ig.body.appendChild(n);k={fontSize:1E3,height:n.clientHeight,width:n.clientWidth / 52,lineHeight:n.clientHeight / 1E3};d.Ig.body.removeChild(n);return k;};c.prototype.U3a=function(n,k,m,p){var q,v,t,w,u;q=k.region;v=(q.marginTop || 0) * p;t=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * m;u=(q.marginRight || 0) * m;k=n.clientWidth || 1;n=n.clientHeight || 1;switch(q.verticalAlignment){case "top":p=v;break;case "center":p=(v + p - t - n) / 2;break;default:p=p - t - n;}switch(q.horizontalAlignment){case "left":m=w;break;case "right":m=m - u - k;break;default:m=(w + m - u - k) / 2;}return {top:p,left:m,width:k,height:n};};c.prototype.fpb=function(n,k,m,p){return {height:m - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:n.width};};b.lLa=c;c.Iaa={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.hbb=void 0;c=a(12);b.hbb=function(l,g){function h(n,k,m){var t,u,y,x,z;if(n && 1 < n.length){for(var p=[],q=[],v=0;v < n.length;v++){p[v]=0;q[v]=0;}t=!1;for(v=0;v < n.length;v++){for(var w=v + 1;w < n.length;w++){u=n[v];y=n[w];if(0 > u.width || 0 > y.width || y.left > u.left + u.width || y.left + y.width < u.left || y.top > u.top + u.height?0:y.top + y.height >= u.top){x=(0,c.Kr)(u.left,y.left);z=(0,c.Kr)(u.top,y.top);x={width:(0,c.Kr)((0,c.uw)(u.left + u.width,y.left + y.width) - x,0),height:(0,c.Kr)((0,c.uw)(u.top + u.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,u=d(n[v]),y=d(n[w]),z && k || !z && !k))(x=(0,c.Kr)(x.width / 2,.25),u.x <= y.x?(q[v]-=x,q[w]+=x):(q[w]-=x,q[v]+=x));else if(z && !k || !z && k)(u=(0,c.Kr)(x.height / 2,.25),p[v]-=u,p[w]+=u);}}for(v=0;v < n.length;v++){if(-.25 > q[v] && 0 <= n[v].left + q[v] || .25 < q[v] && n[v].left + n[v].width + q[v] <= m.width)(n[v].left+=q[v],t=!0);if(-.25 > p[v] && 0 <= n[v].top + p[v] || .25 < p[v] && n[v].top + n[v].height + p[v] <= m.height)(n[v].top+=p[v],t=!0);}return t;}}function d(n){return {x:n.left + n.width / 2,y:n.top + n.height / 2};}l=l.map(function(n){return {top:n.top,left:n.left,width:n.width,height:n.height};});(function(n,k){n.forEach(function(m){0 > m.left && m.left + m.width < k.width?m.left+=(0,c.uw)(-m.left,k.width - (m.left + m.width)):m.left + m.width > k.width && 0 < m.left && (m.left-=(0,c.uw)(m.left + m.width - k.width,m.left));0 > m.top && m.top + m.height < k.height?m.top+=(0,c.uw)(-m.top,k.height - (m.top + m.height)):m.top + m.height > k.height && 0 < m.top && (m.top-=(0,c.uw)(m.top + m.height - k.height,m.top));});})(l,g);for(var f=0;50 > f && h(l,!0,g);f++){;}for(f=0;50 > f && h(l,!1,g);f++){;}return l;};},function(r,b,a){var f,n,k;function c(m,p,q,v,t){var w;w={};"right" == m.horizontalAlignment?w.right=100 * (q - p.left - p.width - t) / q + "%":w.left=100 * (p.left - t) / q + "%";"bottom" == m.verticalAlignment?w.bottom=100 * (v - p.top - p.height - t) / v + "%":w.top=100 * (p.top - t) / v + "%";return w;}function l(m,p){var q;if(m && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return m.width / m.fontSize / q;}}function g(m,p,q,v,t){var w,u;w=m.style;u=(0,n.mna)(m.text);for(m=m.lineBreaks;m--;){u="<br />" + u;}return h(u,w,p,q,v,t);}function h(m,p,q,v,t,w){var u;u=p.characterStyle;t=t[u];u=0 <= u.indexOf("MONOSPACE")?l(t,p.cellResolution) || t.lineHeight:t.lineHeight;v=p.characterSize * v.height / (u || 1);v=0 < w?(0,k.gI)(v * w):(0,k.dn)(v);w={"font-size":v + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));v=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=v + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + v + ",0px 1px " + v + ",1px 0px " + v + ",0px -1px " + v;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,f.NR)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (m='<span style="opacity:' + p + '">' + m + "</span>");return '<span style="' + w + '">' + m + "</span>";}function d(m,p){m=m.substring(1);m=parseInt(m,16);return "rgba(" + (m >> 16 & 255) + "," + (m >> 8 & 255) + "," + (m & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.pVa=b.fCb=b.dCb=b.gCb=b.eCb=b.qVa=b.rVa=b.ika=void 0;f=a(42);n=a(22);k=a(12);b.ika=function(m,p,q,v,t){var w;w="";m.textNodes.forEach(function(u){w+=g(u,q,p,v,t);});m.region && m.region.multiRowAlignment && (w='<span style="display:inline-block;text-align:' + m.region.multiRowAlignment + '">' + w + "</span>");return w;};b.rVa=function(m,p,q,v,t){var w,u,x,z,A;w="";u=t.width;t=t.height;for(var y=p.length;y--;){x=p[y];z=m[y];z=z && z.region;A="position:absolute;background:" + v + ";width:" + (0,k.dn)(x.width + 2 * q) + "px;height:" + (0,k.dn)(x.height + 2 * q) + "px;";x=c(z,x,u,t,q);(0,n.Wf)(x,function(B,C){A+=B + ":" + C + ";";});w+='<div style="' + A + '"></div>';}return w;};b.qVa=c;b.eCb=l;b.gCb=g;b.dCb=h;b.fCb=d;b.pVa=function(m){var p;p={display:"block","white-space":"nowrap"};switch(m.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.NR)(p);};},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;c=a(16);l=a(18);g=a(61);h=a(76);d=a(12);f=a(59);n=a(14);k=a(15);b.kIa=function(m){var t,w,u,y,x,z;function p(){return m.state.value === k.Rb.LOADING || m.state.value === k.Rb.Sd && m.lb.value === k.Ya.Bf;}function q(){p()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,(0,f.If)(v));}function v(){var A,B,C,D,E,G,F,H;A=(0,g.um)();B=t.value;C=B?B.progress:0;D=m.state.value == k.Rb.LOADING || p() && A - w > l.config.Psb;if(D && m.state.value == k.Rb.Sd){if(m.Ff.value === k.lf.WJa)(E=C,G=!0);else {F=A;u=u || A;y=y || u + l.config.IPb + 1;(0,n.sb)(F) && (F=(0,d.Kr)(F,y),E=(0,d.dn)(1E3 * (0,h.Aw)((A - u) / (F - u),0,.99)) / 1E3);}if(E < C)if(C - E < l.config.EVb / 100)(E=C,x=void 0);else if(x){if(A - x > l.config.DVb){H=!0;x=void 0;}else E=C;}else (x=A,E=C);}else x=y=u=void 0;A=D?{mr:G,progress:E,FVb:H}:null;(!A || !t || !B || (0,n.sb)(A.progress) && !(0,n.sb)(B.progress) || (0,n.sb)(A.progress) && (0,n.sb)(B.progress) && .01 < (0,d.QZ)(A.progress - B.progress) || A.mr !== B.mr) && t.set(A);}t=m.Gha;w=0;m.state.addListener(function(){q();v();},c.uca);m.lb.addListener(function(A){if(A.oldValue !== k.Ya.Bf || A.newValue !== k.Ya.Bf)w=(0,g.um)();q();});m.Ff.addListener(function(){q();});m.jq.addListener(function(){q();});m.Vl.addListener(function(){q();});z || (z=setInterval(v,100));};},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P;function c(N){var J;J=this;this.j=N;this.Ob=this.j.Ob;this.log=(0,k.Gh)(this.j,"MediaPresenterASE");this.Y6=this.O2=0;this.$=this.Ob.$;this.vy=new I.TLa(this.$,this.j);this.c$a=this.B5a=this.r5a=this.E5=this.Tra=!1;this.Z5=new Set();this.y1b=k.Aa.get(B.qD)((0,A.Jb)(x.v_));this.tJ=void 0;this.Ri=k.Aa.get(D.gKa)(this.j);this.Wv={};this.P2a={};this.rT={};this.tg=new G.lFa(this.j,this.Ri);this.w1b=function(){var L,R,ka;J.j.YW=(0,n.um)();if(!J.El() && J.iB){L=J.Ob.KYa();L || (J.sTb(),J.tg.Zab(J.mediaTime));J.j.paused.value || !J.tg.tja(J.mediaTime) || !J.Dha() || L || J.Ri.D5?J.Lta():J.Tra || J.Mta();J.rTb();if(!J.Ob.KYa() && !J.E5){L=J.Ob.IK(!0);R=J.j.lb.value;ka=J.hvb();R !== ka && !1;ka === u.Ya.Up?(J.mediaTime=J.j.Ep.ca(A.na),J.Lta()):ka !== u.Ya.Bf && J.L3b(L);J.Ebb();J.tg.cia(J.mediaTime);J.j.lb.set(ka);ka !== u.Ya.Bf || R !== u.Ya.Td && R !== u.Ya.Rh || J.$Rb();}}};this.Vk=(0,E.y6a)(this.w1b);this.mediaTime=N.gb;this.j.Ch=!1;this.Ob.addEventListener(z.Yi.b$a,function(){J.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");J.c$a=!0;try{J.oa();}catch(L){J.log.error("Exception while initializing",L);J.dd(m.V.jjb);}});this.Ob.addEventListener(z.Yi.s1a,function(L){L=L.K;J.c$a?J.v4a(L):J.Z5.add(L);});}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;l=a(16);g=a(18);h=a(64);d=a(58);f=a(42);n=a(61);k=a(8);a(97);m=a(2);p=a(344);q=a(20);v=a(76);t=a(22);w=a(59);u=a(15);y=a(14);x=a(171);z=a(290);A=a(3);B=a(110);C=a(220);D=a(552);E=a(1295);G=a(1296);F=a(75);H=a(217);K=a(12);O=a(47);I=a(1298);P=a(56);c.prototype.JVb=function(N){var J,L,R;J=this;if(this.vy.paused){L=Math.ceil(N.PKb);R=function(ka){J.Ri.wy?J.Ri.wy.time=ka:J.S2a=ka;};L > (this.Ri.wy?this.Ri.wy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",L),R(L));N.kla && (this.log.trace("ptsChanged forcedTimestamp",N.kla),R(N.kla));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.xXa=function(){return this.Ob.IK(!1);};c.prototype.i4=function(){return this.Ob.i4();};c.prototype.dv=function(){return this.Ob.dv();};c.prototype.mF=function(){return this.Ob.mF();};c.prototype.XS=function(){return this.Ob.XS();};c.prototype.oa=function(){var N;N=this;this.log.trace("Video element initializing");this.Ob.sourceBuffers.forEach(function(J){return N.tg.VZb(J);});this.JKb(this.j.NF);};c.prototype.JKb=function(N){var J,L;J=this;N?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.O}),null === (L=this.j.ab) || void 0 === L?void 0:L.j3(this.j.O));0 < this.Z5.size && setTimeout(function(){J.log.trace("Notifying about licenses that were added before source buffers created");Array.from(J.Z5).forEach(function(R){J.Z5.delete(R);J.v4a(R);});},0);this.log.trace("Waiting for loadedmetadata");(0,f.oPa)(this.$,"loadedmetadata",function(){J.log.trace("Video element event: loadedmetadata");J.j.fe("md");});d.$d.addListener(d.Ek,this.rT[d.Ek]=function(){return J.close();},l.kI);this.j.addEventListener(u.ea.og,function(){return J.close();},l.kI);this.j.addEventListener(u.ea.s8a,function(){return J.Mta();});this.j.addEventListener(u.ea.VF,function(){return J.NRb();});this.j.paused.addListener(function(){return J.Vk();});this.j.muted.addListener(function(){return J.ywa();});this.j.volume.addListener(function(){return J.ywa();});this.j.playbackRate.addListener(function(){return J.GN();});this.j.jq.addListener(function(){return J.Vk();});this.j.Vl.addListener(function(){return J.Vk();});this.ywa();this.GN();this.tg.j9(function(){return J.w6();});this.w6();this.Q2b();};c.prototype.v4a=function(N){var J;this.j.fe("ld",N);null === (J=this.j.ab) || void 0 === J?void 0:J.j3(N);this.j.fireEvent(u.ea.p1a);};c.prototype.Rga=function(N){var J;J=this;!1;this.tg.Hqb(N);this.Stb(N).then(function(){J.w6();J.j.fireEvent(u.ea.v6);}).catch(function(L){J.dd(m.V.njb,{Ib:(0,t.te)(L)});});};c.prototype.Pga=function(N,J,L){L=void 0 === L?{}:L;J=this.SAb(N,J);this.tg.Gqb(N,J,L);this.w6();this.r5a || N.type !== O.v.Z || (this.Ri.D5 || this.seek(this.j.gb,u.Sc.Hr),this.r5a=!0);};c.prototype.Q2b=function(){var N;N=this;this.Ob.addEventListener(z.Yi.pW,this.Wv[z.Yi.pW]=function(){return N.dSb();});this.Ob.addEventListener(z.Yi.Fn,this.Wv[z.Yi.Fn]=function(){return N.r7();});this.$.addEventListener("ended",this.Wv.ended=function(){return N.HRb();});this.$.addEventListener("play",this.Wv.play=function(){return N.$qa();});this.$.addEventListener("pause",this.Wv.pause=function(){return N.Zqa();});this.$.addEventListener("playing",this.Wv.playing=function(){return N.bra();});this.iB=!0;this.tg.Zab(this.mediaTime);this.log.trace("Video element initialization complete");this.j.fe("vi");g.config.XTa?setTimeout(function(){N.Pqa=!0;N.Vk();},g.config.XTa):this.Pqa=!0;this.q0b();this.j.Zc.ha && this.r0b();(0,w.If)(function(){return N.Vk();});};c.prototype.q0b=function(){var L;function N(){var R;L.j.lb.value !== u.Ya.Td || 0 !== (null === (R=L.j.ee) || void 0 === R?void 0:R.i4()) || K.Ig.hidden?(L.T3a.Pp(),R="stopTimer"):(L.T3a.JA(),R="ensureTimer");L.log.trace("No render timer update: " + R,{presentingState:u.Ya[L.j.lb.value],hidden:K.Ig.hidden});}function J(R){var ka,la;R=void 0 === R?!0:R;ka=L.j.ab;la=(null === ka || void 0 === ka?void 0:ka.Ah) && ka.tZa();L.j.lb.value == u.Ya.Bf && L.j.state.value == u.Rb.Sd && L.j.jq.value == u.lf.Sd && L.j.Vl.value == u.lf.Sd && !L.j.Ch && la?(R && L.Q2.Pp(),L.Q2.JA(),ka="ensureTimer"):(L.Q2.Pp(),ka="stopTimer");L.log.trace("Timer update: " + ka,{presentingState:u.Ya[L.j.lb.value],playbackState:u.Rb[L.j.state.value],avBufferingState:u.lf[L.j.jq.value],textBufferingState:u.lf[L.j.Vl.value],autoplayWasBlocked:L.j.Ch,hasLicense:la,restartTimer:R});}L=this;g.config.ITa && ((0,q.ma)(!this.Q2),this.Q2=k.Aa.get(C.zP)(g.config.ITa,function(){var R;R=k.Aa.get(p.Uaa).gUa(L.j);L.dd(R.code,R);}),this.j.lb.addListener(function(){return J();}),this.j.jq.addListener(function(){return J();}),this.j.Vl.addListener(function(){return J();}),this.j.state.addListener(function(){return J();}),this.j.addEventListener(u.ea.p1a,function(){return J();}),this.j.addEventListener(u.ea.Ch,function(){return J();}),this.j.addEventListener(u.ea.iha,function(){return J();}),this.j.addEventListener(u.ea.iC,function(){return J(!0);}),J());g.config.S3a && (this.T3a=k.Aa.get(C.zP)(g.config.S3a,function(){var R;0 === (null === (R=L.j.ee) || void 0 === R?void 0:R.dv()) && (R=k.Aa.get(p.Uaa).gUa(L.j),L.dd(R.code,R));L.j.lb.removeListener(N);d.$d.removeListener(d.Cq,L.rT[d.Cq]);}),this.j.lb.addListener(N),d.$d.addListener(d.Cq,this.rT[d.Cq]=N),N());};c.prototype.r0b=function(){var L;function N(){var R,ka,la,X;L.Lwa.Pp();la=L.Ob.sourceBuffers.find(function(da){return da.mediaType === O.v.Z;});la=null !== (R=null === la || void 0 === la?void 0:la.Bla()) && void 0 !== R?R:[];if(1 < la.length){X=L.j.lb.value == u.Ya.Td;R=(null === (ka=L.$) || void 0 === ka?void 0:ka.readyState) === P.cm.GO.HAVE_CURRENT_DATA;ka=J(la,L.mediaTime);X && R && ka?(L.Lwa.JA(),X="ensureTimer"):X="stopTimer";L.log.trace("Video Gaps Monitor Timer update: " + X,{presentingState:u.Ya[L.j.lb.value],mediaTime:L.mediaTime,bufferedRanges:JSON.stringify(la),nextRange:JSON.stringify(ka),readyStateIsStalled:R});}}function J(R,ka){R=ma(R);for(var la=R.next();!la.done;la=R.next()){if((la=la.value,la.start >= ka))return la;}}L=this;g.config.ocb && ((0,q.ma)(!this.Lwa),this.Lwa=k.Aa.get(C.zP)(g.config.ocb,function(){var R,ka;ka=L.Ob.sourceBuffers.find(function(la){return la.mediaType === O.v.Z;});ka=null !== (R=null === ka || void 0 === ka?void 0:ka.Bla()) && void 0 !== R?R:[];if(R=J(ka,L.mediaTime))(L.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(ka)}),L.seek(R.start,u.Sc.Gw));}),this.j.lb.addListener(function(){return N();}),this.j.mediaTime.addListener(function(){return N();}),N());};c.prototype.SAb=function(N,J){var L;L=this.j.Zd;(L=(0,H.$na)(L)?L.KK():void 0) && N.type === O.v.Z && ((N=new F.Iba(this.log,{mediaType:O.v.Z,url:"http://some-url"},J).Ga(L))?J=N:!1);return J;};c.prototype.w6=function(){this.iB && this.Vk();this.tg.ARa();};c.prototype.y0b=function(){!1;this.j.lb.set(u.Ya.Bf);this.E5=!0;this.Vk();};c.prototype.fvb=function(){var N;N=this;this.E5 && (!1,this.E5=!1,(0,w.If)(function(){return N.seek(N.j.VA() || 0,u.Sc.G_);}));};c.prototype.a4=function(){return this.tg.a4();};c.prototype.h7=function(N){var J;J=this;this.tg.XZb(N);(0,w.If)(function(){return J.Vk();});};c.prototype.yGb=function(){return {O2:this.O2,Y6:this.Y6};};c.prototype.Stb=function(N){var J;J=this.Ob && this.Ob.fYa();(0,q.ma)(this.j.Ep,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Ep && J && (N=Infinity !== N.I8a?N.I8a + N.PV:N.Cy,N > this.j.Ep.Y5a(A.na) && (this.j.Ep=(0,A.Jb)(N)));return Promise.resolve();};c.prototype.rTb=function(){var N,J;N=this;this.Ri.K7 && (!1,this.Dha() && this.tg.tja(this.mediaTime) && (this.Ob.seek(null !== (J=this.S2a) && void 0 !== J?J:this.mediaTime),this.S2a=void 0,this.Ri.K7=!1,(0,w.If)(function(){return N.Vk();})));};c.prototype.L3b=function(N){var J;if(N < this.mediaTime){J=this.mediaTime - N;g.config.tTb && N && J > x.v_ && (N={ElementTime:(0,v.bh)(N),MediaTime:(0,v.bh)(this.mediaTime)},J > x.xJa?this.dd(m.V.xjb,{Ib:Object.assign({Trace:this.Ob.XA()},N)}):this.log.warn("VIDEO.currentTime became smaller",N));}else this.mediaTime=(0,v.Aw)(N,0,this.j.Ep.ca(A.na));};c.prototype.Dha=function(){return this.j.jq.value === u.lf.Sd && this.j.Vl.value === u.lf.Sd;};c.prototype.hvb=function(){var N,J,L;N=this;J=this.j.lb.value;L=J;this.Ri.D5?L=u.Ya.Bf:this.$ && this.$.ended?J === u.Ya.Td && (L=u.Ya.Up):this.Dha() && this.tg.tja(this.mediaTime)?this.Ob.aAb()?L=this.vy.paused?u.Ya.Rh:u.Ya.Td:this.y1b.Qk(function(){return N.x1b();}):L=this.j.Ep?this.j.rZa(this.mediaTime,this.tg.N2())?u.Ya.Bf:u.Ya.Up:u.Ya.Bf;return L;};c.prototype.$Rb=function(){var N;if(this.j.lb.value === u.Ya.Bf){N=this.tg.k2b() > this.tg.N2();this.j.Vl.value !== u.lf.Sd?this.j.Uh.value?(this.j.fireEvent(u.ea.ix,{cause:h.hIa}),this.log.warn("rebuffer due to timed text",this.j.Uh.value.sg)):this.j.fireEvent(u.ea.uN):N?(this.O2++,this.j.fireEvent(u.ea.ix,{cause:h.Tca})):(this.Y6++,this.j.fireEvent(u.ea.ix,{cause:h.Uca}));}};c.prototype.x1b=function(){this.El() || (g.config.WQb && this.tg.VQb(),this.Vk());};c.prototype.dSb=function(){this.Vk();};c.prototype.r7=function(){this.Vk();this.j.fireEvent(u.ea.Fn);};c.prototype.HRb=function(){this.log.trace("Video element event: ended");this.Vk();};c.prototype.$qa=function(){this.log.trace("Video element event: play");this.Vk();};c.prototype.Zqa=function(){this.log.trace("Video element event: pause");this.vy.Zqa();this.Vk();};c.prototype.bra=function(){this.log.trace("Video element event: playing");this.vy.$qa();this.Vk();};c.prototype.ywa=function(){this.El() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.GN=function(){!this.El() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.Mta=function(){var N;N=this;!this.El() && (0,y.Nc)(this.$) && !this.$.ended && this.Pqa && this.vy.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.vy.play()).then(function(){N.closed || (N.Tra=!1,N.$.style.display=null,N.j.Ch=!1,N.j.fireEvent(u.ea.iha));}).catch(function(J){"NotAllowedError" === J.name?(N.log.warn("Playback is blocked by the browser settings",J),N.j.Ch=!0,N.closed || (N.Tra=!0,N.$.style.display="none",N.j.fireEvent(u.ea.Ch,{player:{play:function(){return N.Mta();}}}))):N.closed || N.B5a || (N.B5a=!0,N.log.error("Play promise rejected",J));}));};c.prototype.NRb=function(){this.Ri.e1a=this.j.VA() || 0;};c.prototype.Lta=function(){this.El() || !(0,y.Nc)(this.$) || this.$.ended || !this.Pqa || this.vy.paused || (this.log.trace("Calling pause on element"),this.vy.pause());};c.prototype.Ebb=function(N){this.j.mediaTime.set(this.mediaTime);N && this.j.VDb();};c.prototype.seek=function(N,J,L,R){var ka,la;L=void 0 === L?this.j.J:L;R=void 0 === R?!1:R;la=null === (ka=this.j.ab) || void 0 === ka?void 0:ka.Ah;!this.El() && la && (this.j.fireEvent(u.ea.iC,{cause:J}),this.Ri.wy={time:N,cause:J,J:L,fEb:R},this.j.lb.set(u.Ya.Bf),this.Vk());};c.prototype.sTb=function(){var N,J,L,R,ka,la,X,da;if(this.Ri.wy){N=this.Ri.wy;J=N.time;L=N.cause;R=N.J;ka=N.fEb;if(!this.tg.mh() || L === u.Sc.Hr){N=this.j.Zh(R).O;la=this.tg.mh()?void 0:this.tg.rFb();la=this.Ri.eHb(J,L,R,ka,la);R=la.Z6;ka=la.ep;X=la.VTb;la=la.Wh;this.tg.cia(this.mediaTime);da=this.mediaTime;J=(0,v.bh)(J);this.j.gE("SEEKING: Requested: (" + N + ":" + L + ":" + J + ") - Actual: (contentPts: " + ka + ",playerPts: " + (X + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:J,Actual:(0,v.bh)(R),Cause:L,Skip:la});L === u.Sc.Hr || la || (this.tg.W7a(),this.tg.QZb());this.mediaTime=R;this.Ri.e1a=ka;J=this.j.gf.value;X=this.j.Ld.value;this.j.gf.set(null);this.j.Ld.set(null);this.Ebb(!0);this.Ri.wy=void 0;this.Ri.K7=!0;this.j.fireEvent(u.ea.vj,{Qqa:da,Z6:R,ep:ka,cause:L,skip:la,gf:J,Ld:X,O:N});la && this.tg.skip(R);}}};c.prototype.dd=function(N,J,L){this.closed || this.j.dd(N,J,L);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.tg.close();this.Ob.removeEventListener(z.Yi.pW,this.P2a[z.Yi.pW]);this.Ob.removeEventListener(z.Yi.Fn,this.P2a[z.Yi.Fn]);this.$.removeEventListener("ended",this.Wv.ended);this.$.removeEventListener("play",this.Wv.play);this.$.removeEventListener("pause",this.Wv.pause);this.$.removeEventListener("playing",this.Wv.playing);this.vy.close();d.$d.removeListener(d.Ek,this.rT[d.Ek]);d.$d.removeListener(d.Cq,this.rT[d.Cq]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.Lta();this.Ob.close();}catch(N){}this.$=void 0;this.tg.W7a();}};c.prototype.El=function(){return this.closed?!0:(0,y.Nc)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.CFa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gKa="SeekManagerFactorySymbol";},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;c=a(18);l=a(58);g=a(22);h=a(2);d=a(15);b.FBa=function(f,n,k){function m(q){var v,t;v=q.error || q;t=(0,g.te)(v);k.error("uncaught exception",v,t);(v=(v=v && v.stack) && c.config.jbb && c.config.g3b?0 <= v.indexOf(c.config.jbb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.dd(h.V.GLa));}function p(){l.$d.removeListener(l.K4,m);f.removeEventListener(d.ea.og,p);f.removeEventListener(d.ea.ht,p);}try{l.$d.addListener(l.K4,m);f.addEventListener(d.ea.og,p);c.config.lKb && f.addEventListener(d.ea.ht,p);}catch(q){k.error("exception in exception handler ",q);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bda="PlayedSegmentsTrackerFactorySymbol";},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.X1a=void 0;c=a(18);l=a(16);g=a(61);r=a(2);h=a(12);d=a(14);f=a(8);a=a(32);f.Aa.get(a.Oh).register(r.V.gDa,function(n){var p,q,v,t,w;function k(){return (0,h.gI)((0,g.um)() / v);}function m(){var u;u=k();if(u != w){for(var y=(0,h.uw)(u - w,30);y--;){t.push(0);}(y=(0,h.Kr)(t.length - 31,0)) && t.splice(0,y);w=u;}t[t.length - 1]++;}p=c.config.kOb;q=-6 / (p - 2 - 2);v=l.Jr;t=[];w=k();(0,d.moa)(p) && (setInterval(m,1E3 / p),b.X1a={tGb:function(){var x;for(var u=[],y=t.length - 1;y--;){x=t[y];u.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,h.dn)((x - 2) * q + 7));}return u;}});n(l.eg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zca="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eHa="PboBindCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.X5=void 0;b.X5=function(a,c,l){var g;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");g=l.get;l.get=function(){var h,d;h=g.apply(this,arguments);d={enumerable:l.enumerable,value:h};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return h;};};},function(r,b,a){var l,g,h,d,f;function c(n,k){this.Ob=n;this.j=k;this.gU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.iO=void 0;r=a(0);l=a(2);g=a(1);h=a(14);d=a(22);f=a(8);c.prototype.J3=function(n){this.gU.forEach(function(k){return k(n);});};c.prototype.dd=function(n,k,m){this.j.dd(n,k,m);};c.prototype.Kpb=function(n){-1 === this.gU.indexOf(n) && this.gU.push(n);};c.prototype.cXb=function(n){n=this.gU.indexOf(n);0 <= n && this.gU.splice(n,1);};c.prototype.bZa=function(n){var k,m;k={};(0,h.Nc)(n.code)?k.za=(0,l.CBa)(n.code):k.za=l.R.cl;try{m=n.message.match(/\((\d*)\)/)[1];k.Ve=(0,f.rha)(m,4);}catch(p){}k.Ib=(0,d.te)(n);return k;};a=c;a=r.__decorate([(0,g.U)()],a);b.iO=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZIa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aEa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var l;function c(g,h,d,f,n){var k;k=this;this.fb=g;this.Ij=h;this.xt=d;this.Cb=f;this.Ml=n;this.a8=new Map();this.j_b();this.Cb.addListener(l.Ka.loaded,function(){return k.e6a();});}Object.defineProperty(b,"__esModule",{value:!0});b.eD=void 0;l=a(15);c.prototype.rPa=function(g){var h,d;h=this;d=Object.keys(this.fb.fk.L).find(function(f){return h.fb.fk.L[f].K === g.O;});g.id || (g.id=null !== d && void 0 !== d?d:this.Ml.yq(g.O));d || (this.fb.fk=this.Ml.Jqb(this.fb.fk,g));d=this.wG(g.id);g.Mi && this.fb.R3b(g.id,g.Mi);return d;};c.prototype.bbb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Rma=function(g,h){var d;d=this;h=void 0 === h?{}:h;return this.xt.transition(g,h).then(function(){d.fb.ih=g;});};c.prototype.close=function(g){return this.xt.close(g);};c.prototype.isReady=function(){return this.xt.NHb();};c.prototype.Gm=function(){return this.xt.Gm();};c.prototype.sF=function(){return this.xt.sF();};c.prototype.wG=function(g){this.a8.has(g) || this.a8.set(g,this.xt.pf(this.Osb(g)));return this.a8.get(g);};c.prototype.j_b=function(){var g;g=this;this.xt.addListener(l.lD.rW,function(){return g.Cb.zc(l.lD.rW);});Object.values(l.Ka).forEach(function(h){g.xt.addListener(h,function(d){return g.Cb.zc(h,d);});});};c.prototype.wv=function(){this.e6a();};c.prototype.gra=function(g){this.xt.P3b({id:g,O:this.fb.Hd(g).K,Mi:this.fb.cIb(g)});};c.prototype.iG=function(){};c.prototype.e6a=function(){var g,h;if(this.isReady()){g=this.fb.ih;h=this.fb.dT(g);h && !this.a8.has(h) && (this.gra(g),this.wG(h));}};c.prototype.Osb=function(g){var h,d,f,n;d=this.fb.Hd(g);f=this.Ij.ZK(d.K);n=null === f || void 0 === f?void 0:f.qb;f=null === f || void 0 === f?void 0:f.X;return {id:g,O:d.K,gb:d.sa,Mi:null !== (h=null === n || void 0 === n?void 0:n.Mi) && void 0 !== h?h:d.qa,qb:n,X:f};};b.eD=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.$ca=void 0;a.prototype.Apa=function(c){c=void 0 === c?{}:c;return {Hj:c.trackingId,O1:c.authParams,Rl:c.sessionParams,od:c.uiLabel,o$:c.uxLabels,Jja:c.disableTrackStickiness,DC:c.uiPlayStartTime,P3:c.forceAudioTrackId,Q3:c.forceTimedTextTrackId,Yf:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,kK:c.enableTrickPlay,fna:c.heartbeatCooldown,lL:c.isPlaygraph,e6:c.loadImmediately || !1,u5a:c.pin,EV:c.preciseSeeking,gb:c.startPts,Vf:c.endPts,Mi:c.logicalEnd,y8:c.renderTimedText,BVa:c.extraManifestParams,aha:c.assetId,urb:c.audioLanguages,M1b:c.textLanguages,pcb:c.videoLanguage,Rm:c.packageId,bUa:c.desiredDownloadables,sta:c.requestReference,fqb:c.additionalAudioAssets,jqb:c.additionalTextAssets};};b.$ca=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;b.VBa=function(a){var g,h,d,f;function c(){if(d)for(var n;n=g.pop();){n(f);}}function l(n){d=!0;f=n;c();}g=[];return function(n){g.push(n);h || (h=!0,a(l));c();};};},function(r,b,a){var l,g,h,d,f,n;function c(k){var m;(0,l.Ki)("MediaSourceASE").trace("Inside MediaSourceASE");m=k.YGb();this.readyState=n.Cc.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(p){return m.addSourceBuffer(p);};this.xga=function(p){return m.xga(p);};this.removeSourceBuffer=function(p){return m.removeSourceBuffer(p);};this.ys=function(p){return m.ys(p);};this.duration=void 0;this.readyState=n.Cc.OPEN;this.re=g.Aa.get(h.dh).JB(n.re,{});k=new d.EventEmitter();k.on("subtitleData",function(p){(0,f.ma)(m.j.yb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");m.j.yb.value.Isa(p);});this.events=k;}Object.defineProperty(b,"__esModule",{value:!0});b.HFa=void 0;l=a(8);g=a(8);h=a(30);d=a(13);f=a(20);Object.defineProperty(c.prototype,"duration",{get:function(){return this.bj;},set:function(k){var m;this.bj=k || Infinity;m=Math.floor(1E3 * k) || Infinity;this.sourceBuffers.forEach(function(p){p.bj=m;});}});n={Cc:{CLOSED:0,OPEN:1,Up:2,name:["CLOSED","OPEN","ENDED"]},re:{Pub:!0,lQb:!0}};b.HFa=Object.assign(c,n);},function(r,b,a){var n,k,m,p,q,v,t,w;function c(u){return u.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(u){return u && "object" === typeof u?JSON.stringify(u):"string" === typeof u?'"' + u + '"':"" + u;}function g(u,y,x){var z;if("string" === typeof u)return g.call(this,c(u),y,x);z=0;Object.keys(u).forEach(function(A){var B,C,D;B=q[A];C=u[A];if(B){if(D=v[A] || w[typeof n[B]])try{C=D(C);}catch(E){x && x.error("Failed to convert value '" + C + "' for config '" + A + "' : " + E.toString());return;}D=p[B];this[B]=C;p[B] !== D && (x && x.debug("Config changed for '" + A + "' from " + l(D) + " (" + typeof D + ") to " + l(C) + " (" + typeof C + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(E){return E[0] !== this;},this):[],B.push([this,C]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function h(){return Object.keys(q).reduce(function(u,y){var x,z;x=q[y];z=u[x];z?(z.push(y),u[x]=z.sort(function(A,B){return B.length - A.length;})):u[x]=[y];return u;},{});}function d(u,y){return u.hasOwnProperty(y)?l(u[y]):void 0;}function f(u,y){return "undefined" === typeof u?y:u;}b=a(257);a=a(1397).EventEmitter;n={};k=Object.create(n);m=Object.create(k);p=Object.create(m);q={};v={};t={};p.declare=function(u){Object.keys(u).forEach(function(y){var x,z,A,B;x=u[y];z=x[0];A=x[1];B=x[2];if(n.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");n.hasOwnProperty(y) || ("function" === typeof A && (A=A()),n[y]=A);q[C]=y;"function" === typeof B && (v[C]=B);if(D=t[C])(D.forEach(function(E){var G,F;G=E[0];F={};F[C]=E[1];g.call(G,F,!1);}),delete t[C]);});});return p;};w={object:function(u){return "object" == typeof u?u:JSON.parse("" + u);},"boolean":function(u){return "boolean" == typeof u?u:!("0" === "" + u || "false" === ("" + u).toLowerCase());},number:function(u){if("number" == typeof u)return u;u=parseFloat("" + u);if(isNaN(u))throw Error("parseFloat returned NaN");return u;}};p.set=g.bind(k);p.pV=g.bind(m);p.dump=function(u,y){var z,A,B,C;function x(){C && u && u.log("===========================================");}z=Object.keys(t).sort();A={};B=h();y=f(y,!0);Object.keys(q).sort().forEach(function(D){var E,G,F;D=q[D];if(!A[D]){A[D]=!0;E=d(k,D);G=d(m,D);if(y || "undefined" !== typeof E || "undefined" !== typeof G){F=B[D].join(",");F+=" = " + l(p[D]) + " (" + typeof p[D] + ") [";F+=f(G,"<unset>") + ",";F+=f(E,"<unset>") + ",";F+=d(n,D) + "]";C || (C=!0,u && u.log("Current config values"),x());u && u.log(F);}}});(y || z.length) && u && u.log("<undeclared> :",z);x();};p.Dn=function(u){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});u && g.call(y,u);return y;};p.s5a=function(){var u;u=h();return Object.getOwnPropertyNames(k).reduce(function(y,x){y[u[x][0]]=k[x];return y;},{});};p.reset=function(){Object.keys(k).forEach(function(u){delete k[u];});};p.jg={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var l;function c(g){for(var h="",d=0;d < g.length;d++){h+=g[d].K + "|";}return h;}l=a(297);r.exports={assert:function(g,h){if(!g)throw Error("PlayPredictionModel assertion failed" + (h?" : " + h:""));},Scc:function(g,h,d){Array.prototype.splice.apply(g,[h,0].concat(d));},EFb:function(g){for(var h=[],d=0;d < g.length;d++){if(g[d].context === l.OO.Web){h=g[d].list;break;}}return h;},oFb:function(g){for(var h=[],d=0;d < g.length;d++){if(g[d].context === l.OO.Qdb){h=g[d].list;break;}}return h;},Yzb:function(g,h){for(var d=0,f,n,k,m=0,p=g.length - 1;m < p;m++){f=c(g[m].list || []);k=!1;for(var q=0,v=h.length;q < v;q++){if((n=c(h[q].list || []),n == f)){k=!0;break;}}if(!1 === k){d=m;break;}}return d;},lRb:function(g,h,d){for(var f=[],n,k=0;k < Math.min(h,g.length);k++){n=g[k].list || [];f=f.concat(n.slice(0,d));}return f;},kRb:function(g,h){for(var d=[],f,n=0;n < g.length && (f=g[n].list || [],f=f.slice(0,Math.min(f.length,h)),h-=f.length,d=d.concat(f),0 !== h);n++){;}return d;},jRb:function(g,h,d){var f;h < g.length && 0 <= h && (g=g[h].list || [],d < g.length && (f=g[d]));return f;},YVa:function(g){for(var h={},d=g.length,f,n=0;n < d;n++){f=g[n].list || [];for(var k=0;k < f.length;k++){if(f[k].property === l.aI.kP || f[k].property === l.aI.aAa){h.yj=n;h.wl=k;break;}}}void 0 === h.yj && void 0 === h.wl && (h.yj=0,h.wl=0);return h;}};},function(r,b,a){var h;function c(d,f,n,k,m,p,q){this.zX=k;this.cdb=d;this.Q3a=f;this.mqa=n;this.pMb=p;this.mC=q;this.split=m;}function l(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function g(d,f,n,k,m,p){this.M8=m;this.p2=p;}b=a(568);h=a(296);a={};a.prb=new (function(){this.fmb=h();this.Pa=0;this.update=function(){this.Pa=h() - this.fmb;};this.type="num";})();a.dNb=new (function(){this.type="cat";})();a.eNb=new (function(){this.type="cat";})();a.gNb=new (function(){this.type="cat";})();a.hNb=new (function(){this.type="cat";})();a.fNb=new (function(){this.type="cat";})();a.iNb=new (function(){this.type="cat";})();a.jNb=new (function(){this.type="cat";})();a.kNb=new (function(){this.type="cat";})();a.lNb=new (function(){this.type="cat";})();a.mNb=new (function(){this.type="cat";})();a.nNb=new (function(){this.type="cat";})();a.oNb=new (function(){this.type="cat";})();a.qNb=new (function(){this.type="cat";})();a.rNb=new (function(){this.type="cat";})();a.sNb=new (function(){this.type="cat";})();a.pNb=new (function(){this.type="cat";})();a.csb=new (function(){this.update=function(d){for(var f in d.Eb){if("becauseYouAdded" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.dsb=new (function(){this.update=function(d){for(var f in d.Eb){if("becauseYouLiked" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.fsb=new (function(){this.update=function(d){for(var f in d.Eb){if("billboard" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Avb=new (function(){this.update=function(d){for(var f in d.Eb){if("continueWatching" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.esb=new (function(){this.update=function(d){for(var f in d.Eb){if("bigRow" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.QEb=new (function(){this.update=function(d){for(var f in d.Eb){if("genre" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.qQb=new (function(){this.update=function(d){for(var f in d.Eb){if("netflixOriginals" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.tQb=new (function(){this.update=function(d){for(var f in d.Eb){if("newRelease" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.mUb=new (function(){this.update=function(d){for(var f in d.Eb){if("popularTitles" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.wM=new (function(){this.update=function(d){for(var f in d.Eb){if("queue" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.jWb=new (function(){this.update=function(d){for(var f in d.Eb){if("recentlyAdded" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.P_b=new (function(){this.update=function(d){for(var f in d.Eb){if("similars" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.H2b=new (function(){this.update=function(d){for(var f in d.Eb){if("trendingNow" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.e3b=new (function(){this.update=function(d){for(var f in d.Eb){if("ultraHD" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.f5b=new (function(){this.update=function(d){for(var f in d.Eb){if("watchAgain" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.v2b=new (function(){this.update=function(d){for(var f in d.Eb){if("topTen" === d.Eb[f].context){this.Pa=Math.max(d.Eb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Kvb=new (function(){this.type="cat";})();a.Lvb=new (function(){this.type="cat";})();a.Mvb=new (function(){this.type="cat";})();a.Nvb=new (function(){this.type="cat";})();a.Ovb=new (function(){this.type="cat";})();a.Pvb=new (function(){this.type="cat";})();a.Qvb=new (function(){this.type="cat";})();a.Rvb=new (function(){this.type="cat";})();a.Svb=new (function(){this.type="cat";})();a.Tvb=new (function(){this.type="cat";})();a.Uvb=new (function(){this.type="cat";})();a.Vvb=new (function(){this.type="cat";})();a.Wvb=new (function(){this.type="cat";})();a.Xvb=new (function(){this.type="cat";})();a.Yvb=new (function(){this.type="cat";})();a.Zvb=new (function(){this.type="cat";})();a.$vb=new (function(){this.type="cat";})();a.awb=new (function(){this.type="cat";})();a.bwb=new (function(){this.type="cat";})();a.cwb=new (function(){this.type="cat";})();a.dwb=new (function(){this.type="cat";})();a.ewb=new (function(){this.type="cat";})();a.fwb=new (function(){this.type="cat";})();a.gwb=new (function(){this.type="cat";})();a.hwb=new (function(){this.type="cat";})();a.iwb=new (function(){this.type="cat";})();a.jwb=new (function(){this.type="cat";})();a.kwb=new (function(){this.type="cat";})();a.lwb=new (function(){this.type="cat";})();a.mwb=new (function(){this.type="cat";})();a.nwb=new (function(){this.type="cat";})();a.owb=new (function(){this.type="cat";})();a.pwb=new (function(){this.type="cat";})();a.qwb=new (function(){this.type="cat";})();a.rwb=new (function(){this.type="cat";})();a.swb=new (function(){this.type="cat";})();a.twb=new (function(){this.type="cat";})();a.uwb=new (function(){this.type="cat";})();a.vwb=new (function(){this.type="cat";})();a.wwb=new (function(){this.type="cat";})();a.xwb=new (function(){this.type="cat";})();a.ywb=new (function(){this.type="cat";})();a.zwb=new (function(){this.type="cat";})();a.Awb=new (function(){this.type="cat";})();a.Bwb=new (function(){this.type="cat";})();a.Cwb=new (function(){this.type="cat";})();a.Dwb=new (function(){this.type="cat";})();a.Ewb=new (function(){this.type="cat";})();a.Fwb=new (function(){this.type="cat";})();a.Gwb=new (function(){this.type="cat";})();a.Hwb=new (function(){this.type="cat";})();a.Iwb=new (function(){this.type="cat";})();a.Jwb=new (function(){this.type="cat";})();a.Kwb=new (function(){this.type="cat";})();a.Lwb=new (function(){this.type="cat";})();a.Mwb=new (function(){this.type="cat";})();a.Nwb=new (function(){this.type="cat";})();a.Owb=new (function(){this.type="cat";})();a.Pwb=new (function(){this.type="cat";})();a.Qwb=new (function(){this.type="cat";})();a.Rwb=new (function(){this.type="cat";})();a.Swb=new (function(){this.type="cat";})();a.Twb=new (function(){this.type="cat";})();a.Uwb=new (function(){this.type="cat";})();a.Vwb=new (function(){this.type="cat";})();a.Wwb=new (function(){this.type="cat";})();a.Xwb=new (function(){this.type="cat";})();a.Ywb=new (function(){this.type="cat";})();a.Zwb=new (function(){this.type="cat";})();a.$wb=new (function(){this.type="cat";})();a.axb=new (function(){this.type="cat";})();a.bxb=new (function(){this.type="cat";})();a.cxb=new (function(){this.type="cat";})();a.dxb=new (function(){this.type="cat";})();a.exb=new (function(){this.type="cat";})();a.fxb=new (function(){this.type="cat";})();a.gxb=new (function(){this.type="cat";})();a.hxb=new (function(){this.type="cat";})();a.ixb=new (function(){this.type="cat";})();a.mWb=new (function(){this.type="cat";})();a.nWb=new (function(){this.type="cat";})();a.oWb=new (function(){this.type="cat";})();a.pWb=new (function(){this.type="cat";})();a.qWb=new (function(){this.type="cat";})();a.rWb=new (function(){this.type="cat";})();a.sWb=new (function(){this.type="cat";})();a.tWb=new (function(){this.type="cat";})();a.uWb=new (function(){this.type="cat";})();a.vWb=new (function(){this.type="cat";})();a.wWb=new (function(){this.type="cat";})();a.xWb=new (function(){this.type="cat";})();a.yWb=new (function(){this.type="cat";})();a.zWb=new (function(){this.type="cat";})();a.AWb=new (function(){this.type="cat";})();a.BWb=new (function(){this.type="cat";})();a.CWb=new (function(){this.type="cat";})();a.DWb=new (function(){this.type="cat";})();a.EWb=new (function(){this.type="cat";})();a.FWb=new (function(){this.type="cat";})();a.GWb=new (function(){this.type="cat";})();a.HWb=new (function(){this.type="cat";})();a.IWb=new (function(){this.type="cat";})();a.j1b=new (function(){this.update=function(d){"down" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.l1b=new (function(){this.update=function(d){"right" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.k1b=new (function(){this.update=function(d){"left" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.m1b=new (function(){this.update=function(d){"up" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.ePb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.rowIndex);};this.type="num";})();a.fPb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.dSa);};this.type="num";})();a.jPb=new (function(){this.zD=this.Pa=0;this.update=function(d){this.zD++;this.Pa=1 * (this.Pa + d.rowIndex) / this.zD;};this.type="num";})();a.kPb=new (function(){this.zD=this.Pa=0;this.update=function(d){this.zD++;return this.Pa=1 * (this.Pa + d.dSa) / this.zD;};this.type="num";})();a.UUb=new (function(){this.type="num";})();a.VUb=new (function(){this.type="num";})();l.prototype.mC=function(d){return this.qOa(this.P["0"].z8a(d),d);};l.prototype.qOa=function(d,f){return "string" == typeof d?this.qOa(this.P[d].z8a(f),f):d;};c.prototype.z8a=function(d){switch(this.pMb){case 0:switch(d.features[this.zX].type){case "cat":return null === d.features[this.zX].value?this.Q3a:"missing" == d.features[this.zX].value?this.mqa:this.cdb;case "num":return null === d.features[this.zX].value?this.mqa:d.features[this.zX].value < this.split?this.cdb:this.Q3a;default:return this.mqa;}case 1:return this.mC;default:return this.mC;}};b.declare({QU:["modelSelector","modelone"],Uub:["colEpisodeList",5],KJb:["holdDuration",15E3],l8a:["rowFirst",2],cSa:["colFirst",5],m8a:["rowScroll",2],eSa:["colScroll",6],iYb:["rowScrollHorizontal",6],FYb:["searchTop",3],ATa:["cwFirst",2],AT:["horizontalItemsFocusedMode",3],rMb:["itemsPerRank",1],ROb:["maxNumberPayloadsStored",10],C2a:["maxNumberTitlesScheduled",5],Nbc:["enableDetailedLogging",!0],Jec:["rowStep",20],Zac:["colStep",15],jec:["pageRows",100],iec:["pageColumns",75],Epa:["maskParamsList",new (function(){var d,f;this.Epa=[];this.Nk={};this.M8=20;this.p2=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.M8) + "_" + Math.floor(f / this.p2) in this.Nk) || (this.Nk[Math.floor(d / this.M8) + "_" + Math.floor(f / this.p2)]=1,this.Epa.push(new g("grid",10,5,5,Math.floor(d / this.M8),Math.floor(f / this.p2))));}}})().Epa],P:["nodes",new l().P],mapping:["mapping",{fPb:"0",kPb:"1",ePb:"2",jPb:"3",prb:"4",m1b:"5",k1b:"6",l1b:"7",j1b:"8",VUb:"9",UUb:"10",dNb:"11",eNb:"12",gNb:"13",hNb:"14",fNb:"15",iNb:"16",jNb:"17",kNb:"18",lNb:"19",mNb:"20",nNb:"21",oNb:"22",pNb:"23",qNb:"24",rNb:"25",sNb:"26",mWb:"27",nWb:"28",oWb:"29",pWb:"30",qWb:"31",rWb:"32",sWb:"33",tWb:"34",uWb:"35",vWb:"36",wWb:"37",xWb:"38",yWb:"39",zWb:"40",AWb:"41",BWb:"42",CWb:"43",DWb:"44",EWb:"45",FWb:"46",GWb:"47",HWb:"48",IWb:"49",Kvb:"50",Lvb:"51",Mvb:"52",Nvb:"53",Ovb:"54",Pvb:"55",Qvb:"56",Rvb:"57",Svb:"58",Tvb:"59",Uvb:"60",Vvb:"61",Wvb:"62",Xvb:"63",Yvb:"64",Zvb:"65",$vb:"66",awb:"67",bwb:"68",cwb:"69",dwb:"70",ewb:"71",fwb:"72",gwb:"73",hwb:"74",iwb:"75",jwb:"76",kwb:"77",lwb:"78",mwb:"79",nwb:"80",owb:"81",pwb:"82",qwb:"83",rwb:"84",swb:"85",twb:"86",uwb:"87",vwb:"88",wwb:"89",xwb:"90",ywb:"91",zwb:"92",Awb:"93",Bwb:"94",Cwb:"95",Dwb:"96",Ewb:"97",Fwb:"98",Gwb:"99",Hwb:"100",Iwb:"101",Jwb:"102",Kwb:"103",Lwb:"104",Mwb:"105",Nwb:"106",Owb:"107",Pwb:"108",Qwb:"109",Rwb:"110",Swb:"111",Twb:"112",Uwb:"113",Vwb:"114",Wwb:"115",Xwb:"116",Ywb:"117",Zwb:"118",$wb:"119",axb:"120",bxb:"121",cxb:"122",dxb:"123",exb:"124",fxb:"125",gxb:"126",hxb:"127",ixb:"128",f5b:"129",jWb:"130",P_b:"131",wM:"132",Avb:"133",QEb:"134",H2b:"135",v2b:"136",fsb:"137",tQb:"138",e3b:"139",mUb:"140",csb:"141",esb:"142",dsb:"143",qQb:"144"}],features:["features",a],Z$b:["_modelName","tree"],T$b:["_format","xgboost"],Y$b:["_itemsToKeep",5],X$b:["_itemsThreshold",null],Iac:["cacheLimit",20]});r.exports={config:b,qdc:g,jbc:c};},function(r,b,a){r.exports=a(572);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(573);a(574)();a(601)();mb._cad_global={};mb.DEBUG=!1;a(16);a(12);a(14);a(22);a(42);a(76);a(1383);a(566);a(59);a(61);a(20);a(71);a(58);a(1384);a(289);a(348);a(1385);a(545);a(1386);a(542);a(549);a(547);a(548);a(536);a(537);a(539);a(285);a(284);a(1387);a(18);a(555);a(1388);a(197);a(104);a(543);a(191);a(505);a(506);a(504);a(1389);a(1390);a(503);a(1391);a(495);a(287);a(493);a(286);a(535);a(1392);a(288);a(551);a(194);a(567);a(160);a(1393);a(131);a(1400);a(1401);a(1403);a(1405);a(550);a(64);a(546);a(472);a(544);a(553);a(1406);a(295);a(132);a(1407);a(1408);a(1409);a(1411);a(1412);a(540);},function(r,b,a){(function(c){var l;(function(g){var G,F,H,K,O,I,P,N,J;function h(L,R,ka){var la;la=J.get(L);if(!la){if(!ka)return;la=new P();J.set(L,la);}L=la.get(R);if(!L){if(!ka)return;L=new P();la.set(R,L);}return L;}function d(L,R,ka){if(f(L,R,ka))return !0;R=u(R);return null !== R?d(L,R,ka):!1;}function f(L,R,ka){R=h(R,ka,!1);return void 0 !== R && !!R.has(L);}function n(L,R,ka){if(f(L,R,ka))return k(L,R,ka);R=u(R);return null !== R?n(L,R,ka):void 0;}function k(L,R,ka){R=h(R,ka,!1);return void 0 === R?void 0:R.get(L);}function m(L,R){var ka,X;ka=p(L,R);L=u(L);if(null === L)return ka;R=m(L,R);if(0 >= R.length)return ka;if(0 >= ka.length)return R;L=new N();for(var la=0;la < ka.length;la++){X=ka[la];L.add(X);}for(ka=0;ka < R.length;ka++){X=R[ka];L.add(X);}return z(L);}function p(L,R){var ka;L=h(L,R,!1);ka=[];L && x(L,function(la,X){return ka.push(X);});return ka;}function q(L){return void 0 === L;}function v(L){return Array.isArray?Array.isArray(L):L instanceof Array || "[object Array]" === Object.prototype.toString.call(L);}function t(L){return "object" === typeof L?null !== L:"function" === typeof L;}function w(L){return "symbol" === typeof L?L:String(L);}function u(L){var R,ka;R=Object.getPrototypeOf(L);if("function" !== typeof L || L === I || R !== I)return R;ka=L.prototype;ka=ka && Object.getPrototypeOf(ka);if(null == ka || ka === Object.prototype)return R;ka=ka.constructor;return "function" !== typeof ka || ka === L?R:ka;}function y(L){L=L.next();return L.done?void 0:L;}function x(L,R,ka){var la,X,da;la=L.entries;if("function" === typeof la){la=la.call(L);try{for(;X=y(la);){da=X.value;R.call(ka,da[1],da[0],L);}}finally{X && (L=la["return"]) && L.call(la);}}else (la=L.forEach,"function" === typeof la && la.call(L,R,ka));}function z(L){var R;R=[];x(L,function(ka,la){R.push(la);});return R;}function A(L,R,ka){var la;la=0;return {next:function(){var X;if((L || R) && la < (L || R).length){X=la++;switch(ka){case "key":return {value:L[X],done:!1};case "value":return {value:R[X],done:!1};case "key+value":return {value:[L[X],R[X]],done:!1};}}R=L=void 0;return {value:void 0,done:!0};},"throw":function(X){if(L || R)R=L=void 0;throw X;},"return":function(X){if(L || R)R=L=void 0;return {value:X,done:!0};}};}function B(){var L;L={};return (function(){function R(){this.Oe=[];this.nf=[];this.ou=L;this.Sr=-2;}Object.defineProperty(R.prototype,"size",{get:function(){return this.Oe.length;},enumerable:!0,configurable:!0});R.prototype.has=function(ka){return 0 <= this.Ow(ka,!1);};R.prototype.get=function(ka){ka=this.Ow(ka,!1);return 0 <= ka?this.nf[ka]:void 0;};R.prototype.set=function(ka,la){ka=this.Ow(ka,!0);this.nf[ka]=la;return this;};R.prototype.delete=function(ka){var la;la=this.Ow(ka,!1);if(0 <= la){ka=this.Oe.length;for(la+=1;la < ka;la++){this.Oe[la - 1]=this.Oe[la];this.nf[la - 1]=this.nf[la];}this.Oe.length--;this.nf.length--;this.ou=L;this.Sr=-2;return !0;}return !1;};R.prototype.clear=function(){this.Oe.length=0;this.nf.length=0;this.ou=L;this.Sr=-2;};R.prototype.keys=function(){return A(this.Oe,void 0,"key");};R.prototype.values=function(){return A(void 0,this.nf,"value");};R.prototype.entries=function(){return A(this.Oe,this.nf,"key+value");};R.prototype.Ow=function(ka,la){var X;if(this.ou === ka)return this.Sr;X=this.Oe.indexOf(ka);0 > X && la && (X=this.Oe.length,this.Oe.push(ka),this.nf.push(void 0));return (this.ou=ka,this.Sr=X);};return R;})();}function C(){return (function(){function L(){this.Cf=new P();}Object.defineProperty(L.prototype,"size",{get:function(){return this.Cf.size;},enumerable:!0,configurable:!0});L.prototype.has=function(R){return this.Cf.has(R);};L.prototype.add=function(R){return (this.Cf.set(R,R),this);};L.prototype.delete=function(R){return this.Cf.delete(R);};L.prototype.clear=function(){this.Cf.clear();};L.prototype.keys=function(){return this.Cf.keys();};L.prototype.values=function(){return this.Cf.values();};L.prototype.entries=function(){return this.Cf.entries();};return L;})();}function D(){var la,X;function L(da,ta){for(var Ba=0;Ba < ta;++Ba){da[Ba]=255 * Math.random() | 0;}return da;}function R(){var da,Ja;do {da="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):L(new Uint8Array(16),16):L(Array(16),16);da[6]=da[6] & 79 | 64;da[8]=da[8] & 191 | 128;for(var ta="",Ba=0;16 > Ba;++Ba){Ja=da[Ba];if(4 === Ba || 6 === Ba || 8 === Ba)ta+="-";16 > Ja && (ta+="0");ta+=Ja.toString(16).toLowerCase();}da="@@WeakMap@@" + ta;}while(O.has(la,da));la[da]=!0;return da;}function ka(da,ta){if(!G.call(da,X)){if(!ta)return;Object.defineProperty(da,X,{value:K()});}return da[X];}la=K();X=R();return (function(){function da(){this.cs=R();}da.prototype.has=function(ta){ta=ka(ta,!1);return void 0 !== ta?O.has(ta,this.cs):!1;};da.prototype.get=function(ta){ta=ka(ta,!1);return void 0 !== ta?O.get(ta,this.cs):void 0;};da.prototype.set=function(ta,Ba){ka(ta,!0)[this.cs]=Ba;return this;};da.prototype.delete=function(ta){ta=ka(ta,!1);return void 0 !== ta?delete ta[this.cs]:!1;};da.prototype.clear=function(){this.cs=R();};return da;})();}function E(L){L.P$b=1;delete L.Q$b;return L;}G=Object.prototype.hasOwnProperty;F="function" === typeof Object.create;H=(function(){var R;function L(){}R={};L.prototype=R;return new L().__proto__ === R;})();K=F?function(){return E(Object.create(null));}:H?function(){return E({__proto__:null});}:function(){return E({});};(function(L){var R;R=!F && !H;L.has=R?function(ka,la){return G.call(ka,la);}:function(ka,la){return (la in ka);};L.get=R?function(ka,la){return G.call(ka,la)?ka[la]:void 0;}:function(ka,la){return ka[la];};})(O || (O={}));I=Object.getPrototypeOf(Function);P="function" === typeof Map?Map:B();N="function" === typeof Set?Set:C();J=new ("function" === typeof WeakMap?WeakMap:D())();g.AA=function(L,R,ka,la){var da;if(q(la)){if(q(ka)){if(!v(L))throw new TypeError();if("function" !== typeof R)throw new TypeError();for(ka=L.length - 1;0 <= ka;--ka){if((la=(0,L[ka])(R),!q(la))){if("function" !== typeof la)throw new TypeError();R=la;}}return R;}if(!v(L))throw new TypeError();if(!t(R))throw new TypeError();ka=w(ka);for(la=L.length - 1;0 <= la;--la){(0,L[la])(R,ka);}}else {if(!v(L))throw new TypeError();if(!t(R))throw new TypeError();if(q(ka))throw new TypeError();if(!t(la))throw new TypeError();ka=w(ka);for(var X=L.length - 1;0 <= X;--X){da=(0,L[X])(R,ka,la);if(!q(da)){if(!t(da))throw new TypeError();la=da;}}return la;}};g.ud=function(L,R){return function(ka,la){if(q(la)){if("function" !== typeof ka)throw new TypeError();h(ka,void 0,!0).set(L,R);}else {if(!t(ka))throw new TypeError();la=w(la);h(ka,la,!0).set(L,R);}};};g.V2=function(L,R,ka,la){if(!t(ka))throw new TypeError();q(la) || (la=w(la));h(ka,la,!0).set(L,R);};g.qJb=function(L,R){var ka;if(!t(R))throw new TypeError();q(ka) || (ka=w(ka));return d(L,R,ka);};g.ana=function(L,R){var ka;if(!t(R))throw new TypeError();q(ka) || (ka=w(ka));return f(L,R,ka);};g.getMetadata=function(L,R,ka){if(!t(R))throw new TypeError();q(ka) || (ka=w(ka));return n(L,R,ka);};g.oYa=function(L,R,ka){if(!t(R))throw new TypeError();q(ka) || (ka=w(ka));return k(L,R,ka);};g.rcc=function(L,R){if(!t(L))throw new TypeError();q(R) || (R=w(R));return m(L,R);};g.tcc=function(L,R){if(!t(L))throw new TypeError();q(R) || (R=w(R));return p(L,R);};g.vbc=function(L,R,ka){var la;if(!t(R))throw new TypeError();q(ka) || (ka=w(ka));la=h(R,ka,!1);if(q(la) || !la.delete(L))return !1;if(0 < la.size)return !0;L=J.get(R);L.delete(ka);if(0 < L.size)return !0;J.delete(R);return !0;};(function(L){if("undefined" !== typeof L.Reflect){if(L.Reflect !== g)for(var R in g){G.call(g,R) && (L.Reflect[R]=g[R]);}}else L.Reflect=g;})("undefined" !== typeof mb?mb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(l || (l={}));}).call(this,a(298));},function(r,b,a){var c,l;c=a(299);l=a(578);r.exports=function(){var g;g=l();c(Array.prototype,{includes:g},{includes:function(){return Array.prototype.includes !== g;}});return g;};},function(r,b,a){var c,l,g,h,d;c=Array.prototype.slice;l=a(300);g=Object.keys;h=g?function(f){return g(f);}:a(576);d=Object.keys;h.ffc=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return l(f)?d(c.call(f)):d(f);}):Object.keys=h;return Object.keys || h;};r.exports=h;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;g=a(300);b=Object.prototype.propertyIsEnumerable;h=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");n=function(q){var v;v=q.constructor;return v && v.prototype === q;};k={A5b:!0,B5b:!0,C5b:!0,D5b:!0,E5b:!0,F5b:!0,G5b:!0,H5b:!0,I5b:!0,J5b:!0,K5b:!0,L5b:!0,M5b:!0,N5b:!0,O5b:!0,P5b:!0,Q5b:!0,R5b:!0,S5b:!0,T5b:!0,U5b:!0,V5b:!0,W5b:!0};m=(function(){if("undefined" === typeof mb)return !1;for(var q in mb){try{if(!k["$" + q] && c.call(mb,q) && null !== mb[q] && "object" === typeof mb[q])try{n(mb[q]);}catch(v){return !0;}}catch(v){return !0;}}return !1;})();p=function(q){var v,t,w,u,y,z;v=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=g(q);u=v && "[object String]" === l.call(q);y=[];if(!v && !t && !w)throw new TypeError("Object.keys called on a non-object");v=d && t;if(u && 0 < q.length && !c.call(q,0))for(u=0;u < q.length;++u){y.push(String(u));}if(w && 0 < q.length)for(w=0;w < q.length;++w){y.push(String(w));}else for(var x in q){v && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(h){if("undefined" !== typeof mb && m)try{z=n(q);}catch(A){z=!1;}else z=n(q);for(w=0;w < f.length;++w){z && "constructor" === f[w] || !c.call(q,f[w]) || y.push(f[w]);}}return y;};}r.exports=p;},function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var g=b.call(arguments,1),h,d=Math.max(0,l.length - g.length),f=[],n=0;n < d;n++){f.push("$" + n);}h=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var k;if(this instanceof h){k=l.apply(this,g.concat(b.call(arguments)));return Object(k) === k?k:this;}return l.apply(c,g.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,h.prototype=new d(),d.prototype=null);return h;};},function(r,b,a){var c;c=a(579);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;c=a(304);l=a(594);g=a(596);h=a(599);d=a(133);f=a(306);b=a(38);n=a(118);k=a(600);m=n("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(v){var t,w,u;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(v) && f(t) && "undefined" !== typeof v)return -1 < p.apply(this,arguments);w=g(this);u=l(w.length);if(0 === u)return !1;for(t=0 <= t?t:q(0,u + t);t < u;){if(h(v,k(w)?m(w,t):w[t]))return !0;t+=1;}return !1;};},function(r,b,a){var c;c=a(38)("%Math.abs%");r.exports=function(l){return c(l);};},function(r,b,a){var c,l;c=a(93);l=Math.floor;r.exports=function(g){return "BigInt" === c(g)?g:l(g);};},function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w;c=a(38);l=c("%TypeError%");g=c("%Number%");b=c("%RegExp%");h=c("%parseInt%");c=a(118);d=a(585);f=a(587);n=c("String.prototype.slice");k=d(/^0b[01]+$/i);m=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);v=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(588);r.exports=function x(y){var z;y=f(y)?y:w(y,g);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(k(y))return x(h(n(y,2),2));if(m(y))return x(h(n(y,2),8));if(q(y) || p(y))return NaN;z=t(y,v,"");if(z !== y)return x(z);}return g(y);};},function(r,b,a){var l,g,h,d,f,n,k;function c(){return d(l,g,arguments);}l=a(198);b=a(38);g=b("%Function.prototype.apply%");h=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(h,g);f=b("%Object.getOwnPropertyDescriptor%",!0);n=b("%Object.defineProperty%",!0);k=b("%Math.max%");if(n)try{n({},"a",{value:1});}catch(m){n=null;}r.exports=function(m){var p;p=d(l,h,arguments);f && n && f(p,"length").configurable && n(p,"length",{value:1 + k(0,m.length - (arguments.length - 1))});return p;};n?n(r.exports,"apply",{value:c}):r.exports.apply=c;},function(r,b,a){var c,l,g,h;b=a(118);c=a(38);l=a(586);g=b("RegExp.prototype.exec");h=c("%TypeError%");r.exports=function(d){if(!l(d))throw new h("`regex` must be a RegExp");return function(f){return null !== g(d,f);};};},function(r,b,a){var c,l,g,h,d,f,n;b=a(118);if(a=a(199)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");g={};h=function(){throw g;};d={toString:h,valueOf:h};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=h);}f=b("Object.prototype.toString");n=Object.getOwnPropertyDescriptor;r.exports=a?function(k){var m;if(!k || "object" !== typeof k)return !1;m=n(k,"lastIndex");if(!m || !c(m,"value"))return !1;try{l(k,d);}catch(p){return p === g;}}:function(k){return !k || "object" !== typeof k && "function" !== typeof k?!1:"[object RegExp]" === f(k);};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c;c=a(589);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},function(r,b,a){var c,l,g,h,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(590);g=a(305);h=a(591);d=a(592);r.exports=function(f){var n,k,m;if(l(f))return f;n="default";1 < arguments.length && (arguments[1] === String?n="string":arguments[1] === Number && (n="number"));if(c)if(Symbol.toPrimitive){k=Symbol.toPrimitive;m=f[k];if(null !== m && "undefined" !== typeof m){if(!g(m))throw new TypeError(m + " returned for property " + k + " of object " + f + " is not a function");k=m;}else k=void 0;}else d(f) && (k=Symbol.prototype.valueOf);if("undefined" !== typeof k){n=k.call(f,n);if(l(n))return n;throw new TypeError("unable to convert exotic object to primitive");}"default" === n && (h(f) || d(f)) && (n="string");a:{n="default" === n?"number":n;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof n || "number" !== n && "string" !== n)throw new TypeError('hint must be "string" or "number"');n="string" === n?["toString","valueOf"]:["valueOf","toString"];for(k=0;k < n.length;++k){if((m=f[n[k]],g(m) && (m=m.call(f),l(m))))break a;}throw new TypeError("No default value");}return m;};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c,l,g;c=Date.prototype.getDay;l=Object.prototype.toString;g=a(199)();r.exports=function(h){if("object" !== typeof h || null === h)h=!1;else if(g)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object Date]" === l.call(h);return h;};},function(r,b,a){var c,l,g;c=Object.prototype.toString;if(a(302)()){l=Symbol.prototype.toString;g=/^Symbol\(.*\)$/;r.exports=function(h){if("symbol" === typeof h)return !0;if("[object Symbol]" !== c.call(h))return !1;try{return "symbol" !== typeof h.valueOf()?!1:g.test(l.call(h));}catch(d){return !1;}};}else r.exports=function(){return !1;};},function(r){r.exports=function(b){return 0 <= b?1:-1;};},function(r,b,a){var c,l;c=a(595);l=a(304);r.exports=function(g){g=l(g);return 0 >= g?0:g > c?c:g;};},function(r,b,a){a=a(38);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(r,b,a){var c,l;c=a(38)("%Object%");l=a(597);r.exports=function(g){l(g);return c(g);};},function(r,b,a){r.exports=a(598);},function(r,b,a){var c;c=a(38)("%TypeError%");r.exports=function(l,g){if(null == l)throw new c(g || "Cannot call method on " + l);return l;};},function(r,b,a){var c;c=a(133);r.exports=function(l,g){return l === g || c(l) && c(g);};},function(r,b,a){var c,l,g;c=String.prototype.valueOf;l=Object.prototype.toString;g=a(199)();r.exports=function(h){if("string" === typeof h)h=!0;else if("object" !== typeof h)h=!1;else if(g)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object String]" === l.call(h);return h;};},function(r,b,a){var c,l,g;c=a(200);l=a(602);g=a(299);r.exports=function(){var h;c();h=l();g(Promise.prototype,{"finally":h},{"finally":function(){return Promise.prototype["finally"] !== h;}});return h;};},function(r,b,a){var c,l;c=a(200);l=a(603);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},function(r,b,a){var d,f,n,k;function c(m){var p,q,v;if("Object" !== n(this))throw new TypeError("receiver is not an Object");p=f(this,k);q=m;v=m;d(m) && (q=g(p,m),v=l(p,m));return this.then(q,v);}function l(m,p){return function(q){var v;v=p();return h(m,v).then(function(){throw q;});};}function g(m,p){return function(q){var v;v=p();return h(m,v).then(function(){return q;});};}function h(m,p){return new m(function(q){q(p);});}a(200)();d=a(307);f=a(604);n=a(93);k=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},function(r,b,a){var c,l,g,h;b=a(38);c=b("%Symbol.species%",!0);l=b("%TypeError%");g=a(605);h=a(93);r.exports=function(d,f){if("Object" !== h(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== h(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(g(d))return d;throw new l("no constructor found");};},function(r,b,a){var c,l,g;c=a(606)("%Reflect.construct%",!0);b=a(607);try{b({},"",{"[[Get]]":function(){}});}catch(h){b=null;}if(b && c){l={};g={};b(g,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(h){try{c(h,g);}catch(d){return d === l;}};}else r.exports=function(h){return "function" === typeof h && !!h.prototype;};},function(r,b,a){r.exports=a(38);},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;c=a(38)("%TypeError%");l=a(608);g=a(609);h=a(611);d=a(614);f=a(615);n=a(616);k=a(617);m=a(618);p=a(93);r.exports=function(q,v,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!n(v))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({DLa:p,MDa:f,LDa:d},t)?t:m(t);if(!l({DLa:p,MDa:f,LDa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return g(f,k,h,q,v,t);};},function(r,b,a){var c,l;b=a(38);c=a(105);l=b("%TypeError%");r.exports=function(g,h){var d,f;if("Object" !== g.DLa(h))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in h){if(c(h,f) && !d[f])return !1;}if(g.MDa(h) && g.LDa(h))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(r,b,a){var c,l,g,h,d;b=a(301);c=a(38);l=b() && c("%Object.defineProperty%",!0);g=b.iJb();h=g && a(610);d=a(118)("Object.prototype.propertyIsEnumerable");r.exports=function(f,n,k,m,p,q){if(!l){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in m) && d(m,p) !== !!q["[[Enumerable]]"])return !1;f=q["[[Value]]"];m[p]=f;return n(m[p],f);}if(g && "length" === p && ("[[Value]]" in q) && h(m) && m.length !== q["[[Value]]"])return (m.length=q["[[Value]]"],m.length === q["[[Value]]"]);l(m,p,k(q));return !0;};},function(r,b,a){var c;b=a(38)("%Array%");c=!b.isArray && a(118)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},function(r,b,a){var c,l,g;c=a(201);l=a(613);g=a(93);r.exports=function(h){"undefined" !== typeof h && c(g,"Property Descriptor","Desc",h);return l(h);};},function(r,b,a){var c;c=a(105);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},function(r,b,a){var c,l,g;c=a(105);l=a(201);g=a(93);r.exports=function(h){if("undefined" === typeof h)return !1;l(g,"Property Descriptor","Desc",h);return c(h,"[[Get]]") || c(h,"[[Set]]")?!0:!1;};},function(r,b,a){var c,l,g;c=a(105);l=a(201);g=a(93);r.exports=function(h){if("undefined" === typeof h)return !1;l(g,"Property Descriptor","Desc",h);return c(h,"[[Value]]") || c(h,"[[Writable]]")?!0:!1;};},function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(r,b,a){var c;c=a(133);r.exports=function(l,g){return l === g?0 === l?1 / l === 1 / g:!0:c(l) && c(g);};},function(r,b,a){var c,l,g,h,d;c=a(105);l=a(38)("%TypeError%");g=a(93);h=a(619);d=a(307);r.exports=function(f){var n,k;if("Object" !== g(f))throw new l("ToPropertyDescriptor requires an object");n={};c(f,"enumerable") && (n["[[Enumerable]]"]=h(f.enumerable));c(f,"configurable") && (n["[[Configurable]]"]=h(f.configurable));c(f,"value") && (n["[[Value]]"]=f.value);c(f,"writable") && (n["[[Writable]]"]=h(f.writable));if(c(f,"get")){k=f.get;if("undefined" !== typeof k && !d(k))throw new l("getter must be a function");n["[[Get]]"]=k;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new l("setter must be a function");n["[[Set]]"]=f;}if((c(n,"[[Get]]") || c(n,"[[Set]]")) && (c(n,"[[Value]]") || c(n,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n;};},function(r){r.exports=function(b){return !!b;};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v;c=this && this.__awaiter || (function(t,w,u,y){return new (u || (u=Promise))(function(x,z){function A(D){try{C(y.next(D));}catch(E){z(E);}}function B(D){try{C(y["throw"](D));}catch(E){z(E);}}function C(D){D.done?x(D.value):new u(function(E){E(D.value);}).then(A,B);}C((y=y.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var x,z,A,B,C;function u(D){return function(E){return y([D,E]);};}function y(D){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (x.label++,{value:D[1],done:!1});case 5:x.label++;A=D[1];D=[0];continue;case 7:D=x.kG.pop();x.Wm.pop();continue;default:if(!(B=x.Wm,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){x=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))x.label=D[1];else if(6 === D[0] && x.label < B[1])(x.label=B[1],B=D);else if(B && x.label < B[2])(x.label=B[2],x.kG.push(D));else {B[2] && x.kG.pop();x.Wm.pop();continue;}}D=w.call(t,x);}catch(E){D=[6,E];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}x={label:0,cb:function(){if(B[0] & 1)throw B[1];return B[1];},Wm:[],kG:[]};return (C={next:u(0),"throw":u(1),"return":u(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});g=a(621);h=a(55);d=a(77);a(39);f=a(308);n=a(622);k=a(629);m=a(631);p=a(106);q=a(134);a(634);v=a(635);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + h.Veb);if(void 0 === w.HE)w.HE=d.Er.J_;else if(w.HE !== d.Er.Dda && w.HE !== d.Er.J_ && w.HE !== d.Er.Request)throw Error("" + h.Teb);if(void 0 === w.qR)w.qR=!1;else if("boolean" !== typeof w.qR)throw Error("" + h.Seb);if(void 0 === w.XG)w.XG=!1;else if("boolean" !== typeof w.XG)throw Error("" + h.Ueb);this.options={qR:w.qR,HE:w.HE,XG:w.XG};this.id=p.id();this.xD=new v.Lhb();this.wob=[];this.parent=this.qfa=null;this.Zmb=new f.jca();}t.prototype.load=function(){var x,z;for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}u=this.UMa();for(var y=0;y < w.length;y++){x=w[y];z=u(x.id);x.Ysa(z.DQa,z.gbb,z.D0a,z.Z6a);}};t.prototype.oU=function(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}c(this,void 0,void 0,function(){var y,x,z,A,B;return l(this,function(C){switch(C.label){case 0:(y=this.UMa(),x=0,z=w,C.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.Ysa(B.DQa,B.gbb,B.D0a,B.Z6a)];case 2:(C.cb(),C.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.lbb=function(){function w(z){return function(A){return A.q3a === z;};}for(var u=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=w(z.id);u.xD.$Wb(z);});};t.prototype.bind=function(w){var u;u=new g.heb(w,this.options.HE || d.Er.J_);this.xD.add(w,u);return new m.jeb(u);};t.prototype.dWb=function(w){this.fbb(w);return this.bind(w);};t.prototype.fbb=function(w){try{this.xD.remove(w);}catch(u){throw Error(h.Deb + " " + q.UK(w));}};t.prototype.T_a=function(w){var u;u=this.xD.sZa(w);!u && this.parent && (u=this.parent.T_a(w));return u;};t.prototype.restore=function(){var w;w=this.wob.pop();if(void 0 === w)throw Error(h.tib);this.xD=w.tR;this.qfa=w.DPb;};t.prototype.qxb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.TMa(!1,!1,d.Jw.Wda,w);};t.prototype.getAll=function(w){return this.TMa(!0,!0,d.Jw.Wda,w);};t.prototype.resolve=function(w){var u;u=this.qxb();u.bind(w).Fab();return u.get(w);};t.prototype.UMa=function(){var z;function w(A){return function(B){B=z.dWb.bind(z)(B);B.tc.q3a=A;return B;};}function u(){return function(A){return z.T_a.bind(z)(A);};}function y(){return function(A){z.fbb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.tc.q3a=A;return B;};}z=this;return function(A){return {DQa:x(A),D0a:u(A),Z6a:w(A),gbb:y(A)};};};t.prototype.TMa=function(w,u,y,x){var z;z=null;w={Rrb:w,zvb:function(A){return A;},PLb:u,key:void 0,vg:x,F1b:y,value:void 0};if(this.qfa){if((z=this.qfa(w),void 0 === z || null === z))throw Error(h.rhb);}else z=this.Onb()(w);return z;};t.prototype.Onb=function(){var w;w=this;return function(u){var y;y=n.lM(w.Zmb,w,u.PLb,u.F1b,u.vg,u.key,u.value,u.Rrb);y=u.zvb(y);return k.resolve(y);};};return t;})();b.mY=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);l=a(106);r=(function(){function g(h,d){this.id=l.id();this.cga=!1;this.vg=h;this.scope=d;this.type=c.Ui.Chb;this.DE=function(){return !0;};this.eK=this.vv=this.By=this.vK=this.cache=this.Dl=null;}g.prototype.clone=function(){var h;h=new g(this.vg,this.scope);h.cga=!1;h.Dl=this.Dl;h.eK=this.eK;h.scope=this.scope;h.type=this.type;h.vK=this.vK;h.By=this.By;h.DE=this.DE;h.vv=this.vv;h.cache=this.cache;return h;};return g;})();b.heb=r;},function(r,b,a){var d,f,n,k,m,p,q,v,t,w,u,y;function c(x,z,A,B,C){var D,E;D=h(A.eb,C.vg);E=[];D.length === d.raa.lGa && A.eb.options.qR && "function" === typeof C.vg && x.jXa(C.vg).mSa && (A.eb.bind(C.vg).Fab(),D=h(A.eb,C.vg));E=z?D:D.filter(function(G){var F;F=new u.Request(G.vg,A,B,G,C);return G.DE(F);});l(C.vg,E,C,A.eb);return E;}function l(x,z,A,B){switch(z.length){case d.raa.lGa:if(A.i0a())return z;x=p.UK(x);z=f.rib;z+=p.cNb(x,A);z+=p.x1a(B,x,h);throw Error(z);case d.raa.Gib:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.UK(x);z=f.gdb + " " + x;z+=p.x1a(B,x,h);throw Error(z);}}function g(x,z,A,B,C,D){var E;if(null === C){z=c(x,z,B,null,D);E=new u.Request(A,B,null,z,D);A=new t.Ijb(B,E);B.Rpb(A);}else (z=c(x,z,B,C,D),E=C.XOa(D.vg,z,D));z.forEach(function(G){var F,H,K;F=null;if(D.isArray())F=E.XOa(G.vg,G,D);else {if(G.cache)return;F=E;}if(G.type === n.Ui.Instance && null !== G.Dl){H=w.LFb(x,G.Dl);if(!B.eb.options.XG){K=w.kFb(x,G.Dl);if(H.length < K)throw (G=f.jdb(w.getFunctionName(G.Dl)),Error(G));}H.forEach(function(O){g(x,!1,O.vg,B,F,O);});}});}function h(x,z){var A,B;A=[];B=x.xD;B.sZa(z)?A=B.get(z):null !== x.parent && (A=h(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(623);f=a(55);n=a(77);k=a(39);m=a(309);p=a(134);q=a(624);v=a(68);t=a(625);w=a(626);u=a(628);y=a(311);b.lcc=function(x){return x.xD;};b.lM=function(x,z,A,B,C,D,E,G){void 0 === G && (G=!1);z=new q.Sza(z);A=new v.Metadata(A?k.aD:k.MO,C);B=new y.H_(B,"",C,A);void 0 !== D && (D=new v.Metadata(D,E),B.ud.push(D));try{return (g(x,G,C,z,null,B),z);}catch(F){throw (m.u0a(F) && z.lM && p.rub(z.lM.Jta),F);}};b.ebc=function(x,z,A,B){A=new y.H_(n.Jw.Wda,"",z,new v.Metadata(A,B));x=new q.Sza(x);return new u.Request(z,x,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.raa={F8b:2,lGa:0,Gib:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(106);r=(function(){function l(g){this.id=c.id();this.eb=g;}l.prototype.Rpb=function(g){this.lM=g;};return l;})();b.Sza=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ijb=(function(){return function(a,c){this.fM=a;this.Jta=c;};})();},function(r,b,a){var d,f,n,k,m,p;function c(q,v,t,w){var u,y,x,z,B,C,D,E,G,F,H,K;u=q.jXa(t);y=u.mSa;if(void 0 === y)throw Error(f.Uhb + " " + v + ".");u=u.t4b;x=Object.keys(u);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;C=w;D=v;E=y;G=u[B.toString()] || [];F=h(G);H=!0 !== F.Xm;E=E[B];K=F.l || F.eG;E=K?K:E;E instanceof d.Nba && (E=E.o3b());if(H){H=E === Function;H=E === Object || H || void 0 === E;if(!C && H)throw Error(f.Vhb + " argument " + B + " in class " + D + ".");B=new p.H_(n.Jw.Pza,F.aX,E);B.ud=G;G=B;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,v){var x,z,A;for(var t=q.IHb(v),w=[],u=0,y=Object.keys(t);u < y.length;u++){x=y[u];z=t[x];A=h(t[x]);x=new p.H_(n.Jw.Cza,A.aX || x,A.l || A.eG);x.ud=z;w.push(x);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (q=l(q,v),w=w.concat(q));return w;}function g(q,v){var t,w;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){t=m.getFunctionName(v);t=c(q,t,v,!0);w=t.map(function(u){return u.ud.filter(function(y){return y.key === k.BP;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:g(q,v);}return 0;}function h(q){var v;v={};q.forEach(function(t){v[t.key.toString()]=t.value;});return {l:v[k.MO],eG:v[k.aD],aX:v[k.TZ],Xm:v[k.BP]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(310);f=a(55);n=a(77);k=a(39);m=a(134);b.getFunctionName=m.getFunctionName;p=a(311);b.LFb=function(q,v){var t;t=m.getFunctionName(v);return c(q,t,v,!1);};b.kFb=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.lN=c;}a.prototype.startsWith=function(c){return 0 === this.lN.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.lN.split("").reverse().join("");return this.startsWith.call({lN:c},l);};a.prototype.contains=function(c){return -1 !== this.lN.indexOf(c);};a.prototype.equals=function(c){return this.lN === c;};a.prototype.value=function(){return this.lN;};return a;})();b.Tjb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(106);r=(function(){function l(g,h,d,f,n){this.id=c.id();this.vg=g;this.fM=h;this.ty=d;this.target=n;this.hia=[];this.tR=Array.isArray(f)?f:[f];this.AXb=null === d?new Map():null;}l.prototype.XOa=function(g,h,d){g=new l(g,this.fM,this,h,d);this.hia.push(g);return g;};return l;})();b.Request=r;},function(r,b,a){var g,h,d,f,n;function c(k){return function(m){var p,q,v,t,w;p=m.tR;q=m.hia;v=m.target && m.target.isArray();t=!m.ty || !m.ty.target || !m.target || !m.ty.target.FOb(m.target.vg);if(v && t)return q.map(function(u){return c(k)(u);});v=null;if(!m.target.i0a() || 0 !== p.length){w=p[0];p=w.scope === h.Er.Dda;t=w.scope === h.Er.Request;if(p && w.cga)return w.cache;if(t && null !== k && k.has(w.id))return k.get(w.id);if(w.type === h.Ui.Nza)v=w.cache;else if(w.type === h.Ui.Function)v=w.cache;else if(w.type === h.Ui.Oza)v=w.Dl;else if(w.type === h.Ui.WAa && null !== w.eK)v=l("toDynamicValue",w.vg,function(){return w.eK(m.fM);});else if(w.type === h.Ui.kba && null !== w.vK)v=l("toFactory",w.vg,function(){return w.vK(m.fM);});else if(w.type === h.Ui.rJa && null !== w.By)v=l("toProvider",w.vg,function(){return w.By(m.fM);});else if(w.type === h.Ui.Instance && null !== w.Dl)v=n.OXb(w.Dl,q,c(k));else throw (q=f.UK(m.vg),Error(g.nhb + " " + q));"function" === typeof w.vv && (v=w.vv(m.fM,v));p && (w.cache=v,w.cga=!0);t && null !== k && !k.has(w.id) && k.set(w.id,v);return v;}};}function l(k,m,p){try{return p();}catch(q){if(d.u0a(q))throw Error(g.Heb(k,m.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);h=a(77);d=a(309);f=a(134);n=a(630);b.resolve=function(k){return c(k.lM.Jta.AXb)(k.lM.Jta);};},function(r,b,a){var g,h,d;function c(f,n,k){var m;n=n.filter(function(p){return null !== p.target && p.target.type === h.Jw.Cza;});m=n.map(k);n.forEach(function(p,q){p=p.target.name.value();f[p]=m[q];});return f;}function l(f,n){var k;if(Reflect.qJb(d.mP,f)){k=Reflect.getMetadata(d.mP,f);try{n[k.value]();}catch(m){throw Error(g.Ajb(f.name,m.message));}}}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);h=a(77);d=a(39);b.OXb=function(f,n,k){var m;m=null;0 < n.length?(m=n.filter(function(p){return null !== p.target && p.target.type === h.Jw.Pza;}).map(k),m=new (f.bind.apply(f,[void 0].concat(m)))(),m=c(m,n,k)):m=new f();l(f,m);return m;};},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(77);g=a(632);h=a(312);r=(function(){function d(f){this.tc=f;}d.prototype.to=function(f){this.tc.type=l.Ui.Instance;this.tc.Dl=f;return new g.Dya(this.tc);};d.prototype.Fab=function(){if("function" !== typeof this.tc.vg)throw Error("" + c.shb);this.to(this.tc.vg);};d.prototype.Xk=function(f){this.tc.type=l.Ui.Nza;this.tc.cache=f;this.tc.eK=null;this.tc.Dl=null;new h.IC(this.tc);};d.prototype.AC=function(f){this.tc.type=l.Ui.WAa;this.tc.cache=null;this.tc.eK=f;this.tc.Dl=null;return new g.Dya(this.tc);};d.prototype.p2b=function(f){this.tc.type=l.Ui.Oza;this.tc.Dl=f;new h.IC(this.tc);};d.prototype.Md=function(f){this.tc.type=l.Ui.kba;this.tc.vK=f;new h.IC(this.tc);};d.prototype.q2b=function(f){if("function" !== typeof f)throw Error(c.qhb);this.Xk(f);this.tc.type=l.Ui.Function;};d.prototype.Dab=function(f){this.tc.type=l.Ui.kba;this.tc.vK=function(n){return function(){return n.eb.get(f);};};new h.IC(this.tc);};d.prototype.jX=function(f){this.tc.type=l.Ui.rJa;this.tc.By=f;new h.IC(this.tc);};d.prototype.s2b=function(f){this.AC(function(n){return n.eb.get(f);});};return d;})();b.jeb=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(633);l=a(204);g=a(205);r=(function(){function h(d){this.tc=d;this.LP=new g.saa(this.tc);this.kea=new l.eY(this.tc);this.vMa=new c.ieb(d);}h.prototype.da=function(){return this.vMa.da();};h.prototype.xna=function(){return this.vMa.xna();};h.prototype.when=function(d){return this.LP.when(d);};h.prototype.KX=function(){return this.LP.KX();};h.prototype.vv=function(d){return this.kea.vv(d);};return h;})();b.Dya=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);l=a(312);r=(function(){function g(h){this.tc=h;}g.prototype.da=function(){this.tc.scope=c.Er.Dda;return new l.IC(this.tc);};g.prototype.xna=function(){this.tc.scope=c.Er.J_;return new l.IC(this.tc);};return g;})();b.ieb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.T6b=(function(){function a(){}a.of=function(c,l){var g;g=new a();g.tR=c;g.DPb=l;return g;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);r=(function(){function l(){this.Cf=new Map();}l.prototype.add=function(g,h){var d;if(null === g || void 0 === g)throw Error(c.hP);if(null === h || void 0 === h)throw Error(c.hP);d=this.Cf.get(g);void 0 !== d?(d.push(h),this.Cf.set(g,d)):this.Cf.set(g,[h]);};l.prototype.get=function(g){if(null === g || void 0 === g)throw Error(c.hP);g=this.Cf.get(g);if(void 0 !== g)return g;throw Error(c.QDa);};l.prototype.remove=function(g){if(null === g || void 0 === g)throw Error(c.hP);if(!this.Cf.delete(g))throw Error(c.QDa);};l.prototype.$Wb=function(g){var h;h=this;this.Cf.forEach(function(d,f){d=d.filter(function(n){return !g(n);});0 < d.length?h.Cf.set(f,d):h.Cf.delete(f);});};l.prototype.sZa=function(g){if(null === g || void 0 === g)throw Error(c.hP);return this.Cf.has(g);};l.prototype.clone=function(){var g;g=new l();this.Cf.forEach(function(h,d){h.forEach(function(f){return g.add(d,f.clone());});});return g;};return l;})();b.Lhb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(106);b.Xc=(function(){return function(l){this.id=c.id();this.Ysa=l;};})();b.oya=(function(){return function(l){this.id=c.id();this.Ysa=l;};})();},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(39);b.U=function(){return function(g){var h;if(Reflect.ana(l.xca,g))throw Error(c.Lfb);h=Reflect.getMetadata(l.ifb,g) || [];Reflect.V2(l.xca,h,g);return g;};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(68);l=a(94);b.dab=function(g,h){return function(d,f,n){var k;k=new c.Metadata(g,h);"number" === typeof n?l.iH(d,f,n,k):l.$W(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(68);g=a(94);b.D3a=function(h){return function(d,f,n){var k;k=new l.Metadata(c.wz,h);"number" === typeof n?g.iH(d,f,n,k):g.$W(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(68);g=a(94);b.optional=function(){return function(h,d,f){var n;n=new l.Metadata(c.vGa,!0);"number" === typeof f?g.iH(h,d,f,n):g.$W(h,d,n);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(68);g=a(94);b.Xm=function(){return function(h,d,f){var n;n=new l.Metadata(c.BP,!0);g.iH(h,d,f,n);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(68);g=a(94);b.eG=function(h){return function(d,f,n){var k;k=new l.Metadata(c.aD,h);"number" === typeof n?g.iH(d,f,n,k):g.$W(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);l=a(68);g=a(94);b.aX=function(h){return function(d,f,n){var k;k=new l.Metadata(c.TZ,h);g.iH(d,f,n,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(39);g=a(68);b.W5a=function(){return function(h,d){d=new g.Metadata(l.mP,d);if(Reflect.ana(l.mP,h.constructor))throw Error(c.gib);Reflect.V2(l.mP,d,h.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A3a=function(a){return function(c){return function(){for(var l=[],g=0;g < arguments.length;g++){l[g]=arguments[g];}return l.forEach(function(h){return a.bind(h).s2b(c);});};};};},function(r,b,a){var d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C;function c(){}function l(D){this.Vc=D;}function g(D){var E;E=k.Qca.call(this) || this;D.jL?Object.assign(E,(0,y.LXa)(D)):D.x5?Object.assign(E,(0,u.BXa)(D)):D.joa?Object.assign(E,(0,w.lYa)()):D.Zx || D.ST?Object.assign(E,(0,t.uXa)()):D.XT?Object.assign(E,(0,y.GYa)(D)):Object.assign(E,(0,v.fXa)(D));return E;}function h(D){this.data=D.x5?(0,u.DXa)(D):D.joa?(0,w.nYa)(D):D.Zx || D.ST?(0,t.wXa)(D):D.XT?(0,y.IYa)(D):(0,v.hXa)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Aeb=b.zeb=b.yeb=b.xeb=void 0;r=a(0);d=a(1);f=a(43);n=a(107);k=a(647);m=a(162);p=a(315);q=a(206);v=a(648);t=a(678);w=a(679);u=a(680);y=a(681);x=a(682);z=a(683);Sa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},T6:{configurable:!0,enumerable:!0,get:function(){return this.data.T6;}},tq:{configurable:!0,enumerable:!0,get:function(){return this.data.tq;}},Hn:{configurable:!0,enumerable:!0,get:function(){return this.data.Hn;}},DK:{configurable:!0,enumerable:!0,get:function(){return this.data.DK;}},CA:{configurable:!0,enumerable:!0,get:function(){return this.data.CA;}},Fja:{configurable:!0,enumerable:!0,get:function(){return this.data.Fja;}},RTa:{configurable:!0,enumerable:!0,get:function(){return this.data.RTa;}},jpa:{configurable:!0,enumerable:!0,get:function(){return this.data.jpa;}},ZR:{configurable:!0,enumerable:!0,get:function(){return this.data.ZR;}},hcb:{configurable:!0,enumerable:!0,get:function(){return this.data.hcb;}},q1:{configurable:!0,enumerable:!0,get:function(){return this.data.q1;}}});A=h;A=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(m.LC))],A);b.xeb=A;ha(g,k.Qca);B=g;B=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(m.LC))],B);b.yeb=B;l.prototype.apply=function(){this.Vc.x5?Object.assign(this,(0,u.CXa)(this.Vc)):this.Vc.joa?Object.assign(this,(0,w.mYa)(this.Vc)):this.Vc.Zx || this.Vc.ST?Object.assign(this,(0,t.vXa)(this.Vc)):this.Vc.XT?Object.assign(this,(0,y.HYa)(this.Vc)):Object.assign(this,(0,v.gXa)(this.Vc));return this;};C=l;C=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(m.LC))],C);b.zeb=C;c=r.__decorate([(0,d.U)()],c);b.Aeb=c;b.platform=new d.Xc(function(D){D(f.hn).to(A).da();D(n.iD).to(B).da();D(p.YHa).to(C).da();D(f.h_).to(c).da();D(q.Rca).Md(function(E){return function(){var G;G=E.eb.get(m.LC);return G.Zx || G.ST?{Oy:function(F,H,K){return new z.aea(F,H,K);},request:x.jMa}:G.XT?{Oy:function(F,H,K){return new (a(684))(F,H,K);},request:a(685)}:{};};});});},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.Qca=void 0;c=a(3);l=a(51);g=a(40);h={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Qca=function(){this.rua=!0;this.kE=[];this.$l=[];this.Pq=[];this.hK=!1;this.$ja=!0;this.Bt=[g.kl.Jaa,g.kl.kkb,g.kl.hI,g.kl.ZCa];this.Fl=void 0;this.gka=!0;this.o3=!1;this.A1=(0,l.va)(288E4);this.D1=(0,l.va)(335544320);this.jy=(0,c.Jb)(15E3);this.NOb=(0,l.va)(6291456);this.zL=1E3;this.Rha=!0;this.W9=h;this.vN=(0,l.va)(0);this.aL=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.Y5=["th"];this.Y9=(0,c.Jb)(0);this.ET=!0;this.l$=!1;this.jK=this.Vpa=this.X3=!0;this.CH=this.IA=this.Tu=!1;this.EE=["start"];this.Q9=!1;};},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.gXa=b.fXa=b.hXa=void 0;c=a(26);l=a(40);g=a(119);h=a(135);b.hXa=function(d){return Object.assign(Object.assign({},(0,h.HK)()),{tq:d.v0a?"T":d.RT?"C":"M",Hn:d.v0a?"NFCDTS-01-":d.mv?"NFCDCH-02-":d.KF?"NFCDCH-MC-":d.RT?"NFCDCH-01-":d.r5?"NFCDCH-AP-":d.PT?"NFCDCH-AT-":d.jL?"NFCDCH-PH-":"NFCDCH-LX-",CA:d.RT?"chromeos-cadmium":"chrome-cadmium"});};b.fXa=function(d){var f,n,k,m,p;f=(0,h.GK)();n=Object.assign(Object.assign({},f),{hK:!0,Tu:!0,IA:!0,CH:!0});k=[l.H.VY,l.H.TY,l.H.EP];m=[l.H.UY];if(d.mv){p={minimumCores:5};n.$l=[].concat(ea((0,g.bV).apply(null,[f.$l].concat(ea(k)))),ea((0,g.sh)([l.H.ez,l.H.fz].concat(ea(k),[l.H.ZN,l.H.$N]),p)));n.Pq=[].concat(ea((0,g.bV).apply(null,[f.Pq].concat(ea(m)))),ea((0,g.sh)([].concat(ea(m)),p)));}d.KF && (p={minimumCores:3},n.$l=[].concat(ea((0,g.bV).apply(null,[f.$l].concat(ea(k)))),ea((0,g.sh)([l.H.ez,l.H.fz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]})),ea((0,g.sh)(k,p))),n.Pq=[].concat(ea((0,g.bV).apply(null,[f.Pq].concat(ea(m)))),ea((0,g.sh)([].concat(ea(m)),p))));d.RT && (n.$l=(0,g.sh)([].concat(ea(l.cd.iY),ea(l.cd.TX),ea(l.cd.K$),ea(l.cd.zaa),ea(l.cd.Aaa),ea(l.cd.waa),ea(l.cd.xaa))),n.Pq=(0,g.sh)([].concat(ea(l.cd.SX),ea(l.cd.yaa),ea(l.cd.vaa))));return n;};b.gXa=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.ml.PH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.An && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.PT && (f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL1:!0}));d.RT && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= d.An && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.An && d.mv && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));if(d.mv || d.KF)f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL3:!0});d.mv && 99 <= d.An && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var c;b=a(120);c=a(650);a=b(function(l,g,h){return c(function(d,f,n){return l(f,n);},g,h);});r.exports=a;},function(r,b,a){var c,l;b=a(120);c=a(316);l=a(651);a=b(function n(h,d,f){return l(function(k,m,p){return c(m) && c(p)?n(h,m,p):h(k,m,p);},d,f);});r.exports=a;},function(r,b,a){var c;b=a(120);c=a(207);a=b(function(l,g,h){var d,f;d={};for(f in g){c(f,g) && (d[f]=c(f,h)?l(f,g[f],h[f]):g[f]);}for(f in h){c(f,h) && !c(f,d) && (d[f]=h[f]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(317);c=a(661);a=a(671);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=[];c < l;){b(a[c]) && (g[g.length]=a[c]);c+=1;}return g;};},function(r,b,a){var c,l;b=a(121);c=a(319);l=a(656);a=b(function(g){return c(g)?!0:!g || "object" !== typeof g || l(g)?!1:1 === g.nodeType?!!g.length:0 === g.length?!0:0 < g.length?g.hasOwnProperty(0) && g.hasOwnProperty(g.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(209);b=a(52)(function(l,g){return c(l.length,function(){return l.apply(g,arguments);});});r.exports=b;},function(r,b,a){var c,l;b=a(52);c=a(320);l=(function(){function g(h,d){this.PX=d;this.f=h;}g.prototype["@@transducer/init"]=c.oa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(h,d){return this.f(d)?this.PX["@@transducer/step"](h,d):h;};return g;})();a=b(function(g,h){return new l(g,h);});r.exports=a;},function(r,b,a){var c,l;c=a(207);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(g){return "[object Arguments]" === l.call(g);}:function(g){return c("callee",g);};};},function(r,b,a){var c;b=a(121);c=a(662);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},function(r,b,a){var c,l,g,h,d;b=a(52);c=a(322);l=a(323);g=a(664);h=a(665);d=a(670);a=b(function(f,n){return l(d(g,0,h("length",n)),function(){var k,m;k=arguments;m=this;return f.apply(m,c(function(p){return p.apply(m,k);},n));});});r.exports=a;},function(r,b,a){var l,g;function c(h,d,f){return function(){var q;for(var n=[],k=0,m=h,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!g(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);n[p]=q;g(q) || --m;p+=1;}return 0 >= m?f.apply(this,n):l(m,c(h,n,f));};}l=a(209);g=a(163);r.exports=c;},function(r,b,a){b=a(52)(function(c,l){return l > c?l:c;});r.exports=b;},function(r,b,a){var c,l;b=a(52);c=a(666);l=a(668);a=b(function(g,h){return c(l(g),h);});r.exports=a;},function(r,b,a){var c,l,g,h,d,f;b=a(52);c=a(318);l=a(322);g=a(208);h=a(667);d=a(323);f=a(321);a=b(c(["fantasy-land/map","map"],h,function(n,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return n.call(this,k.apply(this,arguments));});case "[object Object]":return g(function(m,p){m[p]=n(k[p]);return m;},{},f(k));default:return l(n,k);}}));r.exports=a;},function(r,b,a){var c,l;b=a(52);c=a(320);l=(function(){function g(h,d){this.PX=d;this.f=h;}g.prototype["@@transducer/init"]=c.oa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(h,d){return this.PX["@@transducer/step"](h,this.f(d));};return g;})();a=b(function(g,h){return new l(g,h);});r.exports=a;},function(r,b,a){var c;b=a(52);c=a(669);a=b(function(l,g){return c([l],g);});r.exports=a;},function(r,b,a){b=a(52)(function(c,l){for(var g=0;g < c.length;){if(null == l)return;l=l[c[g]];g+=1;}return l;});r.exports=b;},function(r,b,a){b=a(120);a=a(208);a=b(a);r.exports=a;},function(r,b,a){var c,l;c=a(672);b=a(52);l=a(317);a=b(function(g,h){return l(c(g),h);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,l;c=a(674);b=a(120);l=a(675);a=b(function(g,h,d){return l(g,c(h,d));});r.exports=a;},function(r){r.exports=function(b,a){var c,l,g,h;b=b || [];a=a || [];l=b.length;g=a.length;h=[];for(c=0;c < l;){h[h.length]=b[c];c+=1;}for(c=0;c < g;){h[h.length]=a[c];c+=1;}return h;};},function(r,b,a){var c;c=a(324);b=a(52)(function(l,g){for(var h=0,d=g.length,f=[],n;h < d;){n=g[h];c(l,n,f) || (f[f.length]=n);h+=1;}return f;});r.exports=b;},function(r,b,a){b=a(52)(function(c,l){for(var g=[],h=0,d=l.length;h < d;){for(var f=h + 1;f < d && c(l[f - 1],l[f]);){f+=1;}g.push(l.slice(h,f));h=f;}return g;});r.exports=b;},function(r,b,a){var c;c=a(324);b=a(120)(function(l,g,h){for(var d=[],f=0,n=g.length;f < n;){c(l,g[f],h) || c(l,g[f],d) || d.push(g[f]);f+=1;}return d;});r.exports=b;},function(r,b,a){var l,g,h,d,f,n;function c(){var k,m,p;p=null === (k=mb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(g.hb.xd,f.jd.dqa);k=p || (null === (m=mb.MSMediaKeys) || void 0 === m?void 0:m.isTypeSupported(g.hb.jD,f.jd.dqa));return {m0a:p,l0a:k};}Object.defineProperty(b,"__esModule",{value:!0});b.vXa=b.WFb=b.uXa=b.wXa=void 0;l=a(26);g=a(74);h=a(40);d=a(135);f=a(123);n=a(119);b.wXa=function(k){return Object.assign(Object.assign({},(0,d.HK)()),{tq:k.Zx?"D":"H",Hn:k.Zx?k.KF?"NFCDIE-04-":k.LLb?"NFCDIE-LX-":k.r5?"NFCDIE-AP-":k.PT?"NFCDIE-AT-":k.jL?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",CA:"edge-cadmium",q1:!1});};b.uXa=function(){var k,m,p;k=Object.assign(Object.assign({},(0,d.GK)()),{kE:(0,n.sh)([h.pd.RC,h.pd.SC,h.pd.tO,h.pd.uO]),$l:(0,n.sh)([].concat(ea(h.cd.iY),ea(h.cd.TX),ea(h.cd.K$),ea(h.cd.zaa),ea(h.cd.Aaa),ea(h.cd.waa),ea(h.cd.xaa),ea(h.cd.bza),ea(h.cd.cza),ea(h.cd.dza))),Pq:(0,n.sh)([].concat(ea(h.cd.SX),ea(h.cd.yaa),ea(h.cd.vaa))),Fl:void 0,ET:!1});m=c();p=m.m0a;m.l0a || (k.Tu=!0,k.IA=!0,k.CH=!0);k.EE=p?[]:["start"];return k;};b.WFb=c;b.vXa=function(k){var m,p,q,v,t,w,u;m=k.ST;p=k.Zx;q=k.mv;v=c();t=v.l0a;w=v.m0a;v={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.Nt.ww,videoCapabilityDetectorType:l.ml.ww,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:l.Nt.hw,videoCapabilityDetectorType:l.ml.PH,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.hb.R_],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,n.sh)([h.pd.RC,h.pd.SC]),videoProfiles:(0,n.sh)([h.H.PC,h.H.QC,h.H.PY,h.H.RY]),liveVideoProfiles:(0,n.sh)([h.H.QY,h.H.SY]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};m && (14 <= k.An && (v=Object.assign(Object.assign(Object.assign({},v),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= k.An && (v=Object.assign(Object.assign({},v),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= k.An && (v=Object.assign(Object.assign({},v),{microsoftHwdrmRequiresHevc:!1})),17 <= k.An && (v=Object.assign(Object.assign({},v),{enableDDPlusAtmos:!0})));p && (v=Object.assign(Object.assign(Object.assign({},v),w),{useEncryptedEvent:!1}),q && (v=Object.assign(Object.assign({},v),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(v=Object.assign(Object.assign({},v),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[g.hb.Sca,g.hb.eIa]}),94 === k.An && (v=Object.assign(Object.assign({},v),{enableHWDRM:!1})),102 <= k.An && (v=Object.assign(Object.assign({},v),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):v=Object.assign(Object.assign({},v),u));return v;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.mYa=b.lYa=b.nYa=void 0;c=a(26);l=a(135);b.nYa=function(g){return Object.assign(Object.assign({},(0,l.HK)()),{tq:"O",Hn:g.r5?"NFCDOP-AP-":g.PT?"NFCDOP-AT-":g.jL?"NFCDOP-PH-":"NFCDOP-01-",CA:"opera-cadmium"});};b.lYa=function(){return Object.assign(Object.assign({},(0,l.GK)()),{hK:!0,Tu:!0,IA:!0,CH:!0});};b.mYa=function(g){var h;h={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.ml.PH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= g.An && (h=Object.assign(Object.assign({},h),{enableVP9:!0}));return h;};},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.CXa=b.BXa=b.DXa=void 0;c=a(26);l=a(40);g=a(119);h=a(135);b.DXa=function(d){return Object.assign(Object.assign({},(0,h.HK)()),{tq:"F",Hn:d.KF?"NFCDFF-MC-":d.mv?"NFCDFF-02-":d.r5?"NFCDFF-AP-":d.PT?"NFCDFF-AT-":d.jL?"NFCDFF-PH-":"NFCDFF-LX-",CA:"firefox-cadmium"});};b.BXa=function(d){var f,n;f=(0,h.GK)();n=Object.assign(Object.assign({},f),{hK:!0,Tu:!0,IA:!0,CH:!0});d.mv && (n.$l=[].concat(ea(f.$l),ea((0,g.sh)([l.H.ez,l.H.fz],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.KF && (n.$l=[].concat(ea(f.$l),ea((0,g.sh)([l.H.ez,l.H.fz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return n;};b.CXa=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.ml.PH,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(d.mv || d.KF) && 95 <= d.An && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var l,g,h,d,f,n;function c(k){var m;m=Object.assign(Object.assign({},(0,n.GK)()),{kE:(0,f.sh)([d.pd.RC,d.pd.SC,d.pd.Mw]),$l:(0,f.sh)([].concat(ea(d.cd.iY),ea(d.cd.TX),ea(d.cd.zaa),ea(d.cd.Aaa),ea(d.cd.waa),ea(d.cd.xaa),ea(d.cd.bza),ea(d.cd.cza),ea(d.cd.dza))),Pq:(0,f.sh)([].concat(ea(d.cd.SX),ea(d.cd.yaa),ea(d.cd.vaa))),Fl:h.hb.xgb,jy:(0,l.Jb)(7E3),EE:[]});(0,n.QT)(k,14) && (m.EE=["start"]);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.HYa=b.GYa=b.LXa=b.IYa=void 0;l=a(3);g=a(26);h=a(74);d=a(40);f=a(119);n=a(135);b.IYa=function(k){return Object.assign(Object.assign({},(0,n.HK)()),{tq:"S",Hn:k.jL?"NFCDSF-PH-":"NFCDSF-01-",CA:"safari-cadmium"});};b.LXa=function(k){return Object.assign(Object.assign({},c(k)),{l$:!0,jK:!1,Bt:[d.kl.Q_]});};b.GYa=c;b.HYa=function(k){var m;m={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.ml.hw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,n.QT)(k,14) && (m=Object.assign(Object.assign({},m),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,n.VT)(k,10,12,2) && (m=Object.assign(Object.assign({},m),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,n.VT)(k,10,13,6) && (m=Object.assign(Object.assign({},m),{enableLdlPrefetch:!0}));(0,n.VT)(k,10,15,5) && (m=Object.assign(Object.assign({},m),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,n.VT)(k,10,15,6) && (m=Object.assign(Object.assign({},m),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,n.QT)(k,9) && (m=Object.assign(Object.assign({},m),{maxDecoderBufferMilliseconds:31E3}));(0,n.QT)(k,16) && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},function(r,b,a){var l;function c(g,h,d,f){this.log=g;this.qF=h;this.Gy=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;l=a(2);c.prototype.Og=function(g){var h;h=this;(this.context.df || this.context.$j) && this.log.trace("Requesting license",{drmType:g.Cm});return this.qF(g).catch(function(d){h.log.error("Unable to get the Playready license",d);if(h.context.Sfc)throw d;throw {ia:!1,code:l.V.bI,cc:d.cc,Lc:d.Lc,Dm:d.Dm,oj:d.message || d.oj,LA:d.data,message:"Unable to send the Playready license request. " + (d.message || d.oj)};});};c.prototype.release=function(g){var h;h=this;this.log.trace("Requesting stop data");return this.Gy(g).catch(function(d){h.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.cc,extCode:d.Lc,edgeCode:d.Dm,message:d.message || d.oj});throw {ia:!1,code:l.V.oda,cc:d.cc,Lc:d.Lc,Dm:d.Dm,oj:d.message || d.oj,message:"Unable to release the PlayReady license. " + (d.message || d.oj)};});};b.jMa=c;mb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.aea=void 0;c=a(2);l=a(203);g=a(210);h=a(30);d=a(80);f=a(29);n=a(26);k=a(56);(function(){var z;function m(A,B,C){var D;D=this;this.log=A;this.Nm=B || x.bind(this);this.context=C;this.vV=this.challenge=this.keySystem=this.keySessionId=this.Ab=this.mediaKeys=void 0;this.Oc={};this.Uoa=this.sva=!1;this.fV=t.bind(this);this.vV=void 0;this.Rwa=new Promise(function(E,G){D.Dta=E;D.Zsa=G;});this.Rwa.catch(function(E){D.log.error("wait for license rejected",E);});l.Zb.get(n.iw).j4().then(function(E){(D.context.df || D.context.$j) && D.log.debug("DRIVERINFO: ",E);}).catch(function(E){D.log.error("DRIVERINFO",E);});this.xp=function(E,G){D.Zsa(E,G);D.context.onerror(E,G);};this.Xqa=function(){D.Dta();};if(!(this instanceof m))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.Zb.get(f.$g);}function q(){return l.Zb.get(h.dh);}function v(A){var B,C;B=l.Zb.get(g.Lda);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.I$a(A));(this.context.df || this.context.$j) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ab.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Pf.Wp,z.Ez.Gr,B);this.Ab=void 0;}function w(A,B,C){var E,G,F;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(E=0;E < G;E++){F=A[E];0 < F && (D+=String.fromCharCode(F));}G="\\s*(.*)\\s*";for(E=arguments.length - 1;0 < E;E--){F=arguments[E];if(0 > D.search(F))return;F="(?:[^:].*:|)" + F;G="[\\s\\S]*<" + F + "[^>]*>" + G + "</" + F + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function u(A,B,C,D){var E,G;E=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:E});(C.context.df || C.context.$j || C.context.az) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=E;A={ff:B,messageType:"license-request",Cm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",kj:[{data:G,sessionId:E}]};12 === C.state && (C.Nm("lc"),G={data:G,Cm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.pG || (C.vV=G));C.context.mo.Og(A).then(function(F){if(12 === C.state && (C.Nm("lr"),C.Xqa(),!C.context.pG))(C.wV=F.Hk[0].data,C.state=13,D({ia:!0,state:C.state}));else if(C.Ab)return y(C,F.Hk[0].data,C.Ab).then(function(){C.state=30;D({ia:!0,state:C.state});});}).catch(function(F){D(q().JB(F,{state:C.state}));});}function y(A,B,C){A.u5() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,E){try{A.Ab.update(B);D(void 0);A.u5() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){E({ia:!1,code:z.Pf.d_,message:"Unable to update the EME.",Ib:q().te(G)});}});}function x(A){this.context.ta && (this.Oc[A]=this.context.ta.getTime(),this.log.trace("Milestone: " + A + ", " + this.Oc[A]));}z={Pf:c.V,Ez:c.R};m.prototype.MK=function(){return this.keySystem;};m.prototype.Fbb=function(A,B){A.log && (this.log=A.log);A.Nm && (this.Nm=A.Nm);B.mo && (this.context.mo=B.mo);B.onerror && (this.context.onerror=B.onerror);};m.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):l.Zb.get(n.iw).oF()).then(function(C){B.Nm("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.MV)C=Promise.reject({ia:!1,code:z.Pf.zO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new mb.MSMediaKeys(C);}catch(D){C=Promise.reject({ia:!1,code:z.Pf.MGa,message:"create MSMediaKeys(" + C + ") failed",Ib:q().te(D)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ia:!1,code:z.Pf.lI,message:"set MSMediaKeys failed",Ib:q().te(D)});break a;}C=Promise.resolve({ia:!0,mediaKeys:B.mediaKeys});}return C;});};m.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Ab){this.log.info("Closing the session",{sessionId:this.Ab.sessionId});this.Ab.removeEventListener("mskeyerror",this.fV);try{this.Ab.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ab=void 0;}};m.prototype.Og=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.Pf.QGa});if(0 === B.length)return Promise.reject({code:z.Pf.PGa});B=B[0];D=this;D.context.df && D.log.trace("LICENSE: Setting license");return D.context.MV?Promise.reject({ia:!1,code:z.Pf.cBa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(E,G){var F,H,K,O,I,P,N;try{H=function(J){D.Ab && (D.Ab.removeEventListener("mskeymessage",O),D.Ab.removeEventListener("mskeyadded",I),D.Ab.removeEventListener("mskeyerror",P),D.Ab.addEventListener("mskeyerror",D.fV));J.state=11;J.ia?E(J):(D.close(),G(J));};K=function(J){var L,R;L=[];R=Array.prototype.map.call(J,function(la){return la?String.fromCharCode(la):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)L.push(R[1]);else {J=w(J,"KIDS");R=/VALUE="(.+?)">/g;for(var ka=R.exec(J);null != ka;){L.push(ka[1]);ka=R.exec(J);}}return L;};O=function(J){F && clearTimeout(F);u(J,A,D,H);};I=function(J){(D.context.df || D.context.$j) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});H({ia:!0});};P=function(J){var L,R;F && clearTimeout(F);if(J.target && J.target.error)(L=J.target.error.systemCode,R=J.target.error.code);L={code:z.Pf.Wp,cc:z.Ez.Gr,Lc:L?l.Zb.get(d.ew).eF(L,4):R,details:q().te(J),cause:J.target && J.target.error,S9:L,y3:R};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Ab && D.Ab.sessionId,keySystem:J.target.keySystem,systemCode:L.S9,code:L.y3});D.Nm("le");D.xp && D.xp(z.Pf.Wp,L);H({ia:!1,code:z.Pf.Wp,cc:z.Ez.Gr,Lc:L.Lc,message:"Received a key error.",Ib:L.details,cause:L.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.df || D.context.$j) && D.log.debug("LICENSE: PSSH",p().encode(B));D.nv || (D.nv=K(B));if(C){N=v.call(D,D.nv);D.Ab=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),N);}else D.Ab=D.mediaKeys.createSession("video/mp4",B,null);(D.context.df || D.context.$j) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Ab.keySystem,sessionId:D.Ab.sessionId});D.Ab.addEventListener("mskeymessage",O);D.Ab.addEventListener("mskeyadded",I);D.Ab.addEventListener("mskeyerror",P);D.context.Roa && (F=setTimeout(function(){H({ia:!1,code:z.Pf.lP,cc:z.Ez.ngb});},D.context.Roa));}catch(J){G({code:z.Pf.lP,cc:z.Ez.cl});}});})();};m.prototype.DG=function(){var A;(this.context.df || this.context.$j) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Og(k.cm.Lba.em,A,!0);};m.prototype.x1=function(A){this.wV || this.log.error("pending license must exist at this point");this.context.pG=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ia:!1,code:z.Pf.lI,message:"setMediaKeys failed",Ib:q().te(B)});}return y(this,this.wV,this.Ab);};m.prototype.AVa=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={ja:A.ja,de:A.de};return new Promise(function(D,E){(function(){B.context.mo.release.call(B.context.mo,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ia:!0};B.close();G.ia?D(G):E(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.cc,extCode:G.Lc,edgeCode:G.Dm,message:G.oj});B.close();G.ia?D(G):E(G);});})();});};m.prototype.u5=function(){return this.context.df || this.context.$j;};b.aea=m;mb._cad_global.WindowsEmeSession=b.aea;})();},function(r,b,a){var u,y,x,z,A,B,C,D,E,G,F,H;function c(K,O,I){var P;P=this;this.log=K;this.Nm=O || w.bind(this);this.context=I;this.vV=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Oc={};this.bo=void 0;this.url="";this.Uoa=this.sva=!1;this.fV=k.bind(this);this.ik=this.vV=void 0;this.Rwa=new Promise(function(N,J){P.Dta=N;P.Zsa=J;});this.xp=function(N,J){P.Zsa(N,J);P.context.onerror(N,J);};this.Xqa=function(){P.Dta();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return u.Aa.get(A.Yp);}function g(){return u.Aa.get(z.$g);}function h(){return u.Aa.get(y.dh);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function f(K){var O;K=(function(I){var N,J;function P(L,R,ka,la){var X,da;X=new Uint8Array("piff" == R?88:72);da=new G.wO(X);da.dz(12);da.cz("frma");da.cz(L);da.dz(20);da.cz("schm");da.OX(0);da.OX(0);da.cz(R);da.dz(ka);"piff" == R?(da.dz(56),da.cz("schi"),da.dz(48),da.cz("uuid"),da.NX([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(da.dz(40),da.cz("schi"),da.dz(32),da.cz("tenc"));da.OX(0);da.OX(0);da.dz(264);da.NX(la);return X;}N=P("avc1","piff",65537,I);N=l().decode(g().encode(N));I=P("avc1",F.Pt,65536,I);I=l().decode(g().encode(I));J=new Uint8Array(7 + N.length + 8 + I.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(N,7);J.set([34,44,10,32,32,32,32,34],7 + N.length);J.set(I,7 + N.length + 8);J.set([34,10,32,32,93],7 + N.length + 8 + I.length);return J;})(K);O=new Uint8Array(13 + K.length + 2);O.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);O.set(K,13);O.set([10,125],13 + K.length);return O;}function n(K){var O;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=g().decode(K);K=K.subarray(4);O=new Uint8Array(16);O.set(K);return O;}function k(K){var O;O=m(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.Ab?this.Ab.sessionId:void 0,keySystem:K.target.keySystem,systemCode:O.S9,code:O.y3});this.xp && this.xp(H.Pf.Wp,O);this.Ab=void 0;}function m(K){var O,I;if(K.target.error)(O=K.target.error.systemCode,I=K.target.error.code);return {code:H.Pf.Wp,cc:H.Ez.Gr,Lc:O?u.Aa.get(x.ew).eF(O,4):I,details:h().te(K),cause:K.target.error,S9:O,y3:I};}function p(K,O,I,P){var N,J,L;N=K.target.sessionId;J=K.message;L=h().vA(J,l().decode("certificate"));I.Uoa=O === E.cm.Lba.bn;I.state=L?2:12;I.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:N});(I.context.df || I.context.$j || I.context.az) && I.log.debug("LICENSE: License challenge",g().encode(J));I.keySessionId=N;K={Wn:I.Wn,ff:O,messageType:"license-request",Cm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",kj:[{data:J,sessionId:N}]};12 === I.state && (I.Nm("lc"),J={data:J,Cm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.pG || (I.vV=J));I.context.mo.Og(K).then(function(R){if(12 === I.state && (I.Nm("lr"),I.Xqa(),!I.context.pG))(I.wV=R.Hk[0].data,I.state=13,P({ia:!0,state:I.state}));else if(I.Ab)return (R=t(I,L,R.Hk[0].data,I.Ab),2 === I.state?R:R.then(function(){I.state=30;P({ia:!0,state:I.state});}));}).catch(function(R){P(h().JB(R,{state:I.state}));});}function q(K,O,I){O.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});I({ia:!0});}function v(K,O,I){var P;P=m(K);O.xp && O.xp(H.Pf.Wp,P);O.log.error("LICENSE Error: Received event: " + K.type,{sessionId:O.Ab?O.Ab.sessionId:void 0,keySystem:K.target.keySystem,systemCode:P.S9,code:P.y3});I({ia:!1,code:H.Pf.Wp,cc:H.Ez.Gr,Lc:P.Lc,message:"Received a key error.",Ib:P.details,cause:P.cause});}function t(K,O,I,P){P={sessionId:P.sessionId};K.u5() && (P.license=g().encode(I));K.log.trace("calling keysession update",P);return new Promise(function(N,J){function L(){K.Ab.removeEventListener("webkitkeyadded",L);N(void 0);}try{O || K.Ab.addEventListener("webkitkeyadded",L);K.Ab.update(I);O && N(void 0);}catch(R){J({ia:!1,code:H.Pf.d_,message:"Unable to update the EME.",e:R});}});}function w(K){this.Oc[K]=u.Aa.get(B.Gc).Db().ca(C.na);this.log.trace("Milestone: " + K + ", " + this.Oc[K]);}Object.defineProperty(b,"__esModule",{value:!0});u=a(8);b=a(2);y=a(30);x=a(80);z=a(29);A=a(69);B=a(17);C=a(3);D=a(12);E=a(56);G=a(164);F=a(41);H={Pf:b.V,Ez:b.R};c.prototype.MK=function(){return this.keySystem;};c.prototype.Fbb=function(K,O){K.log && (this.log=K.log);K.Nm && (this.Nm=K.Nm);O.mo && (this.context.mo=O.mo);O.onerror && (this.context.onerror=O.onerror);};c.prototype.create=function(K){var O;O=this;O.Nm("lg");O.log.trace("CREATE: Creating the media keys",{keySystem:K});O.keySystem=K;return O.context.MV?Promise.reject({ia:!1,code:H.Pf.zO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var P,N;P=h().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");N=P.lastChild;O.ik=P;O.context.$=D.Ig.createElement("VIDEO");N?O.ik.insertBefore(O.context.$,N):O.ik.appendChild(O.context.$);}return new Promise(function(P,N){function J(L){(O.context.df || O.context.$j || O.context.az) && O.log.trace("CREATE: Received event: " + L.type,{readyState:L.target.readyState,duration:L.target.duration});try{O.mediaKeys=new mb.WebKitMediaKeys(K);O.context.$.webkitSetMediaKeys(O.mediaKeys);P({ia:!0,mediaKeys:O.mediaKeys});}catch(R){O.log.error("CREATE: Exception on webkitSetMediaKeys",R);N({ia:!1,code:H.Pf.lP,Ib:h().te(R)});}}if(d(O.keySystem))try{O.mediaKeys=new mb.WebKitMediaKeys(K);O.context.$ && (O.log.trace("LICENSE: calling setmediakeys on video element"),O.context.$.webkitSetMediaKeys(O.mediaKeys));P({ia:!0,mediaKeys:O.mediaKeys});}catch(L){N({ia:!1,code:H.Pf.lP,Ib:h().te(L)});}else (O.mediaKeys=new mb.WebKitMediaKeys(K),O.context.$?(O.log.trace("LICENSE: calling setmediakeys on video element"),O.context.$.webkitSetMediaKeys(O.mediaKeys)):(I(),O.bo=new D.xz(),O.bo.addEventListener("sourceopen",J),O.url=URL.createObjectURL(O.bo),O.context.$.src=O.url),P({ia:!0,mediaKeys:O.mediaKeys}));});})();};c.prototype.close=function(){this.Ab && (this.log.info("Closing the session",{sessionId:this.Ab.sessionId}),this.Ab.removeEventListener("webkitkeyerror",this.fV),this.Ab.close(),this.Ab=void 0);};c.prototype.Og=function(K,O){var I;if(1 < O.length)return Promise.reject({code:H.Pf.QGa});if(0 === O.length)return Promise.reject({code:H.Pf.PGa});O=O[0];I=this;I.context.df && I.log.trace("LICENSE: Setting license",{initData:g().encode(O)});return I.context.MV?Promise.reject({ia:!1,code:H.Pf.cBa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(P,N){var L,R,ka;function J(la){I.Ab && (I.Ab.removeEventListener("webkitkeymessage",L),I.Ab.removeEventListener("webkitkeyadded",R),I.Ab.removeEventListener("webkitkeyerror",ka),I.Ab.addEventListener("webkitkeyerror",I.fV));la.ia?P(la):(I.close(),N(la));}L=function(la){p(la,K,I,J);};R=function(la){q(la,I,J);};ka=function(la){v(la,I,J);};d(I.keySystem) && (I.Wn=n(O),O=f(I.Wn));I.log.trace("LICENSE: Executing prefix based EME");I.context.df | I.context.$j && I.log.debug("LICENSE: PSSH",g().encode(O));I.Ab=I.mediaKeys.createSession("video/mp4",O,null);(I.context.df || I.context.$j) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Ab.keySystem,sessionId:I.Ab.sessionId});I.Ab.addEventListener("webkitkeymessage",L);I.Ab.addEventListener("webkitkeyadded",R);I.Ab.addEventListener("webkitkeyerror",ka);});})();};c.prototype.DG=function(){var K;K=this;return K.sva?Promise.resolve({ia:!0}):new Promise(function(O,I){var N,J,L;function P(R){K.Ab && (K.Ab.removeEventListener("webkitkeymessage",N),K.Ab.removeEventListener("webkitkeyadded",J),K.Ab.removeEventListener("webkitkeyerror",L));R.ia?O(R):(I(R),K.close());}N=function(R){p(R,E.cm.Lba.em,K,P);};J=function(R){q(R,K,P);O({ia:!0});};L=function(R){v(R,K,P);};K.Uoa=!1;K.Ab.addEventListener("webkitkeymessage",N);K.Ab.addEventListener("webkitkeyadded",J);K.Ab.addEventListener("webkitkeyerror",L);K.Ab.update(l().decode("renew"));});};c.prototype.x1=function(K){this.wV || this.log.error("pending license must exist at this point");this.context.pG=!0;try{K && (this.context.$=K,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(O){return new Promise(function(I,P){P({ia:!1,code:H.Pf.lI,message:"setMediaKeys failed",Ib:h().te(O)});});}return t(this,!1,this.wV,this.Ab);};c.prototype.AVa=function(K){var O,I;O=this;O.log.trace("Releasing the license of the current session",JSON.stringify(K));O.sva=!0;I={ja:K.ja,de:K.de};return new Promise(function(P,N){(function(){O.context.mo.release.call(O.context.mo,I).then(function(){var J;O.log.trace("successfully released the license",JSON.stringify(K));J={ia:!0};J.ia?P(J):(O.close(),N(J));}).catch(function(J){O.log.error("RELEASE: Unable to get the release the license",{sessionId:O.Ab?O.Ab.sessionId:void 0,code:J.code,subCode:J.cc,extCode:J.Lc,edgeCode:J.Dm,message:J.oj});J.ia?P(J):(O.close(),N(J));});})();});};c.prototype.u5=function(){return this.context.df || this.context.$j;};r.exports=c;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q){this.log=k;this.qF=m;this.Gy=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(2);g=a(8);h=a(30);d=a(69);f=a(29);n=a(41);c.prototype.Og=function(k){var m,p;m=this;(this.context.df || this.context.$j) && this.log.debug("Requesting a license",k);if(g.Aa.get(h.dh).vA(g.Aa.get(d.Yp).decode("certificate"),k.kj[0].data)){m.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Hk:[{sessionId:k.kj[0].sessionId,data:g.Aa.get(f.$g).decode(n.KY)}]});}else p=g.Aa.get(h.dh).vA(g.Aa.get(d.Yp).decode("content"),k.kj[0].data)?Promise.resolve({Hk:[{sessionId:k.kj[0].sessionId,data:k.Wn}]}):(function(){m.log.trace("Requesting license",{drmType:k.Cm});return m.qF(k).catch(function(q){m.log.error("Unable to get the Fairplay license",q);throw {code:l.V.bI,cc:q.cc,Lc:q.Lc,Dm:q.Dm,oj:q.message || q.oj,LA:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.oj),cause:q};});})();return p;};c.prototype.release=function(k){var m;m=this;this.log.trace("Requesting stop data");return this.Gy(k).catch(function(p){m.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.cc,extCode:p.Lc,edgeCode:p.Dm,message:p.message || p.oj});throw {ia:!1,code:l.V.oda,cc:p.cc,Lc:p.Lc,Dm:p.Dm,oj:p.message || p.oj,message:"Unable to release the FairPlay license. " + (p.message || p.oj),cause:p};});};r.exports=c;},function(r,b,a){var h,d,f,n,k,m,p,q;function c(v,t,w){var u;u=this;this.is=v;this.Sk=t;this.config=w;this.Dt=function(){return {version:u.version,drmData:u.i3.map(function(y){return y.Dt();})};};this.ola=function(y){var x;u.is.mm(y) && (y=l(y));1 === y.version && (y=g(u.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.EY(z);});}catch(z){throw new k.Jc(f.V.$H,f.R.lz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !u.is.Rj(y.version))throw new k.Jc(f.V.$H,f.R.lz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new k.Jc(f.V.$H,f.R.Xya,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.jk=new m.Cba(2,this.config.fS,this.is.mm(this.config.fS),this.Sk,this.Dt);}function l(v){v=JSON.parse(v);v={xid:v.xid,movieId:v.movieId,keySessionIds:v.keySessionIds,licenseContextId:v.licenseContextId};if(!v.licenseContextId || !v.xid || !v.movieId)throw new k.Jc(f.V.$H,f.R.lz);return {version:1,drmData:[v]};}function g(v,t){if(v.iA(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var u;u=w.keySessionIds;return new q.EY({keySessionData:(u && 0 < u.length?u:[void 0]).map(function(y){return {id:y,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Dt();})};throw new k.Jc(f.V.$H,f.R.lz);}Object.defineProperty(b,"__esModule",{value:!0});b.qza=void 0;r=a(0);h=a(1);d=a(62);f=a(2);n=a(25);k=a(34);m=a(326);p=a(81);q=a(212);c.prototype.R6a=function(){return this.w0b();};c.prototype.$Oa=function(v){return this.jk.add(v);};c.prototype.YV=function(v){return this.jk.remove(v,function(t,w){return t.ja === w.ja;});};c.prototype.toString=function(){return JSON.stringify(this.Dt(),null,"  ");};c.prototype.w0b=function(){var v;v=this;this.V6a || (this.V6a=new Promise(function(t,w){v.jk.load(v.ola).then(function(){t();}).catch(function(u){u.za && u.cause?w(new k.Jc(f.V.$H,u.za,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u)):w(u);});}));return this.V6a;};Sa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.jk.version;}},i3:{configurable:!0,enumerable:!0,get:function(){return this.jk.ul;}}});a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.Qf)),r.__param(1,(0,h.l)(p.dw)),r.__param(2,(0,h.l)(d.Vp))],a);b.qza=a;},function(r,b,a){var l,g;function c(h,d,f,n,k){this.version=h;this.oG=d;this.tva=f;this.Sk=n;this.Dt=k;}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;l=a(2);g=a(34);c.prototype.load=function(h){return this.JNb(h);};c.prototype.set=function(h){this.ul=h;return this.vTb();};c.prototype.JNb=function(h){var d;d=this;this.D1a || (this.D1a=new Promise(function(f,n){function k(m){d.Ezb().then(function(){n(m);}).catch(function(){n(m);});}d.Ama().then(function(m){d.storage=m;return d.storage.load(d.oG);}).then(function(m){var p;m=m.value;try{p=h(m);d.version=p.version;d.ul=p.data;f();}catch(q){k(q);}}).catch(function(m){m.za !== l.R.Iw?n(m):f();});}));return this.D1a;};c.prototype.vTb=function(){var h,d,f,n,k;h=this;if(!this.tva)return Promise.resolve();if(this.I9){n=new Promise(function(m,p){d=m;f=p;});k=function(){h.I9=n;h.y$a().then(function(){d();}).catch(function(m){f(m);});};this.I9.then(k).catch(k);return n;}return this.I9=this.y$a();};c.prototype.y$a=function(){var h,d;h=this;d=this.Dt();return new Promise(function(f,n){h.Ama().then(function(k){return k.save(h.oG,d,!1);}).then(function(){f();}).catch(function(k){n(c.o2b(l.V.gjb,k));});});};c.prototype.Ezb=function(){var h;h=this;return this.tva?new Promise(function(d,f){h.Ama().then(function(n){return n.remove(h.oG);}).then(function(){d();}).catch(function(n){f(n);});}):Promise.resolve();};c.prototype.Ama=function(){return this.storage?Promise.resolve(this.storage):this.Sk.create();};c.o2b=function(h,d){var f;if(d.za && d.cause)return new g.Jc(h,d.za,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.cc){f=d.message?d.message + " ":"";d.code=h;d.message="" === f?void 0:f;return d;}return d instanceof Error?new g.Jc(h,l.R.cl,void 0,void 0,void 0,void 0,d.stack,d):new g.Jc(h,l.R.Co,void 0,void 0,void 0,void 0,void 0,d);};b.xDa=c;},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.z6a=void 0;c=a(2);l=a(95);g=a(124);h=a(211);b.z6a=function(f){h.fK.parent=f.eb;return function(){d || (d=new Promise(function(n,k){try{n(h.fK.get(g.OAa));}catch(m){k(new l.Gg(c.V.fhb,c.R.phb,void 0,"Unable to extract the DRM services from the dependency injector",m));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.BFa=void 0;a.prototype.vZa=function(){return void 0 !== this.mediaKeys;};a.prototype.fPa=function(c){this.mediaKeys=c;};a.prototype.dXb=function(){this.vZa() && (this.mediaKeys=void 0);};b.BFa=a;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t,w){this.SE=p;this.dc=q;this.KL=t;this.ao=w;this.log=v.Sa("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.sza=void 0;r=a(0);l=a(1);g=a(124);h=a(29);d=a(6);f=a(136);n=a(96);k=a(122);m=a(327);c.prototype.wma=function(p){var q;q=this;return Promise.all([this.SE(),this.Sla()]).then(function(v){var t;t=ma(v);v=t.next().value;t=t.next().value;return v.KEb({type:p,initData:t,t5:!1},q.KL());}).then(function(v){var t;t=ma(v);v=t.next().value;t=t.next().value;t=q.dc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {Oy:v,Zha:t};});};c.prototype.Sla=function(){var p;p=this;return this.ao.SA().then(function(q){return q.Js();}).then(function(q){switch(q){case k.qk.OA:return m.MBa;case k.qk.xy:return m.dIa;default:return m.fMa;}}).then(function(q){return q.map(p.dc.decode);});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.FY)),r.__param(1,(0,l.l)(h.$g)),r.__param(2,(0,l.l)(d.Va)),r.__param(3,(0,l.l)(f.aP)),r.__param(4,(0,l.l)(n.vw))],a);b.sza=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){this.Qd=t;this.Zg=w;this.dc=u;this.is=y;this.SU=x;this.Yh=z;}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(0);l=a(1);g=a(29);h=a(25);d=a(35);f=a(69);n=a(30);k=a(122);m=a(62);p=a(692);q=a(694);v=a(215);c.prototype.create=function(t){switch(t){case k.qk.xy:return new q.cJa(this.SU,this.is,this.dc,this.Qd,this.Yh,this.Zg);case k.qk.OA:return new p.LBa(this.SU,this.is,this.dc,this.Qd,this.Yh,this.Zg);default:return new v.bu(this.SU,this.is,this.dc,this.Qd,this.Yh,this.Zg);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(n.dh)),r.__param(1,(0,l.l)(f.Yp)),r.__param(2,(0,l.l)(g.$g)),r.__param(3,(0,l.l)(h.Qf)),r.__param(4,(0,l.l)(d.jI)),r.__param(5,(0,l.l)(m.Vp))],a);b.nBa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){t=g.bu.call(this,t,w,u,y,x,z) || this;t.dc=u;t.vh=y;t.Yh=x;t.Zg=z;t.JZa=new h.KBa(t.dc,t.vh,t.Zg);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;r=a(0);l=a(1);g=a(215);h=a(693);d=a(35);f=a(25);n=a(29);k=a(30);m=a(62);p=a(69);q=a(328);v=a(329);ha(c,g.bu);c.prototype.generateRequest=function(t,w,u){var y,x,z;y=this;try{x=w.map(function(A){return y.JZa.DGb(A);});this.o_a=x.map(function(A){return y.dc.encode(A);});z=this.JZa.svb(x,u);return g.bu.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,w,u){var y,x,z,A,B;y=this;if(u)try{x=this.Zg.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(C){var D;D=v.A_.J$a(C.ID);return {keyID:w === q.sD.CJa?y.o_a[y.o_a.length - 1]:u[D],payload:C.PAYLOAD};});if(w === q.sD.Request){A=z.map(function(C){return C.keyID;});u.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);t=[this.Zg.decode(B)];}catch(C){return Promise.reject(C);}return g.bu.prototype.update.call(this,t,w);};c.prototype.DG=function(){return g.bu.prototype.update.call(this,[this.Zg.decode("renew")],q.sD.Request);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.jI)),r.__param(1,(0,l.l)(f.Qf)),r.__param(2,(0,l.l)(n.$g)),r.__param(3,(0,l.l)(k.dh)),r.__param(4,(0,l.l)(m.Vp)),r.__param(5,(0,l.l)(p.Yp))],a);b.LBa=a;},function(r,b){function a(c,l,g){var h;h=this;this.dc=c;this.vh=l;this.Zg=g;this.DGb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=h.dc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.OBa={Pt:1667591779,Eeb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.KBa=void 0;a.prototype.svb=function(c,l){l=l?this.OBa.Eeb:this.OBa.Pt;c=c.map(function(g){return {bdc:"",FMb:g,aha:g,l0b:g,H4b:[1]};});return this.oOb(l,c);};a.prototype.nOb=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.xpa("fpsi",[l]);};a.prototype.mOb=function(c,l,g,h){c=[this.xpa("fkri",[c])];l.byteLength && c.push(this.uU("fkai",[l]));g.byteLength && c.push(this.uU("fkcx",[g]));h.length && c.push(this.uU("fkvl",[new Uint8Array(new Uint32Array(h).buffer)]));return this.uU("fpsk",c);};a.prototype.oOb=function(c,l){var g,d;g=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.nOb(c)];for(var h in l){d=l[h];c.push(this.mOb(d.FMb,d.aha,d.l0b,d.H4b));}l=this.uU("fpsd",c);h=new Uint8Array(4);new DataView(h.buffer).setUint32(0,l.byteLength);return this.xpa("pssh",[g,h,l]);};a.prototype.xpa=function(c,l){var g,h,d;g=0;for(d in l){g+=l[d].byteLength;}g=new Uint8Array(12 + g);h=new DataView(g.buffer);d=0;h.setUint32(d,g.byteLength);d+=4;g.set(this.Zg.decode(c),d);d+=4;h.setUint32(d,0);d+=4;for(var f in l){c=l[f];g.set(c,d);d+=c.byteLength;}return g;};a.prototype.uU=function(c,l){var g,h;g=0;for(h in l){g+=l[h].byteLength;}g=new Uint8Array(8 + g);h=0;new DataView(g.buffer).setUint32(h,g.byteLength);h+=4;g.set(this.Zg.decode(c),h);h+=4;for(var d in l){c=l[d];g.set(c,h);h+=c.byteLength;}return g;};b.KBa=a;},function(r,b,a){var l,g,h,d;function c(){return g.bu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;r=a(0);l=a(1);g=a(215);h=a(95);d=a(2);ha(c,g.bu);c.prototype.H2=function(f,n,k,m,p){this.v7a(k);this.s7a(m);this.q7a(p);this.sNa=this.oe;this.oe=f.createSession(n);this.gPa(k);this.cPa(m);this.aPa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var n;function f(k){return k && k.sessionId?k.close():Promise.resolve();}n=this;this.wia=void 0;return this.oe?Promise.all([f(this.oe),f(this.sNa)]).then(function(){}).finally(function(){n.oe=void 0;n.sNa=void 0;}):Promise.reject(new h.Gg(d.V.XAa,d.R.TH,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,n,k){this.initDataType=f;this.initData=n;return g.bu.prototype.generateRequest.call(this,f,n,k);};a=c;a=r.__decorate([(0,l.U)()],a);b.cJa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){this.Zg=t;this.Fi=w;this.dc=u;this.config=y;this.Yh=x;this.Pg=z;}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;r=a(0);l=a(1);g=a(80);h=a(29);d=a(69);f=a(11);n=a(82);k=a(122);m=a(62);p=a(696);q=a(697);v=a(698);c.prototype.create=function(t){switch(t){case k.qk.xy:return new q.mBa(this.Fi,this.dc);case k.qk.OA:return new v.bKa(this.Fi,this.dc,this.Zg,this.Pg);default:return new p.Aza(this.Fi,this.dc,this.Yh,this.config);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.Yp)),r.__param(1,(0,l.l)(g.ew)),r.__param(2,(0,l.l)(h.$g)),r.__param(3,(0,l.l)(f.ac)),r.__param(4,(0,l.l)(m.Vp)),r.__param(5,(0,l.l)(n.Dw))],a);b.PAa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u){this.Fi=v;this.dc=t;this.Yh=w;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.Aza=void 0;r=a(0);l=a(1);g=a(2);h=a(80);d=a(29);f=a(95);n=a(63);k=a(62);m=a(11);p=a(34);q=a(41);c.prototype.q2=function(){return !1;};c.prototype.hha=function(){return !0;};c.prototype.Sha=function(){return !0;};c.prototype.Tla=function(){return q.Pt;};c.prototype.e4=function(){return this.Yh.sua?this.dc.decode(this.Yh.sua):this.dc.decode(q.eMa);};c.prototype.rma=function(){return [q.St,q.z_,q.y_];};c.prototype.Sna=function(){Promise.reject(new p.Jc(g.V.bba));};c.prototype.Uia=function(v){var t;return {type:v.type,sessionId:null === (t=v.target) || void 0 === t?void 0:t.sessionId,$F:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.yx=function(v){var t,w,u;t=new f.Gg(g.V.Wp);w=null === v || void 0 === v?void 0:v.code;null != w && void 0 !== w?(w=parseInt(w,10),t.cc=1 <= w && 9 >= w?g.R.Gr + w:g.R.Gr):t.cc=v instanceof n.Xp?g.R.AO:g.R.cl;try{u=v.message.match(/\((\d*)\)/)[1];t.Lc=this.Fi.eF(u,4);}catch(y){}t.YR(v);return t;};c.prototype.KK=function(){};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ew)),r.__param(1,(0,l.l)(d.$g)),r.__param(2,(0,l.l)(k.Vp)),r.__param(3,(0,l.l)(m.ac))],a);b.Aza=a;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q){this.Fi=p;this.dc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.mBa=void 0;r=a(0);l=a(1);g=a(2);h=a(80);d=a(29);f=a(95);n=a(63);k=a(34);m=a(41);c.prototype.q2=function(){return !0;};c.prototype.hha=function(){return !1;};c.prototype.Sha=function(){return !1;};c.prototype.Tla=function(){return m.Pt;};c.prototype.e4=function(){};c.prototype.rma=function(){return [];};c.prototype.Sna=function(){Promise.reject(new k.Jc(g.V.bba));};c.prototype.Uia=function(p){var q;q=new Uint8Array(p.message);q=this.Dka(q,"PlayReadyKeyMessage","Challenge");q=this.dc.decode(q);return {type:p.type,sessionId:p.target.sessionId,$F:[q],messageType:p.messageType};};c.prototype.yx=function(p){var q,v,t;q=new f.Gg(g.V.Wp);v=p.code;null != v && void 0 !== v?(v=parseInt(v,10),q.cc=1 <= v && 9 >= v?g.R.Gr + v:g.R.Gr):q.cc=p instanceof n.Xp?g.R.AO:g.R.cl;try{t=(/\((\d+)\)/).exec(p.message);q.Lc=this.Fi.eF(Number(t && t[1]),4);}catch(w){}q.YR(p);return q;};c.prototype.Dka=function(p,q){var t,w,u;for(var v=1;v < arguments.length;++v){;}for(v=1;v < arguments.length;v++){;}v="";w=p.length;for(t=0;t < w;t++){u=p[t];0 < u && (v+=String.fromCharCode(u));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){u=arguments[t];if(0 > v.search(u))return "";u="(?:[^:].*:|)" + u;w="[\\s\\S]*<" + u + "[^>]*>" + w + "</" + u + ">[\\s\\S]*";}return (v=v.match(new RegExp(w)))?v[1]:"";};c.prototype.KK=function(){};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ew)),r.__param(1,(0,l.l)(d.$g))],a);b.mBa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t;function c(w,u,y,x){this.Fi=w;this.dc=u;this.Zg=y;this.Pg=x;}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;r=a(0);l=a(1);g=a(2);h=a(80);d=a(69);f=a(95);n=a(63);k=a(29);m=a(41);p=a(330);q=a(34);v=a(82);t=a(329);c.prototype.q2=function(){return !1;};c.prototype.hha=function(){return !1;};c.prototype.Sha=function(){return !0;};c.prototype.Tla=function(){return m.Pt;};c.prototype.e4=function(){return this.dc.decode(m.KY);};c.prototype.rma=function(){return [];};c.prototype.Sna=function(w){w.DG();};c.prototype.Uia=function(w){var u,y;u=[];if(w.messageType === p.bca || w.messageType === p.aca){if(w.messageType === p.bca){y=this.Zg.encode(new Uint8Array(w.message));u=JSON.parse(y);y=u.map(function(x){return x.keyID;});u=u.map(function(x){return x.payload;});}else u=[this.dc.encode(new Uint8Array(w.message))];if(0 === u.length || !u.every(function(x){return x && x.length;}))throw new q.Jc(g.V.bBa);u=this.m2b(u);u=this.Zg.decode(JSON.stringify(u));}else u=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,$F:[u],messageType:w.messageType,nv:y};};c.prototype.yx=function(w){var u,y,x,z;y=null === (u=w.target) || void 0 === u?void 0:u.error;if(y)(x=y.systemCode,z=y.code);u=new f.Gg(g.V.Wp,w instanceof n.Xp?g.R.AO:g.R.Gr,x?this.Fi.eF(x,4):z,"",y);u.YR(w);return u;};c.prototype.m2b=function(w){w=w.map(function(u,y){return {ID:t.A_.zKb(y),PAYLOAD:u};});return {VERSION:this.Pg.Tu?3:1,CHALLENGES:w};};c.prototype.KK=function(w,u){var y,x;y=this;if(u && this.Pg.Tu)try{x=this.Zg.encode(u[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.A_.J$a(z.ID);z=y.dc.decode(z.DHB).subarray(4,12);A=y.dc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.Gg(g.V.ojb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ew)),r.__param(1,(0,l.l)(k.$g)),r.__param(2,(0,l.l)(d.Yp)),r.__param(3,(0,l.l)(v.Dw))],a);b.bKa=a;},function(r,b,a){var l,g,h,d;function c(f,n){this.hS=f;this.jS=n;}Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;r=a(0);l=a(1);g=a(216);h=a(214);d=a(700);c.prototype.create=function(f,n,k){return new d.zFa(f,this.hS,this.jS,n,k);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Zaa)),r.__param(1,(0,l.l)(h.eba))],a);b.xFa=a;},function(r,b,a){var l,g;function c(h,d,f,n,k){this.keySystem=h;this.hS=d;this.jS=f;this.KB=n;this.Cm=k;}Object.defineProperty(b,"__esModule",{value:!0});b.zFa=void 0;l=a(74);g=a(41);c.prototype.createMediaKeys=function(){return this.KB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.KB.getConfiguration();};c.prototype.Js=function(){return l.hb.YS(this.KB.keySystem);};c.prototype.USa=function(){return this.jS.create(this.Cm);};c.prototype.TSa=function(){return this.hS.create(this.Cm);};Sa.Object.defineProperties(c.prototype,{N5:{configurable:!0,enumerable:!0,get:function(){var h,d;h=this.keySystem;d=(0,g.r4)(this.KB);d && (h+="." + d);return h;}}});b.zFa=c;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t){this.Il=p;this.config=q;this.hS=v;this.wB=t;this.log=this.Il.Sa("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.UDa=void 0;r=a(0);l=a(1);g=a(54);h=a(6);d=a(11);f=a(74);n=a(41);k=a(216);a=a(218);c.prototype.get=function(){var p,q,v;p=this;try{q=(this.config().T0a || [this.config().Fl]).map(function(t){var w;w=f.hb.YS(t);w=p.hS.create(w).rma();return (0 < w.length?w:[void 0]).map(function(u){return {keySystem:t,robustness:u};});});v=(0,g.flatten)(q).filter(function(t){return p.jDb(t);});return this.wB.get().then(function(t){return p.mDb(v,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.jDb=function(p){var q;p=f.hb.Ogb.includes(p.keySystem) || n.VCa.includes(null !== (q=p.robustness) && void 0 !== q?q:"");return this.config().XUa || !p;};c.prototype.mDb=function(p,q){var v;v=this;return p.reduce(function(t,w,u){var y;y=v.gJb(w);u=p.length - 1 === u;y=(0,n.tSa)(y);q.includes(y) && !u || t.push(w);return t;},[]);};c.prototype.gJb=function(p){var q;q={keySystem:p.keySystem === f.hb.Xkb?f.hb.R_:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(k.Zaa)),r.__param(3,(0,l.l)(a.Jba))],m);b.UDa=m;},function(r,b,a){var l,g,h,d;function c(f,n,k){this.config=f;this.Il=n;this.Lha=k;this.log=this.Il.Sa("KeySystemRestrictor");this.MNb=this.config().$Ua?this.Lha.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;r=a(0);l=a(1);g=a(6);h=a(11);a=a(219);c.prototype.get=function(){var f;f=this;try{return this.config().$Ua?this.MNb.then(function(n){return f.tDb(n);}):Promise.resolve([]);}catch(n){return (this.log.error("KeySystemRestrictor failed.",n),Promise.resolve([]));}};c.prototype.tDb=function(f){var n,m;this.f8a={};n=f.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(n));f=[];n=ma(Object.entries(n));for(var k=n.next();!k.done;k=n.next()){m=ma(k.value);k=m.next().value;m=m.next().value;this.xJb(m) && f.push(k);}f.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + f);return this.YXb=f;};c.prototype.xJb=function(f){var n,k;n=this;k=f.reduce(function(m,p){n.config().oCb.includes(p.code) && (p=n.Cxb(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.f8a[f[0].keySystem]=k;return Object.values(k).some(function(m){return m >= n.config().pCb;});};c.prototype.Cxb=function(f){return [f.code,f.cc,f.Lc].filter(Boolean).join(".");};Sa.Object.defineProperties(c.prototype,{U0a:{configurable:!0,enumerable:!0,get:function(){return this.YXb;}},V0a:{configurable:!0,enumerable:!0,get:function(){return this.f8a;}}});d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ac)),r.__param(1,(0,l.l)(g.Va)),r.__param(2,(0,l.l)(a.Faa))],d);b.WDa=d;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(1);c=a(11);l=a(704);g=a(31);h=a(37);d=a(705);f=a(336);n=a(707);k=a(167);m=a(708);p=a(62);q=a(709);b.config=new r.Xc(function(v){v(c.ac).Md(function(){return function(){return mb._cad_global.config;};});v(g.Haa).to(l.Mza).da();v(g.ll).to(l.QLa).da();v(g.NO).to(l.FDa).da();v(h.$m).to(d.YBa).da();v(f.hGa).to(n.gGa).da();v(k.SBa).to(m.RBa).da();v(p.Vp).to(q.oBa).da();});},function(r,b,a){var h,d,f,n,k;function c(){this.Cx={};this.j8a=0;}function l(m,p,q,v,t){this.debug=m;this.Ux=p;this.$U=q;this.tf=v;this.l8=t;}function g(m,p,q){this.Ux=m;this.$U=p;this.l8=q;}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=b.QLa=b.Mza=void 0;r=a(0);h=a(1);d=a(108);f=a(6);n=a(137);k=a(335);a=a(31);g=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.NO)),r.__param(1,(0,h.l)(n.F_)),r.__param(2,(0,h.l)(k.mda))],g);b.Mza=g;l=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.gw)),r.__param(1,(0,h.l)(a.NO)),r.__param(2,(0,h.l)(n.F_)),r.__param(3,(0,h.l)(f.Va)),r.__param(4,(0,h.l)(k.mda))],l);b.QLa=l;c.prototype.sPb=function(m){this.Cx=Object.assign({},this.Cx,m);this.j8a++;};Sa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Cx;}},L8:{configurable:!0,enumerable:!0,get:function(){return this.j8a;}}});a=c;a=r.__decorate([(0,h.U)()],a);b.FDa=a;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v){p=d.Le.call(this,p,void 0 === v?"GeneralConfigImpl":v) || this;p.Hf=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=b.qK=void 0;r=a(0);l=a(3);g=a(1);h=a(44);d=a(45);f=a(37);n=a(31);a=a(107);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.qK=function(p,q){return p.S6a(k[q] || q,f.nw);};ha(c,d.Le);Sa.Object.defineProperties(c.prototype,{qK:{configurable:!0,enumerable:!0,get:function(){return f.nw.Rjb;}},x$a:{configurable:!0,enumerable:!0,get:function(){return (0,l.th)(8);}},xF:{configurable:!0,enumerable:!0,get:function(){return "";}},GJ:{configurable:!0,enumerable:!0,get:function(){return "";}},qX:{configurable:!0,enumerable:!0,get:function(){return "";}},y1:{configurable:!0,enumerable:!0,get:function(){return !0;}},ET:{configurable:!0,enumerable:!0,get:function(){return this.Hf.ET;}},yCb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vc:{configurable:!0,enumerable:!0,get:function(){return {};}},toa:{configurable:!0,enumerable:!0,get:function(){return !1;}},yr:{configurable:!0,enumerable:!0,get:function(){return !1;}},qS:{configurable:!0,enumerable:!0,get:function(){return !0;}},vC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Jx:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.nw.cLa,f.nw.JDa].indexOf(this.qK);}}});m=c;r.__decorate([h.config(b.qK,"environment")],m.prototype,"qK",null);r.__decorate([h.config(h.ck,"storageTimeout")],m.prototype,"x$a",null);r.__decorate([h.config(h.string,"groupName")],m.prototype,"xF",null);r.__decorate([h.config(h.string,"canaryGroupName",!0)],m.prototype,"GJ",null);r.__decorate([h.config(h.string,"uiGroupName")],m.prototype,"qX",null);r.__decorate([h.config(h.Kc,"applyIndexedDbOpenWorkaround")],m.prototype,"y1",null);r.__decorate([h.config(h.Kc,"ignoreIdbOpenError")],m.prototype,"ET",null);r.__decorate([h.config(h.Kc,"executeStorageMigration")],m.prototype,"yCb",null);r.__decorate([h.config(h.object(),"browserInfo")],m.prototype,"Vc",null);r.__decorate([h.config(h.Kc,"isTestAccount")],m.prototype,"toa",null);r.__decorate([h.config(h.Kc,"useRangeHeader")],m.prototype,"yr",null);r.__decorate([h.config(h.Kc,"enableMilestoneEventList")],m.prototype,"qS",null);r.__decorate([h.config(h.object,"storageRules")],m.prototype,"vC",null);m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(n.ll)),r.__param(1,(0,g.l)(a.iD)),r.__param(2,(0,g.l)(n.lY)),r.__param(2,(0,g.optional)())],m);b.YBa=m;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.wca=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.wca=a;},function(r,b,a){var l,g,h,d;function c(f,n){return h.Le.call(this,f,void 0 === n?"NetworkMonitorConfigImpl":n) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(0);l=a(1);g=a(44);h=a(45);a=a(31);ha(c,h.Le);Sa.Object.defineProperties(c.prototype,{Ybb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([g.config(g.Kc,"useNetworkMonitor")],d.prototype,"Ybb",null);d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ll)),r.__param(1,(0,l.l)(a.lY)),r.__param(1,(0,l.optional)())],d);b.gGa=d;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t){p=d.Le.call(this,p,"FtlProbeConfigImpl") || this;p.hh=q;p.ta=v;p.Hf=t;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;r=a(0);l=a(27);g=a(1);h=a(3);d=a(45);f=a(168);n=a(44);k=a(31);a=a(107);ha(c,d.Le);Sa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.Hf.X3;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.pla + (-1 === this.pla.indexOf("?")?"?":"&") + "monotonic=" + this.ta.v3a + "&device=web";}},h$a:{configurable:!0,enumerable:!0,get:function(){return h.Ia;}},ila:{configurable:!0,enumerable:!0,get:function(){return "";}},pla:{configurable:!0,enumerable:!0,get:function(){return this.hh.endpoint + "/ftl/probe" + (this.ila?"?force=" + this.ila:"");}}});m=c;r.__decorate([n.config(n.Kc,"ftlEnabled")],m.prototype,"enabled",null);r.__decorate([n.config(n.ck,"ftlStartDelay")],m.prototype,"h$a",null);r.__decorate([n.config(n.string,"ftlEndpointForceParam")],m.prototype,"ila",null);r.__decorate([n.config(n.url,"ftlEndpoint")],m.prototype,"pla",null);m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.ll)),r.__param(1,(0,g.l)(f.$X)),r.__param(2,(0,g.l)(l.wg)),r.__param(3,(0,g.l)(a.iD))],m);b.RBa=m;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p){k=g.Le.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.Vc=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;r=a(0);l=a(1);g=a(45);h=a(31);d=a(3);f=a(44);a=a(162);ha(c,g.Le);Sa.Object.defineProperties(c.prototype,{t5a:{configurable:!0,enumerable:!0,get:function(){return this.Vc.mv && 113 > this.Vc.An?!1:!0;}},x_a:{configurable:!0,enumerable:!0,get:function(){return this.Vc.W_a || this.Vc.x5 || this.Vc.XT?!0:!1;}},zB:{configurable:!0,enumerable:!0,get:function(){return (0,d.th)(5);}},Lra:{configurable:!0,enumerable:!0,get:function(){return (0,d.th)(10);}},fS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},KS:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ija:{configurable:!0,enumerable:!0,get:function(){return !1;}},ar:{configurable:!0,enumerable:!0,get:function(){return !0;}},HPa:{configurable:!0,enumerable:!0,get:function(){return (0,d.th)(30);}},IPa:{configurable:!0,enumerable:!0,get:function(){return (0,d.th)(30);}},KPa:{configurable:!0,enumerable:!0,get:function(){return (0,d.th)(30);}},v1:{configurable:!0,enumerable:!0,get:function(){return (0,d.th)(30);}},LPa:{configurable:!0,enumerable:!0,get:function(){return (0,d.th)(30);}},sua:{configurable:!0,enumerable:!0,get:function(){return "";}},O4a:{configurable:!0,enumerable:!0,get:function(){return this.Vc.Zx?!1:!0;}},P4a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});n=c;r.__decorate([f.config(f.Kc,"persistentStateRequired")],n.prototype,"t5a",null);r.__decorate([f.config(f.Kc,"initializeKeySystemAtStartup")],n.prototype,"x_a",null);r.__decorate([f.config(f.ck,"licenseRenewalRequestDelay")],n.prototype,"zB",null);r.__decorate([f.config(f.ck,"persistedReleaseDelay")],n.prototype,"Lra",null);r.__decorate([f.config(f.string,"drmPersistKey")],n.prototype,"fS",null);r.__decorate([f.config(f.Kc,"forceLimitedDurationLicense")],n.prototype,"KS",null);r.__decorate([f.config(f.Kc,"disableLicenseRenewal")],n.prototype,"Ija",null);r.__decorate([f.config(f.Kc,"prepareCadmium")],n.prototype,"ar",null);r.__decorate([f.config(f.ck,"apiCloseTimeout")],n.prototype,"HPa",null);r.__decorate([f.config(f.ck,"apiCreateMediaKeysTimeout")],n.prototype,"IPa",null);r.__decorate([f.config(f.ck,"apiSetServerCertificateTimeout")],n.prototype,"KPa",null);r.__decorate([f.config(f.ck,"apiGenerateRequestTimeout")],n.prototype,"v1",null);r.__decorate([f.config(f.ck,"apiUpdateTimeout")],n.prototype,"LPa",null);r.__decorate([f.config(f.string,"serverCertificate")],n.prototype,"sua",null);r.__decorate([f.config(f.Kc,"outputRestrictedIsFatal")],n.prototype,"O4a",null);r.__decorate([f.config(f.Kc,"outputRestrictedIsFatalForUhd")],n.prototype,"P4a",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ll)),r.__param(1,(0,l.l)(a.LC)),r.__param(2,(0,l.l)(h.lY)),r.__param(2,(0,l.optional)())],n);b.oBa=n;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.NUa=void 0;r=a(1);c=a(124);l=a(711);g=a(96);h=a(712);d=a(338);f=a(713);b.NUa=new r.Xc(function(n){n(c.OAa).to(l.NAa).da();n(g.vw).to(h.AFa).da();n(d.qBa).to(f.pBa);});},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w;function c(u,y,x,z,A,B,C,D,E){var G;G=this;this.oc=y;this.By=x;this.config=z;this.Is=A;this.WAb=B;this.EJ=C;this.KL=D;this.Ll=E;this.$0b=function(F,H){var K;G.Ll.mark(w.Oa.NY,F.ki.ja,"generate-challenge");K=!1;H.HZb(function(O){K || (K=!0,G.Ll.mark(w.Oa.MY,F.ki.ja,"generate-challenge"));G.qF(F,H,O).then(function(I){H.dPa(I);G.Vsb(H);}).catch(function(I){return H.Lpb(I);});});};this.log=u.Sa("DrmServices");this.Is().zr && this.EJ.R6a().then(function(){G.RWb();}).catch(function(F){G.log.error("Unable to load the persisted DRM data",F);});this.config.x_a && this.xA(D(),n.xh.em).then(function(F){return F.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;r=a(0);l=a(1);g=a(6);h=a(46);d=a(337);f=a(83);n=a(57);k=a(62);m=a(213);p=a(212);q=a(338);v=a(11);t=a(136);w=a(56);c.prototype.KEb=function(u,y){return this.xA(y,u.type,u.context).then(function(x){return x.NEb(u.initData,u.t5).then(function(z){return [x,{Cm:x.Js(),data:z.kj}];});});};c.prototype.Og=function(u,y){var x;x=this;this.log.info("Requesting challenges",this.UXa(u,u.type));return this.xA(y,u.type,u.context).then(function(z){x.s3a(u,z);return z.OEb(u.initData,u.t5).then(function(){return z;});});};c.prototype.s3a=function(u,y){y.MZb(u.ki);this.$0b(u,y);};c.prototype.release=function(u,y){var x;x=this;this.log.info("Releasing server license",this.NYa(u));return this.PHb(u).then(function(){var z;z=Object.assign({active:!1,de:[]},u.ki);x.EJ.YV(z);y.dXb();return u;});};c.prototype.UXa=function(u,y){return {movieId:u.ki.O,xid:u.ki.ja,type:(0,n.Soa)(y)};};c.prototype.NYa=function(u){return {movieId:u.ki?u.ki.O:void 0,xid:u.ki?u.ki.ja:void 0,keySessionId:u.Mx()};};c.prototype.qF=function(u,y,x){this.log.info("Sending license request",this.UXa(u,x.ff));return this.By.Og({ja:u.ki.ja,xf:u.ki.xf,h3:[u.ki.Bk],kj:[{sessionId:y.Mx() || "session",data:x.kj}],ff:x.ff,Cm:y.Js(),tRa:x.tRa,di:u.ki.di,bg:u.ki.bg});};c.prototype.PHb=function(u){this.log.info("Sending release request",this.NYa(u));return this.By.release({ja:u.ki.ja,de:u.de});};c.prototype.xA=function(u,y,x){return this.WAb.create().then(function(z){return z.createSession(u,y,x).then(function(){return z;});});};c.prototype.QWb=function(u){var y;y=this;return this.By.release({ja:u.ja,de:u.de}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.RWb=function(){var u;u=this;this.oc.Cj(this.config.Lra,function(){u.log.trace("Removing cached sessions",{"count:":u.EJ.i3.length});u.EJ.i3.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return u.QWb(x);}).then(function(){return u.EJ.YV(x);});},Promise.resolve(void 0));});};c.prototype.Vsb=function(u){var y;if(u.Mx() && u.ki){y=new p.EY();y.de=u.de;y.ja=u.ki.ja;y.O=u.ki.O;this.EJ.$Oa(y);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(h.wi)),r.__param(2,(0,l.l)(d.MAa)),r.__param(3,(0,l.l)(k.Vp)),r.__param(4,(0,l.l)(v.ac)),r.__param(5,(0,l.l)(q.qBa)),r.__param(6,(0,l.l)(m.Daa)),r.__param(7,(0,l.l)(t.aP)),r.__param(8,(0,l.l)(f.fP))],a);b.NAa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u;function c(y,x,z,A,B,C,D){this.Il=y;this.dc=x;this.config=z;this.Yh=A;this.WPb=B;this.jS=C;this.EMb=D;this.log=this.Il.Sa("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(0);l=a(1);g=a(2);h=a(6);d=a(95);f=a(122);n=a(29);k=a(11);m=a(74);p=a(41);q=a(327);v=a(333);t=a(214);w=a(334);a=a(62);c.prototype.SA=function(){this.promise || (this.promise=this.lYb());return this.promise;};c.prototype.Txb=function(y,x){var z;z={initDataTypes:[p.Pt],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],sessionTypes:[p.TEMPORARY]};y === f.qk.LX && this.Yh.t5a && (z.persistentState="required");y=z.videoCapabilities[0];x && (y.robustness=x);return [z];};c.prototype.Mxb=function(y,x){var z;z=this;return new Promise(function(A,B){var C;C=m.hb.YS(y);z.jS.create(C).vXb(y,z.Txb(C,x)).then(function(D){z.log.trace("Created the media keys system access",{keySystem:y,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=z.WPb.create(y,D,C);z.N5=D.N5;A(D);}).catch(function(D){z.log.warn("Unable to create the media key system access object",{keySystem:y,error:D.message});B(new d.Gg(g.V.YAa,g.R.cl,void 0,"Unable to create media keys system access. " + D.message,D));});});};c.prototype.XFb=function(){var y;y=this.config().T0a || [this.config().Fl];if(1 < y.length)return (y=y.map(function(x){return m.hb.Kla(m.hb.YS(x));}),1 === new Set(y).size?Promise.resolve(y[0]):this.SA().then(function(x){return x.Js();}).then(function(x){return m.hb.Kla(x);}));y=m.hb.YS(y[0]);return Promise.resolve(m.hb.Kla(y));};c.prototype.Hwa=function(y){var x,z,A,B;x=this;z=y.Js();A=y.USa();B=y.TSa();return y.createMediaKeys().then(function(C){A.createSession(C,p.TEMPORARY);return A.setServerCertificate(C,B.e4());}).then(function(){return A.generateRequest(p.Pt,x.Sla(z),!1);}).then(function(){return A.close();}).then(function(){return y;}).catch(function(C){x.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.Sla=function(y){switch(y){case f.qk.OA:y=q.MBa;break;case f.qk.xy:y=q.dIa;break;default:y=q.fMa;}return y.map(this.dc.decode);};c.prototype.lYb=function(){var y;y=this;try{return this.EMb.get().then(function(x){return x.map(function(z,A){return function(){var B,C;B=A === x.length - 1;C=y.config().Hwa && !B;return y.Mxb(z.keySystem,z.robustness).then(function(D){return C?y.Hwa(D):Promise.resolve(D);});};});}).then(function(x){return y.mYb(x);});}catch(x){return Promise.reject(x);}};c.prototype.mYb=function(y){return y.reduce(function(x,z){return x.then(function(A){return Promise.resolve(A);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Sa.Object.defineProperties(c.prototype,{S0a:{configurable:!0,enumerable:!0,get:function(){return this.N5;}}});u=c;u=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(n.$g)),r.__param(2,(0,l.l)(k.ac)),r.__param(3,(0,l.l)(a.Vp)),r.__param(4,(0,l.l)(v.yFa)),r.__param(5,(0,l.l)(t.eba)),r.__param(6,(0,l.l)(w.VDa))],u);b.AFa=u;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t,w,u){this.Il=p;this.Ea=q;this.dc=v;this.config=t;this.lo=w;this.ao=u;}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;r=a(0);l=a(1);g=a(6);h=a(17);d=a(29);f=a(62);n=a(63);k=a(330);a=a(96);c.prototype.create=function(){var p;p=this;return this.ao.SA().then(function(q){return new k.rBa(p.Il,p.Ea,p.dc,p.config,p.lo,q);});};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(h.Gc)),r.__param(2,(0,l.l)(d.$g)),r.__param(3,(0,l.l)(f.Vp)),r.__param(4,(0,l.l)(n.Bz)),r.__param(5,(0,l.l)(a.vw))],m);b.pBa=m;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L;Object.defineProperty(b,"__esModule",{value:!0});b.B1a=void 0;c=a(715);l=a(742);g=a(751);h=a(754);d=a(760);f=a(764);n=a(1140);k=a(1143);m=a(1155);p=a(1164);q=a(1168);v=a(1170);t=a(1199);w=a(1201);u=a(1205);y=a(1220);x=a(1228);z=a(1234);A=a(1237);B=a(1244);C=a(211);D=a(1250);E=a(1257);G=a(1271);F=a(1277);H=a(1279);K=a(1286);O=a(1332);I=a(1354);P=a(1358);N=a(1362);J=a(1376);L=a(1379);b.B1a=function(R){R.load(c.ux,n.lH,l.R1a,k.Am,g.r3a,h.L,d.scb,f.QZa,m.storage,p.wJ,q.bRa,v.e2a,t.MB,w.Ak,u.Q1a,y.H3a,x.BWa,z.A6a,A.sG,B.FUa,C.MUa,D.Qd,E.Wc,G.ab,F.z3a,H.o5a,K.j,O.jSa,I.transports,P.Gk,N.Dg,J.jQa,L.X);};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q,M,S,ra,oa,Ca,Ua,Pa,Ya,ob,pb,Db,Na,ab,fb,ib,kb,Ab,Bb,Hb,Kb,Qb,Tb;Object.defineProperty(b,"__esModule",{value:!0});b.ux=void 0;r=a(1);c=a(35);l=a(27);g=a(46);h=a(84);d=a(138);f=a(716);n=a(717);k=a(718);m=a(719);p=a(69);q=a(80);v=a(29);t=a(30);w=a(25);u=a(109);y=a(63);x=a(340);z=a(720);A=a(341);B=a(721);C=a(722);D=a(723);E=a(202);G=a(342);F=a(724);H=a(210);K=a(125);O=a(725);I=a(17);P=a(343);N=a(726);J=a(727);L=a(108);R=a(728);ka=a(6);la=a(339);X=a(729);da=a(83);ta=a(730);Ba=a(344);Ja=a(731);Va=a(732);Ta=a(110);T=a(12);aa=a(733);Q=a(346);M=a(347);S=a(734);ra=a(348);oa=a(11);Ca=a(43);Ua=a(139);Pa=a(349);Ya=a(162);ob=a(735);pb=a(350);Db=a(351);Na=a(220);ab=a(736);fb=a(170);ib=a(737);kb=a(221);Ab=a(738);Bb=a(739);Hb=a(169);Kb=a(740);Qb=a(219);Tb=a(741);b.ux=new r.Xc(function(Fb){Fb(c.g_).AC(function(){return {};}).da();Fb(c.XC).Xk(JSON);Fb(c.gMa).Xk(mb);Fb(d.WKa).Xk(Math);Fb(c.vEa).Xk(T.WZ);Fb(c.Oca).Xk(T.Yt);Fb(c.LLa).Xk(T.fD);Fb(c.iAa).Xk(Date);Fb(c.jI).Xk(T.je);Fb(c.iib).Xk(T.xz);Fb(la.Gza).to(X.Fza).da();Fb(I.Gc).to(O.Oxa).da();Fb(l.wg).to(m.Hza).da();Fb(g.wi).to(f.cKa).da();Fb(h.qw).to(n.wDa).da();Fb(y.Bz).to(D.qJa).da();Fb(d.r_).to(k.zJa).da();Fb(Pa.gca).to(Bb.sFa).da();Fb(L.gw).to(J.nAa).da();Fb(L.lAa).to(R.kAa).da();Fb(p.Yp).to(z.MLa).da();Fb(q.ew).to(A.qaa).da();Fb(v.$g).to(B.Cya).da();Fb(t.dh).to(C.NLa).da();Fb(w.Qf).Xk(E.WC);Fb(pb.BO).to(Db.EBa).da();Fb(u.iba).to(G.Vi).xna();Fb(u.BY).to(G.Vi).da();Fb(u.AAa).to(G.Vi).da();Fb(u.lba).to(G.Vi).da();Fb(H.Lda).to(K.pD).da();Fb(P.Xza).to(N.Wza).da();Fb(da.vI).to(ta.Rda).da();Fb(da.fP).to(ta.Rda).da();Fb("Factory<LoggerFactory>").Dab(ka.Va);Fb(Ba.Uaa).to(Ja.pAa).da();Fb(Ta.qD).Md(function(Sb){return function(Zb){return new Va.eLa(Sb.eb.get(I.Gc),Sb.eb.get(g.wi),Zb);};});Fb(fb.AY).Md(function(Sb){return function(Zb){return new ib.jAa(Sb.eb.get(g.wi),Zb);};});Fb(aa.kda).p2b(Q.jda);Fb(aa.Pjb).Md(function(Sb){var Zb;Zb=Sb.eb.get(aa.kda);return function(){return new Zb(!1);};});Fb(aa.Qjb).Md(function(Sb){var Zb;Zb=Sb.eb.get(aa.kda);return function(){return new Zb(!0);};});Fb(M.ILa).Md(function(){return function(Sb){return new S.JLa(Sb);};});Fb(Ua.oP).Md(function(Sb){return function(Zb,vc,Kc){return new ra.DIa(Sb.eb.get(L.gw),Sb.eb.get(oa.ac),Sb.eb.get(Ca.hn),Sb.eb.get(Pa.gca),Zb,vc,Kc);};});Fb(x.zGa).Md(function(){return function(Sb){return new F.AGa(Sb);};});Fb(Ya.LC).to(ob.Rya);Fb(Hb.M_).to(Kb.KLa).da();Fb(Na.zP).Md(function(Sb){return function(Zb,vc){return new ab.pLa(Sb.eb.get(g.wi),Zb,vc);};});Fb(kb.xBa).to(Ab.wBa).da();Fb(Qb.Faa).to(Tb.rza).da();});},function(r,b,a){var g,h,d,f;function c(n){this.po=n;(0,h.Yn)(this,"timers");}function l(n,k){this.po=n;this.Gtb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;r=a(0);g=a(1);h=a(54);d=a(35);f=a(3);l.prototype.cancel=function(){this.Gtb(this.po);};c.prototype.Qk=function(n){return this.Cj(f.Ia,n);};c.prototype.Cj=function(n,k){var m;m=this.po.setTimeout(k,n.ca(f.na));return new l(this.po,function(p){p.clearTimeout(m);});};c.prototype.QM=function(n,k){var m;m=this.po.setInterval(k,n.ca(f.na));return new l(this.po,function(p){p.clearInterval(m);});};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.gMa))],a);b.cKa=a;},function(r,b,a){var l,g,h,d,f;function c(n,k){this.ta=n;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.wDa=void 0;r=a(0);g=a(1);h=a(3);d=a(27);a=a(138);c.prototype.zx=function(){return this.ta.se.ca(h.fm) * l.lza + Math.floor(this.random.random() * l.lza);};f=l=c;f.lza=1E8;f=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.wg)),r.__param(1,(0,g.l)(a.r_))],f);b.wDa=f;},function(r,b,a){var l,g;function c(h){this.A1b=h;}Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;r=a(0);l=a(1);a=a(138);c.prototype.random=function(){return this.A1b.random();};c.prototype.L6a=function(h,d){if("number" !== typeof h)(d=h.end,h=h.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(h + this.random() * (d - h));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.WKa))],g);b.zJa=g;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v){var t;t=this;this.config=m;this.Hyb=p;this.Cb=q;this.performance=v;this.fSb=function(w){t.tua=w.wa(t.se);};(0,l.Yn)(this,"date");(0,l.Yn)(this,"performance");this.Cqb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.tua=g.Ia;this.Cb.addListener(k.Eba.V8a,this.fSb);}Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;r=a(0);l=a(54);g=a(3);h=a(1);d=a(35);f=a(339);n=a(109);k=a(15);c.prototype.lqb=function(m){return m.add(this.tua);};Sa.Object.defineProperties(c.prototype,{se:{configurable:!0,enumerable:!0,get:function(){return this.v3a?(0,g.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,g.Jb)(this.Hyb.now());}},SG:{configurable:!0,enumerable:!0,get:function(){return this.se.add(this.tua);}},v3a:{configurable:!0,enumerable:!0,get:function(){return this.config.Zbb && this.Cqb;}}});a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(f.Gza)),r.__param(1,(0,h.l)(d.iAa)),r.__param(2,(0,h.l)(n.lba)),r.__param(3,(0,h.l)(d.Oca)),r.__param(3,(0,h.optional)())],a);b.Hza=a;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;r=a(0);a=a(1);c.prototype.encode=function(h){return l.cka(h);};c.prototype.decode=function(h){return l.rja(h);};c.cka=function(h){if(!h)throw new TypeError("Invalid byte array");for(var d=0,f,n=h.length,k="";d < n;){f=h[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (h[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((h[d++] & 63) << 6) + (h[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(f);}return k;};c.rja=function(h){var d,f,n,k,m;d=h.length;f=0;k=0;if(!(0 <= d))throw Error("bad string");for(n=d;n--;){m=h.charCodeAt(n);128 > m?f++:f=2048 > m?f + 2:f + 3;}f=new Uint8Array(f);for(n=0;n < d;n++){m=h.charCodeAt(n);128 > m?f[k++]=m:(2048 > m?f[k++]=192 | m >>> 6:(f[k++]=224 | m >>> 12,f[k++]=128 | m >>> 6 & 63),f[k++]=128 | m & 63);}return f;};g=l=c;g=l=r.__decorate([(0,a.U)()],g);b.MLa=g;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cya=void 0;r=a(0);a=a(1);g=Array.prototype.slice;h=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};n={};k={};m=/\s+/g;[h,g].forEach(function(p){var v;for(var q=p.length;q--;){v=p[q];d[v]=q << 18;f[v]=q << 12;n[v]=q << 6;k[v]=q;}});c.prototype.encode=function(p){return l.cka(p,h,"=");};c.prototype.decode=function(p){return l.rja(p);};c.rja=function(p){var q,v,t;p=p.replace(m,"");q=p.length;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(v + t);for(var w=0,u=0,y;u < v;){y=d[p[w++]] + f[p[w++]] + n[p[w++]] + k[p[w++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[u++]=y >>> 16;q[u++]=y >>> 8 & 255;q[u++]=y & 255;}if(0 < t && (y=d[p[w++]] + f[p[w++]],q[u++]=y >>> 16,1 < t && (y+=n[p[w++]],q[u++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.cka=function(p,q,v){for(var t="",w=0,u=p.length,y=u - 2,x;w < y;){x=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(w == y){x=(p[w++] << 8) + p[w++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + v;}else if(w == u - 1){x=p[w++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + v + v;}return t;};g=l=c;g=l=r.__decorate([(0,a.U)()],g);b.Cya=g;},function(r,b,a){var l,g,h,d;function c(f,n){this.is=f;this.Fi=n;}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;r=a(0);l=a(1);a(2);g=a(25);h=a(80);d=a(12);c.prototype.JB=function(f,n,k){var m,p,q,v;m=this;if(n)if(k){p=k.vU;q=k.prefix;v=k.z7;this.KA(n,function(t,w){if(!v || m.is.qg(w))f[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.KA(n,function(t,w){f[t]=w;});return f;};c.prototype.KA=function(f,n){for(var k in f){f.hasOwnProperty(k) && n(k,f[k]);}};c.prototype.vA=function(f,n){if(f.length == n.length){for(var k=f.length;k--;){if(f[k] != n[k])return !1;}return !0;}return !1;};c.prototype.DSa=function(f,n){if(f.length != n.length)return !1;f.sort();n.sort();for(var k=f.length;k--;){if(f[k] !== n[k])return !1;}return !0;};c.prototype.te=function(f){var n,k,m;if(f){n=f.stack;k=f.number;m=f.message;m || (m="" + f);n?(f="" + n,0 !== f.indexOf(m) && (f=m + "\n" + f)):f=m;k && (f+="\nnumber:" + k);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.Dla=function(f){return this.getFunctionName(f.constructor);};c.prototype.Oqa=function(f){var n,k;n=this;k="";this.is.iA(f) || this.is.EPa(f)?k=Array.prototype.reduce.call(f,function(m,p){return m + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Po(f)?k=f:this.KA(f,function(m,p){k+=(k?", ":"") + "{" + m + ": " + (n.is.g1(p)?n.getFunctionName(p) || "function":p) + "}";});return "[" + this.Dla(f) + " " + k + "]";};c.prototype.createElement=function(f,n,k,m){var p;p=d.Ig.createElement(f);n && (p.style.cssText=n);k && (p.innerHTML=k);m && this.KA(m,function(q,v){p.setAttribute(q,v);});return p;};c.prototype.cDb=function(f,n){return function(k){return k[f] === n;};};c.prototype.uV=function(f){var n;n={};(f || "").split("&").forEach(function(k){var m,p;k=k.trim();m=k.indexOf("=");if(0 <= m){p=decodeURIComponent(k.substr(0,m)).toLowerCase();n[p]=decodeURIComponent(k.substr(m + 1));}else n[k.toLowerCase()]=void 0;});return n;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Qf)),r.__param(1,(0,l.l)(h.ew))],a);b.NLa=a;},function(r,b,a){var l,g,h;function c(d){this.oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;r=a(0);l=a(1);g=a(46);h=a(63);c.prototype.Lp=function(d,f){var n;n=this;return new Promise(function(k,m){var p;p=n.oc.Cj(d,function(){m(new h.Xp(d));});f.then(function(q){k(q);p.cancel();}).catch(function(q){m(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.wi))],a);b.qJa=a;},function(r,b,a){var l;function c(g){this.UEb=g;this.Q4=!1;this.b5=this.Of=this.sN=0;this.FT=!1;this.c5=0;}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;l=a(14);c.prototype.tga=function(g){g < this.sN && (this.Of+=this.sN);this.sN=g;this.Q4=!0;};c.prototype.GFb=function(){if(this.Q4)return this.FT?this.c5 - this.b5:this.Of + this.sN - this.b5;};c.prototype.refresh=function(){var g;g=this.UEb();(0,l.sb)(g) && this.tga(g);};c.prototype.o0b=function(){this.FT || (this.Q4 && (this.c5=this.Of + this.sN),this.FT=!0);};c.prototype.E0b=function(){this.FT && (this.Q4 && (this.b5+=this.Of + this.sN - this.c5),this.c5=0,this.FT=!1);};b.AGa=c;},function(r,b,a){var l,g,h,d;function c(f,n){this.ta=f;this.Y3=this.ta.se.ca(h.na) - 1;this.ZNb=this.R5=0;this.id="" + n.zx();}Object.defineProperty(b,"__esModule",{value:!0});b.Oxa=void 0;r=a(0);l=a(1);g=a(27);h=a(3);a=a(84);c.prototype.Db=function(){var f,n;f=this.ta.se.ca(h.na) - this.Y3;if(f < this.R5){n=this.R5 + 1;this.Y3-=n - f;f=n;}this.R5=f;return (0,h.Jb)(this.R5);};c.prototype.PGb=function(){return this.ZNb++;};Sa.Object.defineProperties(c.prototype,{cy:{configurable:!0,enumerable:!0,get:function(){return (0,h.Jb)(this.Y3);}}});d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.wg)),r.__param(1,(0,l.l)(a.qw))],d);b.Oxa=d;},function(r,b,a){var l,g,h,d;function c(f,n){this.is=f;this.Qd=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Wza=void 0;r=a(0);g=a(1);h=a(25);a=a(30);c.prototype.encode=function(f){var n,k;n=this;k="";this.Qd.KA(f,function(m,p){m=n.jVa(m) + "=" + n.jVa(p);k=k?k + ("," + m):m;});return k;};c.prototype.jVa=function(f){return this.is.JE(f)?this.is.Rj(f)?"" + f:this.is.Po(f)?(f=f.replace(l.Wsa,this.Bpa.bind(this)),!l.TVb.test(f) && l.mQb.test(f) && (f='"' + f + '"'),f):this.is.e1(f)?"" + f:this.is.Yfa(f)?"NaN":"":"";};c.prototype.Bpa=function(f){return l.map[f];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.Wsa=/(?!^.+)["\r\n](?=.+$)/g;d.TVb=/["].*["]/g;d.mQb=/[", ]/;d=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.Qf)),r.__param(1,(0,g.l)(a.dh))],d);b.Wza=d;},function(r,b,a){var l,g,h,d;function c(f,n,k){this.config=f;this.tb=n;this.la=k.Sa("General");}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;r=a(0);l=a(1);g=a(25);h=a(108);a=a(6);c.prototype.assert=function(){};c.prototype.$qb=function(f,n){this.assert(this.tb.JE(f),n);};c.prototype.arb=function(f,n){this.assert(this.tb.qg(f),n);};c.prototype.F1=function(f,n){this.assert(this.tb.Po(f),n);};c.prototype.grb=function(f,n){this.assert(this.tb.mm(f),n);};c.prototype.erb=function(f,n){this.assert(this.tb.Po(f) || null === f || void 0 === f,n);};c.prototype.E1=function(f,n){this.assert(this.tb.Rj(f),n);};c.prototype.crb=function(f,n){this.assert(this.tb.Kga(f),n);};c.prototype.frb=function(f,n){this.assert(this.tb.eR(f),n);};c.prototype.drb=function(f,n){this.assert(this.tb.OQ(f),n);};c.prototype.Zqb=function(f,n){this.assert(this.tb.e1(f),n);};c.prototype.brb=function(f,n){this.assert(this.tb.g1(f),n);};c.prototype.gLb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.lAa)),r.__param(1,(0,l.l)(g.Qf)),r.__param(2,(0,l.l)(a.Va))],d);b.nAa=d;},function(r,b,a){var l,g,h,d;function c(f){f=g.hO.call(this,f,"DebugConfigImpl") || this;f.kbc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;r=a(0);l=a(44);g=a(45);h=a(1);a=a(31);ha(c,g.hO);Sa.Object.defineProperties(c.prototype,{tsb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.Kc,"breakOnError")],d.prototype,"tsb",null);d=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.Haa))],d);b.kAa=d;},function(r,b,a){var l,g,h,d;function c(f){return g.hO.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Fza=void 0;r=a(0);l=a(44);g=a(45);h=a(1);a=a(31);ha(c,g.hO);Sa.Object.defineProperties(c.prototype,{Zbb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.Kc,"usePerformanceApi")],d.prototype,"Zbb",null);d=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.Haa))],d);b.Fza=d;},function(r,b,a){var l,g,h,d;function c(f,n){this.Ea=f;this.entries=new Set();this.la=n.Sa("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Rda=void 0;r=a(0);l=a(1);g=a(17);h=a(3);a=a(6);c.prototype.mark=function(f,n,k){f={name:f,sr:this.Ea.Db()};n && (f.ja=n);k && (f.rf=k);this.entries.add(f);return f;};c.prototype.$la=function(){var f;f=[];this.entries.forEach(function(n){return f.push(n);});return f;};c.prototype.bYa=function(f){return this.$la().filter(function(n){return n.ja === f;});};c.prototype.SGb=function(){var f;f={};try{f=this.$la().filter(function(n){return !n.ja;}).reduce(function(n,k){n[k.name]=k.sr.ca(h.na);return n;},{});}catch(n){this.la.error(" getMapOfCommonMarks exception",n);}return f;};c.prototype.u7a=function(f){var n;n=this;this.$la().forEach(function(k){k.ja === f && n.entries.delete(k);});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Gc)),r.__param(1,(0,l.l)(a.Va))],d);b.Rda=d;},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q,v){this.Ea=q;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.pAa=void 0;r=a(0);g=a(1);h=a(17);d=a(34);f=a(2);n=a(15);k=a(3);m=a(12);a=a(345);c.prototype.gUa=function(q){var v,t,w,u,y,x,z,A,B,C;v=this;u=q.mediaTime.value;y=q.jq.value;x=q.lb.value;z=q.state.value;A={segmentId:q.lma(),mediaTime:u,segmentTime:q.VA(),bufferingState:l.Jsb[y],presentingState:l.WUb[x],playbackState:l.OTb[z],mseBuffersBusy:this.dIb(q),intBuffersBusy:this.xGb(q),tabVisible:this.B1b(),decodedFrameCount:this.dzb(q),videoElementInDom:this.Q4b(q),lastVideoSync:this.Ea.Db().wa((0,k.Jb)(q.YW)).ca(k.na)};B=x === n.Ya.Bf?q.Ua.Yf?this.config.I4a:this.config.H4a:this.config.n3a;if(y !== n.lf.Sd){if((y=f.R.efb,this.MQa(A.mseBuffersBusy,A.intBuffersBusy)))C=l.zya;}else (x !== n.Ya.Td?y=f.R.gfb:(y=f.R.ffb,(x=q.ee) && 0 === x.i4() && (C=l.blb)),(x=q.ee) && x.Ob.sourceBuffers.forEach(function(D){var E,G;E=l.$f[D.mediaType];A[E + "Ranges"]=D.b4();try{G=D.buffered();}catch(F){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - u,A[E + "Undecoded"]=D,1 < G.length && (C=l.aeb),u < 1E3 * G.start(0) || u > 1E3 * G.end(0)?C=l.beb:D < B.ca(k.na)?C=l.ceb:v.MQa(A.mseBuffersBusy,A.intBuffersBusy) && (C=l.zya)):(A[E + "Undecoded"]=0,C=l.$db);}));x=q.I7a.SYa();z=u === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.ab) || void 0 === w?void 0:w.Zva;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.Jc(f.V.NGa,y,C,void 0,void 0,void 0,q,void 0);};c.prototype.dIb=function(q){var v;if(q.Ob){v={};q.Ob.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.updating()};});return v;}};c.prototype.xGb=function(q){var v;if(q.Ob){v={};q.Ob.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.mh()};});return v;}};c.prototype.B1b=function(){return !m.Ig.hidden;};c.prototype.dzb=function(q){return (q=q.ee) && (q=q.Ob.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.Q4b=function(q){if(q=q.ee)if(q=q.Ob.$)return m.Ig.body.contains(q);return !1;};c.prototype.MQa=function(q,v){var t,w,u,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=v.audio) || void 0 === w?void 0:w.updating) && (null === (u=q.video) || void 0 === u?void 0:u.updating) === (null === (y=v.video) || void 0 === y?void 0:y.updating));};p=l=c;p.$db="1";p.aeb="2";p.beb="3";p.zya="4";p.ceb="5";p.blb="6";p.$f=["Audio","Video"];p.Jsb=["","NORMAL","BUFFERING","STALLED"];p.WUb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.OTb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.Gc)),r.__param(1,(0,g.l)(a.mca))],p);b.pAa=p;},function(r,b,a){var l,g,h,d;function c(f,n,k){var m;m=this;this.Sf=f;this.oc=n;this.A2=k;this.aM=function(p){m.Qi=void 0;m.T2b(p || m.A2);};this.Y0a=(0,h.Jb)(-this.A2.ca(h.na));}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;r=a(0);l=a(1);g=a(17);h=a(3);a=a(46);c.prototype.Qk=function(f){this.aua=f;this.Qi=this.Qi || this.If(this.aM);};c.prototype.jh=function(){this.Qi && this.Qi.cancel();this.Qi=void 0;};c.prototype.T2b=function(f){var n,k;n=this.Sf.Db();if(this.aua){k=f.wa(n.wa(this.Y0a));0 >= k.zk(h.Ia)?(f=this.aua,this.aua=void 0,this.Y0a=n,f()):this.Qi=this.Qi || this.oc.Cj(k,this.aM.bind(this,f));}};c.prototype.If=function(f){return this.oc.Cj(h.Ia,f);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Gc)),r.__param(1,(0,l.l)(a.wi))],d);b.eLa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kda="PrioritizedSetOfListsSymbol";b.Pjb="PrioritizedSetOfListsFactorySymbol";b.Qjb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(l){this.Xo=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;c.prototype.toString=function(){return this.href;};Sa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Xo + this.searchParams.toString();}}});b.JLa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,g){this.searchParams[l]=g;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,g,h){var d;d=ma(g);g=d.next().value;d=d.next().value;return "" + l + (0 == h?"?":"&") + g + "=" + d;},"");};},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p){this.userAgentData=p;this.Vc=this.LCb(k,m.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=b.Rya=void 0;r=a(0);l=a(1);g=a(11);h=a(31);d=a(35);a=a(169);c.prototype.I4=function(k,m){var p;if(m=this.GIb(m))switch(k){case n.hy:p=0 < m.length?Number(m[0]):0;break;case n.OL:p=1 < m.length?Number(m[1]):0;break;case n.gM:p=2 < m.length?Number(m[2]):0;break;case n.L8:p=3 < m.length?Number(m[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.GIb=function(k){return null === k || void 0 === k?void 0:k.split(".");};c.prototype.HF=function(k){return this.Vc.name === k;};c.prototype.LF=function(k){return this.Vc.D7.name === k;};c.prototype.FLb=function(k){return this.Vc.hJb === k;};c.prototype.LCb=function(k,m){return Object.assign(Object.assign({hJb:this.NCb(k,m)},this.KCb(k,m)),{D7:this.OCb(k,m)});};c.prototype.NCb=function(k,m){return m && m.hardware?m.hardware:(/Mobile|iPhone/).test(k)?g.HZ.phone:(/Android/).test(k)?g.HZ.C1b:g.HZ.jvb;};c.prototype.KCb=function(k,m){return m && m.name && m.version?{name:m.name,version:m.version}:(/OPR/).test(k)?{name:g.bm.opera,version:""}:(/Tesla/).test(k)?{name:g.bm.iab,version:""}:(m=k.match(/Edge\/(\d*)\./))?{name:g.bm.gp,version:m[1]}:(m=k.match(/Edg\/(\d*)\./))?{name:g.bm.JUa,version:m[1]}:(m=k.match(/Chrome\/(\d*)\./))?{name:g.bm.jia,version:m[1]}:(m=k.match(/Firefox\/(\d*)\./))?{name:g.bm.gWa,version:m[1]}:(k=k.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:g.bm.q8a,version:k[1]}:{name:g.bm.jia,version:""};};c.prototype.OCb=function(k,m){return m && m.os && m.os.name && m.os.version?{name:m.os.name,version:m.os.version}:(/CrOS/).test(k)?{name:g.en.LRa,version:""}:(m=k.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:g.en.W1a,version:m[1] + "." + m[2] + "." + m[3]}:(/Windows NT/).test(k)?{name:g.en.Wwa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(k) || (/Android.*Chrome\/[.0-9]* /).test(k)?{name:g.en.Mga,version:""}:(/Linux/).test(k)?{name:g.en.w1a,version:""}:(/iPhone/).test(k)?{name:g.en.N_a,version:""}:{name:g.en.Wwa,version:""};};Sa.Object.defineProperties(c.prototype,{W_a:{configurable:!0,enumerable:!0,get:function(){return this.HF(g.bm.jia);}},ST:{configurable:!0,enumerable:!0,get:function(){return this.HF(g.bm.gp);}},Zx:{configurable:!0,enumerable:!0,get:function(){return this.HF(g.bm.JUa);}},x5:{configurable:!0,enumerable:!0,get:function(){return this.HF(g.bm.gWa);}},joa:{configurable:!0,enumerable:!0,get:function(){return this.HF(g.bm.opera);}},XT:{configurable:!0,enumerable:!0,get:function(){return this.HF(g.bm.q8a);}},v0a:{configurable:!0,enumerable:!0,get:function(){return this.HF(g.bm.iab);}},PT:{configurable:!0,enumerable:!0,get:function(){return this.LF(g.en.Mga);}},jL:{configurable:!0,enumerable:!0,get:function(){return this.LF(g.en.N_a);}},r5:{configurable:!0,enumerable:!0,get:function(){return this.LF(g.en.Mga) && this.FLb(g.HZ.phone);}},RT:{configurable:!0,enumerable:!0,get:function(){return this.LF(g.en.LRa);}},LLb:{configurable:!0,enumerable:!0,get:function(){return this.LF(g.en.w1a);}},KF:{configurable:!0,enumerable:!0,get:function(){return this.LF(g.en.W1a);}},mv:{configurable:!0,enumerable:!0,get:function(){return this.LF(g.en.Wwa);}},An:{configurable:!0,enumerable:!0,get:function(){return this.I4(n.hy,this.Vc.version);}},zSb:{configurable:!0,enumerable:!0,get:function(){return this.I4(n.hy,this.Vc.D7.version);}},ASb:{configurable:!0,enumerable:!0,get:function(){return this.I4(n.OL,this.Vc.D7.version);}},BSb:{configurable:!0,enumerable:!0,get:function(){return this.I4(n.gM,this.Vc.D7.version);}}});f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.LLa)),r.__param(1,(0,l.l)(h.NO)),r.__param(2,(0,l.l)(a.M_))],f);b.Rya=f;(function(k){k[k.hy=0]="major";k[k.OL=1]="minor";k[k.gM=2]="patch";k[k.L8=3]="revision";})(n=b.RLa || (b.RLa={}));},function(r,b,a){var l,g,h;function c(d,f,n){this.oc=d;this.Sva=f;this.gv=n;}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;r=a(0);l=a(46);g=a(1);h=a(3);c.prototype.JA=function(){this.Qi || (this.Qi=this.oc.Cj((0,h.Jb)(this.Sva),this.gv));};c.prototype.Pp=function(){this.Qi && this.Qi.cancel();this.Qi=void 0;};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(l.wi))],a);b.pLa=a;},function(r,b,a){var l,g;function c(h,d){this.oc=h;this.A2=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;r=a(0);l=a(1);a=a(46);c.prototype.Qk=function(h){this.jh();this.Qi=this.oc.Cj(this.A2,h);};c.prototype.jh=function(){this.Qi && this.Qi.cancel();this.Qi=void 0;};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wi))],g);b.jAa=g;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;r=a(0);l=a(1);g=a(221);c.prototype.nK=function(h,d){var f;f=this;h && Object.entries(d).forEach(function(n){var k,m,p;k=ma(n);n=k.next().value;k=k.next().value;if(f.uLb(k)){m=ma(k);k=m.next().value;p=m.next().value;m=h[k];Array.isArray(m)?(f.Aja(h,n,k),m.forEach(function(q){f.nK(q,p);})):k === g.aj?Object.values(h).forEach(function(q){f.nK(q,p);}):(f.Aja(h,n,k),"object" === typeof m && f.nK(m,p));}else f.Aja(h,n,k);});};c.prototype.uLb=function(h){return Array.isArray(h);};c.prototype.Aja=function(h,d,f){h.hasOwnProperty(d) || d === f || Object.defineProperty(h,d,{get:function(){return h[f];},set:function(n){return h[f]=n;},enumerable:!0});};a=c;a=r.__decorate([(0,l.U)()],a);b.wBa=a;},function(r,b,a){var l,g,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(0);l=a(11);g=a(16);a=a(1);c.prototype.Js=function(){return this.tLb()?g.QAa:(/widevine/i).test(this.config().Fl)?g.$aa:(/fps/i).test(this.config().Fl)?"fairplay":g.GY;};c.prototype.tLb=function(){return (/clearkey/i).test(this.config().Fl);};h=c;h=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(l.ac))],h);b.sFa=h;},function(r,b,a){var l,g,h,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;r=a(0);h=a(1);a=a(12);d={bU:!1,reason:"uninitialized"};null === (g=null === (l=null === a.je || void 0 === a.je?void 0:a.je.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === g?void 0:g.call(l,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?{bU:!0,version:f}:{bU:!1,reason:"undefined"};}).catch(function(){d={bU:!1,reason:"exception"};});Sa.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,h.U)()],l);b.KLa=l;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t;function c(w,u,y,x,z,A){this.Sk=w;this.config=y;this.lo=x;this.ta=z;this.is=A;this.log=u.Sa("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.rza=b.Eaa=void 0;r=a(0);g=a(1);h=a(2);d=a(6);f=a(3);n=a(81);k=a(11);m=a(63);p=a(27);q=a(25);v=a(74);t=a(41);b.Eaa="errors";c.prototype.load=function(){var w,u;w=this;if(!this.config().SUa)return Promise.resolve([]);u=(0,f.Jb)(this.config().btb);return this.lo.Lp(u,this.z1a([])).catch(function(y){w.log.error("Load failed.",y);return [];});};c.prototype.add=function(w,u,y,x,z){var A;A=this;return this.config().SUa && u && y && (u === v.hb.Sca || u === v.hb.R_ + "." + t.St)?this.z1a([{time:w,keySystem:u,code:y,cc:x,Lc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.KNb=function(){var w;w=this;return this.Sk.create().then(function(u){return u.load(b.Eaa).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.za === h.R.Iw)return (w.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.vEb=function(w){return {time:(0,f.th)(w[0]),keySystem:w[1],code:w[2],cc:w[3],Lc:w[4]};};c.n2b=function(w){return [w.time.ca(f.fm),w.keySystem,w.code,w.cc,w.Lc];};c.prototype.xYb=function(w){var u;u={version:1,errors:w.map(l.n2b)};return this.Sk.create().then(function(y){return y.save(b.Eaa,u,!1);}).then(function(){return w;});};c.prototype.iDb=function(w){var u,y;u=(0,f.th)(this.config().atb);y=this.ta.se.wa(u);return w.filter(function(x){return x.time.wa(y).p0a();});};c.prototype.B4b=function(w){return w.filter(this.rLb.bind(this)).map(this.vEb);};c.prototype.rLb=function(w){return this.is.Rj(w[0]) && this.is.Po(w[1]) && this.is.Rj(w[2]) && (this.is.Rj(w[3]) || void 0 === w[3]) && (this.is.Po(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.dDb=function(w){var u;u=this;return w.filter(function(y){return u.config().nCb.includes(y.code);});};c.prototype.eDb=function(w){return w.slice(-this.config().Zsb);};c.prototype.z1a=function(w){var u;u=this;return this.KNb().then(function(y){return u.B4b(y);}).then(function(y){return u.iDb(y);}).then(function(y){return y.concat(w);}).then(function(y){return u.dDb(y);}).then(function(y){return u.eDb(y);}).then(function(y){return u.xYb(y);});};a=l=c;a=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(n.dw)),r.__param(1,(0,g.l)(d.Va)),r.__param(2,(0,g.l)(k.ac)),r.__param(3,(0,g.l)(m.Bz)),r.__param(4,(0,g.l)(p.wg)),r.__param(5,(0,g.l)(q.Qf))],a);b.rza=a;},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.R1a=void 0;c=a(743);l=a(744);r=a(1);g=a(111);h=a(6);d=a(749);b.R1a=new r.Xc(function(f){f(h.Va).to(l.NEa).da();f(g.dI).to(c.OEa).da();f(h.Sba).to(d.CEa).da();});},function(r,b,a){var l;function c(){this.U9a={};this.Um=[];}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;r=a(0);a=a(1);c.prototype.u8=function(g,h){h && (this.U9a[g]=h,this.Um=Object.values(this.U9a));};l=c;l=r.__decorate([(0,a.U)()],l);b.OEa=l;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q){this.Ea=m;this.Um=p;this.gpa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;r=a(0);l=a(222);g=a(1);h=a(746);d=a(17);f=a(111);n=a(6);k=a(747);c.prototype.Sa=function(m,p,q,v,t){q=void 0 === q?this.Um:q;return p?new h.sIa(this.Ea,this.gpa,q,p,m):t?new k.Zxa(this.Ea,this.gpa,q,m,v || "",t):new l.cI(this.Ea,this.gpa,q,m);};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.Gc)),r.__param(1,(0,g.l)(f.dI)),r.__param(2,(0,g.l)(n.Sba))],a);b.NEa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VQa=void 0;b.VQa=function(a,c){var g;a=a.MGb();for(var l=0;l < c.length;++l){g=c[l];void 0 != g && null != g && (g.sg && (g=g.sg),g.constructor === Uint8Array?a.bqb(g):"MediaRequest" === g.constructor.name?a.Npb(g):"string" === typeof g?a.Zpb(g):"function" === typeof g?a.Gpb(g):g instanceof Error?a.Fpb(g):g instanceof Object && "function" === typeof g.toJSON?a.iPa(g.toJSON()):g instanceof Object?a.iPa(g):a.dqb(g));}return a.Dh();};},function(r,b,a){var l,g,h;function c(d,f,n,k,m){d=h.cI.call(this,d,f,n,m) || this;d.j=k;(0,l.Yn)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.sIa=void 0;l=a(54);g=a(352);h=a(222);ha(c,h.cI);c.prototype.F2=function(d){return new c(this.Ea,this.a2,this.Um,this.j,d);};c.prototype.cA=function(d,f,n){d=new g.Rba(d,this.Cn,this.Ea.Db(),f,n,this.j.index);f=ma(this.Um.Um);for(n=f.next();!n.done;n=f.next()){n=n.value;n(d,this.j);}};b.sIa=c;},function(r,b,a){var l,g;function c(h,d,f,n,k,m){h=l.cI.call(this,h,d,f,n) || this;h.groups=k;Array.isArray(m)?h.prefix=m:m && "string" === typeof m && (h.prefix=[],h.prefix.push(m));return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;l=a(222);g=a(748);ha(c,l.cI);c.prototype.cA=function(h,d,f){h=new g.Yxa(h,this.Cn,this.Ea.Db(),d,f,this.prefix);d=ma(this.Um.Um);for(f=d.next();!f.done;f=d.next()){f=f.value;f(h);}};c.prototype.F2=function(h){return new c(this.Ea,this.a2,this.Um,h,this.groups,this.prefix);};b.Zxa=c;},function(r,b,a){var l,g;function c(h,d,f,n,k,m,p){this.level=h;this.Cn=d;this.timestamp=f;this.message=n;this.Fc=k;this.prefix=m;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.Yxa=void 0;l=a(3);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.X9=function(h,d){h=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.W0b(!!h));return (this.timestamp.ca(l.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (g[this.level] || this.level) + "|" + this.Cn + "| " + h;};c.prototype.W0b=function(h){var k;for(var d=this.Fc.length,f="",n=0;n < d;++n){k=this.Fc[n].qt;n && f.length && (f+=" ");if("object" === typeof k){if(null === k)f+="null";else if(k instanceof Error)f+=this.V0b(k,h);else try{f+=JSON.stringify(k);}catch(m){f+=this.U0b(k);}}else f+=k;}return f;};c.prototype.V0b=function(h,d){return h.toString() + (h.stack && !d?"\n" + h.stack:"") + "\n";};c.prototype.U0b=function(h){var d;d=[];return JSON.stringify(h,function(f,n){if("object" === typeof n && null !== n){if(-1 !== d.indexOf(n))return "<cycle>";d.push(n);}return n;});};b.Yxa=c;},function(r,b,a){var l,g,h,d;function c(f,n){this.dc=f;this.Qd=n;}Object.defineProperty(b,"__esModule",{value:!0});b.CEa=void 0;r=a(0);l=a(1);g=a(750);h=a(29);a=a(30);c.prototype.MGb=function(){return new g.DEa(this.dc,this.Qd);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.$g)),r.__param(1,(0,l.l)(a.dh))],d);b.CEa=d;},function(r,b,a){var p,q,v;function c(t,w){this.dc=t;this.Qd=w;this.Fc=[];}function l(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function g(t){return m.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function h(t,w){w=m.call(this,w,function(u){return {Base64:t.encode(u)};}) || this;w.dc=t;return w;}function d(t,w){w=m.call(this,w,function(u){return u();}) || this;w.Qd=t;return w;}function f(t){return m.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function n(t,w,u){w=m.call(this,w,u) || this;w.Qd=t;return w;}function k(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function m(t,w){this.qt=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.DEa=void 0;r=a(0);p=a(1);q=a(30);a=a(29);m.prototype.tS=function(t){return this.qt === t;};ha(k,m);k.prototype.pH=function(t,w){return w?"":"\r\n" + this.qt;};ha(n,m);n.prototype.pH=function(){var t;t="";this.Qd.KA(this.value,function(w,u){try{t+=", " + w + ": " + u;}catch(y){try{t+=", " + w + ": " + JSON.stringify(u);}catch(x){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};ha(f,m);f.prototype.pH=function(t){var w;w="\r\n" + this.qt.message;t || (w+="\r\n" + this.qt.stack);return w;};ha(d,m);d.prototype.pH=function(){var t;t="";this.Qd.KA(this.value,function(w,u){t+=", " + w + ": " + u;});return t.replace(/[\r\n]+ */g," ");};ha(h,m);h.prototype.pH=function(t,w){return this.qt && !w?"\r\n" + this.dc.encode(this.qt):"";};ha(g,m);g.prototype.pH=function(){return this.qt?this.qt.toJSON():"";};ha(l,m);l.prototype.pH=function(){return ", " + (this.qt.toString?"" + this.qt.toString():"");};c.prototype.Zpb=function(t){this.Fc.push(new k(t));};c.prototype.iPa=function(t){this.Fc.push(new n(this.Qd,t));};c.prototype.Fpb=function(t){this.Fc.push(new f(t));};c.prototype.Gpb=function(t){this.Fc.push(new d(this.Qd,t));};c.prototype.bqb=function(t){this.Fc.push(new h(this.dc,t));};c.prototype.Npb=function(t){this.Fc.push(new g(t));};c.prototype.dqb=function(t){this.Fc.push(new l(t));};c.prototype.Dh=function(){return this.Fc;};v=c;v=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(a.$g)),r.__param(1,(0,p.l)(q.dh))],v);b.DEa=v;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.r3a=void 0;r=a(1);c=a(353);l=a(752);b.r3a=new r.Xc(function(g){g(c.TFa).to(l.SFa).da();});},function(r,b,a){var l,g,h;function c(d){this.oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;r=a(0);l=a(1);g=a(753);a=a(46);c.prototype.XSa=function(d,f){return new g.UFa(this.oc,d,f);};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wi))],h);b.SFa=h;},function(r,b){function a(c,l,g){this.oc=c;this.config=l;this.getTime=g;}Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;a.prototype.observe=function(c,l){var g;g=this;this.cancel();this.Qi=this.oc.QM(this.config.xYa(),function(){g.getTime() >= c && (g.cancel(),l());});};a.prototype.cancel=function(){this.Qi && (this.Qi.cancel(),this.Qi=void 0);};b.UFa=a;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.L=void 0;r=a(1);c=a(223);l=a(354);g=a(755);h=a(758);d=a(357);f=a(759);b.L=new r.Xc(function(n){n(c.Ada).to(g.nKa).da();n(l.jKa).to(h.iKa).da();n(d.sLa).to(f.rLa).da();});},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w;function c(u,y,x,z,A,B,C,D,E,G){this.Ea=u;this.tf=y;this.PL=x;this.Nwa=z;this.yV=A;this.oc=B;this.tJ=C;this.qh=D;this.tka=E;this.vh=G;}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;r=a(0);l=a(1);g=a(17);h=a(6);d=a(353);f=a(139);n=a(355);k=a(356);m=a(756);p=a(757);q=a(97);v=a(46);t=a(351);a=a(30);c.prototype.Qxb=function(u,y,x){return new m.oKa(this.Ea,this.tf,this.PL,this.Nwa,y,u,this.qh,this.yV,this.vh,this.tka,x);};c.prototype.mxb=function(u,y){return new p.Qya(this.tf,u,y,this.PL,this.oc,this.tJ);};w=c;w=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Gc)),r.__param(1,(0,l.l)(h.Va)),r.__param(2,(0,l.l)(d.TFa)),r.__param(3,(0,l.l)(k.WLa)),r.__param(4,(0,l.l)(n.oIa)),r.__param(5,(0,l.l)(v.wi)),r.__param(6,(0,l.l)(q.cO)),r.__param(7,(0,l.l)(f.oP)),r.__param(8,(0,l.l)(t.BO)),r.__param(9,(0,l.l)(a.dh))],w);b.nKa=w;},function(r,b,a){var d,f,n;function c(k,m,p,q,v,t,w,u,y,x,z){var A;A=this;this.Ea=k;this.PL=p;this.Wra=q;this.config=v;this.fb=t;this.qh=w;this.yV=u;this.vh=y;this.Ij=z;this.uCb=Object.values(d.Ka).map(function(B){return {event:B,gv:function(C){return A.Cb.zc(B,C);}};});this.Cb=x.create();this.eC=[];this.log=m.Sa("SegmentManager");this.aF=!0;this.ik=this.vh.createElement("div",n.pda);}function l(k,m,p,q,v,t,w,u,y,x,z){var A;A=this;this.log=k;this.config=m;this.iRb=p;this.Wra=q;this.qh=v;this.yV=t;this.xt=w;this.u=u;this.ik=y;this.fb=x;this.Ij=z;this.HJ=function(){A.RB && (A.RB.cancel(),A.RB=void 0);};this.Tma=function(B){A.log.trace("Received the transition event",{movieId:B.O});A.bWb();};this.$oa=function(){};this.log.debug("Constructing session data",g(u));this.j2b=new Promise(function(B){A.bWb=B;});}function g(k){return {movieId:k.O};}function h(k){return JSON.stringify({movieId:k.O,startPts:k.gb,logicalEnd:k.Mi,params:k.qb?{trackingId:k.qb.Hj,authParams:k.qb.O1,sessionParams:k.qb.Rl,disableTrackStickiness:k.qb.Jja,uiPlayStartTime:k.qb.DC,loadImmediately:k.qb.e6,playbackState:k.qb.playbackState?{currentTime:k.qb.playbackState.currentTime,volume:k.qb.playbackState.volume,muted:k.qb.playbackState.muted,playbackRate:k.qb.playbackState.playbackRate}:void 0,pin:k.qb.u5a,heartbeatCooldown:k.qb.fna,uiLabel:k.qb.od,uxLabels:k.qb.o$}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;d=a(15);f=a(3);n=a(16);l.prototype.load=function(k){var m,p;m=this;this.log.trace("Loading new segment",g(this.u));this.Y=this.Wra.RJ(this.config,this.yV,this.qh,this.u,this.fb,this.Ij);this.Y.addEventListener(d.Ka.bL,function(q){m.log.trace("Segment is inactive",g(m.u));m.xt.close(m.qh(q.errorCode));});this.Y.addEventListener(d.Ka.closed,this.HJ);if(k)(this.log.debug("Pausing background segment",g(this.u)),this.Y.addEventListener(d.Ka.qoa,this.Tma),this.Y.m5a());else {this.ik.appendChild(this.Y.Gm());p=function(q){m.Tma(q);m.Y.removeEventListener(d.Ka.loaded,p);};this.Y.addEventListener(d.Ka.loaded,p);}};l.prototype.observe=function(){var k,m,p;k=this;this.log.trace("Observing segment",h(this.u));if(this.RB)this.log.trace("Segment is currently observing",g(this.u));else if(this.u.qb && this.u.qb.e6)this.$oa(this);else {m=this.iRb.XSa(this.config,function(){var q;if(k.Y){q=k.Y.Aq();if(q)return q;}return 0;});p=this.itb(this.u);this.log.trace("Adding a moment to watch",{time:p});m.observe(p,function(){k.log.trace("Segment has reached its loading point",g(k.u));k.$oa(k);k.HJ();});}};l.prototype.close=function(k){this.log.info("Closing segment",{segment:h(this.u),error:k});return this.Y?(this.Y.removeEventListener(d.Ka.qoa,this.Tma),this.Y.close(k)):Promise.resolve();};l.prototype.iSb=function(k){this.$oa=k;};l.prototype.itb=function(k){var m,p;m=k.Mi;k=k.qb?k.qb.e6:!1;p=0;m && !k && (p=m - this.config.YXa(),p < this.config.aYa() && (k=m - this.config.aYa(),p=m - k / 2));return p;};c.prototype.NHb=function(){return this.Kg && this.Kg.Y?this.Kg.Y.isReady():!1;};c.prototype.Gm=function(){return this.ik;};c.prototype.sF=function(){if(!this.Kg || !this.Kg.Y)throw Error("Player not ready");return this.Kg.Y;};c.prototype.P3b=function(k){var m,p;p=this.Pka(k);p?this.Gbb(p,k):this.fb.Hd(k.id) || this.log.error("Tried to update a non-existent segment",{segment:h(k),currentMovieId:this.Kg.u.O,queuedMovieIds:this.eC.map(function(q){return q.u.O;}),xid:null === (m=this.Kg.Y) || void 0 === m?void 0:m.Bq()});};c.prototype.pf=function(k){var m;this.log.info("Adding segment",h(k));if(this.aF){this.log.trace("First segment, loading",g(k));m=this.E1a(k);this.aF=!1;}else (this.log.trace("Subsequent segment, caching",g(k)),(m=this.Pka(k))?this.Gbb(m,k):(m=this.createSession(k),this.eC.push(m),this.Kg.observe()));return m?m.j2b:null;};c.prototype.transition=function(k,m){var p,q,v;q=this.gG;v=null === q || void 0 === q?void 0:q.Y;if(q && v)return (this.gG=void 0,this.log.info("Transitioning segment",h(q.u)),v.Nua(this.Ea.Db().ca(f.na)),this.Tab(q,m));m=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Kg.u.O,xid:null === (p=this.Kg.Y) || void 0 === p?void 0:p.Bq(),nextSegmentId:k,currentSegment:h(this.Kg.u),nextSegment:m?h(m):void 0,queuedMovieIds:this.eC.map(function(t){return t.u.O;})});return Promise.reject();};c.prototype.close=function(k){var m;m=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.Kg.u)),nextSession:this.gG?JSON.stringify(g(this.gG.u)):void 0});k=[this.Kg.close(k)];this.gG && k.push(this.gG.close());return Promise.all(k).then(function(){m.gG=void 0;m.eC=[];m.aF=!0;});};c.prototype.addListener=function(k,m,p){this.Cb.addListener(k,m,p);};c.prototype.removeListener=function(k,m){this.Cb.removeListener(k,m);};c.prototype.Gbb=function(k,m){this.JSb(k.u,m);this.log.trace("Overwrote existing segment data",h(k.u));};c.prototype.E1a=function(k){var m,p;m=this;this.log.info("Loading the next episode",g(k));if(this.Kg){this.config.zla()[k.O]=k.gb;p=this.Pka(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",g(k)),p.iSb(function(q){m.vab(q);}),this.Kg?(this.log.trace("Subsequent playback, caching player and pausing",g(k)),this.gG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",g(k)),p.load(!1),this.Tab(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",g(k));};c.prototype.Tab=function(k,m){var p,q,v,t,w;m=void 0 === m?{}:m;t=k.Y?null === (p=k.Y) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=k.Y) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Kg.u.O,mid:k.u.O,error:t,xid:null === (v=k.Y) || void 0 === v?void 0:v.Bq()}),Promise.reject());this.log.trace("Playing episode",g(k.u));p=this.Kg;this.Kg=k;k=this.Kg.Y;k.xua(!1);this.HH(k,p?p.Y:void 0);if(p && p.Y){w=p.Y.Gm();q=k.Gm();w.style.display="none";p=p.close();this.ik.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";k.i$(m);k.gN();k.play();}return Promise.resolve();};c.prototype.vab=function(k){var m,p,q,v,t;if(this.eC.length && k.Y){m=k.Y.Aq();p=this.eC[0];q=this.Kg.u.Mi;v=this.Kg.u.qb?this.Kg.u.qb.e6:!1;if(q || v){v?t=0:q && (t=q - this.config.YXa());null !== m && m >= t && (this.log.info("Got a time change, loading the next player",g(p.u)),this.E1a(p.u),this.eC.splice(0,1),this.vab(k));}}};c.prototype.Pka=function(k){return this.Kg.u.O === k.O?this.Kg:this.eC.find(function(m){return m.u.O === k.O;});};c.prototype.JSb=function(k,m){k.gb=m.gb || k.gb;k.Mi=m.Mi || k.Mi;k.qb=m.qb || k.qb;k.X=m.X || k.X;};c.prototype.createSession=function(k){return new l(this.log,this.config,this.PL,this.Wra,this.qh,this.yV,this,k,this.ik,this.fb,this.Ij);};c.prototype.HH=function(k,m){this.uCb.forEach(function(p){m && m.removeEventListener(p.event,p.gv);k.addEventListener(p.event,p.gv);});this.Cb.zc(d.lD.rW);};b.oKa=c;},function(r,b,a){var h,d,f,n,k;function c(m,p,q,v,t,w){var u;u=this;this.Y=p;this.j=q;this.PL=v;this.oc=t;this.tJ=w;this.HJ=function(){u.RB && (u.RB.cancel(),u.RB=void 0);};this.log=m.Sa("SegmentManager",this.j);this.L=new Map();this.j.Ua.Yf && (this.j.addEventListener(f.ea.NG,function(y){return u.xv(y);}),this.j.addEventListener(f.ea.closed,this.HJ));}function l(m,p){this.id=m;this.iia=p;}function g(m,p,q,v){return d.Jc.call(this,m,q,void 0,void 0,void 0,p,void 0,v) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;h=a(2);d=a(34);f=a(15);n=a(3);k=a(18);ha(g,d.Jc);g.prototype.toString=function(){return this.code + "-" + this.cc + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.sa,contentEndPts:this.qa};};Sa.Object.defineProperties(l.prototype,{sa:{configurable:!0,enumerable:!0,get:function(){return this.iia.startTimeMs;}},qa:{configurable:!0,enumerable:!0,get:function(){return this.iia.endTimeMs;}},py:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.iia.next);}}});c.prototype.xv=function(m){var p;p=this;!1;m=m.position.segmentId;0 === this.L.size && Object.entries(this.j.TS()).forEach(function(q){var v;v=ma(q);q=v.next().value;v=v.next().value;p.L.set(q,new l(q,v));});this.aa=this.L.get(m);};c.prototype.play=function(m){this.xM && (this.xM=void 0);this.HJ();this.log.trace("Playing segment",m);return this.g0a(m)?this.KTb(m):this.xV(m);};c.prototype.wM=function(m){this.log.trace("Queueing segment",m);return this.g0a(m)?this.QVb(m):this.RVb(m);};c.prototype.Ti=function(m,p){var q,v;q=this;v=this.j.ab;if(null === v || void 0 === v || !v.Ah)return Promise.reject(this.getError(h.V.yya,"ASE session manager is not yet initialized",h.R.paa,{segmentId:m,updates:p}));this.log.trace("Updating next segment weights",m,p);return new Promise(function(t,w){try{v.x3b(m,p);q.j.fireEvent(f.ea.twa,{J:m,a4b:p});t();}catch(u){w(q.getError(h.V.yya,"updateNextSegmentWeights threw an exception",h.R.Ydb,{segmentId:m,updates:p,error:u}));}});};c.prototype.g0a=function(m){return this.aa?void 0 !== this.j.TS()[this.aa.id].next[m]:!1;};c.prototype.oma=function(){var m;m=this.j.ab;if(null === m || void 0 === m?0:m.Ah)return m.Rn().STb;};c.prototype.FHb=function(){var m;m=this.j.ab;if(null === m || void 0 === m?0:m.Ah)return m.Rn().id;};c.prototype.yFb=function(){var m;m=this.j.ab;if(null === m || void 0 === m?0:m.Ah)return (m={vR:0},m.vR);};c.prototype.KTb=function(m){var p,q;p=this;q=this.j.ab;return null !== q && void 0 !== q && q.Ah?this.aa && 1 === this.aa.py.length?this.xV(m):this.j.ee?void 0 === this.yFb()?(this.log.error("playNextSegment: branchOffset missing",{segment:m}),this.xV(m)):new Promise(function(v,t){var z,A,B,C,D,E;function w(){!B && A && z && (E.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:m,stopped:A,repositioned:z,completed:B}),q.h2(m,!1)?(v(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:m}),p.xV(m).then(v).catch(t)));}function u(){z=!0;p.log.trace("Player is repositioned",{id:m,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(f.ea.vj,u);w();}function y(){p.j.removeEventListener(f.ea.iC,y);q.stop();}function x(){A=!0;p.log.trace("ASE is stopped",{id:m,stopped:A,repositioned:z,completed:B});q.removeEventListener("stop",x);w();}z=!1;A=!1;B=!1;C=p.L.get(m);D=p.oma();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:m}),p.xV(m));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:m,seekTo:D,currentSegment:p.aa,nextSegment:C},null,"  "));p.j.fireEvent(f.ea.a7,{ih:p.aa && p.aa.id,TL:m});q.addEventListener("stop",x);p.j.addEventListener(f.ea.iC,y);p.j.addEventListener(f.ea.vj,u);E=p.oc.Cj((0,n.th)(10),function(){B=!0;E.cancel();t(p.getError(h.V.fO,"Timed out waiting for the player to be repositioned and ASE to be stopped",h.R.Udb,{id:m,stopped:A,repositioned:z,completed:B}));});p.Y.seek(D,f.Sc.sI);}):(this.log.warn("MediaPresenter is not initialized",m),Promise.reject(this.getError(h.V.fO,"MediaPresenter is not initialized",h.R.Vdb,{id:m}))):Promise.reject(this.getError(h.V.fO,"ASE session manager is not yet initialized",h.R.paa,{id:m}));};c.prototype.xV=function(m){var p;p=this.L.get(m);return p?this.oW(p,h.V.fO):Promise.reject(this.getError(h.V.fO,"Unable to find the separated segment",h.R.xya,{id:m}));};c.prototype.QVb=function(m){var p;p=this.j.ab;if(null === p || void 0 === p || !p.Ah)return Promise.reject(this.getError(h.V.gO,"ASE session manager is not yet initialized",h.R.paa,{id:m}));this.j.fireEvent(f.ea.a7,{ih:this.aa && this.aa.id,TL:m});if(p.h2(m,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:m});return this.YTa(m);};c.prototype.RVb=function(m){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:m,mid:this.j.O,srcsegment:this.FHb()});return this.YTa(m);};c.prototype.YTa=function(m){var p,q;p=this;if(this.xM)return Promise.reject(this.getError(h.V.gO,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",h.R.Xdb,{currentSegment:this.aa?this.aa.id:void 0,queuedSegment:this.xM.id,failedSegment:m}));if(!this.aa)return Promise.reject(this.getError(h.V.gO,"Unable to queue segment for delayed seek because there is no currently playing segment",h.R.Tdb,{nextSegmentid:m}));q=this.L.get(m);if(!q)return Promise.reject(this.getError(h.V.gO,"Unable to find the separated segment",h.R.xya,{nextSegmentid:m,currentSegmentId:this.aa.id}));this.xM={id:m,promise:new Promise(function(v,t){var w;p.RB=p.PL.XSa({xYa:function(){return (0,n.Jb)(100);}},function(){return p.Y.Aq() || 0;});w=p.oma() - k.config.o3a;p.log.trace("Adding moment for queued segment for delayed seek",{segment:m,pts:w});p.RB.observe(w,function(){p.log.trace("Moment has arrived, seek to segment",{segment:m,currentSegment:p.aa.id,playerEndPts:p.oma(),pts:w});p.xM=void 0;p.HJ();p.oW(q,h.V.gO).then(v).catch(t);});})};this.xM.promise.catch(function(v){p.j.dd(v.code,v);});return Promise.resolve();};c.prototype.oW=function(m,p){var q;q=this;return new Promise(function(v,t){var w;try{w=m.sa;!1;q.Y.seek(w,f.Sc.Gw);v();}catch(u){t(q.getError(p,"Seek threw an exception",h.R.Wdb,{id:m.id,error:u}));}});};c.prototype.getError=function(m,p,q,v){this.log.warn(p,v);return new g(m,p,q,v);};b.Qya=c;},function(r,b,a){var g,h;function c(){}function l(d,f,n,k,m){this.debug=d;this.version=f;this.zMb=n;this.HTb=k;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;r=a(0);g=a(1);h=a(3);l.prototype.nGb=function(){return this.config().xF;};l.prototype.zla=function(){return this.config().IQa;};l.prototype.xYa=function(){return (0,h.Jb)(this.config().kUb);};l.prototype.YXa=function(){return this.config().ONb;};l.prototype.aYa=function(){return this.config().COb;};c.prototype.jF=function(d,f,n,k,m){return new l(d,f,n,k,m);};a=c;a=r.__decorate([(0,g.U)()],a);b.iKa=a;},function(r,b,a){var l,g,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;r=a(0);l=a(1);g=a(11);h=a(22);c.prototype.zVb=function(d,f,n,k){this.config().iZb && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (n={isBranching:k || void 0,isPlaygraph:!k || void 0,mid:f.O,xid:f.ja,srcxid:n.ja,srcmid:n.O,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!k && d.auxMid && d.auxMid !== f.O && (n.moffms=(0,h.Xf)(f.QR)),f.AL.$a.transition(n)));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.ac))],a);b.rLa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.scb=void 0;r=a(1);c=a(356);l=a(761);b.scb=new r.Xc(function(g){g(c.WLa).to(l.VLa).da();});},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K;function c(O){this.Zb=O;}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(0);l=a(1);g=a(78);h=a(30);d=a(25);f=a(6);n=a(109);k=a(223);m=a(358);p=a(762);q=a(224);v=a(86);t=a(359);w=a(763);u=a(225);y=a(84);x=a(17);z=a(112);A=a(226);B=a(360);C=a(11);D=a(361);E=a(362);G=a(27);F=a(227);H=a(363);K=a(32);c.prototype.RJ=function(O,I,P,N,J,L){return this.Zb.get(C.ac)().l$?new w.XLa(this.Zb.get(f.Va),this.Zb.get(u.ada),this.Zb.get(y.qw),this.Zb.get(x.Gc),this.Zb.get(z.bD),this.Zb.get(n.iba),this.Zb.get(A.eca),this.Zb.get(B.vCa),this.Zb.get(D.GIa),this.Zb.get(E.Ida),this.Zb.get(E.Ida),this.Zb.get(G.wg),this.Zb.get(H.WO),this.Zb.get(F.tba),this.Zb.get(K.Oh),N,P):new p.KDa(this.Zb.get(h.dh),this.Zb.get(d.Qf),this.Zb.get(f.Va),this.Zb.get(n.iba),this.Zb.get(k.Ada),this.Zb.get(q.Mca),this.Zb.get(v.hba),this.Zb.get(t.qHa),this.Zb.get(m.BAa),O,I,P,N,J,L);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.HDa))],a);b.VLa=a;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q,v,t,w,u,y,x,z,A,B,C,D){var E;E=this;this.Qd=k;this.tb=m;this.Cb=q;this.kt=t;this.HR=w;this.GWa=u;this.config=x;this.qh=A;this.u=B;this.j=z.create(B.O,B.Lh,y,C,D,B.qb,B.id,B.X);this.j.background.set(!0);this.log=p.Sa("VideoPlayer",this.j);this.q5a=[];this.ended=!1;this.HH();this.j.state.addListener(function(G){G.newValue === g.Rb.Sd && E.jb(g.Ka.qoa,{movieId:B.O});});this.j.Ua.Yf && (this.xJ=v.mxb(this,this.j),this.j.addEventListener(g.ea.NG,function(G){G=G.position.segmentId;E.SMb !== G && (E.SMb=G,E.jb(g.Ka.SYb,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;l=a(2);g=a(15);h=a(3);d=a(12);f=a(86);n=a(22);c.prototype.isReady=function(){return this.j.state.value === g.Rb.Sd;};c.prototype.iYa=function(){return this.j.O;};c.prototype.Bq=function(){return this.j.ja;};c.prototype.Gm=function(){return this.j.ik;};c.prototype.qB=function(){return this.j.rh.value;};c.prototype.Ss=function(){return this.j.paused.value;};c.prototype.aoa=function(){return this.ended;};c.prototype.mh=function(){var k;k=this.j.Gha.value;return k?{networkStalled:!!k.mr,stalled:!!k.mr,progress:k.progress,progressRollback:!!k.FVb}:null;};c.prototype.getError=function(){var k;k=this.j.kh;return k?k.kX():null;};c.prototype.Mn=function(){var k;return null === (k=this.j.Mn()) || void 0 === k?void 0:k.VBb;};c.prototype.Bl=function(){return this.j.Zc;};c.prototype.IK=function(){return this.Bl().ha?this.Bl().G4():this.Aq();};c.prototype.Aq=function(){return this.j.mediaTime.value;};c.prototype.YWa=function(){var k;k=(this.f4() || 0) + this.j.XWa();return Math.min(k,this.Ela());};c.prototype.f4=function(){return this.Bl().ha?this.Bl().G4():this.j.VA();};c.prototype.Ela=function(){return this.Bl().ha?this.Bl().WXa():this.j.xx.ca(h.na);};c.prototype.eZa=function(){var k;k=this.j.EC.value;return k?{width:k.width,height:k.height}:null;};c.prototype.g4=function(){return this.j.g4();};c.prototype.FWa=function(k){var m,p;return (null === (m=this.j.X) || void 0 === m?0:m.di.NK("generateScreenshots"))?this.GWa.Jn(this.log,this.j.X.di,k):(m=null === (p=this.j.Ua) || void 0 === p?void 0:p.Rm)?this.GWa.sf(this.log,Object.assign({packageId:m},k)):Promise.reject("Unknown packageId");};c.prototype.rXa=function(){return this.OFb(this.j.hUa);};c.prototype.OWa=function(){var k;k=this;return this.j.Vh.map(function(m){return k.np(m);});};c.prototype.dYa=function(){var k;return this.bT(this.j.Vh,null === (k=this.j.X) || void 0 === k?void 0:k.Ha.E2a);};c.prototype.Ima=function(k){var m;m=this;return this.jT(k).map(function(p){return m.np(p);});};c.prototype.ama=function(k){var m;return this.bT(this.jT(k),null === (m=this.j.X) || void 0 === m?void 0:m.Ha.F2a);};c.prototype.foa=function(){return this.j.muted.value;};c.prototype.fZa=function(){return this.j.volume.value;};c.prototype.NWa=function(){var k,m;m=(null === (k=this.yv) || void 0 === k?void 0:k.jc) || this.j.jc.value;return m && this.np(m);};c.prototype.Hma=function(){var k,m;m=(null === (k=this.yv) || void 0 === k?void 0:k.cX) || this.j.yb.value;return m && this.np(m);};c.prototype.R_a=function(){return this.j.background.value;};c.prototype.p9a=function(k){this.j.muted.set(!!k);};c.prototype.B9a=function(k){this.j.volume.set(this.bRb(k));};c.prototype.n9=function(k){this.j.playbackRate.set(k);};c.prototype.RK=function(){return this.j.playbackRate.value;};c.prototype.$8a=function(k){var m,p,q,v,t;m=this;q=this.ES(k);if(q){if(q.Bg)return (this.j.jc.set(q),Promise.resolve());v=(k=(null === (p=this.yv) || void 0 === p?void 0:p.cX) || this.j.yb.value) && this.w0a(q,k)?k:q.Xg[0];p=q.trackId;t=v.trackId;this.yv={jc:q,cX:v};this.jb(g.Ka.sl);this.jb(g.Ka.Ct);v !== k && this.jb(g.Ka.Wk);return this.j.UZa(p,t).then(function(w){w=w.jc;m.yv=void 0;m.j.jc.set(w);}).catch(function(w){m.yv=void 0;w=m.Qd.te(w);m.log.error(w);m.close(m.qh(l.V.eI,{za:l.R.Zba,Ib:w,AF:{cKb:q.trackId,VZa:q.Re,dKb:v.trackId,WZa:v.Re}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Jua=function(k){var m,p,q,v;m=this;q=(null === (p=this.yv) || void 0 === p?void 0:p.jc) || this.j.jc.value;if(null !== q){v=q.Xg;p={};for(var t=0;t < v.length;(p={Cr:p.Cr},t++)){p.Cr=v[t];if(!k && null === p.Cr)return (this.j.yb.set(null),Promise.resolve());if(this.np(p.Cr) === k){if(p.Cr.Bg)return (this.log.info("Setting Timed Text, profile: " + p.Cr.profile),this.j.yb.set(p.Cr),Promise.resolve());k=q.trackId;v=p.Cr.trackId;this.yv={jc:q,cX:p.Cr};this.jb(g.Ka.Wk);return this.j.UZa(k,v).then(function(w){w=w.cX;m.yv=void 0;m.j.yb.set(w);}).catch((function(w){return function(u){m.yv=void 0;u=m.Qd.te(u);m.log.error(u);m.close(m.qh(l.V.eI,{za:l.R.Zba,Ib:u,AF:{cKb:q.trackId,VZa:q.Re,dKb:w.Cr.trackId,WZa:w.Cr.Re}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.xua=function(k){this.j.background.set(k);};c.prototype.gN=function(){this.j.gN();};c.prototype.i$=function(k){this.j.i$(k);};c.prototype.Zh=function(k){return this.j.Zh(k);};c.prototype.sYa=function(){return this.j.Ua;};c.prototype.wv=function(){this.j.wv();};c.prototype.iG=function(k){this.j.iG(k);};c.prototype.sT=function(k,m,p){return this.j.sT(k,m,p);};c.prototype.uga=function(k,m){this.j.addEventListener(k,m,void 0);};c.prototype.addEventListener=function(k,m,p){this.Cb.addListener(k,m,p);};c.prototype.removeEventListener=function(k,m){this.Cb.removeListener(k,m);};c.prototype.vG=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{k.jb(g.Ka.G1a,void 0,!0);m.X && (m.X.Ha.Jcb && k.jb(g.Ka.i5b,m.X.Ha.Jcb,!0),m.X.Ha.ap && k.jb(g.Ka.RYb,{segmentMap:m.X.Ha.ap},!0));p({ia:!0});}catch(q){p({za:l.R.cl,Ib:k.Qd.te(q)});}}));};c.prototype.close=function(k){var m;m=this;this.$Ra || (this.$Ra=new Promise(function(p){k?m.j.xE(k,p):m.j.close(p);}));return this.$Ra;};c.prototype.play=function(){this.j.Ch?this.j.fireEvent(g.ea.s8a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(g.ea.gcb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(g.ea.fcb));};c.prototype.m5a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{VL:!0});};c.prototype.seek=function(k,m,p,q){m=void 0 === m?g.Sc.Gw:m;this.j.Etb() && (this.Bl().ha && this.Bl().B0a(this.Bl().i8a(k))?this.Bl().Z8():this.j.ee?(this.Bl().ha && (k=this.Bl().i8a(k)),this.j.ee.seek(k,m,p,q)):(this.Bl().ha && (k=this.Bl().Zla(k).tl),this.j.tl=k));};c.prototype.C5a=function(k){return this.xJ?(this.log.trace("Playing a segment",k),this.xJ.play(k)):Promise.resolve();};c.prototype.I6a=function(k){return this.xJ?(this.log.trace("Queueing a segment",k),this.xJ.wM(k)):Promise.resolve();};c.prototype.Ti=function(k,m){return this.xJ?(this.log.trace("Updating next segment weights",k,m),this.xJ.Ti(k,m)):Promise.resolve();};c.prototype.nT=function(){var k;k=this.j.Vm.nT();return {bounds:k.uR,margins:k.Rq,size:k.size,visibility:k.visibility};};c.prototype.$M=function(k){var m,p,q;m=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.gX && (m && this.j.gX.Kua(m),p && this.j.gX.Lua(p),"boolean" === typeof k && this.j.gX.Mua(k));this.j.Vm && q && this.j.Vm.ZZb(q);};c.prototype.Nua=function(k){this.j.Xl=k;};c.prototype.aZa=function(k){return this.j.Uy && this.j.Uy.kGb(k) || null;};c.prototype.LWa=function(){return this.Qd.JB({playerver:this.config.version,jssid:this.config.zMb,groupName:this.config.nGb(),xid:this.j.ja,pbi:this.j.index},this.config.HTb,{prefix:"pi_"});};c.prototype.n_a=function(k){this.j.dd(l.V.lBa,l.R.Co,k);};c.prototype.C1a=function(k,m,p,q){if(!this.tb.FPa(k))throw Error("invalid url");this.q5a.push({url:k,name:m,Orb:p,options:q});this.t6a();};c.prototype.yma=function(){var k,m,p,q,v,t,w,u;k={};m=this.j.LW;try{if((this.j.kh && (k.errorCode=this.j.kh.c3,k.errorType=m?"endplay":"startplay"),k.playdelay=(0,n.Xf)(this.j.AR()),k.xid=this.j.ja,this.j.X && this.tb.Po(this.j.X.Ha.Rm) && (k.packageId=Number(this.j.X.Ha.Rm)),k.auth=this.j.iFb(),m)){k.totaltime=this.j.Kk?this.zl(this.j.Kk.mp("content")):0;k.abrdel=this.j.Kk?this.j.Kk.xla():0;p=this.j.ee;q=p?p.mF():null;this.tb.Rj(q) && (k.totdfr=q);q=p?p.XS():null;this.tb.Rj(q) && (k.totcfr=q);v=p?p.yGb():null;v && (k.rbfrs_decoder=v.O2,k.rbfrs_network=v.Y6);k.rbfrs_delay=this.j.Kk?this.j.Kk.Vna:0;k.init_vbr=this.j.n5;t=this.tF();this.tb.JE(t) && (k.pdltime=t);w=this.j.Ld.value;u=w && w.stream;u && (k.vbr=u.bitrate,k.vdlid=u.Sb);k.bufferedTime=this.j.XWa();}}catch(y){this.log.error("error capturing session summary",y);}return k;};c.prototype.lK=function(k){this.j.Ua.Rl && (this.j.Ua.Rl.userEngageAction=1);return this.tb.Rj(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.kt.create(this.j)),{action:k}),this.HR(f.wo.lK).Jn(this.log,this.j.X.di,k).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.cc,errorExternalCode:m.Lc,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};c.prototype.OFb=function(k){return {register:k.register.bind(k),notifyUpdated:k.f4a.bind(k),getModel:k.aHb.bind(k),getGroups:k.aT.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.np=function(k){var m;m=k.Gsa=k.Gsa || ({trackId:k.trackId,bcp47:k.Re,displayName:k.displayName,trackType:k.uh,rawTrackType:k.gC,channels:k.channels});this.koa(k) && (m.isNative=k.isNative,m.surroundFormatLabel=k.VW);this.loa(k) && (m.isNoneTrack=k.Un(),m.isForcedNarrative=k.Lm(),m.isImageBased=k.ak);m.subType=k.fH;m.variant=k.variant;return m;};c.prototype.koa=function(k){return "undefined" !== typeof k.isNative;};c.prototype.loa=function(k){return "undefined" !== typeof k.Un && "undefined" !== typeof k.Lm;};c.prototype.ES=function(k){var m;m=this;return k && this.j.Vh.find(function(p){return m.np(p) === k;});};c.prototype.jT=function(k){var m,p;k=this.ES(k) || (null === (m=this.yv) || void 0 === m?void 0:m.jc) || this.j.jc.value;return null !== (p=null === k || void 0 === k?void 0:k.Xg) && void 0 !== p?p:[];};c.prototype.bT=function(k,m){var p;p=k.length - 1;if("number" !== typeof m)return p;k=k.findIndex(function(q){return q.$b > m;});return -1 === k?p:k - 1;};c.prototype.w0a=function(k,m){return 0 <= k.Xg.indexOf(m);};c.prototype.bRb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.zl=function(k){return this.tb.Rj(k)?(k / 1E3).toFixed(0):"";};c.prototype.jb=function(k,m,p){m=m || ({});m.target=this;this.Cb.zc(k,m,!p);};c.prototype.HH=function(){var k;k=this;this.j.addEventListener(g.ea.Lva,function(){k.jb(g.Ka.Fn);});this.j.EC.addListener(function(){k.jb(g.Ka.Owa);});this.j.addEventListener(g.ea.obb,function(){k.jb(g.Ka.nbb);});this.j.addEventListener(g.ea.v6,function(){k.jb(g.Ka.Y1);});this.j.addEventListener(g.ea.vj,function(){k.jb(g.Ka.Y1);});this.j.addEventListener(g.ea.bL,function(m){k.jb(g.Ka.bL,{errorCode:m});});this.j.addEventListener(g.ea.iha,function(){k.jb(g.Ka.sQa);});this.j.addEventListener(g.ea.Ch,function(m){k.jb(g.Ka.P1,m);});this.j.addEventListener(g.ea.Qab,function(){k.jb(g.Ka.M1);k.jb(g.Ka.Ct);});this.j.rh.addListener(function(){k.jb(g.Ka.dsa);});this.j.paused.addListener(function(){k.jb(g.Ka.n5a);});this.j.muted.addListener(function(){k.jb(g.Ka.B3a);});this.j.volume.addListener(function(){k.jb(g.Ka.Ccb);});this.j.lb.addListener(function(){k.wbb();});this.j.state.addListener(function(){k.wbb();});this.j.Gha.addListener(function(m){k.PNb || k.j.state.value != g.Rb.Sd || m.newValue || (k.PNb=!0,k.jb(g.Ka.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.yma());}));k.jb(g.Ka.zJ);});this.j.jc.addListener(function(){k.jb(g.Ka.sl);k.jb(g.Ka.Ct);setTimeout(function(){var m,p;m=k.j.jc.value;p=k.j.yb.value;null === m || null === p || k.w0a(m,p) || (k.log.info("Changing timed text track to match audio track"),k.j.yb.set(m.Xg[0]));},0);});this.j.yb.addListener(function(m){m.oldValue && m.newValue && m.oldValue.trackId == m.newValue.trackId || k.jb(g.Ka.Wk);});this.j.addEventListener(g.ea.Ct,function(){k.jb(g.Ka.Ct);});this.j.addEventListener(g.ea.nX,function(){k.jb(g.Ka.nX);});this.j.state.addListener(function(m){switch(m.newValue){case g.Rb.Sd:k.jb(g.Ka.Uja);k.jb(g.Ka.Owa);k.jb(g.Ka.M1);k.jb(g.Ka.Ct);k.jb(g.Ka.F1a);k.t6a();k.m5b();break;case g.Rb.CLOSING:k.j.kh && k.jb(g.Ka.J_a,k.j.kh);break;case g.Rb.CLOSED:(k.jb(g.Ka.closed),k.Cb.jh());}});this.j.addEventListener(g.ea.BB,function(){k.jb(g.Ka.BB);k.jb(g.Ka.Fn);k.jb(g.Ka.Y1);k.jb(g.Ka.Uja);});};c.prototype.m5b=function(){var k;k=this;this.j.Vm.addEventListener("showsubtitle",function(m){k.jb(g.Ka.Vua,m,!0);});this.j.Vm.addEventListener("removesubtitle",function(m){k.jb(g.Ka.bta,m,!0);});this.j.Mn().ql.addListener(function(){k.jb(g.Ka.pqb);});};c.prototype.t6a=function(){if(this.j.state.value == g.Rb.Sd){for(var k,m,p;m=this.q5a.shift();){k=this.j.Vm.kga(m.url,m.name,m.options);m.Orb && (p=k);}p && this.j.yb.set(p);}};c.prototype.wbb=function(){var k;k=this.j.state.value == g.Rb.Sd && this.j.lb.value == g.Ya.Up;this.ended !== k && (this.ended=k,this.j.gE("Ended changed: " + k),(k || this.j.state.value === g.Rb.CLOSING) && this.jb(g.Ka.mVa));};c.prototype.tF=function(){var k,m;try{k=/playercore.*js/;m=d.Yt.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.KDa=c;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w;function c(u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N){var J,L,R;J=this;this.BV=y;this.Sx=x;this.Ea=z;this.Kh=A;this.Cb=B;this.zU=C;this.fUb=D;this.F5a=E;this.w$=G;this.L1=F;this.ta=H;this.BL=K;this.config=O;this.kA=I;this.u=P;this.qh=N;this.pU=new m.Fb(!0);this.rh=new m.Fb(!1);this.mr=new m.Fb(!1);this.ended=new m.Fb(!1);this.b2=new m.Fb(0);this.lb=new m.Fb(l.Ya.Bf);this.HM=new m.Fb(void 0);this.loaded=this.LW=this.closed=!1;this.g6a=function(ka,la){return function(X){var da,ta,Ba,Ja,Va;da=X.newValue;ta=da.sm;X=da.JJ;Ba=da.stream;da=ka.value;Ja=da.streams.find(function(Ta){return Ta.bitrate === Ba.stream.bitrate;});Va=J.Ba.ng.find(function(Ta){return Ta.id === ta;});J.log.info("Presenting " + Ja.type + " request with bitrate " + Ja.bitrate + ", track " + (da.trackId + " [" + X.startTime + "..." + X.endTime + "]"));la.set({stream:Ja,JJ:X,qc:Va});};};this.G$a=function(ka,la,X){return function(da){var ta,Ba;ta=ka.value;Ba=ta.streams.find(function(Ja){return Ja.bitrate === da.newValue.stream.bitrate;});J.log.info("Streaming " + Ba.type + " stream with bitrate " + Ba.bitrate + ", track " + ta.trackId);la.set(Ba,{wE:da.Eh.wE,sR:void 0});ta=J.Ba.ng.filter(function(Ja){return Ja.id === da.Eh.sm;})[0];X.set(ta);};};this.fWa=new Set();this.log=u.Sa("HLSVideoPlayer");this.$=(0,g.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.S5a;this.Ba=this.BV(h.Az.index++,P.O,P.id,null !== (L=P.qb) && void 0 !== L?L:{},this.Sx.zx(),this.Ea.Db(),!1,void 0,function(){return J.Aq();});this.Ba.mediaTime.set(null !== (R=this.Ba.tl) && void 0 !== R?R:0);this.HH();this.Pmb=this.BL.create(this);this.Pmb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;l=a(15);g=a(42);h=a(64);d=a(98);f=a(57);n=a(2);k=a(56);m=a(70);p=a(3);q=a(14);v=a(79);t=a(22);w=a(47);c.prototype.s1b=function(){return !!this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.HH=function(){var u;u=this;this.$.addEventListener("loadedmetadata",function(){u.jb(l.Ka.G1a);u.jb(l.Ka.F1a);u.jb(l.Ka.sl);u.jb(l.Ka.M1);u.jb(l.Ka.Wk);u.jb(l.Ka.Ct);});this.$.addEventListener("error",function(y){y=u.qh(n.V.RGa,y);u.close(y);});this.$.addEventListener("timeupdate",function(){u.ended.set(!1);u.Ba.mediaTime.set(u.Aq());u.Eja();u.jb(l.Ka.Fn);u.jb(l.Ka.nbb);});this.$.addEventListener("durationchange",function(){u.jb(l.Ka.Uja);});this.$.addEventListener("resize",function(){u.jb(l.Ka.Owa);});this.$.addEventListener("playing",function(){u.Eja();u.mr.set(!1);u.rh.set(!0);u.ended.set(!1);u.lb.set(l.Ya.Td);});this.$.addEventListener("pause",function(){u.rh.set(!1);u.mr.set(!1);u.lb.set(l.Ya.Rh);});this.$.addEventListener("waiting",function(){u.lb.set(l.Ya.Bf);});this.$.addEventListener("stalled",function(){u.mr.set(!0);});this.$.addEventListener("seeking",function(){u.mr.set(!1);u.HM.set(u.Ba.mediaTime.value);u.lb.set(l.Ya.Bf);});this.$.addEventListener("seeked",function(){void 0 !== u.HM.value && (u.Ba.Kk.Jqa(u.HM.value,u.Aq()),u.HM.set(void 0));u.lb.set(u.qB()?l.Ya.Td:l.Ya.Rh);});this.$.addEventListener("progress",function(){u.jb(l.Ka.Y1);u.u3b();});this.$.addEventListener("ended",function(){u.lb.set(l.Ya.Up);u.mr.set(!1);u.rh.set(!1);u.ended.set(!0);});this.$.addEventListener("volumechange",function(){u.jb(l.Ka.Ccb);u.jb(l.Ka.B3a);});this.rh.addListener(function(){u.jb(l.Ka.dsa);u.jb(l.Ka.n5a);u.IJ();});this.b2.addListener(function(){u.jb(l.Ka.zJ);});this.mr.addListener(function(){u.jb(l.Ka.zJ);});this.pU.addListener(function(){u.IJ();});this.ended.addListener(function(){u.jb(l.Ka.mVa);});this.Ba.playbackRate.addListener(function(y){u.$.playbackRate=y.newValue;});};c.prototype.IJ=function(){!this.qB() || this.pU.value || this.LW || this.rQa || (this.LW=!0,this.Ba.Wx=this.ta.SG,this.F5a.Fj(this,this.Ba));};c.prototype.AR=function(){return this.AV - (this.Ba.Lh.ca(p.na) + this.Ea.cy.ca(p.na));};c.prototype.gF=function(){var u;u=this.Ba.Ua.DC;return (0,q.sb)(u)?u:this.Ba.Lh.ca(p.na) + this.Ea.cy.ca(p.na);};c.prototype.Nha=function(){return this.ta.se.ca(p.na) - this.gF();};c.prototype.Oha=function(){return this.AV - this.gF();};c.prototype.u3b=function(){var u;u=this.$.readyState <= k.cm.GO.HAVE_METADATA?0:this.$.readyState <= k.cm.GO.HAVE_CURRENT_DATA?.5:1;1 === u && (this.AV=this.ta.se.ca(p.na),this.pU.set(!1),this.Ska(l.Ka.loaded));this.b2.set(u);};c.prototype.Eja=function(){var u;u=this.Aq();this.w$.c9a(u);this.L1.c9a(u);};c.prototype.tW=function(){var u;u=this;this.Ba.fe("ats");return this.Kh.Nx({ja:this.Ba.ja,Ua:this.Ba.Ua,K:this.Ba.O,xq:d.el.x_,ff:f.xh.em}).then(function(y){var z;function x(A){var B;B=A;A && A.Un() && !A.Lm() && (B=null);u.Ba.Uh.set(B);}u.Ba.fe("at");z=u.zU.create({}).i5a(y);u.Ba.X=y;u.Ba.vc=z;u.$.audioTracks.addEventListener("addtrack",function(){u.Jbb(u.Ba.jc.value);});u.$.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=ma(u.$.audioTracks),E=D.next();!E.done;(C={VN:C.VN},E=D.next())){C.VN=E.value;C.VN.enabled && C.VN.label !== (null === (A=u.Ba.jc.value) || void 0 === A?void 0:A.displayName) && (!1,E=null !== (B=u.Ba.Vh.find((function(G){return function(F){return F.displayName === G.VN.label;};})(C))) && void 0 !== B?B:null,u.Ba.jc.set(E));}});u.Ba.jc.addListener(function(A){u.Jbb(A.newValue);u.jb(l.Ka.sl);u.jb(l.Ka.Ct);});u.$.textTracks.addEventListener("addtrack",function(){u.Kbb(u.Ba.yb.value);});u.$.textTracks.addEventListener("change",function(){var G;for(var A,B,C=u.$.textTracks,D={},E=0;E < C.length;(D={WN:D.WN},E++)){if((D.WN=C[E],"showing" === D.WN.mode && D.WN.label !== (null === (A=u.Ba.yb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=u.Ba.Xg.find((function(F){return function(H){return H.displayName === F.WN.label;};})(D))) && void 0 !== B?B:null;u.Ba.yb.set(G);x(G);}}});u.Ba.yb.set(z.WR);x(z.WR);u.Ba.yb.addListener(function(A){u.Kbb(A.newValue);u.jb(l.Ka.Wk);});return u.fUb.Dh(y,function(A){return u.Ba.fe(A);});}).then(function(y){var x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J;x=y.wOb;z=y.Otb;y=y.K0b;A=y.audio;B=y.OTa;C=y.video;D=u.Ba;E=D.Jg;G=D.jc;F=D.Vh;H=D.Ke;K=D.Fg;y=D.tl;O=D.Ld;I=D.gf;P=D.Kk;D=D.vc;D.Vh=F.filter(function(L){return A.find(function(R){return R.track.uf === L.trackId;});});K.set(D.U2);G.set(F.find(function(L){return L.trackId === B;}));D=C[0];N=D.stream;F=A.find(function(L){return L.track.uf === B;});J=F.stream;u.JT=N.bitrate;u.w$.jsa.addListener(u.g6a(K,O));u.w$.zva.addListener(u.G$a(K,H,u.Ba.qc[w.v.Z]));H=z.get(N.Bm).uM.yg;u.w$.oa(C,D,H);u.L1.jsa.addListener(u.g6a(G,I));u.L1.zva.addListener(u.G$a(G,E,u.Ba.qc[w.v.ga]));z=z.get(J.Bm).uM.yg;u.L1.oa(A,F,z);u.$.src=x;u.$.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;u.$.load();P.Jqa(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.te)(y);u.log.error("uncaught exception",y,z);}u.close(u.qh(null !== (x=y.code) && void 0 !== x?x:n.V.GLa,y));});};c.prototype.Kbb=function(u){var z;for(var y=this.$.textTracks,x=0;x < y.length;x++){z=y[x];z.label === u.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== u.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Jbb=function(u){for(var y=ma(this.$.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== u.displayName || x.enabled || (!1,x.enabled=!0);x.label !== u.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Mn=function(){};c.prototype.Bl=function(){};c.prototype.Aq=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.f4=function(){return this.Aq();};c.prototype.IK=function(){return this.Aq();};c.prototype.Ela=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.iYa=function(){return this.u.O;};c.prototype.Bq=function(){return this.Ba.ja;};c.prototype.Gm=function(){return this.$;};c.prototype.isReady=function(){return null === this.mh();};c.prototype.qB=function(){return this.rh.value;};c.prototype.Ss=function(){return !this.rh.value;};c.prototype.aoa=function(){return this.$.ended;};c.prototype.mh=function(){return 1 !== this.b2.value?{stalled:this.mr.value,progress:this.b2.value,progressRollback:!1}:null;};c.prototype.getError=function(){var u,y;return null !== (y=null === (u=this.kh) || void 0 === u?void 0:u.kX()) && void 0 !== y?y:null;};c.prototype.YWa=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.eZa=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.foa=function(){return this.$.muted;};c.prototype.fZa=function(){return this.$.volume;};c.prototype.p9a=function(u){this.$.muted=u;};c.prototype.B9a=function(u){this.$.volume=u;};c.prototype.addEventListener=function(u,y,x){this.Cb.addListener(u,y,x);};c.prototype.removeEventListener=function(u,y){this.Cb.removeListener(u,y);};c.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.kA.oU(function(y){u.s1b()?y.ia?u.tW():u.close(u.qh(y.errorCode || n.V.zba,y)):u.close(u.qh(n.V.Ggb));}));};c.prototype.close=function(u){if(this.closed)return Promise.resolve();this.Ba.mediaTime.set(this.Aq());this.Eja();this.Ba.LR=this.f4();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === u || void 0 === u?void 0:u.r9a(!this.pU.value);(this.kh=u) && this.jb(l.Ka.error,u.kX());this.jb(l.Ka.closed);return this.F5a.OW(this.Ba);};c.prototype.play=function(){var u,y;u=this;y=this.$.play();this.rQa=!1;y && y.then(function(){u.Ska(l.Ka.sQa);}).catch(function(x){u.jb(l.Ka.zJ);"NotAllowedError" === x.name && (u.log.warn("Playback is blocked by the browser settings",x),u.rQa=!0,u.Ch=!0,u.Ska(l.Ka.P1,{player:{play:function(){return u.play();}}}));});};c.prototype.jb=function(u,y,x){y=y || ({});y.target=this;this.Cb.zc(u,y,!x);};c.prototype.Ska=function(u,y){this.fWa.has(u) || (this.fWa.add(u),this.jb(u,y,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.m5a=function(){this.pause();};c.prototype.seek=function(u){this.$.currentTime=u / 1E3;};c.prototype.n_a=function(u){this.close(this.qh(n.V.lBa,n.R.Co,u));};c.prototype.RK=function(){return this.Ba.playbackRate.value;};c.prototype.n9=function(u){this.Ba.playbackRate.set(u);};c.prototype.OWa=function(){var u;u=this;return this.Ba.Vh.map(function(y){return u.np(y);});};c.prototype.Ima=function(u){var y;y=this;return this.jT(u).map(function(x){return y.np(x);});};c.prototype.NWa=function(){var u;u=this.Ba.jc.value;return u && this.np(u);};c.prototype.Hma=function(){var u;u=this.Ba.yb.value;return u && this.np(u);};c.prototype.$8a=function(u){if((u=this.ES(u)) && u.Bg)return (this.Ba.jc.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Jua=function(u){var y,x;y=this;x=this.Ba.Xg.find(function(z){return y.np(z) === u;});if(x && x.Bg)return (this.Ba.yb.set(x),this.Ba.Uh.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.dYa=function(){var u;return this.bT(this.Ba.Vh,null === (u=this.Ba.X) || void 0 === u?void 0:u.Ha.E2a);};c.prototype.ama=function(u){var y;return this.bT(this.jT(u),null === (y=this.Ba.X) || void 0 === y?void 0:y.Ha.F2a);};c.prototype.np=function(u){var y;y=u.Gsa=u.Gsa || ({trackId:u.trackId,bcp47:u.Re,displayName:u.displayName,trackType:u.uh,rawTrackType:u.gC,channels:u.channels});this.koa(u) && (y.isNative=u.isNative,y.surroundFormatLabel=u.VW);this.loa(u) && (y.isNoneTrack=u.Un(),y.isForcedNarrative=u.Lm(),y.isImageBased=u.ak);y.subType=u.fH;y.variant=u.variant;return y;};c.prototype.koa=function(u){return "undefined" !== typeof u.isNative;};c.prototype.loa=function(u){return "undefined" !== typeof u.Un && "undefined" !== typeof u.Lm;};c.prototype.ES=function(u){var y;y=this;return u && this.Ba.Vh.find(function(x){return y.np(x) === u;});};c.prototype.jT=function(u){var y;u=this.ES(u) || this.Ba.jc.value;return null !== (y=null === u || void 0 === u?void 0:u.Xg) && void 0 !== y?y:[];};c.prototype.bT=function(u,y){var x;x=u.length - 1;if("number" !== typeof y)return x;u=u.findIndex(function(z){return z.$b > y;});return -1 === u?x:u - 1;};c.prototype.i$=function(u){this.Ba.Ua=(0,v.E6)(this.Ba.Ua,u);};c.prototype.Zh=function(u){if(u !== this.Ba.J)throw (!1,Error("Unknown segmentId " + u));return this.Ba;};c.prototype.sYa=function(){return this.Ba.Ua;};c.prototype.uga=function(){!1;};c.prototype.wv=function(){!1;};c.prototype.iG=function(){!1;};c.prototype.sT=function(){!1;return Promise.reject();};c.prototype.yma=function(){return {};};c.prototype.g4=function(){};c.prototype.LWa=function(){return {};};c.prototype.xua=function(){};c.prototype.gN=function(){};c.prototype.R_a=function(){return !1;};c.prototype.rXa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.lK=function(){!1;return Promise.resolve({success:!0});};c.prototype.aZa=function(){!1;};c.prototype.nT=function(){!1;};c.prototype.$M=function(){!1;};c.prototype.Nua=function(){!1;};c.prototype.C1a=function(){!1;};c.prototype.FWa=function(){!1;return Promise.reject();};c.prototype.C5a=function(){!1;return Promise.reject();};c.prototype.I6a=function(){!1;return Promise.reject();};c.prototype.Ti=function(){!1;return Promise.reject();};c.prototype.vG=function(){!1;};b.XLa=c;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.QZa=void 0;r=a(1);c=a(364);l=a(765);g=a(366);h=a(766);d=a(360);f=a(810);n=a(374);k=a(811);m=a(361);p=a(812);q=a(362);v=a(813);t=a(450);w=a(227);u=a(1134);y=a(375);x=a(1135);z=a(1136);A=a(363);B=a(1138);b.QZa=new r.Xc(function(C){C(c.HCa).to(l.GCa).da();C(g.LCa).to(h.KCa).da();C(d.vCa).to(f.uCa).da();C(n.xCa).to(k.wCa).da();C(y.zza).to(x.yza).da();C(m.GIa).to(p.FIa).da();C(q.Ida).to(v.OKa);C(t.TO).to(z.SO);C(A.WO).to(B.VO);C(w.tba).to(u.NCa);});},function(r,b,a){var l,g,h,d;function c(f,n){this.UJb=f;this.log=n.Sa("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;r=a(0);l=a(1);g=a(6);h=a(365);d=a(65);c.prototype.download=function(f){var k,m,p,q,v;function n(t){if(v < m.length - 1)return (!1,v++,k.wUa(m[v].url,p,q).catch(n));throw t;}k=this;m=f.urls;p=f.offset;q=f.length;v=0;return this.wUa(m[v].url,p,q).catch(n);};c.prototype.wUa=function(f,n,k){return this.UJb.download({url:f,withCredentials:!1,responseType:d.ResponseType.geb,DA:"hls_headers",yr:!0,offset:n,length:k,hr:d.iP},{H2a:1});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.QCa)),r.__param(1,(0,l.l)(g.Va))],a);b.GCa=a;},function(r,b,a){var l,g,h;function c(d){this.la=d.Sa("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;r=a(0);l=a(1);g=a(75);a=a(6);c.prototype.parse=function(d,f,n){d=new g.Mr(this.la,{mediaType:d},f,["sidx"]).parse();if(d.dt && d.Ma)return this.Ega(d.Ma,n);};c.prototype.Ega=function(d,f){var n,k,m,p,q;n=0;k=0;m=0;p=d.offset;q=[];d.cf.forEach(function(v,t){k+=v;m+=d.sizes[t];if(1E3 * k / d.T >= f || t === d.cf.length - 1)(q.push({duration:k / d.T,gb:n / d.T,byteOffset:p,Rsb:m}),n+=k,k=0,p+=m,m=0);});return q;};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Va))],h);b.KCa=h;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Eg();this.Fc=1 === this.version?this.Hv([{creationTime:"int64"},{modificationTime:"int64"},{T:"int32"},{duration:"int64"}]):this.Hv([{creationTime:"int32"},{modificationTime:"int32"},{T:"int32"},{duration:"int32"}]);return !0;};g.ze="mvhd";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(173);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.CS=function(d){var f;if(d && d.ba && !d.vSb){f=this.ro("mdia");f && (f=f.ro("mdhd")) && f.T !== d.ba.T && (d.ba=new l.N(d.ba).Nd(f.T));}return !0;};h.ze="trak";h.Mc=!0;return h;})(a(23).zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){var d;this.Eg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{edc:"int16"},{mac:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Fc=this.Hv(d);this.Fc.Hfc=!!(this.flags & 1);this.Fc.Ifc=!!(this.flags & 2);this.Fc.Jfc=!!(this.flags & 4);this.Fc.Kfc=!!(this.flags & 8);this.M.console.trace("Finished parsing track box");if(null === h || void 0 === h?0:h.He)(h.He.width=this.Fc.width,h.He.height=this.Fc.height);h && h.Gj && (h.Gj[this.Fc.trackId]={});return !0;};g.ze="tkhd";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Eg();this.Fc=this.Hv(1 === this.version?[{mEb:"int64"}]:[{mEb:"int32"}]);return !0;};g.ze="mehd";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){this.Fc=this.Hv([{LJb:"int32"},{J4b:"int32"}]);if(null === h || void 0 === h?0:h.He)(h.He.wcc=this.Fc.LJb,h.He.Wfc=this.Fc.J4b);return !0;};g.ze="pasp";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Fc=this.Hv([{Hac:"int32"},{maxBitrate:"int32"},{S1:"int32"}]);return !0;};g.ze="btrt";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.M.Dy();this.M.Dy();for(this.Bia=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.Bia.push(this.M.Dy());}return !0;};g.ze="ftyp";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(87);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f,n,k,m,p;this.Eg();this.Fc=this.Hv([{sec:"int32"},{Wma:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Fc.Wma=l.II(this.Fc.Wma);if(d && d.Gj){p=null === (m=null === (k=null === (n=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === n?void 0:n.Ln("tkhd")) || void 0 === k?void 0:k.Fc) || void 0 === m?void 0:m.trackId;"number" === typeof p && d.Gj[p] && (d.Gj[p].gv=this.Fc.Wma);}return !0;};h.ze="hdlr";h.Mc=!1;return h;})(a(23).zf);b.default=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(100);g=a(173);h=a(174);r=a(23);d=a(88);a=(function(f){function n(){return null !== f && f.apply(this,arguments) || this;}c.__extends(n,f);n.prototype.parse=function(){this.Eg();this.oK=this.M.Ub();return !0;};n.prototype.CS=function(k){var m;m=Object.keys(this.yd);m.length && (m=m[0],this.yd[m].length && (m=this.yd[m][0],m instanceof h.default?this.ba=new g.N(m.dF,m.samplerate):m instanceof d.default && (m=m.yd[l.oca]) && m.length && (m=m[0].Fc,1E3 !== m.xs && 1001 !== m.xs || 0 !== m.Zs % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + m.Zs + "/" + m.xs):this.ba=new g.N(m.xs,m.Zs)),k && this.ba && (k.ba=this.ba)));return !0;};n.prototype.y7a=function(k){void 0 !== this.yd[k] && 0 !== this.yd[k].length && (this.Lb.It(this.oK - 1,this.byteOffset + 12),k=this.yd[k][0],this.Pl(k.byteLength,k.byteOffset));};n.ze="stsd";n.Mc=!0;return n;})(r.zf);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.FEb=this.M.bd(2);this.usb=this.M.bd(5);this.wsb=this.M.bd(3);this.gpb=this.M.bd(3);this.M.bd(1);this.M.bd(5);this.M.bd(5);return !0;};g.ze="dac3";return g;})(a(23).zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){var d,f;d=this.M.ug();this.CTa=d >> 3;this.aRb=d & 7;this.d1b=[];for(d=0;d < this.aRb;d++){f={FEb:this.M.bd(2),usb:this.M.bd(5),wsb:this.M.bd(5),gpb:this.M.bd(3),gdc:this.M.bd(1),$Qb:this.M.bd(4)};0 < f.$Qb?f.Rac=this.M.bd(9):this.M.bd(1);this.d1b.push(f);}h && h.OAb && (h.OAb.CTa=this.CTa);return !0;};g.ze="dec3";return g;})(a(23).zf);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(23);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){this.Eg();this.dua=this.M.Dy();l.I && this.M.console.trace("SchemeTypeBoxTranslator: " + this.dua);if("cenc" === this.dua){if((this.M.offset-=4,l.I && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.Lb.Qcb("piff"),null === d || void 0 === d?0:d.He))d.He.YBb="piff";}else if(null === d || void 0 === d?0:d.He)d.He.YBb=this.dua;this.M.Ub();return !0;};h.ze="schm";h.Mc=!1;return h;})(l.zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){var d;this.M.$c();this.Edb=this.M.$c();this.M.$c();this.M.$c();this.M.$c();this.B9=this.Bfa(this.M.$c() & 31);this.X5a=this.Bfa(this.M.$c());this.vM=this.B9.length?this.B9[0][1]:this.Edb;this.$Na=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.vM || 110 === this.vM || 122 === this.vM || 144 === this.vM) && (this.M.$c(),this.M.$c(),this.Bfa(this.M.$c()));d=this.startOffset + this.length - this.$Na;0 < d && this.Pl(d,this.$Na);h && h.mha && (h.mha.B9=this.B9,h.mha.X5a=this.X5a,h.mha.vM=this.vM);return !0;};g.prototype.Bfa=function(h){var n;for(var d=[],f=0;f < h;++f){n=this.M.ug();d.push(this.M.o8(n));}return d;};g.ze="avcC";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){this.M.bd(1);this.M.bd(7);this.S8a=this.M.bd(3);this.R8a=this.M.bd(5);this.T8a=this.M.bd(1);this.LZa=this.M.bd(1);this.cbb=this.M.bd(1);this.u3a=this.M.bd(1);this.JRa=this.M.bd(1);this.KRa=this.M.bd(1);this.IRa=this.M.bd(2);this.M.bd(3);(this.Pna=this.M.bd(1))?this.v_a=this.M.bd(4):this.M.bd(4);h && (h.wac={S8a:this.S8a,R8a:this.R8a,T8a:this.T8a,LZa:this.LZa,cbb:this.cbb,u3a:this.u3a,JRa:this.JRa,KRa:this.KRa,IRa:this.IRa,Pna:this.Pna,v_a:this.v_a});return !0;};g.ze="av1C";return g;})(a(23).zf);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(99);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.CS=function(){var d;d=this.Ln("esds");if(d=d && d.pgb.Ln(5))(l.assert(this.samplerate),this.dF=d.dF * this.samplerate / d.U8);return !0;};h.ze="mp4a";h.Mc=!0;return h;})(a(174).default);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(230);r=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){this.Eg();this.pgb=l.fBa.Q6a(this.M,d);return !0;};h.ze="esds";h.Mc=!1;return h;})(a(23).zf);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(100);a=a(23);l=r.oca;a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.Eg();this.Fc=this.Hv([{Zs:"int32"},{xs:"int16"}]);return !0;};h.ze=l;h.Mc=!1;return h;})(a.zf);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){var d,f,n,k,m;this.Eg();d=this.Hv([{DN:"int32"},{zja:"int32"},{Xu:"int32"},{Ex:"int32"},{Dx:"int32"}]);f=d.DN;n=d.zja;k=d.Xu;m=d.Dx;d=d.Ex;this.Fc={trackId:f,obc:n,S2:k,pbc:m,qbc:d};(null === h || void 0 === h?0:h.Gj) && h.Gj[f] && (h.Gj[f].zja=n,h.Gj[f].Xu=k,h.Gj[f].Dx=m,h.Gj[f].Ex=d);this.DN=f;this.zja=n;this.Xu=k;this.Ex=d;this.Dx=m;return !0;};g.ze="trex";g.Mc=!1;return g;})(a(23).zf);b.default=r;},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(786);g=a(99);h=a(371);r=(function(d){function f(n,k,m,p,q){n=d.call(this,n,k,m,p,q) || this;n.iS=!1;return n;}c.__extends(f,d);Object.defineProperties(f.prototype,{BTa:{get:function(){return !!(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{K3:{get:function(){return !!(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Q8:{get:function(){return !!(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{T8:{get:function(){return !!(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Rta:{get:function(){return !!(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Qta:{get:function(){return !!(this.flags & 2048);},enumerable:!0,configurable:!0}});f.prototype.parse=function(n){var k,m,p;this.Eg();this.vha=this.M.offset;this.gd=this.M.Ub();this.ym=this.BTa?this.M.q8():0;this.UDb=this.K3?this.M.Ub():void 0;this.Pta=(this.Q8?4:0) + (this.T8?4:0) + (this.Rta?4:0) + (this.Qta?4:0);this.yK=this.M.offset;g.assert(this.BTa,"Expected data offset to be present in Track Run");g.assert(this.length - (this.M.offset - this.startOffset) === this.gd * this.Pta,"Expected remaining data in box to be sample information");if(n && n.ka){n.ka.ym=this.ym;n.ka.gd=this.gd;this.Bj=[];p=null === (m=null === (k=this.parent) || void 0 === k?void 0:k.Ln("tfhd")) || void 0 === m?void 0:m.DN;for(k=0;k < this.gd;k++){m={};this.Q8?m.P8=this.M.Ub():n.ka.Xu?m.P8=n.ka.Xu:p && n.Gj && n.Gj[p] && (m.P8=n.Gj[p].Xu);this.T8?m.MG=this.M.Ub():n.ka?m.MG=n.ka.Ex:p && n.Gj && n.Gj[p] && (m.MG=n.Gj[p].Ex);this.Rta?m.S8=this.M.Ub():n.ka?m.S8=n.ka.Dx:p && n.Gj && n.Gj[p] && (m.S8=n.Gj[p].Dx);this.Qta && (m.Pec=0 === this.version?this.M.Ub():this.M.q8());0 === k && this.K3 && (m.S8=this.UDb);this.Bj.push(m);}n.ka.Bj=this.Bj;if(n.ka.LG)for((g.assert(n.ka.LG.length === n.ka.Bj.length,"num fragment samples: " + n.ka.Bj.length + ", num samples in auxiliary info: " + n.ka.LG.length),p=0);p < n.ka.Bj.length;p++){n.ka.Bj[p].Bba=n.ka.LG[p].Bba;n.ka.Bj[p].Ava=n.ka.LG[p].Ava;}}return !0;};f.prototype.K0=function(n,k,m){var p,q,v;p=this.Q8?this.M.Ub():n.Xu;q=this.T8?this.M.Ub():n.Ex;n=this.Rta?this.M.Ub():n.Dx;v=this.Qta?0 === this.version?this.M.Ub():this.M.q8():0;return {rYb:v,S8:n,MG:q,P8:p,uec:(m || 0) + v - (void 0 !== k?k:v)};};f.prototype.Ga=function(n,k,m,p,q,v,t){var w,u,y,x;g.assert(void 0 !== this.ym);g.assert(void 0 !== this.yK);g.assert(void 0 !== this.vha);g.assert(void 0 !== this.gd);g.assert(void 0 !== n.lq);w=0;u=0;this.Lb.offset=this.yK;for(p=0;p < q;++p){y=this.K0(k,x,u);if(0 === p)x=y.rYb;w+=y.MG;u+=y.P8;}p=q;q=this.M.offset;y=this.K0(k,x,u);this.cta=t;this.cN=p;this.Z9a=u;if(t){if((this.EM=this.ym + w,this.Jp=0,p === this.gd))return !0;}else if((this.EM=this.ym,this.Jp=w,0 === p))return !0;if(0 === p || p === this.gd)return !1;this.iS=!0;if(t){this.Jp+=y.MG;for(t=p + 1;t < this.gd;++t){y=this.K0(k,x,u);this.Jp+=y.MG;}this.Lb.offset=this.vha;this.gd=p;this.Lb.It(this.gd);this.Lb.Ywa(v);this.K3 && (this.M.offset+=4);this.Pl(this.length - (q - this.startOffset),q);}else (k=q - this.yK,this.yK=q,this.Lb.offset=this.vha,this.gd-=p,this.Lb.It(this.gd),this.ym+=w,this.Lb.Ywa(v,this.ym),this.K3 && (this.M.offset+=4),this.Pl(k,this.Lb.offset));m.Pl(this.Jp,n.lq + this.EM);return !0;};f.prototype.ZPb=function(n,k,m,p,q,v,t,w){var u,x,z,A,B;void 0 === t && (t=!1);g.assert(void 0 !== this.ym);g.assert(void 0 !== this.yK);g.assert(void 0 !== this.gd);g.assert(void 0 !== this.Pta);g.assert(void 0 !== n.lq);for(var y=p.length;y < this.gd;++y){p[y]=p[y - 1];}p.some(function(C){return 0 >= C;}) && (x=null === (u=this.omb(q,v)) || void 0 === u?void 0:u.w9);this.M.offset=this.yK;n=n.lq + this.ym;q=-1 !== q.indexOf("heaac")?"aac":"ddp";v=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(y=0;y < this.gd;++y){u=this.K0(k).MG;if(-Infinity === p[y]){if(x && this.T8){m.A8(u,x,n);z=this.Pta - (this.Q8?4:0);this.Lb.offset-=z;this.Lb.It(x.byteLength);this.Lb.offset+=z - 4;}}else if(0 > p[y])try{A=v.subarray(n,n + u);B=l.NA({md:q,frame:A,gx:p[y],JG:t,WF:w}).rEb;B !== u && this.M.console.error("TrackRunBoxEditor: parse frame size error " + B + " should be " + u);}catch(C){this.M.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}n+=u;}};f.prototype.omb=function(n,k){if("string" === typeof k)return (g.assert("reset" !== k && "standard" !== k),h.mR[k]);if(void 0 !== n)return k?h.mR.reset[n] || h.mR.standard[n]:h.mR.standard[n];};f.ze="trun";f.Mc=!1;return f;})(a(23).zf);b.Lkb=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(787),b);},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.NA=void 0;c=a(234);l=a(788);b.NA=function(){var n,k,m,p;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}n="string" === typeof d[0]?{md:d[0],frame:d[1],gx:d[2],Tub:d[3],WF:d[4]}:d[0];k=n.md;d=n.frame;f=n.gx;m=n.Tub;p=n.WF;n=n.JG;n=void 0 === n?!1:n;switch(k){case "aac":void 0 === g && (g=a(789).NA);k=6;m && (m=new c.fY(m),k=l.e5a(m).V8);d=g(d,f,n,{V8:k}).nra;break;case "ddp":void 0 === h && (h=a(798).NA);d=h(d,f,{WF:p}).nra;break;default:throw Error("Unrecognized codec in fadeFrame: " + k);}return {rEb:d};};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.e5a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.e5a=function(c){var l,g,h,d;l=c.read(5);g=c.read(4);if(15 === g){h=c.read(24);g=a.indexOf(h);}else h=a[g];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {Uo:l,sampleRate:h,V8:g,Sac:d,qEb:1024};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.NA=void 0;c=a(234);l=a(790);b.NA=function(g,h,d,f){var n;n=new c.fY(g);h=l.p6a(n,{gx:h,JG:d},f && f.V8);n=n.offset;return {frame:g.subarray(0,n),nra:n,Vfc:h};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.p6a=void 0;c=a(235);l=a(791);b.p6a=function(g,h,d){var f,n,k;if(4095 === g.read(12)){g.advance(3);f=!!g.read(1);n=g.read(2) + 1;d=g.read(4);g.advance(8);k=g.read(13);g.advance(13 + (f?0:16));f={Uo:n,V8:d,qEb:k};}else g.reverse(12);c.assert(void 0 !== d);l.u6a(g,d,h);return f;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.u6a=void 0;c=a(792);l=a(797);b.u6a=function(g,h,d){var n;for(var f;7 !== (f=g.read(3));){n=g.read(4);switch(f){case 1:c.l6a(g,h,d);break;case 6:l.o6a(g,n,d);break;default:throw Error("Unsupported AAC element " + f);}}g.Qsb();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.l6a=void 0;c=a(793);b.l6a=function(l,g,h){var d,f;d=l.read(1);if(d){f=new c.vDa(l,d,g);1 === l.read(2) && l.advance(f.XL * f.GU);}c.xsa(l,g,f,h);c.xsa(l,g,f,h);};},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.vDa=b.xsa=void 0;c=a(235);l=a(794);g=a(796);b.xsa=function(n,k,m,p){var q,v,t;q=n.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.gx / 20)) / Math.log(2)));n.reverse(8);n.write(8,p);m || (m=new f(n,0,k));q=m;v=2 === q.Vwa?3:5;t=(1 << v) - 1;k=[];p=[];for(var w=[],u=0;u < q.XL;++u){for(var y=0,x=0;y < q.GU;){for(var z=n.read(4),A=0,B;(B=n.read(v)) === t;){A+=B;}A+=B;y+=A;k.push(z);p.push(A);++x;}w.push(x);}q=!0;for(v=0;v < k.length;++v){0 !== k[v] && (13 === k[v] && q?(n.advance(9),q=!1,l.JZ.X9a(n,p[v] - 1)):l.JZ.X9a(n,p[v]));}n.read(1) && n.advance(6 + 9 * (n.read(2) + 1));if(n.read(1))for((q=m,v=2 === q.Vwa?h:d,t=0);t < q.m4a;++t){if(w=n.read(v[0]))for((u=n.read(1),y=0);y < w;++y){if((n.advance(v[1]),x=n.read(v[2])))(n.advance(1),z=n.read(1),n.advance(x * (u + 3 - z)));}}c.assert(!n.read(1));q=m.XL;v=m.GU;t=m.$$a;m=m.C$;for(u=w=0;u < q;++u){for((y=m[u],x=0);x < v;++w){if((z=k[w],A=p[w],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++x)){for(var D=y * (t[x + 1] - t[x]) / B,E=0;E < D;++E){l.JZ.X_b(n,z);}}}}}};h=[1,4,3];d=[2,6,5];f=(function(){return function(n,k,m){var p;this.C$=[];this.XL=1;this.C$[0]=1;n.advance(1);this.Vwa=n.read(2);n.read(1);if(2 === this.Vwa){this.m4a=8;this.GU=n.read(4);for(k=0;7 > k;++k){n.read(1)?this.C$[this.XL - 1]++:(this.XL++,this.C$[this.XL - 1]=1);}this.$$a=g.aKa[m];}else {this.m4a=1;this.GU=n.read(6);if(n.read(1)){p=14 + Math.min(this.GU,40);n.read(1) && n.advance(p);k && n.read(1) && n.advance(p);}this.$$a=g.$Ja[m];}};})();b.vDa=f;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.JZ=void 0;c=a(795);l=[c.gCa,c.jCa,c.kCa,c.lCa,c.mCa,c.nCa,c.oCa,c.pCa,c.qCa,c.hCa,c.iCa];g=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.JZ=(function(){function h(){}h.XVa=function(d,f){var n,q,v;n=f.table;f=f.width;for(var k=0,m=n[0],p=d.read(m);p !== n[k + 1];){k+=f;q=n[k];v=q - m;m=q;p<<=v;p|=d.read(v);}return k;};h.W9a=function(d){for(var f=4;d.read(1);){++f;}d.advance(f);};h.X9a=function(d,f){for(;f--;){h.XVa(d,c.rCa);}};h.X_b=function(d,f){var n,k;n=l[f - 1];k=n.table;n=this.XVa(d,n);if(11 > f)g[f - 1] && (f=k[n + 2]) && d.advance(f);else if(11 === f || 15 < f)(n+=2,(f=k[n]) && d.advance(f),(k=k[n + 1]) && this.W9a(d),1 < k && this.W9a(d));else throw Error("Huffman: unknown spectral codebook: " + f);};return h;})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rCa=b.iCa=b.hCa=b.qCa=b.pCa=b.oCa=b.nCa=b.mCa=b.lCa=b.kCa=b.jCa=b.gCa=void 0;b.gCa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.jCa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.kCa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.lCa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.mCa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.nCa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.oCa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.pCa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.qCa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.hCa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.iCa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.rCa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},function(r,b){var a,c,l,g,h,d,f,n,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.bkb=b.Bhb=b.ckb=b.xkb=b.ykb=b.aKa=b.$Ja=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);h=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);k=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.$Ja=[r,r,c,g,g,d,f,f,k,k,k,p];b.aKa=[a,a,l,h,h,h,n,n,m,m,m,q];b.ykb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.xkb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.ckb=(function(){for(var v=new Float32Array(428),t=0;428 > t;t++){v[t]=Math.pow(2,(t - 200) / 4);}return v;})();b.Bhb=(function(){for(var v=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){v[w]=Math.pow(w,t);}return v;})();b.bkb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o6a=void 0;b.o6a=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.gx && !l.JG?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.NA=void 0;c=a(234);l=a(799);b.NA=function(g,h,d){var f;f=new c.fY(g);h=l.SPa(f,h,null === d || void 0 === d?void 0:d.WF).sEb;g=g.subarray(0,h);l.y9a(g);return {frame:g,nra:h};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.y9a=b.SPa=void 0;c=a(235);l=a(800);b.SPa=function(g,h,d){var f,n;f=g.read(16);c.assert(2935 === f);f=2 * ((g.read(16) & 2047) + 1);g.advance(13);n=g.read(5);g.reverse(5);d && (h*=-n / d);g.write(5,Math.min(31,Math.max(1,Math.floor(n + h))));return {sEb:f};};b.y9a=function(g){var h;h=l.MSa(g.subarray(2,g.length - 2));g[g.length - 2]=h >> 8;g[g.length - 1]=h & 255;};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.MSa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.MSa=function(c,l){void 0 === l && (l=0);l=~~l;for(var g=0;g < c.length;g++){l=(a[(l >> 8 ^ c[g]) & 255] ^ l << 8) & 65535;}return l;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(h){this.Gyb=this.M.Dy();h && h.He && (h.He.pYb=this.Gyb);return !0;};g.ze="frma";return g;})(a(23).zf);b.default=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(803);g=a(236);h=a(99);d=a(173);f=a(23);r=a(369);n=a(370);k=a(372);m=a(140);p=a(228);q=a(100);v=a(373);t=a(806);a=(function(){function w(u,y,x,z,A,B){this.console=u;this.stream=y;this.ut=z;this.gqb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.rJb=m.PFb();}w.path=function(u,y){return y.reduce(function(x,z){return x && x.yd[z] && x.yd[z][0];},u);};w.WGb=function(u){return u && u.Bia && -1 !== u.Bia.indexOf("mcl0")?"mcl0":void 0;};w.yDb=function(u,y){var x,z;h.assert("mcl0" === u,"Unsupported McClearen brand");x=y.Ma;u=x.cf;y=new d.N(120,1).Nd(x.T).xa;z=0;for(x=x.nr;z < u.length && x < y;){x+=u[z++];}return z;};w.prototype.parse=function(u){var y;y=this.zYb();if(!y.done){if(y.F3a)return {dt:!1,hqb:y.F3a};this.console.error("Scan error: " + y.error);return {dt:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === u || void 0 === u?0:u.ba)u.vSb=u.ba;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);u=this.TSb(u);return u.done?this.tvb():(this.console.error("Parse error: " + u.error),{dt:!1,parseError:u.error || "unknown mp4 parse error"});};w.prototype.Kx=function(u){return f.zf.Kx(this,u);};w.prototype.Ln=function(u){return f.zf.Ln(this,u);};w.prototype.zYb=function(){var u,y;u=new v.Ngb(this.ut,this.gqb?[q.VZ,q.UZ]:[],this.config && this.config.wfc || ["moof",q.$Fa],this.config && this.config.zra);y=c.__assign(c.__assign({},this.config),{yra:!1});return new k.taa(w.Xta,u,this.view,this.console,y).parse();};w.prototype.TSb=function(u){var y,x,z;y=new v.sAa(this.view.byteLength);x=Object.create(p.SL.yd);this.config && ((this.config.xra || this.config.Uab || this.config.A9) && l(p.SL.Ota,x),this.config.bwa && l(p.SL.G2b,x),this.config.Uab && l(p.SL.Vab,x));z=c.__assign(c.__assign({},this.config),{yra:!0});this.wf=new k.taa(x,y,this.view,this.console,z);u=this.wf.parse(u);u.done && (this.yd=this.wf.yd);return u;};w.prototype.tvb=function(){var u,y,x,z,A,B,C,D;u={dt:!0};y=w.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.Kx("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].ro("tkhd");z && (u.trackId=z.Fc.trackId);}z=w.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.xra)if(z)(u.ba=z.ba,u.Oec=z.yd);else return {dt:!1,parseError:"Missing sample descriptions"};A=w.path(z,["encv","sinf","schi"]);A && (A=w.path(A,["tenc"]) || w.path(A,[q.KGa])) && (u.XBb={bbc:A.Wn,Aoa:A.Aoa,adc:!1});if(A=w.path(y,["trak","mdia","mdhd"]))u.T=A.T;if(A=w.path(y,["mvex","trex"]))u.S2=A && A.Fc.S2;u.S2 && u.T && (u.ba=new d.N(u.S2,u.T));if(A=w.path(this,["sidx"])){B=w.path(this,[q.VZ]);B=B && B.iPb;C=w.path(this,[q.UZ]);C=C && C.hj;u.Ma=A.Ma;u.RL=B;u.hj=C;}if(B=this.yd.vmaf && this.yd.vmaf[0])u.Zv=B.Zv;if(this.config.ita && (B=w.path(y,["mvex"])) && x && x.length){D=x.reduce(function(E,G){return G.byteOffset > E.byteOffset?G:E;});D.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=t.ebb(x,B.byteOffset,B.byteOffset + B.byteLength),D=t.ebb(x,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),x.set(D,B.byteOffset),x.set(C,B.byteOffset + D.byteLength));}if(this.config.h8a)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.A9 && z && 1 < z.oK && A && (u.Ih=this.A9(z,A)),void 0 === u.Ih && (y=this.wf.iS?g.concat(this.wf.Ga()):this.view.buffer,u.Ih=[{Ye:0,data:y}]));else return {dt:!1,parseError:"Missing movie box"};u.dt=!0;u.G7=this.wf.offset;return u;};w.prototype.trim=function(u){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.wf.trim(u);this.view=new DataView(y);};w.prototype.A9=function(u,y){var x,z,A;x=Object.keys(u.yd);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=w.path(this,["ftyp"]);A=w.WGb(x);if(A)return (x=[],this.wf.MVb(),u.y7a("encv"),x.push({Ye:0,YE:!1,data:g.concat(this.wf.Ga())}),this.wf.lUb(),u.y7a(z[0]),u=w.yDb(A,y),x.push({Ye:u,YE:!0,data:g.concat(this.wf.Ga())}),x);}};w.Xta={};return w;})();b.Mr=a;a.Xta[q.pca]=r.default;a.Xta[q.qca]=n.default;},function(r){r.exports=function l(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(h){g=Object.getOwnPropertyDescriptor(a,h);void 0 !== g && Object.defineProperty(c,h,g);});};},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(99);g=a(236);h=a(87);r=a(805);d=(function(){function f(n){n?(this.no=n.no.slice(),this.Br=n.Br.slice(),this.ii=n.ii.slice(),this.trim=n.trim):(this.no=[],this.Br=[],this.ii=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.no.length && 0 === this.Br.length && 0 === this.ii.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function n(k,m,p){k=f.call(this,k,m,p) || this;k.LUa=[];k.Gd=new d();return k;}c.__extends(n,f);n.Oqb=function(k,m){if(m.offset + m.size <= k.byteLength)switch(m.size){case 1:k.setUint8(m.offset,m.value);break;case 2:m.FW?k.setInt16(m.offset,m.value):k.setUint16(m.offset,m.value);break;case 4:m.FW?k.setInt32(m.offset,m.value):k.setUint32(m.offset,m.value);break;case 8:l.assert(!m.FW);k.setUint32(m.offset,Math.floor(m.value / 4294967296));k.setUint32(m.offset + 4,m.value & 4294967295);break;default:l.assert(!1);}};Object.defineProperties(n.prototype,{iS:{get:function(){return !this.Gd.empty;},enumerable:!0,configurable:!0}});n.prototype.D$=function(k,m){this.Gd.Br.push({offset:void 0 !== m?m:this.offset,value:k,size:1});void 0 === m && (this.offset+=1);};n.prototype.u5b=function(k){this.Gd.Br.push({offset:!1,value:k,size:2,FW:!1});};n.prototype.It=function(k,m){this.Gd.Br.push({offset:void 0 !== m?m:this.offset,value:k,size:4,FW:!1});void 0 === m && (this.offset+=4);};n.prototype.v5b=function(k,m){this.Gd.Br.push({offset:void 0 !== m?m:this.offset,value:k,size:8,FW:!1});void 0 === m && (this.offset+=8);};n.prototype.Qcb=function(k){this.It(h.AMa(k));};n.prototype.Ywa=function(k,m){this.Gd.ii.push({offset:this.offset,Xo:k,value:m});this.offset+=4;};n.prototype.Pl=function(k,m,p){this.Gd.no.push({offset:m,remove:k,eb:p});};n.prototype.A8=function(k,m,p,q){this.Gd.no.push({offset:p,remove:k,replace:m,eb:q});};n.prototype.trim=function(k){this.Gd.trim=k;};n.prototype.MVb=function(){this.LUa.push(new d(this.Gd));};n.prototype.lUb=function(){this.Gd=this.LUa.pop() || new d();};n.prototype.Ga=function(){var k,m,p,q,v,t,w,u,y;k=this;if(0 === this.Gd.no.length && 0 === this.Gd.Br.length && 0 === this.Gd.ii.length)return [void 0 === this.Gd.trim?this.view.buffer:this.view.buffer.slice(0,this.Gd.trim)];this.Gd.no.sort(function(x,z){return x.offset - z.offset;});this.Gd.Br.sort(function(x,z){return x.offset - z.offset;});this.QXb();m=this.pDb();p=new Uint8Array(this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + m));q=new DataView(p.buffer,p.byteOffset,p.byteLength);this.Gd.Br.forEach(n.Oqb.bind(void 0,q));this.z3b(q);this.y3b(q);v=[];t=void 0 !== this.Gd.trim?Math.min(this.Gd.trim,this.view.byteLength):this.view.byteLength;w=0;u=!0;this.Gd.no.filter(function(x){return x.offset <= t;}).forEach(function(x){x.offset > w && (v.push(p.subarray(w,x.offset)),u && x.offset > m && (u=!1,p=new Uint8Array(k.view.buffer,k.view.byteOffset,k.view.byteLength),v.push(p.subarray(m,x.offset))));x.replace && v.push(new Uint8Array(x.replace));w=x.offset + x.remove;});w < m && v.push(p.subarray(w));w < t && (q=Math.max(m,w),v.push(new Uint8Array(this.view.buffer,this.view.byteOffset + q,t - q)));q=v.reduce(function(x,z){return x + z.byteLength;},0);y=new Uint8Array(q);v.reduce(function(x,z){y.set(z,x);return x + z.byteLength;},0);return [y.buffer];};n.prototype.pDb=function(){var k,m,p;k=[];m=this.Gd.Br[this.Gd.Br.length - 1];p=this.Gd.ii[this.Gd.ii.length - 1];m && k.push(m.offset + m.size);p && k.push(p.offset + 4);this.Gd.no.filter(function(q){return q.eb;}).forEach(function(q){return k.push(q.eb.byteOffset + 4);});m=Math.max.apply(void 0,k);return void 0 !== this.Gd.trim?Math.min(m,this.Gd.trim):m;};n.prototype.QXb=function(){this.Gd.no=this.Gd.no.reduce(function(k,m){var p,q;if(0 === k.length)return (k.push(m),k);p=k[k.length - 1];q=p.offset + p.remove;m.offset >= q?k.push(m):m.offset + m.remove > q && (l.assert(p.eb === m.eb),p.remove+=m.offset + m.remove - q,m.replace && (p.replace=p.replace?g.concat(p.replace,m.replace):m.replace));return k;},[]);};n.prototype.z3b=function(k){var m;m=this;this.Gd.ii.forEach(function(p){var q,v,t,w;q=k;v=p.offset;m.Gd.no.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(q=new DataView(u.replace),v=p.offset - u.offset,!0):!1;});t=p.Xo + (void 0 !== p.value?p.value:q.getInt32(v));w=m.Gd.no.reduce(function(u,y){return y.offset > p.Xo && y.offset < t?u + (y.remove - (y.replace?y.replace.byteLength:0)):u;},0);q.setInt32(v,t - p.Xo - w);});};n.prototype.y3b=function(k){this.Gd.no.forEach(function(m){var p;p=(m.remove || 0) - (m.replace?m.replace.byteLength:0);if(0 !== p)for(m=m.eb;m;){k.setUint32(m.byteOffset,k.getUint32(m.byteOffset) - p);m=m.parent;}});};return n;})(r.Ukb);b.Tkb=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(140);a(140);l=a(87);r=(function(){function g(h,d,f){this.view=h;this.console=d;this.config=f;this.view=h;this.console=d;this.ed=this.mq=this.offset=0;}g.prototype.oXa=function(h){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,h);};g.prototype.bd=function(h){for(;this.ed < h;){this.mq=(this.mq << 8) + this.$c();this.ed+=8;}this.ed-=h;return this.mq >>> this.ed & (1 << h) - 1;};g.prototype.$c=function(){var h;h=this.view.getUint8(this.offset);this.offset+=1;return h;};g.prototype.ug=function(h){h=this.view.getUint16(this.offset,h);this.offset+=2;return h;};g.prototype.Ub=function(h){h=this.view.getUint32(this.offset,h);this.offset+=4;return h;};g.prototype.q8=function(){var h;h=this.view.getInt32(this.offset,void 0);this.offset+=4;return h;};g.prototype.pTb=function(h,d){var f;f=this.view.getUint32(this.offset + (h?4:0),h);h=this.view.getUint32(this.offset + (h?0:4),h);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + h;};g.prototype.gk=function(h,d){h=this.pTb(h,d);this.offset+=8;return h;};g.prototype.qTb=function(){var h,d;h=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + d;};g.prototype.$Vb=function(){var h;h=this.qTb();this.offset+=8;return h;};g.prototype.Dy=function(){return l.II(this.Ub());};g.prototype.r8=function(){var d,f,n,k,m,p;function h(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}d=this.Ub(!0);f=this.ug(!0);n=this.ug(!0);k=this.ug();m=this.ug();p=this.Ub();return [h(d,4),h(f,2),h(n,2),h(k,2),h(m,2) + h(p,4)].join("-");};g.prototype.p8=function(h){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + h);this.offset+=h;return d;};g.prototype.WVb=function(h){var d;d=[];if(0 === h)return "";h=h || Number.MAX_SAFE_INTEGER;for(var f=this.$c();0 !== f && 0 <= --h;){d.push(f);f=this.$c();}return String.fromCharCode.apply(null,d);};g.prototype.o8=function(h){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.uj(this.config.JN && c.CIb || c.YK,1,h,d,f);};g.prototype.VVb=function(h){var d,f,n;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === n && (n=!1);return this.uj(this.config.JN && c.AIb || c.H4,2,h,d,f,n);};g.prototype.n8=function(h,d,f){var n;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === n && (n=!1);return this.uj(this.config.JN && c.BIb || c.pT,4,h,d,f,n);};g.prototype.YVb=function(){for(var h=this.$c(),d=h & 127;h & 128;){h=this.$c();d=d << 7 | h & 127;}return d;};g.prototype.uj=function(h,d,f,n,k,m){void 0 === k && (k=!0);void 0 === m && (m=!1);h=h(this.view,this.offset,f,n,m);this.offset=k || !n || n === d?this.offset + f * (n || d):this.offset + d;return h;};return g;})();b.Ukb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ebb=function(a,c,l){var g,h,d;g=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,l);h=Math.min(a.length,l);d=Math.min(a.length,c);for(l=new g(Math.max(l - c,0));d < h;d++){l[d - c]=a[d];}return l;};},function(r,b,a){var l,g,h,d,f;function c(n){return "number" === typeof n[0] || void 0 === n[0]?{Aj:n[0],T:n[1],gx:n[2],Cta:n[3],JG:n[4]}:n[0];}Object.defineProperty(b,"__esModule",{value:!0});l=a(0);g=a(100);r=a(237);h=a(87);d=a(99);f=a(23);a=(function(n){function k(m,p,q){return n.call(this,m,p,q) || this;}l.__extends(k,n);k.prototype.t7a=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ga(l.__assign(l.__assign({},c(m)),{cta:!1}));};k.prototype.A7a=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ga(l.__assign(l.__assign({},c(m)),{cta:!0}));};k.prototype.Ga=function(m){var q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N;function p(R){z=x[R];A=z.ro("traf");if(void 0 === A || void 0 === A.lq)return !1;E=A.ro("tfdt");if(void 0 === E)return !1;B=A.ro("trun");return void 0 === B?!1:!0;}q=m.Aj;v=m.T;t=m.cta;w=m.gx;u=m.Cta;u=void 0 === u?!1:u;y=m.JG;y=void 0 === y?!1:y;m=m.WF;if(!this.parse().done)return !1;x=this.yd.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){C=q;for(q=0;q < x.length;++q){if(!p(q,this.wf.console.trace))return !1;d.assert(z && A && E && B && void 0 !== B.gd);if(B.gd > C || t && B.gd === C)break;C-=B.gd;}d.assert(z && A && E && B);}else if((q=t?x.length - 1:0,!p(q,this.wf.console.trace)))return !1;d.assert(z && A && E && B);if(t && q < x.length - 1){D=x[q + 1];this.wf.Pl(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.wf.Pl(z.startOffset,0);D=A.ro("tfhd");if(void 0 === D)return !1;E=A.ro("tfdt");G=B.gd;F=A.ro("saiz");H=A.ro("saio");K=A.ro(g.JGa);O=A.ro("sbgp");if(!(!F && !H || F && H))return !1;I=A.ro("sdtp");P=f.zf.Kx(this,"mdat");if(P && q < P.length)N=P[q];else if(q !== x.length - 1)return !1;void 0 === C && (C=t?B.gd:0);if("number" === typeof w && 0 < w){P=t?C:B.gd - C;for(var J=Array(P),L=0;L < P;++L){J[L]=t?L >= P - w?-Infinity:0:L < w?-Infinity:0;}w=J;}if(B.Ga(A,D,N || this.wf,v,C,A.lq,t))B.iS && (d.assert(void 0 !== B.Z9a),d.assert(void 0 !== B.cN),!t && E && E.Ga(B.Z9a),F && H && (F.Ga(B.cN,t),H.Ga(K?0:F.Nta,A.lq)),K && K.Ga(B.cN,t),I && I.Ga(B.cN,G,t),O && O.Ga(B.cN,t));else if(!t){if(q === x.length - 1)return !1;this.wf.Pl(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.cN)return !1;Array.isArray(w) && N && this.stream.profile && void 0 !== u && B.ZPb(A,D,N,w,this.stream.profile,u,y,m);v=this.wf.Ga();t=v.reduce(function(R,ka){return R + ka.byteLength;},0);v={ka:v,length:t,lG:this.wf.view.byteLength};B.iS && !N && (v.EM=A.lq + B.EM,v.Jp=B.Jp);return v;};return k;})((function(n){function k(m,p,q){return n.call(this,m,p,q) || this;}l.__extends(k,n);return k;})(r.dD));b.xw=a;b.CL=function(n){var k,m;k=new ArrayBuffer(8);m=new DataView(k);m.setUint32(0,n + 8);m.setUint32(4,h.AMa("mdat"));return k;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(237);l=a(236);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.Ga=function(d){var f,n,k,m;f=this;if(!this.parse().done)return !1;n=this.yd.moov;if(!n || 0 === n.length)return !1;k=n[0].Ln("tenc");if(!k)return !1;m=new Uint8Array(k.Wn);d.forEach(function(p){for(var q=p.from,v=!0,t=0;t < q.length;t++){if(m[t] !== q[t]){v=!1;break;}}v && f.wf.A8(p.from.length,p.to,k.Aoa);});return l.concat(this.wf.Ga());};return h;})(r.dD);b.Iba=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(47);b.v=r.v;},function(r,b,a){var d,f,n,k,m,p,q,v,t,w,u,y;function c(x,z,A){this.XR=z;this.ud=x.filter(function(B){return B.hwa[p.kl.Q_];}).map(function(B){return {track:B,stream:B.hwa[p.kl.Q_],id:B.AUa[p.kl.Q_]};});A || (this.ud=this.ud.filter(function(B){return B.track.uf === z;}));}function l(x,z,A){var B;this.jH=z;this.Xs=A;B=x[0];this.wH=B.streams.map(function(C){return {track:B,yT:C.g$a,stream:C};});}function g(x,z,A,B,C){function D(E,G){return E.bitrate > G.bitrate?E:G;}this.log=x;this.jH=A;this.XR=B;this.wH=z.map(function(E){var G;G=E.streams.reduce(D);return {track:E,yT:G.lk?G.lk.offset + G.lk.size:void 0,stream:G};});C || (this.wH=this.wH.filter(function(E){return E.track.uf === B;}));}function h(x,z,A,B,C,D){this.AJb=x;this.CJb=z;this.hUb=A;this.Ltb=B;this.zF=C;this.tf=D;this.la=D.Sa("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Jkb=b.Skb=b.Odb=b.uCa=void 0;r=a(0);d=a(1);f=a(364);n=a(366);k=a(2);m=a(34);p=a(40);q=a(374);v=a(375);t=a(227);w=a(6);u=a(238);y=a(47);h.prototype.Dh=function(x,z){var A,B,C,D,E,G;A=this;D=x.Ha;x=this.fFb(D,z);E=this.IIb(D,z);G=null !== (C=null === (B=D.TV) || void 0 === B?void 0:B.wN) && void 0 !== C?C:D.xN.find(function(F){var H;return F.id === (null === (H=D.T2) || void 0 === H?void 0:H[0].Q$a);}).uf;B=new c(D.xN,G,this.zF.Iga);return Promise.all([x,E,B]).then(function(F){var H,K;H=ma(F);F=H.next().value;K=H.next().value;H=H.next().value;F={audio:F.getMetadata(),video:K.getMetadata(),text:H.getMetadata(),OTa:F.Hla(),mzb:H.Hla(),duration:D.duration,kk:D.kk};K=A.Ltb.wFb(F);z("h_s");return {wOb:A.hUb.transform(F,K),Otb:K,K0b:F};});};h.prototype.IIb=function(x,z){var A;A=new l(x.Ht,this.zF.RZa,this.zF.Xs);return this.uUa(A.wH,y.v.Z,z).then(function(B){A.yua(B);return A;});};h.prototype.fFb=function(x,z){var A,B,C,D;C=null !== (B=null === (A=x.TV) || void 0 === A?void 0:A.Vo) && void 0 !== B?B:x.ls.find(function(E){var G;return E.id === (null === (G=x.T2) || void 0 === G?void 0:G[0].Vo);}).uf;D=new g(this.la,x.ls,this.zF.tv,C,this.zF.Iga);return this.uUa(D.wH,y.v.ga,z).then(function(E){D.yua(E);return D;});};h.prototype.vra=function(x,z,A,B){if(x=this.CJb.parse(z,x,A))return x;this.la.error("Failed to parse headers",{type:z === y.v.ga?"audio":"video",downloadableId:B.stream.Bm});};h.prototype.uUa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(C,D){if(C.yT)return B.AJb.download({urls:C.stream.urls,offset:0,length:C.yT}).then(function(E){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.vra(E,z,z == y.v.ga?B.zF.tv:B.zF.ny,C);}).catch(function(){A("h_" + C.track.uh[0] + "_" + D + "_f");B.la.warn("Failed to download and parse headers for " + C.stream.Bm);});B.la.warn("Stream data offset is missing",{downloadableId:C.stream.Bm});}));};a=h;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.HCa)),r.__param(1,(0,d.l)(n.LCa)),r.__param(2,(0,d.l)(q.xCa)),r.__param(3,(0,d.l)(v.zza)),r.__param(4,(0,d.l)(t.tba)),r.__param(5,(0,d.l)(w.Va))],a);b.uCa=a;g.prototype.yua=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw m.Jc.Mcb(k.V.pDa,k.R.cca);this.ud=this.wH.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ma:B,jH:z.jH};}).filter(u.noa);};g.prototype.getMetadata=function(){return this.ud;};g.prototype.Hla=function(){var x,z;x=this;if(!this.ud.find(function(A){return A.track.uf === x.XR;}) && 0 < this.ud.length){z=this.ud[0].track.uf;this.log.warn("Did not find metadata for audio track " + this.XR + ", falling back to " + z);return z;}return this.XR;};b.Odb=g;l.prototype.yua=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw m.Jc.Mcb(k.V.pDa,k.R.dca);A=this.wH.map(function(B,C){if(C=x[C])return {track:B.track,stream:B.stream,Ma:C,jH:z.jH};}).filter(u.noa);this.ud=this.sHb(A);};l.prototype.getMetadata=function(){return this.ud;};l.prototype.sHb=function(x){var z,A,B;z=this;x.sort(function(C){return C.stream.bitrate;});A=x.findIndex(function(C){var D;return (null !== (D=C.stream.zb) && void 0 !== D?D:0) >= z.Xs;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.Skb=l;c.prototype.Hla=function(){return this.XR;};c.prototype.getMetadata=function(){return this.ud;};b.Jkb=c;},function(r,b,a){var l,g,h,d,f,n;function c(k){this.la=k.Sa("HLSPlaylistTransformerImpl");this.V4b=d.DY.rq();this.Drb=f.Vaa.rq();}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;r=a(0);l=a(1);g=a(6);h=a(126);d=a(239);f=a(376);n=[0,1];c.prototype.transform=function(k,m){var p,q,v,t,w,u,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=k.text;t=k.audio;w=k.video;u=k.duration;y=k.OTa;x=k.mzb;v.forEach(function(A){n.forEach(function(B){var C,D,E,G;C=0 === B;D=A.stream;E=A.track;G=m.get(A.id);C=C?G.uM:G.X8;D=p.tIb({url:C.url,duration:u / 1E3,size:D.size,xl:"Manifest for subtitles " + E.language + ' stream "' + E.xB + '", ' + E.uf + ", cdn " + C.yg});p.la.trace("Text variant manifest",D.join("\n"));B=p.uIb({groupId:B,name:E.xB,Zna:E.uf === x,Lm:E.y5,nLb:E.uh === h.Ao.N$,language:E.language,uri:p.j6(D)});q.push(B);});});t.forEach(function(A){n.forEach(function(B){var C,D,E,G,F,H;C=0 === B;D=A.stream;E=A.track;G=A.Ma;F=A.jH;H=m.get(D.Bm);C=C?H.uM:H.X8;D=p.hYa({url:C.url,yT:D.lk.offset + D.lk.size,Ma:G,fab:Math.floor(F / 1E3),xl:"Manifest for audio " + E.language + ' stream "' + E.xB + '", ' + E.uf + ", cdn " + C.yg});p.la.trace("Audio variant manifest",D.join("\n"));B=p.gFb({groupId:B,language:E.language,name:E.xB,Zna:E.uf === y,uri:p.j6(D)});q.push(B);});});z=this.Drb[t[0].track.profile];w.forEach(function(A){n.forEach(function(B){var C,D,E,G,F,H;C=0 === B;D=A.stream;E=A.track;G=A.Ma;F=A.jH;H=m.get(D.Bm);H=C?H.uM:H.X8;C=0 < v.length;E=p.hYa({url:H.url,yT:D.lk?D.lk.offset + D.lk.size:D.g$a,Ma:G,fab:Math.floor(F / 1E3),xl:"Manifest for video bitrate " + D.bitrate + ", stream " + E.uf + ", cdn " + H.yg});p.la.trace("Video variant manifest",E.join("\n"));B=p.JIb({groupId:B,sR:1E3 * D.bitrate,Qrb:1E3 * D.bitrate,TLb:0 <= D.wA.indexOf("-hdr-") || 0 <= D.wA.indexOf("-dv5-"),framerate:(D.zWa / D.yWa).toFixed(3),hk:D.yta + "x" + D.U7a,O4b:p.V4b[D.wA],srb:z,N1b:C});q.push(B);B=p.j6(E);q.push("" + B);});});this.la.trace("Primary manifest",q.join("\n"));return this.j6(q);};c.prototype.gFb=function(k){var m;m=k.Zna;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.hYa=function(k){var m,p;m=k.Ma;p=["#EXTM3U","# " + k.xl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.fab,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + m[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];m.forEach(function(q,v){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.gb.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.Rsb + "@" + q.byteOffset);p.push("{$U}&fi=" + v);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.JIb=function(k){var m,p;m=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.sR,"AVERAGE-BANDWIDTH=" + k.Qrb,"VIDEO-RANGE=" + (k.TLb?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + m + '"',"RESOLUTION=" + k.hk,'CODECS="' + k.O4b + "," + k.srb + '"'];k.N1b && p.push('SUBTITLES="subs_' + m + '"');return p.join(", ");};c.prototype.tIb=function(k){var m;m=k.duration;return ["#EXTM3U","# " + k.xl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(m),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + m.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.uIb=function(k){var m,p,q;m=k.Zna;p=k.language;q=k.uri;m=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),"FORCED=" + (k.Lm?"YES":"NO")];k.nLb && m.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');m.push('LANGUAGE="' + p + '"');m.push('URI="' + q + '"');return m.join(", ");};c.prototype.j6=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va))],a);b.wCa=a;},function(r,b,a){var l,g,h,d,f;function c(n,k){var p;function m(){p.Dra.then(function(q){p.la.trace("Unloading PBO Playdata Services");q.close();});d.$d.removeListener(d.Ek,m);}p=this;this.p5a=k;this.Dra=k();this.la=n.Sa("PlayerPlaydataMonitorImpl");d.$d.addListener(d.Ek,m);}Object.defineProperty(b,"__esModule",{value:!0});b.FIa=void 0;r=a(0);l=a(1);g=a(6);h=a(142);d=a(58);f=a(15);c.prototype.Fj=function(n,k){this.Dra.then(function(m){m.Fj(k,!0,function(p){return n.close(p);});m.mva(k);n.addEventListener(f.Ka.dsa,function(){n.qB() && m.O8a(k).catch(function(p){(p=p.nM) && n.close(p);});});n.addEventListener(f.Ka.Wk,function(){m.f9(k).catch(function(p){(p=p.nM) && n.close(p);});});n.addEventListener(f.Ka.sl,function(){m.f9(k).catch(function(p){(p=p.nM) && n.close(p);});});});};c.prototype.OW=function(n){return this.Dra.then(function(k){k.t$a();return k.OW(n).catch();});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(h.nP))],a);b.FIa=a;},function(r,b,a){var l,g,h,d;function c(f){this.$pa={};this.g5={};this.Q5=-1;this.zva=new h.Fb(null);this.jsa=new h.Fb(null);this.la=f.Sa("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;r=a(0);l=a(1);g=a(66);h=a(70);a=a(6);c.prototype.oa=function(f,n,k){var m;m=this;f.forEach(function(p){p.stream.urls.forEach(function(q){m.$pa[q.url]=[p,q.yg];});});this.yja=n;this.hzb=k;new PerformanceObserver(function(p){m.C3b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.c9a=function(f){var n,k,m;if(this.yja){k=this.n4(f);if(k !== this.Q5){for(this.Q5=k;0 <= k && !this.g5[k];){k--;}m=ma(null !== (n=this.g5[k]) && void 0 !== n?n:[this.yja,this.hzb]);n=m.next().value;m=m.next().value;this.la.debug("Setting time to " + f + ", using metadata from fragment " + k + " for " + ((0,g.JU)(n.track.type) + " track with bitrate ") + (n.stream.bitrate + " from cdn " + m));f=n.Ma[this.Q5];k=f.gb;this.jsa.set({stream:n,JJ:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + f.duration))},sm:m});}}};c.prototype.n4=function(f){var n,k,m,p,q;n=this.yja.Ma;f/=1E3;k=0;m=n.length - 1;if(f >= n[m].gb)return m;for(;m >= k;){p=k + Math.floor((m - k) / 2);q=n[p];if(f < q.gb)m=p - 1;else if(f >= q.gb + q.duration)k=p + 1;else return p;}return n.length - 1;};c.prototype.C3b=function(f){var n;n=this;f.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var m,p,q;m=k.name.indexOf("&fi=");if(0 < m){p=k.name.substring(0,m);m=Number(k.name.substring(m + 4));if(n.$pa[p]){q=ma(n.$pa[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(m) && k && (n.g5[m] && (n.Q5=-1),n.g5[m]=[k,q],p=k.Ma[m].gb,!1,n.zva.set(k,{wE:Math.floor(1E3 * p),sm:q}));}}});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Va))],d);b.OKa=d;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(815),b);r.__exportStar(a(816),b);r.__exportStar(a(817),b);r.__exportStar(a(818),b);r.__exportStar(a(819),b);r.__exportStar(a(378),b);r.__exportStar(a(820),b);r.__exportStar(a(821),b);r.__exportStar(a(822),b);r.__exportStar(a(823),b);r.__exportStar(a(824),b);r.__exportStar(a(825),b);r.__exportStar(a(240),b);r.__exportStar(a(826),b);r.__exportStar(a(113),b);r.__exportStar(a(827),b);r.__exportStar(a(828),b);r.__exportStar(a(829),b);r.__exportStar(a(830),b);r.__exportStar(a(831),b);r.__exportStar(a(832),b);r.__exportStar(a(833),b);r.__exportStar(a(834),b);r.__exportStar(a(835),b);r.__exportStar(a(836),b);r.__exportStar(a(837),b);r.__exportStar(a(838),b);r.__exportStar(a(839),b);r.__exportStar(a(840),b);r.__exportStar(a(841),b);r.__exportStar(a(842),b);r.__exportStar(a(843),b);r.__exportStar(a(844),b);r.__exportStar(a(845),b);r.__exportStar(a(854),b);r.__exportStar(a(857),b);r.__exportStar(a(858),b);r.__exportStar(a(859),b);r.__exportStar(a(860),b);r.__exportStar(a(861),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(113);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(113);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zz=void 0;r=b.zz || (b.zz={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.YH=1]="HAVE_SOMETHING";r[r.XH=2]="HAVE_MINIMUM";r[r.CO=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rb=b.Zra=void 0;c=a(378);(function(g){g[g.Lj=0]="STARTING";g[g.ie=1]="BUFFERING";g[g.Kj=2]="REBUFFERING";g[g.Td=3]="PLAYING";g[g.w_=4]="STOPPING";g[g.zo=5]="STOPPED";g[g.Rh=6]="PAUSED";})(l || (l={}));b.rb=l;b.Zra=function(g){return g === c.yc.ie?l.ie:g === c.yc.Kj?l.Kj:g === c.yc.xP?l.ie:g === c.yc.jl?l.Td:l.Lj;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mz=void 0;r=b.mz || (b.mz={});r[r.ZG=0]="skipped";r[r.oqb=1]="adjustment";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(846),b);r.__exportStar(a(847),b);r.__exportStar(a(848),b);r.__exportStar(a(849),b);r.__exportStar(a(850),b);r.__exportStar(a(851),b);r.__exportStar(a(852),b);r.__exportStar(a(853),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(855),b);r.__exportStar(a(856),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pr=void 0;r=b.Pr || (b.Pr={});r[r.hjb=0]="PLAYGRAPH_CHANGED";r[r.ijb=1]="PLAYGRAPH_UNCHANGED";r[r.sib=2]="NO_MATCHING_SEGMENT_FOUND";r[r.fkb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.sgb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.rgb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.gkb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.hdb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.Jhb=8]="LOSS_OF_POSITION";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iya=void 0;c=a(7);r=(function(){function l(g){this.config=g;}l.prototype.Xj=function(g,h){return this.config.N9 || h !== c.yc.jl?g.filter(function(d){return d.av;}):g;};return l;})();b.iya=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FP=void 0;r=a(0);c=a(9);l=r.__importDefault(a(5));g=a(867);a=(function(){function h(d){this.console=d;this.PTa=[];this.FQa={};this.iUa=!1;}h.prototype.p9=function(d,f){this.PTa=d;void 0 !== f?this.FQa[f]=d:this.iUa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.iUa=!0);};h.prototype.Xj=function(d){var f,n,k,m,p;f=this;if(0 === d.length)return d;m=d[0].K;if(void 0 === m)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (n=l.default.rs) || void 0 === n?void 0:n.call(l.default,m);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.FQa[m]) && void 0 !== k?k:this.PTa;c.I && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,g.QPa)(q.profile,q.bitrate,p,f.console).inRange;});c.I && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return h;})();b.FP=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QPa=void 0;b.QPa=function(a,c,l){var g,h;g=!0;l.forEach(function(d){var f;if(g && a === d.profile){f=d.ranges;g=void 0 === f?c >= d.min && c <= d.max:f.some(function(n){return c >= n.min && c <= n.max;});!g && d.disallowed && d.disallowed.some(function(n){if(n.stream.bitrate === c)return (h=n.disallowedBy,!0);});}});return {inRange:g,b3:h};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kya=void 0;r=(function(){function a(c){var l;l=this;c.mN && c.mN.enabled && c.mN.profiles && c.mN.profiles.length && "keepLowest" === c.mN.action && (this.R0a={},c.mN.profiles.forEach(function(g){return l.R0a[g]=!0;}));}a.prototype.Xj=function(c){var l,g;l={};g=this.R0a;return void 0 === g?c:c.filter(function(h){return !g[h.profile] || (l[h.profile]?!1:l[h.profile]=!0);});};return a;})();b.kya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hya=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Xj=function(c){var l;l=this.config;return c.filter(function(g){return !(void 0 !== g.zb && (g.zb < l.bG || g.zb > l.o2a) || (void 0 === g.zb || 0 >= l.bG) && g.bitrate < l.eqa || (void 0 === g.zb || Infinity === l.o2a) && g.bitrate > l.GOb);});};return a;})();b.hya=r;},function(r,b,a){var l;function c(g,h){h=Math.max(g,h);return isNaN(h)?g || -Infinity:h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Txa=void 0;l=a(7);r=(function(){function g(h){this.config=h;this.Tsa=0;this.state=l.yc.zo;this.p3a=c(h.eqa,h.G6);this.lqa=c(h.bG,h.MU);}g.prototype.Xj=function(h,d){var f;f=this;if(d !== this.state){this.state=d;if(d === l.yc.ie || d === l.yc.xP)return h;d === l.yc.Kj && this.eWb();}return h.filter(function(n){return !(void 0 !== n.zb && n.zb < f.lqa || (void 0 === n.zb || 0 > f.lqa) && n.bitrate < f.p3a);});};g.prototype.eWb=function(){++this.Tsa;this.lqa=c(this.config.bG,this.config.MU - this.config.EPb * this.Tsa);this.p3a=this.config.eqa || -Infinity;};return g;})();b.Txa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gya=void 0;c=a(19);r=(function(){function l(g){this.config=g;}l.prototype.s_b=function(g){return g % 100 + 1 <= this.config.Hra;};l.prototype.Xj=function(g){var h,d,f,n,k,m,p,q,v,t,w;p=Number(null === (h=g[0]) || void 0 === h?void 0:h.O);if(!(this.config.n3 && this.s_b(p) && 0 < this.config.I8.length))return g;h=g.length;q=null !== (d=g[h - 1].H8) && void 0 !== d?d:0;if(d=(0,c.uc)(this.config.I8,function(u){return u.Fec >= q && u.a8a <= q;})){for(p=0;p < h;p++){v=g[Math.max(p - 1,0)];t=g[p];if(!((null !== (f=t.H8) && void 0 !== f?f:0) < d.a8a || (null !== (n=v.H8) && void 0 !== n?n:0) < d.a8a)){w=null !== (k=t.zb) && void 0 !== k?k:Infinity;v=null !== (m=v.zb) && void 0 !== m?m:Infinity;if(!(v < d.Qdc || v < d.Pdc && t.bitrate < d.maxBitrate || !w && t.bitrate < d.rdc))break;}}return g.slice(0,p);}return g;};return l;})();b.gya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vba=b.laa=void 0;c=a(19);b.laa={Xj:function(l){return l.filter(function(g){return g.Jq && !g.bB;});}};b.Vba={Xj:function(l){return (l=(0,c.uc)(l,function(g){return !!g.Jq && !g.bB;}))?[l]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wba=void 0;b.Wba={Xj:function(a){return a.length?[a[0]]:[];}};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PJ=b.OJ=void 0;c=a(380);l=a(143);b.OJ=function(g,h){h && (null === g || void 0 === g?0:g.YZa) && (h=new l.fu(h).or(l.gD));return new l.fu(l.laa).and(null !== h && void 0 !== h?h:l.gD).or(l.Vba,c.tI.$E).or(l.Wba,c.tI.$E);};b.PJ=function(g,h){h && g.YZa && (h=new l.fu(h).or(l.gD));return new l.fu(l.laa).and(new l.iya(g)).and(new l.hya(g)).and(new l.Txa(g)).and(new l.kya(g)).and(g.n3?new l.gya(g):l.gD).and(null !== h && void 0 !== h?h:l.gD).or(l.Vba,c.tI.$E).or(l.Wba,c.tI.$E);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y;function c(x){var z,A,B,C,D,E;z=x.ta;A=x.qs;B=x.Icb;C=x.Wl;x=x.priority;D=void 0 === x?0:x;(0,f.assert)(z.Li,("Current time: ").concat(m.default.time.Ca()," cr: ").concat(z.currentTime));(0,f.assert)(z.currentTime.isFinite());x=B.wa(z.currentTime);x=Math.max(Math.ceil(x.yy / z.speed),0);E=null !== C && void 0 !== C?C:{id:void 0,ZTa:x,h4a:0,tSb:x};E.id=(0,p.o9)(function(){B.wa(z.currentTime).yB(h.N.Ia)?A():(E.h4a++,c({ta:z,qs:A,Icb:B,Wl:E,priority:D}));},x,D);E.ZTa=x;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.B$=b.yP=void 0;l=a(0);g=a(13);h=a(21);d=a(242);f=a(4);n=a(9);k=a(879);m=l.__importDefault(a(5));p=a(880);q=a(175);v=a(384);t=a(385);w=a(146);u=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{oH:{get:function(){return this.Qfa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N3a:{get:function(){return this.lnb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xyb:{get:function(){return this.Jlb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Zta:{get:function(){return this.nob;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.Jlb=A === y.d7?0:m.default.time.Ca();this.lnb=z;this.nob=A;n.I && (0,f.assert)(!this.Qfa,"Invalid replacement of timeout value");this.Qfa=B;};x.prototype.complete=function(){this.Qfa=void 0;this.set(h.N.Iq,y.d7);};return x;})();(function(x){x[x.d7=0]="none";x[x.W2a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y || (y={}));r=(function(x){function z(A,B,C,D){var E;void 0 === C && (C="unknown");void 0 === D && (D=0);E=x.call(this) || this;E.ta=A;E.console=B;E.name=C;E.priority=D;E.jnb=0;E.w0=!1;E.Cea=!1;E.Qj=new u();E.x3=new g.Af();E.Ai=new d.RZ([],(0,k.rSa)(function(G,F){return G.HG.zk(F.HG);},function(G,F){return F.mk.priority - G.mk.priority;},function(G,F){return G.mk.id > F.mk.id?1:G.mk.id < F.mk.id?-1:0;}));E.fQa(A);return E;}l.__extends(z,x);Object.defineProperties(z.prototype,{v_b:{get:function(){return this.ta.Li;},enumerable:!1,configurable:!0}});z.prototype.lTa=function(A,B){A=new (A.bind.apply(A,l.__spreadArray([void 0],l.__read(B),!1)))();A.id=this.jnb++;A.hrb(this);this.zga(A);return A;};z.prototype.Ax=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.lTa(v.PDa,A);};z.prototype.bv=function(){var A;A={hasSchedule:!!this.Qj.oH,schedule:this.Qj.oH && ({sleepTime:this.Qj.oH.ZTa,originalSleepTime:this.Qj.oH.tSb,clockSkewAdjustments:this.Qj.oH.h4a}),nextWakeup:this.Qj.N3a.G,timeScheduled:this.Qj.xyb,scheduleType:y[this.Qj.Zta],numTasks:this.Ai.length,clock:{ir:this.ta.Li,ct:this.ta.currentTime.G,sp:this.ta.speed}};n.I && this.trace("audit",A);return A;};z.prototype.SJ=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.lTa(t.vKa,A);};z.prototype.VSa=function(A,B,C){return this.Ax(function(){return l.__generator(this,function(D){switch(D.label){case 0:return [4,w.yh.GC(B)];case 1:return (D.cb(),A(),[3,0]);case 2:return [2];}});},C);};z.prototype.fQa=function(A){var B;B=this;this.qx();this.x3.clear();this.ta=A;this.x3.on(A,"stopStart",function(){return B.AM();});this.x3.on(A,"clockAdjusted",function(){return B.dV();});this.x3.on(A,"speedChanged",function(){return B.gSb();});this.dV();this.emit("clockChanged");};z.prototype.gSb=function(){this.qx();this.AM();};z.prototype.Ra=function(){this.reset();this.w0 && (this.Cea=!0);};z.prototype.reset=function(){var A;this.qx();A=this.Ai.ur();this.Ai.clear();A.forEach(function(B){return B.mk.Ra();});};z.prototype.Mf=function(){var A;this.qx();A=this.Ai.ur();this.Ai.clear();A.forEach(function(B){return B.mk.Mf();});};z.prototype.dV=function(){var A,B;A=this;B=this.Ai.map(function(C){return C.mk;});this.qx();this.Ai.clear();B.forEach(function(C){return A.zga(C,!1);});this.AM();};z.prototype.zga=function(A,B){var C,D;void 0 === B && (B=!0);C=A.b7();D=this.Cab(C);C={mk:A,HG:D,E8:C};n.I && this.trace(("Adding task ").concat(A.name," for ").concat(D.G));(0,f.assert)(!this.Ai.contains(C));this.Ai.push(C);B && this.AM();};z.prototype.AM=function(){var A,B,C,D,E;A=this;n.I && this.trace("recheck schedule task count:" + this.Ai.length);if(this.v_b){if(this.w0)n.I && this.trace("already executing, bailing");else {C=this.Qj.N3a;D=this.Ai.et();E=null !== (B=null === D || void 0 === D?void 0:D.HG) && void 0 !== B?B:h.N.Iq;E.isFinite() && E.Eqa(C)?(this.qx(!1),this.ta.currentTime.$h(E)?(this.Qj.set(E,y.W2a),Promise.resolve().then(function(){A.Qj.Zta === y.W2a && (A.Qj.complete(),A.p8a());})):(n.I && this.trace("scheduling next wake up for",{bgc:E.G,mk:null === D || void 0 === D?void 0:D.mk.name}),B=c({ta:this.ta,qs:function(){A.Qj.complete();A.p8a();},Icb:E,priority:this.priority}),this.Qj.set(E,y.setTimeout,B))):E.isFinite() || this.Qj.Zta !== y.setTimeout || this.qx(!1);}}else (n.I && this.trace("should check schedule is false, stopping"),this.qx());};z.prototype.p8a=function(){var A,B,C;B=0;C=null === (A=this.Ai.et()) || void 0 === A?void 0:A.E8;try{for(this.w0=!0;1E4 > B++ && this.U2b();){;}}finally{this.w0=!1;this.qx();1E4 < B && !this.wJb(C)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(n.I && this.trace("Next tasks",this.Ai.map(function(D){return {name:D.mk.name,cgc:D.HG.G};})),this.AM());}};z.prototype.wJb=function(A){var B,C;C=null === (B=this.Ai.et()) || void 0 === B?void 0:B.E8;return A && C && A.timestamp.equal(C.timestamp) && A.type === C.type?!1:!0;};z.prototype.U2b=function(){var A,B,C;C=null !== (B=null === (A=this.Ai.et()) || void 0 === A?void 0:A.HG) && void 0 !== B?B:h.N.Iq;n.I && this.trace(("tryExecuteNextTask @").concat(this.ta.currentTime.G,", next wakeup at ").concat(C));if(this.ta.currentTime.$h(C) && (A=this.Ai.pop())){B=A.mk;n.I && this.trace("Running a task @" + this.ta.currentTime.G + ", scheduled for time:" + C.G + ("Name:").concat(B.name));try{B.lC();A.E8=B.b7();A.HG=this.Cab(A.E8);}catch(D){throw (this.error(("Unhandled error from a task ").concat(B.name," occurred.") + " Removing the task from future executions:" + D,{stack:D.stack}),B.Ra(),D);}finally{this.Cea?(B.Ra(),this.Cea=!1):A.HG !== h.N.Iq && B.state === q.tk.O8 && ((0,f.assert)(!this.Ai.contains(A)),this.Ai.push(A));}return !0;}};z.prototype.Hta=function(A){(0,f.assert)(A.Bd === this);this.x8(A,!1);this.zga(A);};z.prototype.x8=function(A,B){var C;void 0 === B && (B=!0);C=this.Ai.find(function(D){return D.mk === A;});C && this.hXb(C,B);};z.prototype.hXb=function(A,B){this.Ai.remove(A);B && this.AM();};z.prototype.qx=function(A){void 0 === A && (A=!0);this.Qj.oH && (A && this.emit("stopping"),A=this.Qj.oH,(0,p.k2)(A.id),this.Qj.complete());};z.prototype.Cab=function(A){return A.type === w.B_.absolute?A.timestamp:A.timestamp.add(this.ta.currentTime);};z.prototype.trace=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(B),!1));};return z;})(g.EventEmitter);b.yP=r;b.B$=function(x,z,A){var B;B=void 0;return (A || x.ta.Li) && x.ta.currentTime.$h(z)?{promise:Promise.resolve()}:{promise:new Promise(function(C){B=x.SJ(w.yh.bz(z),C);}),mk:B};};},function(r){function b(c,l,g,h){c.trace(":",g,":",h);l(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,g,h){g=h?g.bind(h):g;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addListener)c.addListener(l,g);else if("function" === typeof c.addEventListener)c.addEventListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,h;g=l[0];h=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(h,l):"function" === typeof g.removeListener && g.removeListener(h,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.rSa=void 0;c=a(0);l=a(9);g=a(4);b.rSa=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}l.I && (0,g.assert)(h.length);return function(f,n){var k,q,v;try{for(var m=c.__values(h),p=m.next();!p.done;p=m.next()){q=p.value;v=q(f,n);if(0 !== v)return v;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (k=m.return) && k.call(m);}finally{if(t)throw t.error;}}return 0;};};},function(r,b,a){var l,g,h,d,f;function c(n,k){return n.time - k.time || n.priority - k.priority || n.id - k.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.kob=b.k2=b.o9=void 0;r=a(0);l=a(9);g=r.__importDefault(a(5));h=a(4);d=a(242);f=(function(){function n(){var k;k=this;this.po=new d.RZ([],c);this.Tva=0;this.console=new g.default.Console("SETTIMEOUT");this.zCb=function(){var m,p;m=g.default.time.Ca();k.ZW=void 0;l.I && k.console.trace(("[").concat(m,"] Wake"));try{for(;!k.po.empty && k.po.et().time <= m;){p=k.po.pop();l.I && k.console.trace(("[").concat(g.default.time.Ca(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.qs();}}finally{k.Yta();}};}Object.defineProperties(n,{instance:{get:function(){return n.$r || (n.$r=new n());},enumerable:!1,configurable:!0}});n.Efa=function(){(0,h.assert)(void 0 === n.$r || n.$r.po.empty,"Singleton SetTimeoutWithPriority reset with pending timers");n.$r=void 0;};n.prototype.o9=function(k,m,p){var q,v,t;(0,h.assert)(isFinite(m) && 0 <= m);q=this.po;v=g.default.time.Ca();t=v + m;q.push({id:++this.Tva,time:t,priority:p,qs:k});l.I && this.console.trace(("[").concat(v,"] New p").concat(p," timer ").concat(this.Tva," scheduled for ").concat(t," in ").concat(m,"ms"));this.Yta();return this.Tva;};n.prototype.k2=function(k){var m,p,q;m=this.po;p=m.find(function(v){return v.id === k;});if(p){q=m.et().time;m.remove(p);l.I && this.console.trace(("[").concat(g.default.time.Ca(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(m.empty || m.et().time > q) && this.Yta();}};n.prototype.VRa=function(){this.ZW && (clearTimeout(this.ZW.id),l.I && this.console.trace(("[").concat(g.default.time.Ca(),"] Clearing wake timer")),this.ZW=void 0);};n.prototype.Yta=function(){var k,m;m=this.po;m.empty?this.VRa():(m=m.et().time,m !== (null === (k=this.ZW) || void 0 === k?void 0:k.time) && (this.VRa(),k=Math.max(0,m - g.default.time.Ca()),l.I && this.console.trace(("[").concat(g.default.time.Ca(),"] Setting wake timer for ").concat(m," in ").concat(k,"ms")),this.ZW={id:setTimeout(this.zCb,k),time:m}));};return n;})();b.o9=function(n,k,m){return f.instance.o9(n,k,m);};b.k2=function(n){f.instance.k2(n);};b.kob=function(){f.Efa();};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(885),b);r.__exportStar(a(390),b);r.__exportStar(a(391),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(889),b);r.__exportStar(a(890),b);r.__exportStar(a(891),b);r.__exportStar(a(393),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LH=void 0;r=b.LH || (b.LH={});r[r.start=0]="start";r[r.end=1]="end";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l;function c(g,h){var d;void 0 === h && (h=c);d="";g.tK && (d=null === g || void 0 === g?void 0:g.tK.map(h).reduce(function(f,n){return ("").concat(f,",").concat(n);}));return ("").concat(null === g || void 0 === g?void 0:g.name,"::").concat(null === g || void 0 === g?void 0:g.message,"::{").concat(null === g || void 0 === g?void 0:g.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.X$=void 0;l=a(0);r=(function(g){function h(d,f){d=g.call(this,h.LEb(d,f)) || this;d.Xlb=f;d.name="AggregateError";return d;}l.__extends(h,g);h.LEb=function(d,f){return f.reduce(function(n,k){return ("").concat(n,"\n").concat(k);},d);};h.stringify=function(d){return c(d);};Object.defineProperties(h.prototype,{tK:{get:function(){return this.Xlb;},enumerable:!1,configurable:!0}});return h;})(Error);b.X$=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AP=void 0;r=(function(){function a(c){this.pOa=c;}Object.defineProperties(a.prototype,{hL:{get:function(){return this.Dmb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.pOa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ZXb:{get:function(){var c;c=this;return this.pOa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Dmb=!0;};a.prototype.p7=function(c,l){var g;g=this;this.result.then(function(h){g.hL?l && l(h):c(h);});};return a;})();b.AP=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka;Object.defineProperties(b,{__esModule:{value:!0}});b.Ixa=void 0;c=a(0);l=a(13);g=a(388);h=a(895);d=a(896);f=a(937);n=a(938);k=a(7);a(240);m=a(974);p=a(19);q=a(4);v=a(177);t=a(975);w=a(976);u=a(977);y=a(72);x=a(252);z=a(978);A=a(60);B=a(253);C=a(10);D=c.__importDefault(a(5));E=a(979);G=a(980);F=a(981);H=a(982);K=a(28);O=a(984);I=a(985);P=a(417);N=a(1003);J=a(1004);L=a(1005);R=a(1101);ka=a(1131);r=(function(){function la(X){this.S=X;this.events=new l.EventEmitter();this.wc=g.Kt.CLOSED;this.Du=[];this.EW=[];this.xQ=[];this.Io=[];this.wMa={};this.P0={};this.yva=g.eO.default;this.Gob=new y.gu({Pm:this,source:"engine",$n:10,console:X});}Object.defineProperties(la.prototype,{Cv:{get:function(){(0,q.assert)(this.Yw);return this.Yw;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{state:{get:function(){return this.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{$Tb:{get:function(){return this.xQ;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{uG:{get:function(){return this.Io.map(function(X){return X.fa;});},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{bUb:{get:function(){return this.Io;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Kd:{get:function(){this.mH();return this.ux.Kd;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{TU:{get:function(){this.mH();return this.ux.TU;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{wp:{get:function(){this.mH();return this.ux.wp;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{X4b:{get:function(){return this.Du.length;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{yJ:{get:function(){return this.wMa;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{PQa:{get:function(){return this.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{YG:{get:function(){return this.P0;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{rPb:{get:function(){return this.DNa || (this.DNa=this.ktb());},enumerable:!1,configurable:!0}});la.prototype.open=function(X,da,ta,Ba){var Ja;Ja=this;if(this.wc === g.Kt.OPEN)return !1;this.W=X;this.Ar=new A.yP(new B.C_({Li:!0,currentTime:function(){return C.N.Na(D.default.time.Ca());},speed:1}),this.S,"Engine Scheduler");this.aNa=new f.aCa(this.S,X);this.Wz=new m.NJa(this.H5.bind(this),X);X.k$ && (this.nn=new h.Vya(this.S,function(){return Ja.yJ;}));this.ux=n.Iza.fma(X,this.S,da);this.wc=g.Kt.OPEN;X=Object.create(X,{uqb:{value:X.vqa || X.tqb}});this.Yw=(0,P.fT)(X);ta && this.Yw.v9a(ta);Ba && this.Yw.Dua(Ba);this.O5a=new N.WIa({lj:function(){Ja.wc !== g.Kt.CLOSED && Ja.Wz.lj("playgraphOpportunity");}});this.ENa=new F.LFa(function(){return Ja.t4();},function(){return Ja.u4().global;},this.S);this.gyb();return !0;};la.prototype.bR=function(X,da,ta,Ba,Ja){var Va,Ta,T;Va=this;void 0 === Ja && (Ja=!0);this.mH();ta=Object.create(ta,{bN:{value:this.YG}});if(Ja){Ta=this.Cv.uub(X,ta);if(Ta)return (Ta.Mbb(da),X=this.Kp.bind(this,Ba,Ta),Ta.SZb(X),Ta);}Ta=new O.PJa(function(aa){return Va.Kp(Ba,T,aa);},function(aa){return Va.Jv(Ba,aa);});T=(0,L.G2)(this.W,[X,da,ta,la.wQb++,this.Kd,Ta,function(aa){return Va.Wz.lj(aa);},Ja?this.Cv.tub.bind(this.Cv):function(){},this.t4.bind(this),this.nn],this.S);T.bf(new w.IKa(T));T.bf(new u.aLa(T.he));T.g6.bf(new H.fya(T));T.g6.bf(new I.lEa(T));this.Vz.FG.forEach(function(aa){return T.bf(aa);});this.O5a.bR(T);X=new l.Af();X.on(T.events,"requestsPruned",this.EXb.bind(this));X.on(T.events,"weightUpdated",this.lra.bind(this));X.on(T.events,"underflow",this.ph.bind(this,T));this.Io.push({fa:T,Mm:X,VV:0});this.lra();return T;};la.prototype.ph=function(X){X=this.ENa.tEb(X);(null === X || void 0 === X?0:X.Z2) || this.Cv.reset();};la.prototype.Hy=function(X){this.O5a.Hy(X);this.Io=this.Io.filter(function(da){return da.fa === X?(da.Mm.clear(),!1):!0;});X.Ra();this.lra();};la.prototype.Vpb=function(X,da){var ta,Ba,Ja;this.mH();Ja=da.$f;Ja=void 0 === Ja?[k.v.ga,k.v.Z]:Ja;X=(0,R.RJ)(this.W,[X,Ja,c.__assign({bN:null !== (Ba=null !== (ta=da.bN) && void 0 !== ta?ta:this.P0) && void 0 !== Ba?Ba:{}},da)]);this.xQ.push(X);return X;};la.prototype.x7a=function(X){this.mH();this.xQ=this.xQ.filter(function(da){return da !== X;});X.Ra();};la.prototype.sZb=function(X,da){this.wMa=X;this.P0=da;this.DNa=void 0;};la.prototype.YM=function(X,da){var ta,Ba;Ba=null === (ta=(0,p.uc)(this.Du,function(Ja){return Ja.CE.equals(X);})) || void 0 === ta?void 0:ta.pa;Ba?Ba.YM(c.__assign(c.__assign({},da),{ZU:this.Fqa.bind(this)})):this.EW.push({vcb:X,Wua:da});};la.prototype.z7a=function(X){this.EW=this.EW.filter(function(da){return !da.vcb.equals(X);});};la.prototype.close=function(){this.wc !== g.Kt.CLOSED && (this.WWb(),(0,q.assert)(0 === this.Du.length,"Unexpected viewable lease after Playgraph destruction."),this.VWb(),this.EW=[],delete this.ux,this.wc=g.Kt.CLOSED,this.Ar.Ra());};la.prototype.YZb=function(X){this.yva=X;this.Wz.lj("streamingModeChanged");};la.prototype.gyb=function(){this.Vz=new K.sda(this.W);this.Vz.bf(new E.vBa(this));this.Vz.bf(new z.QJa(this.Kd,this.Wz));this.Vz.bf(new t.sBa(this.Kd));this.Vz.bf(new x.Kw(this.Gob));this.Vz.bf(new x.Kw(this.Wz.vp));this.Vz.bf(new x.Kw(this.aNa.Yg));this.Vz.bf(new x.Kw(this.ENa.Yg));};la.prototype.Fqa=function(){};la.prototype.HN=function(X){return c.__awaiter(this,void 0,void 0,function(){var da,ta,Ba,Ja;return c.__generator(this,function(Va){switch(Va.label){case 0:return ((0,q.assert)(X,"ase.updateViewable(): Viewable config not found."),da=(0,p.uc)(this.Du,function(Ta){return !0 !== Ta.CE.Bs && Ta.CE.equals(X);}),(0,q.assert)(da,"ase.updateViewable(): Viewable entry not found."),[4,da.FC]);case 1:return (ta=Va.cb(),Ja=(Ba=ta).HN,[4,X.Rp]);case 2:return (Ja.apply(Ba,[Va.cb()]),[2]);}});});};la.prototype.Kp=function(X,da,ta){var Ba,Ja,Va,Ta;Ba=this;Ja=ta.K;Va=X.Nn(Ja,ta.dW);(0,q.assert)(Va,"ase.requestViewable(): Viewable config not found.");Ta=(0,p.uc)(this.Du,function(T){return !0 !== T.CE.Bs && T.CE.equals(Va);});Ta || (Ta={CE:Va,FC:(function(){return c.__awaiter(Ba,void 0,void 0,function(){var T,aa;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,Va.Rp];case 1:return (T=Q.cb(),aa=this.Uu(Ja,Va,T),Ta.pa=aa,[2,aa]);}});});})(),pa:void 0,XMb:new v.Oba(function(T){T() && Ba.fta(Ta);},(0,C.gi)(D.default,this.S,("").concat(Ja)))},this.Du.push(Ta));X=new ka.cMa(Ta,this.S,da,ta);X.events.once("error",this.fta.bind(this,Ta,!1));return X;};la.prototype.fta=function(X,da){var ta,Ba;void 0 === da && (da=!0);(0,q.assert)(X,"expected viewableEntry to exist");ta=X.pa;Ba=X.FC;da && (ta?ta.Ra():Ba.then(function(Ja){Ja.Ra();}));this.Du=this.Du.filter(function(Ja){return Ja !== X;});};la.prototype.Uu=function(X,da,ta){var Ja,Va,Ta,T,aa,Q;function Ba(M){Ja.events.emit("logdata",M);}Ja=this;this.mH();Va=ta.X;Ta=ta.Su;T=ta.wq;aa=ta.$f;aa=void 0 === aa?k.uz:aa;ta=ta.config;Q=[new d.ica(k.v.ga),new d.ica(k.v.Z)];Va={X:Va,config:ta,Su:Ta,wq:T,$f:aa,Kd:this.ux.Kd,wp:this.ux.wp,rCb:{$A:function(){return Ja.Wz.lj("networkFailureReset");},yf:this.yf.bind(this,X),Vn:this.Vn.bind(this,X),hG:Ba},BJb:{hG:Ba,PK:function(M){return Q[M];},Y_a:function(){return !0;}},eW:{Ju:this.Ju.bind(this),Ip:this.Ip.bind(this)},YG:this.P0};X=new d.lya(X,Va);ta.VE && (Va=(0,p.uc)(this.EW,function(M){return M.vcb.equals(da);})) && (Va=Va.Wua,this.z7a(da),X.YM(c.__assign(c.__assign({},Va),{ZU:this.Fqa.bind(this)})));return X;};la.prototype.Jv=function(X,da){return c.__awaiter(this,void 0,void 0,function(){var ta,Ba,Ja,Va,Ta,T,aa,Q,M;return c.__generator(this,function(S){switch(S.label){case 0:(ta=da.Tj,Ba=da.K,Ja=X.Nn(Ba),(0,q.assert)(Ja,"ase.requestAdBreakHydration(): Parent viewable config not found."),Va=(0,p.uc)(this.Du,function(ra){return !0 !== ra.CE.Bs && ra.CE.equals(Ja);}),(0,q.assert)(Va,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Ba)),Ta=Va.pa,(0,q.assert)(Ta,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Ba)),T=Ta.X.Uc,aa={Tf:{Uc:T,Ie:Ba}},S.label=1);case 1:return (S.Wm.push([1,3,,4]),[4,X.Jv(ta,aa)]);case 2:return (Q=S.cb(),[2,{fga:Q,$ga:Ta}]);case 3:return (M=S.cb(),[2,Promise.reject(M)]);case 4:return [2];}});});};la.prototype.H5=function(){var X,da;(0,q.assert)(this.state === g.Kt.OPEN);X=this.u4();da=this.XK();return this.aNa.B4a(X,da);};la.prototype.XK=function(){var X,da,ta;X=this;ta=null !== (da=this.W.CUb) && void 0 !== da?da:this.Io.every(function(Ba){return !Ba.fa.Eq;});da=(0,p.flatten)(this.Io.map(function(Ba){return Ba.fa.XK().map(function(Ja){Ba.fa.Eq || 1 === Ba.VV || (Ja.wF=Ba.VV);return Ja;});}));this.yva === g.eO.disabled?da=[]:this.yva === g.eO.eOb && (da=da.filter(function(Ba){return X.W.r2a >= Ba.qr - Ba.sq;}));ta || (ta=da.filter(function(Ba){var Ja;return 1 === (null !== (Ja=Ba.wF) && void 0 !== Ja?Ja:1);}),ta.length && (da=ta));ta=this.Du.reduce(function(Ba,Ja){return Ja.pa?c.__spreadArray(c.__spreadArray([],c.__read(Ba),!1),c.__read(Ja.pa.XK()),!1):Ba;},[]);return (0,p.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(da),!1),c.__read(ta),!1));};la.prototype.mH=function(){if(this.wc === g.Kt.CLOSED)throw Error("Engine CLOSED");};la.prototype.WWb=function(){var X,Ba;try{for(var da=c.__values(this.Io),ta=da.next();!ta.done;ta=da.next()){Ba=ta.value;Ba.Mm.clear();this.Hy(Ba.fa);}}catch(Va){var Ja;Ja={error:Va};}finally{try{ta && !ta.done && (X=da.return) && X.call(da);}finally{if(Ja)throw Ja.error;}}};la.prototype.VWb=function(){var X;try{for(var da=c.__values(this.xQ),ta=da.next();!ta.done;ta=da.next()){this.x7a(ta.value);}}catch(Ja){var Ba;Ba={error:Ja};}finally{try{ta && !ta.done && (X=da.return) && X.call(da);}finally{if(Ba)throw Ba.error;}}};la.prototype.yf=function(X,da,ta,Ba,Ja,Va,Ta){var T;void 0 === Ta && (Ta=!1);T=!1;this.uYa(X).forEach(function(aa){if(!Ta || (0,k.Kq)(aa.Ff.value))T=aa.yf(da,X,ta,Ba,Ja,Va,Ta);});return T;};la.prototype.Vn=function(X){return this.uYa(X).some(function(da){return da.Vn();});};la.prototype.uYa=function(X){return this.Io.filter(function(da){var ta;for(da=da.fa;da.Xa;){da=da.Xa;}ta=da.fa;return Object.keys(ta.L).some(function(Ba){return ta.L[Ba].K === X;});}).map(function(da){return da.fa;});};la.prototype.u4=function(){var X;X=new G.ZBa();this.Io.forEach(function(da){var ta,Ba;ta=da.fa;da=da.VV;Ba=ta.u4();Ba.wF=da;X.add(ta.id,Ba);});return X;};la.prototype.t4=function(){return this.rPb;};la.prototype.ktb=function(){var X,da;da=(0,J.gRa)(this.W,this.yJ);return {total:(X={},X[k.v.Z]=this.yJ.video || Infinity,X[k.v.ga]=this.yJ.audio || Infinity,X[k.v.Za]=this.yJ.text || Infinity,X.total=this.yJ.total || Infinity,X),pva:da};};la.prototype.Ju=function(X){var da;this.Wz.Ju(X);null === (da=this.nn) || void 0 === da?void 0:da.Ju(X);};la.prototype.Ip=function(X){this.Wz.Ip(X);};la.prototype.lra=function(){var X;X=this.uG.reduce(function(da,ta){return Math.max(ta.weight,0) + da;},0);this.Io.forEach(function(da){da.VV=0 >= da.fa.weight?0:da.fa.weight / X;});};la.prototype.EXb=function(X){var da;da=this;this.nn && X.requests.forEach(function(ta){return da.nn.Ip(ta);});};la.wQb=0;c.__decorate([(0,y.Pb)({methodName:"open"})],la.prototype,"open",null);c.__decorate([(0,y.Pb)({methodName:"addPlaygraph",context:function(X){var da,ta;return {playgraphCount:null !== (ta=null === (da=X.q4a.Io) || void 0 === da?void 0:da.length) && void 0 !== ta?ta:0};}})],la.prototype,"bR",null);c.__decorate([(0,y.Pb)({methodName:"removePlaygraph",context:function(X){return {playgraphCount:X.q4a.Io.length};}})],la.prototype,"Hy",null);c.__decorate([(0,y.Pb)({methodName:"close"})],la.prototype,"close",null);c.__decorate([(0,y.Pb)({methodName:"setStreamingMode",iq:!0})],la.prototype,"YZb",null);c.__decorate([(0,y.Pb)({methodName:"notifyAseException",iq:!0})],la.prototype,"Fqa",null);c.__decorate([(0,y.Pb)({methodName:"updateViewable"})],la.prototype,"HN",null);c.__decorate([(0,y.Pb)({methodName:"requestViewable"})],la.prototype,"Kp",null);c.__decorate([(0,y.Pb)({methodName:"removeViewable"})],la.prototype,"fta",null);c.__decorate([(0,y.Pb)({methodName:"createViewable"})],la.prototype,"Uu",null);c.__decorate([(0,y.Pb)({methodName:"requestAdBreakHydration"})],la.prototype,"Jv",null);c.__decorate([(0,y.Pb)({methodName:"issueRequestOpportunity",Vj:!0,return:!0})],la.prototype,"H5",null);c.__decorate([(0,y.Pb)({methodName:"reportStreamingFailure",iq:!0})],la.prototype,"yf",null);return la;})();b.Ixa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=void 0;c=a(7);l=a(4);r=(function(){function g(h,d){this.S=h;this.hmb=d;this.Cu=this.ju=this.No=0;}g.prototype.Ju=function(h){var d;if(!h.Ad){d=h.va;(0,l.assert)(0 < d);this.No+=d;h.mediaType === c.v.ga?this.ju+=d:this.Cu+=d;(0,l.assert)(this.No === this.ju + this.Cu);(0,l.assert)(0 < this.No);(0,l.assert)(0 <= this.ju);(0,l.assert)(0 <= this.Cu);}};g.prototype.Ip=function(h){var d;if(!h.Ad){d=h.va;(0,l.assert)(0 < d);this.No-=d;h.mediaType === c.v.ga?this.ju-=d:this.Cu-=d;(0,l.assert)(this.No === this.ju + this.Cu);(0,l.assert)(0 <= this.No);(0,l.assert)(0 <= this.ju);(0,l.assert)(0 <= this.Cu);}};g.prototype.bub=function(h,d){var f;(0,l.assert)(this.No === this.ju + this.Cu);f=this.hmb();if(void 0 !== f.total && this.No + d > f.total)return !1;f=h === c.v.ga?f.audio:f.video;h=h === c.v.ga?this.ju:this.Cu;return void 0 !== f && h + d > f?!1:!0;};return g;})();b.Vya=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y;Object.defineProperties(b,{__esModule:{value:!0}});b.lya=b.ica=void 0;c=a(0);l=a(13);g=a(897);r=a(114);h=a(398);d=a(910);f=a(913);n=a(7);k=c.__importDefault(a(5));m=a(4);a(10);p=a(19);q=a(915);v=a(245);t=a(127);w=a(377);u=a(916);y=a(917);b.ica=(function(){return function(x){this.mediaType=x;this.k1a=void 0;};})();a=(function(x){function z(A,B){var C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta;D=B.X;E=B.$f;G=B.Su;F=B.wq;H=B.config;K=B.BJb;O=B.eW;I=B.Kd;P=B.wp;N=B.rCb;B=B.YG;J=x.call(this) || this;J.K=A;J.IZa=!1;J.j1a=0;J.yL={};J.Voa=(C={},C[n.v.ga]={},C[n.v.Z]={},C[n.v.Za]={},C);J.W$b=[];J.Smb=[];J.yD=[];J.BA=[];J.v0=!1;J.a4a=!1;J.xSa={a6:"liveEdgeCushion",YF:"maxMediaBufferAllowed",LTa:"decryptOCSideChannelMinInterval",MTa:"decryptOCSideChannelMinIntervalAfterCompleted"};J.wSa=Object.keys(J.xSa).reduce(function(Ba,Ja){Ba[J.xSa[Ja]]=Ja;return Ba;},{});J.wNa=D;J.sB=function(Ba){return 0 <= E.indexOf(Ba);};J.console=new k.default.Console("ASEJS","media|asejs","<" + String(J.K) + ">");J.config=J.Oob(D,H);J.Zoa=new u.pEa();K && (A=K.PK,J.Gq=new y.ICa(J,J.console,J.config,K.hG,A,K.Y_a),J.PK=A);J.events=new l.EventEmitter();J.Kd=I;J.eW=O;J.YG=B;J.Su=G;J.wq=!!F;L=[[],[],[]];R=[{},{},{}];ka=[0,0];la=!1;da=J.sB(n.v.ga);ta=J.sB(n.v.Z);G=J.ha;["audio_tracks","video_tracks"].forEach(function(Ba,Ja){var Va,Ta;Va=Ja === n.v.Z;Ta=Ja === n.v.ga;Ta && !da || Va && !ta || J.X[Ba].forEach(function(T,aa){if(T.type !== n.v.ga || !1 !== T.Bg)(aa=new h.NH({pa:J,Zn:T,mediaType:Ja,wq:!1,uH:aa,cE:aa + (Ta?J.X.video_tracks.length:0)},J.config,J.console),Ja === n.v.Z && H.OBb && new q.mya(H).yVb(aa.Ug),Ja === n.v.Z && (X=v.xI.from({Zs:T.Rpa,xs:T.Qpa})),L[Ja].push(aa),R[Ja]=c.__assign(c.__assign({},R[Ja]),aa.vF()),aa.maxBitrate > ka[aa.mediaType] && (ka[aa.mediaType]=aa.maxBitrate),la=la || aa.Cl);});});G && J.X.timedtexttracks.forEach(function(Ba,Ja){var Va;if("none" !== Ba.id){Va=n.v.Za;Ba=new h.NH({pa:J,Zn:Ba,mediaType:Va,wq:!1,uH:Ja,cE:Ja},J.config,J.console);L[Va].push(Ba);R[Va]=c.__assign(c.__assign({},R[Va]),Ba.vF());}});J.X.om && ((0,m.assert)(X,"Should have video track if there are adverts"),J.om={Xd:J.X.om.Xd.map(function(Ba){var Ja;Ja=c.__assign(c.__assign({},Ba),{Et:Ba.Gl,Gl:X.normalize(Ba.Gl)});Ba.xe !== Ba.ads && (Ja.unnormalizedLocationMs=Ja.Et,Ja.locationMs=Ja.Gl);return Ja;})});J.Hl=new f.uEa(J.X,R,I,P,J.config,null === N || void 0 === N?void 0:N.hG);N && (I=N.$A,P=N.Vn,J.gJ=N.yf,J.Vn=P,J.$A=I,J.m0=new d.yBa(J.Hl,J.config,J.UIb.bind(J),J.TIb.bind(J)),J.m0.events.addListener("requestError",function(Ba){J.ha && J.config.DNb && 404 === Ba.Rx && J.Zoa.bYb();}));J.KP=L;J.K9=R;J.EL=ka;J.Cl=la;return J;}c.__extends(z,x);Object.defineProperties(z.prototype,{X:{get:function(){return this.wNa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ha:{get:function(){var A,B;A=this.X;B=A.sj;return "LIVE" === A.bg && !!B;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{HU:{get:function(){var A;return !(null === (A=this.KP[n.v.Z][0]) || void 0 === A || !A.HU);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{O:{get:function(){return this.X.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ap:{get:function(){return this.X.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.X.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{El:{get:function(){return this.v0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zu:{get:function(){(0,m.assert)(this.m0,"ErrorDirector is not available on old architecture prefetch viewables.");return this.m0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sK:{get:function(){return this.Zu.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qC:{get:function(){return this.Zoa.qC;},set:function(A){this.Zoa.qC=A;},enumerable:!1,configurable:!0}});z.prototype.Ra=function(){this.close();this.Te();};z.prototype.close=function(){var A;this.BA=[];null === (A=this.m0) || void 0 === A?void 0:A.Ra();this.Hl.Ra();this.v0=!0;};z.prototype.Te=function(){this.Gq && this.Gq.Te();};z.prototype.HN=function(A){var B,C,D,E,G,F,H,K;B=this;C=A.X;D=A.Su;E=A.wq;G=void 0 === E?!1:E;A=A.$f;F=void 0 === A?n.uz:A;(0,m.assert)(D === this.Su,"Updating Viewable clearplay not supported");n.uz.forEach(function(O){(0,m.assert)(B.sB(O) === 0 <= F.indexOf(O),"Updating Viewable media types not supported");});(0,m.assert)(C.movieId === this.X.movieId,"Changing Viewable manifest movieId unsupported");H=this.sB(n.v.ga);K=this.sB(n.v.Z);["audio_tracks","video_tracks"].forEach(function(O,I){var P,N,J,L;P=I === n.v.Z;N=I === n.v.ga;if(!(N && !H || P && !K)){J=C[O];L=B.KP[I];(0,m.assert)(L.every(function(R){var ka;ka=J[R.uH];return ka && ka.EN === R.trackId && (ka.type === n.v.Z || !1 !== ka.Bg);}),"Existing tracks must still exist and be hydrated in updated manifest");J.forEach(function(R,ka){var la,X;if(R.type !== n.v.ga || !1 !== R.Bg){la=B.getTrackById(R.EN);if(la){R=R.streams;X=Object.keys(la.vF());(0,m.assert)(R.length === X.length,"Expected updated manifest track to have same number of streams");R.forEach(function(da){da=da.downloadable_id;(0,m.assert)(-1 !== X.indexOf(da),"Changing Viewable track streams unsupported");});}else (la=new h.NH({pa:B,Zn:R,mediaType:I,wq:G,uH:ka,cE:ka + (N?B.X.video_tracks.length:0)},B.config,B.console),L.push(la),B.K9[I]=c.__assign(c.__assign({},B.K9[I]),la.vF()),la.maxBitrate > B.EL[la.mediaType] && (B.EL[la.mediaType]=la.maxBitrate),(0,m.assert)(B.Cl || !la.Cl,"Can not update clear viewable with drm track."));}});}});this.wNa=C;this.Hl.m1(this.X,this.K9);};z.prototype.$Jb=function(A,B){var C,D;C=this;(0,m.assert)(this.X.om,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,m.assert)(this.om,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.X.om.Xd.some(function(E,G){var F,H;if(E.Tj === B){F=C.om.Xd[G];H=F.Gl;F=F.Et;D=c.__assign(c.__assign({},A),{Et:F,Gl:H,Tj:B});E.xe !== E.ads && (D.unnormalizedLocationMs=D.Et,D.locationMs=D.Gl,D.adBreakToken=D.Tj);C.om.Xd[G]=D;return !0;}});return D;};z.prototype.YM=function(A){var B,C,D;B=A.Ap;C=A.ja;D=A.Kja;A=A.ZU;B && C?(this.t9=new g.rKa(B,{ja:String(C),Kja:!!D,gPb:this.config.ZZ.mx,zsb:this.config.ZZ.lv},A),this.Zu.YM(this.t9)):this.a4a || (A("SideChannel: pbcid/xid is missing."),this.a4a=!0);};z.prototype.Xna=function(){return void 0 !== this.ap;};z.prototype.Hm=function(A,B){return (0,w.eYa)(this.X,A,B);};z.prototype.getTracks=function(A){return this.KP[A];};z.prototype.getTrackById=function(A){var B;this.KP.some(function(C){return C.some(function(D){if(D.trackId === A)return (B=D,!0);});});B || this.console.warn("getTrackById not found:",A,"length:",this.KP.length);return B;};z.prototype.Bma=function(A,B){return (A=this.vF(A)) && A[B];};z.prototype.vF=function(A){return this.K9[A];};z.prototype.jMb=function(A){var B,C;if(void 0 === A.e8 || void 0 === A.rsa){B=this.Hl.OB.filter(function(D){return void 0 !== D.streams[A.Wb];})[0];C=B.children.filter(function(D){return D.urls.some(function(E){return E.stream.id === A.Wb;});})[0];A.e8=B.id;A.rsa=C.id;}return {woa:A.location === A.e8,kMb:A.bc === A.rsa};};z.prototype.Fua=function(A,B,C){void 0 !== B && void 0 !== C && (this.H7a(A.mediaType,B),A.Fua(B,C));};z.prototype.H7a=function(A,B){var C;C=this.config.uqa;("location" === C || "video_location" === C && A === n.v.Z) && this.Kd.m9(B);};z.prototype.yf=function(A,B,C,D,E,G){(0,m.assert)(this.gJ,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.gJ(A,B,C,D,E,G);};z.prototype.Ym=function(){var A;A=this;if(this.El)return (this.console.error("updateRequestUrls, closed Viewable:",this.K),!1);n.uz.forEach(function(B){A.sB(B) && A.T3b(B) && A.J3b(B);});this.B3b();return !0;};z.prototype.Fs=function(A,B){var C;C=this.getTracks(n.v.Z)[0];(0,m.assert)(C);if(C.EF)return C.Fs(A,B);};z.prototype.T3b=function(A){var B;B=this;return this.El?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.sB(A)?this.yD.reduce(function(C,D){return (0,p.z1)(C,D.Od.filter(function(E){return E.mediaType === A;}));},[]).map(function(C){return B.Hl.Hbb(B.K,C.Ug);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A),!1);};z.prototype.B3b=function(){(0,m.assert)(this.Gq,"Headers not available on old architecture prefetch viewables.");this.Gq.Ym();};z.prototype.J3b=function(A){var B,C,G;C=[];if(this.El)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else if(this.sB(A))try{for(var D=c.__values(this.yD),E=D.next();!E.done;E=D.next()){G=E.value.Ym(A);G.length && C.push.apply(C,G);}}catch(H){var F;F={error:H};}finally{try{E && !E.done && (B=D.return) && B.call(D);}finally{if(F)throw F.error;}}else this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A);};z.prototype.Oob=function(A,B){var C,E,G;if((A=A.steeringAdditionalInfo) && A.streamingClientConfig && Object.keys(A.streamingClientConfig).length){A=A.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(A));for(var D in A){if(this.wSa.hasOwnProperty(D)){E=this.wSa[D];if(B.hasOwnProperty(E)){G=Number(A[D]);B.set?0 === B.set((C={},C[E]=G,C)) && this.console.trace("Invalid key" + D):B[E]=G;}}}}return B;};z.prototype.ph=function(){var A;A=this;this.Hl.ph();this.Zu.ph();this.t9 && ((0,m.assert)(this.PK),n.uz.forEach(function(B){B=A.PK(B);A.t9.mua("rebuffer",B.k1a);}));};z.prototype.l9=function(A){(0,m.assert)(this.Gq,"Headers not available on old architecture prefetch viewables.");this.Gq.l9(A);};z.prototype.nF=function(A,B){(0,m.assert)(this.Gq,"Headers not available on old architecture prefetch viewables.");return this.Gq.nF(A,B);};z.prototype.zZb=function(A,B){this.BA.push({stream:A,nIb:B});};z.prototype.n7a=function(){this.BA=[];};z.prototype.bXb=function(A){this.BA=this.BA.filter(function(B){return B.stream !== A;});};z.prototype.aXb=function(A){this.BA=this.BA.filter(function(B){return B !== A;});};z.prototype.XK=function(){var A;A=this;(0,m.assert)(this.Vn,"Streamables not available on old architecture prefetch viewables.");return this.Vn()?[]:this.BA.map(function(B){var C,D,E,G,F,H;C=B.stream;D=B.nIb;E=D();D=E.Rg;G=E.Ff;F=E.uy;H=E.qr;E=E.sq;return {identifier:("").concat(C.K,"-").concat(C.mediaType,"-").concat(C.bitrate),mediaType:C.mediaType,Rg:D,Ff:G,uy:F,qr:H,sq:E,nsa:0,msa:Infinity,JV:1,Ly:1,iWa:0,groupId:("").concat(A.K),rB:!0,Lq:!1,A0a:function(){return {result:!0};},F0a:function(){if(C.yH())return (A.bXb(C),{ci:!0,reason:"success"});A.aXb(B);return {ci:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.yH=function(A,B){(0,m.assert)(this.Gq,"Headers not available on old architecture prefetch viewables.");return this.Gq.yH(A,B);};z.prototype.PQ=function(A,B){(0,m.assert)(this.Gq,"Headers not available on old architecture prefetch viewables.");return this.Gq.PQ(A,B);};z.prototype.WIb=function(A){var B,C;B=A.Wb;C=A.mediaType;this.ha || this.I3b(C,A.stream.Ma);this.Bma(C,B).w3b(k.default.cT()[C],this.Xna()?this.config.MOb:0);this.events.emit("onHeaderFragments",A);};z.prototype.JWb=function(A){this.yD.push(A);};z.prototype.j3b=function(A){A=this.yD.indexOf(A);(0,m.assert)(-1 !== A,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.yD.splice(A,1);};z.prototype.C7=function(A){var B;null === (B=this.eW) || void 0 === B?void 0:B.Ju(A);};z.prototype.cM=function(A){this.El?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",A):void 0 !== A.location && this.H7a(A.mediaType,A.location);};z.prototype.dM=function(A){this.El?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",A):this.Zu.g$(A);};z.prototype.Kl=function(A){var B;null === (B=this.eW) || void 0 === B?void 0:B.Ip(A);(0,m.assert)(this.Vn,"Requests cannot be handled on old architecture prefetch viewables.");this.El?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",A):this.Vn() || this.Zu.g$(A);};z.prototype.nV=function(A,B,C){var D;C && (null === (D=this.eW) || void 0 === D?void 0:D.Ip(A));};z.prototype.B7=function(A){var B;B=this;this.El?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",A):(this.Zu.st(A,void 0,A.status,A.Fh,A.dk),this.ha && !A.Ad && A.Jh && !A.er.Csa(A.Jh)?this.Zu.pN <= this.config.Woa && setTimeout(function(){B.F3b(A);},this.config.K1b):this.Ym() || this.yf(A.yS || "unknown","NFErr_MC_StreamingFailure",A.Fh,A.status,A.dk));};z.prototype.nVb=function(){var A,B;this.Bbb(null === (A=this.X.sj) || void 0 === A?void 0:A.uka,null === (B=this.X.sj) || void 0 === B?void 0:B.w3,!0);};z.prototype.Bbb=function(A,B,C){var D,E,G,F,H;(0,m.assert)(this.X.sj,"Missing manifest liveMetadata.");G=this.X.sj;F=G.uka;G=G.w3;H=this.yL;this.yL={startTime:null !== (D=null !== F && void 0 !== F?F:A) && void 0 !== D?D:H.startTime,endTime:null !== (E=null !== G && void 0 !== G?G:B) && void 0 !== E?E:H.endTime};(C || this.yL.startTime !== H.startTime || this.yL.endTime !== H.endTime) && this.events.emit("liveEventTimesUpdated",c.__assign({pa:this},this.yL));};z.prototype.E3b=function(A,B){if(this.Voa[A].WE !== B.WE || this.Voa[A].XE !== B.XE)(this.Voa[A]=B,this.events.emit("liveLoggingInfoUpdated",{pa:this,mediaType:A,info:B}));};z.prototype.wNb=function(){(0,m.assert)(this.ha,"liveEventCompleted called on viewable that is not live");return void 0 !== this.yL.endTime;};z.prototype.F3b=function(A){var B,E;try{for(var C=c.__values(this.yD),D=C.next();!D.done;D=C.next()){E=D.value.Ze(A.mediaType);E && E.G3b();}}catch(F){var G;G={error:F};}finally{try{D && !D.done && (B=C.return) && B.call(C);}finally{if(G)throw G.error;}}};z.prototype.I3b=function(A,B){this.Smb[A]=B.Jpa;};z.prototype.UIb=function(A){var B,C,D;if(!this.v0){B=A.ULb;C=A.uSb;D=A.wSb;A=A.xSb;this.console.warn("Streaming failure, is permanent: " + B + ", last error code: " + C + ", last http code: " + D + ", last native code: " + A);B?(this.console.warn(" > Permanent failure, done"),B=this.yf("Permanent failure","NFErr_MC_StreamingFailure",C,D,A)):(this.console.warn(" > We are buffering, calling it!"),B=this.yf("Temporary failure while buffering","NFErr_MC_StreamingFailure",A,D,A,!0));B || (this.console.warn(" > Resetting failures"),this.Zu.F8());}};z.prototype.TIb=function(){(0,m.assert)(this.$A,"Error handling not available on old architecture prefetch viewables.");this.v0 || (this.Ym(),this.$A());};return z=c.__decorate([t.fF],z);})(r.hz);b.lya=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rKa=void 0;r=a(0);c=a(10);a=r.__importDefault(a(5));l=a.default.Wt;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function g(h,d,f){this.ZU=f;this.Zob=new c.bea(h);this.ja=d.ja;this.qlb=1E3 * d.gPb / d.zsb;this.qAb=d.Kja;this.XPa=!1;}g.prototype.ss=function(h){var d,f,n;d={s_xid:this.ja,dl:this.qAb?1:0};h.pE && (d.bs=(0,c.KJ)(Math.floor(h.pE / this.qlb) + 1,1,5));h.c7 && (d.limit_rate=h.c7);h.GQa && (d.bb_reason=h.GQa);h.Bab && (d.tm=h.Bab);if(h.Z4a){f=h.Z4a;n=f.$s;"HYBRID" === n?(d.hybrid=f.CT.YJb,d.cspr=f.CT.sy,d.cu=f.CT.Uha,d.cldl=f.CT.pta,d.h_ms=f.CT.hPb):"CCSP" === n && ((n=f.C5()) || !n && this.XPa) && (d.cpr_ss=f.Ry,d.cpr_ca=f.wx,d.cpr_rec=f.Fy,this.XPa=n);}h.wha && (d.br="" + h.wha.start + "+" + h.wha.size);return this.wnb(d);};g.prototype.mua=function(h,d){var f,n;try{f=new l(void 0,"notification");n=this.ss({GQa:h});d && n && f.open(d,void 0,2,void 0,void 0,void 0,n);}catch(k){this.ZU("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};g.prototype.wnb=function(h){var d;try{d=this.sob(h);return this.Zob.encrypt(d);}catch(f){this.ZU("SideChannel: Error when obfuscating msg. Error: " + f);}};g.prototype.sob=function(h){return Object.keys(h).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(h[d]));}).join("&");};return g;})();b.rKa=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZFa=void 0;c=a(19);l=a(4);r=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var h;h=this;return Object.keys(this.data).reduce(function(d,f){return d + h.data[f].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(h){var d;return null !== (d=this.data[h]) && void 0 !== d?d:[];};g.prototype.has=function(h,d){return (h=this.data[h])?void 0 === d?!0:-1 !== h.indexOf(d):!1;};g.prototype.count=function(h){return (h=this.data[h])?h.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var h;h=this;return (0,c.flatten)(this.keys().map(function(d){return h.data[d];}));};g.prototype.set=function(h,d){(this.data[h] || (this.data[h]=[])).push(d);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(h,d){var f,n;f=this.data[h];if(void 0 === f)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[h],!0);n=f.indexOf(d);if(-1 === n)return !1;1 === f.length?delete this.data[h]:f.splice(n,1);return !0;};g.prototype.forEach=function(h,d){var f;f=this;h=void 0 !== d?h.bind(d):h;this.keys().forEach(function(n){return f.data[n].forEach(function(k){return h(k,n,f);});});};g.prototype.reduce=function(h,d,f){var n,k;n=this;h=void 0 !== f?h.bind(f):h;k=d;this.forEach(function(m,p){k=h(k,m,p,n);});return k;};g.prototype.map=function(h,d){var f;f=this;h=void 0 !== d?h.bind(d):h;return (0,c.flatten)(this.keys().map(function(n){return f.data[n].map(function(k){return h(k,n,f);});}));};g.prototype.filter=function(h,d){var f;f=this;h=void 0 !== d?h.bind(d):h;return (0,c.flatten)(this.keys().map(function(n){return f.data[n].filter(function(k){return h(k,n,f);});}));};return g;})();b.ZFa=r;},function(r,b,a){var l,g;function c(h,d,f){var n;void 0 === f && (f={});n=l.__assign(l.__assign({},g),f);return h.filter(function(k){var m;m=k.Kb;k=k.Bb;return !!k && k.yB(d) && (!n.lSa || m.$h(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.Kka=b.oDb=b.Rka=void 0;l=a(0);g={lSa:!1};b.Rka=function(h,d,f){void 0 === f && (f={});return c(h,d,f).pop();};b.oDb=c;b.Kka=function(h,d,f){return h.filter(function(n){var k;k=n.Kb;n=n.Bb;return !!n && !!k && (n.$h(d) && n.yB(f) || k.$h(d) && k.yB(f) || n.yB(d) && k.$h(f));});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tKa=b.sKa=void 0;c=a(19);r=(function(){function l(g){this.Pa=g;this.listeners=[];this.mV=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});l.prototype.set=function(g){var h;this.Pa=g;h=this.mV;this.mV=[];this.listeners.forEach(function(d){return d(g);});h.forEach(function(d){return d(g);});};l.prototype.$7a=function(){this.Pa=void 0;};l.prototype.on=function(g){this.listeners=this.listeners.concat([g]);void 0 !== this.Pa && g(this.Pa);};l.prototype.once=function(g){void 0 !== this.Pa?g(this.Pa):this.mV.push(g);};l.prototype.Xq=function(g){this.listeners=this.listeners.filter(function(h){return h !== g;});this.mV=this.mV.filter(function(h){return h !== g;});};return l;})();b.sKa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(g,h){this.listeners.push({signal:g,listener:h});g.on(h);};l.prototype.once=function(g,h){var d,f;d=this;if(void 0 === g.value){f=function(n){d.remove(g,h);h(n);};this.listeners.push({signal:g,listener:h,Pcb:f});g.once(f);}else g.once(h);};l.prototype.Xq=function(g,h){var d,f;f=(0,c.uc)(this.listeners,function(n){return n.signal === g && n.listener === h;});void 0 !== f && g.Xq(null !== (d=f.Pcb) && void 0 !== d?d:f.listener);this.remove(g,h);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(g){var h,d;h=g.listener;d=g.Pcb;return g.signal.Xq(null !== d && void 0 !== d?d:h);});this.listeners=[];};l.prototype.remove=function(g,h){this.listeners=this.listeners.filter(function(d){return d.signal !== g || d.listener !== h;});};return l;})();b.tKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oz=b.poa=void 0;b.poa=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.oOa=!1;this.promise=new Promise(function(l){c.mOa=l;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fta:{get:function(){return this.oOa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var l;this.oOa=!0;null === (l=this.mOa) || void 0 === l?void 0:l.call(this,c);this.mOa=void 0;};return a;})();b.oz=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NTa=void 0;b.NTa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var l;function c(g,h,d){var f,k,m;if(g === h || !d.Ul && g == h)return !0;if(typeof g !== typeof h)return !1;if(g && "object" === typeof g){for(var n in g){if(!c(g[n],h[n],d))return !1;}if(!d.aub){k=Object.keys(g);m=Object.keys(h).filter(function(t){return 0 > k.indexOf(t);});try{for(var p=l.__values(m),q=p.next();!q.done;q=p.next()){if((n=q.value,!c(g[n],h[n],d)))return !1;}}catch(t){var v;v={error:t};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.R2=void 0;l=a(0);b.R2=function(g,h,d){void 0 === d && (d={});d=l.__assign({Ul:!1,aub:!1},d);return c(g,h,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oD=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Da=NaN;}Object.defineProperties(a.prototype,{Ev:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Da=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Da+=(c - this.Da) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Da,count:this.count};};return a;})();b.oD=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iy=void 0;b.iy=function(a){var c,l,g,h,d;d=a.Ic.mb.u.id;return {gb:null === (c=a.Bb) || void 0 === c?void 0:c.G,duration:(null === (l=a.Kb) || void 0 === l?NaN:l.G) - (null === (g=a.Bb) || void 0 === g?NaN:g.G),offset:a.offset,va:a.va,bitrate:a.bitrate,profile:a.profile,Ad:!!a.Ad,J:d,Wb:a.Wb,Rc:a.Rc,location:a.location,Hh:a.Hh,ep:null === (h=a.La) || void 0 === h?void 0:h.G,ft:{mb:{u:{id:d}}}};};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(396);r=(function(){function l(g,h){this.Da=g;this.Rd=h;}l.prototype.qRa=function(g){return .5 * (0,c.rK)(-(g - this.Da) / Math.sqrt(2 * this.Rd));};l.prototype.Bv=function(g){return this.Da - Math.sqrt(2 * this.Rd) * (0,c.XZa)(2 * g);};return l;})();b.default=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.lVa=b.wK=b.Fs=b.n4=void 0;c=a(89);l=a(7);g=a(4);h=a(144);b.n4=function(d,f){return d.Lx(f,void 0,!0);};b.Fs=function(d,f,n,k,m,p){var q,v,t,w;h.Sp.fv(d);if(n.ha){f=n.T;q=n.Qn();m=q.hN;p=q.Fd.Nd(f);q=m + Math.floor(k / p.G);d === l.v.ga && (q=Math.max(m,q - 1));d=p.uv(q - m);k=d.add(p);return new c.al(n,{index:q,kb:d.xa,nb:k.xa,T:f,offset:0,va:0});}(0,g.assert)(n.Ma,"findFirstFragment called without stream fragments");v=n.Ma;k=Math.max(n.Ma.Tl(0),k);d === l.v.ga && !p && f.pm && !f.gR && n.Lf && (k=Math.max(n.Ma.Tl(0),k + n.Lf.G));q=(0,b.n4)(v,k);t=n.Pn(q);if(t.Wa.G < k)return t;w=t.DDb(k);w?(0 < w.Aj && t.mi({start:w.Aj}),d !== l.v.ga || f.B6 || (0 > w.hf && t.mi({start:w.Aj}),w.hf < (f.pm && !f.gR && n.Lf?Math.floor(n.Lf.G):0) && t.Sja())):k >= t.Wa.G && q < v.length - 1 && (t=n.Pn(q + 1));d === l.v.Z && m && t.Wa.G === m && q < v.length - 1 && (t=n.Pn(q + 1));d === l.v.ga && !t.Ga && (f.F_a || f.RAb) && p && t.mi({});t.ZM(k);return t;};b.wK=function(d,f,n,k,m,p){var q,v;h.Sp.fv(d);if(n.ha)return (m=f=q=Infinity,d=n.T,void 0 !== k && Infinity !== k && (q=n.Qn(),f=q.hN,m=q.Fd.Nd(d),q=f + Math.floor(k / m.G),0 === k % m.G && (q=Math.max(f,q - 1)),k=m.uv(q - f),m=k.add(m),f=k.xa,m=m.xa),new c.al(n,{index:q,kb:f,nb:m,T:d,offset:0,va:0}));q=n.Ma;void 0 === k && (k=q.Vf);if(m && (m=m.sDb(n,k,d,f,p)))return m;m=q.ba;p=k?k + (0,b.lVa)(d,m,f.JM,f.SM):q.sS(q.length - 1);q=q.Lx(p,void 0,!0);m=n.Pn(q);0 === q || m.La.G !== k || d !== l.v.Z && f.JM || (--q,m=n.Pn(q));p=d === l.v.Z?p:k;if(p < m.Wa.G){v=m.Qka(p);v && 0 !== v.Aj?m.mi({end:v.Aj}):d === l.v.ga && (v || p < m.La.G) && 0 !== q?m=n.Pn(q - 1):d !== l.v.Z || (n.pLb || f.Dwa) && !v || 0 === q || (m=n.Pn(q - 1));}d === l.v.ga && !m.Ga && f.F_a && m.mi();m.ZM(k);return m;};b.lVa=function(d,f,n,k){var m;return d === l.v.Z || k?0:n?null !== (m=null === f || void 0 === f?void 0:f.G) && void 0 !== m?m:0:f?-f.G:0;};},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jaa=void 0;c=a(0);l=a(113);g=a(909);h=a(21);d=a(4);f=a(395);n=c.__importDefault(a(5));k=a(89);r=(function(){function m(p,q,v){var t,w,u;this.W=q;this.S=v;this.yn=p.track;this.S0=p.zt;this.pv=p.pv;this.Emb=this.mediaType !== l.v.Za?this.yU.ai:!1;this.Bob=p.L1b;this.HD=this.Qa=void 0;q=p.Jq;this.Jq=void 0 === q?!0:q;this.b3=p.b3;this.QI=void 0;this.yNa=this.pea=0;this.url=this.wW=this.bc=this.yt=this.dpa=this.location=this.ub=this.Vb=void 0;this.bB=!1;this.woa=this.We=void 0;this.MP=new Set();q=(p=this.W) && "object" === typeof p.v6a && p.v6a[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.aob=new h.N(q.ticks,q.timescale));this.mnb=0 <= (null === (t=p.nQa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.jM) || void 0 === w?0:w.Lbc) && this.mediaType === l.v.Z && (t=this.pv,0 < (null === (u=t.PG) || void 0 === u?void 0:u.length))){u=t.PG.splice(0,t.PG.length);t=new Uint8Array(u.length);for(w=0;w < u.length;w++){t[w]=u[w].zb;}this.PG=t;}}Object.defineProperties(m.prototype,{Yj:{get:function(){return this.ha?!!this.HD:!!this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Q_a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pa:{get:function(){return this.yn.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{K:{get:function(){return this.pa.K;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{O:{get:function(){return this.yn.O;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.yn.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ba:{get:function(){return this.yn.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{T:{get:function(){return this.yn.T;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dG:{get:function(){return this.yn.dG;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.yn.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.yn;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yU:{get:function(){if(this.mediaType !== l.v.Za)return this.pv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zt:{get:function(){return this.S0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wb:{get:function(){var p;return this.mediaType === l.v.Za?null !== (p=this.Bob) && void 0 !== p?p:"":this.yU.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ai:{get:function(){return this.Emb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ha:{get:function(){return this.track.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.mediaType === l.v.Za?0:this.yU.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zb:{get:function(){var p;if(this.t3)return this.t3;if(this.mediaType === l.v.Z)return null !== (p=this.pv.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{NXb:{get:function(){if(this.mediaType === l.v.Z)return this.pv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{H8:{get:function(){if(this.mediaType === l.v.Z)return this.pv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.mediaType === l.v.Za?"timedtext":this.yU.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ue:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{lk:{get:function(){if(this.mediaType === l.v.Z)return this.pv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lf:{get:function(){return this.aob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{T4:{get:function(){return this.mnb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ma:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rv:{get:function(){return this.Qa && this.Qa.rv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{W3:{get:function(){return this.yn.W3;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{V3:{get:function(){return this.yn.V3;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gb:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{av:{get:function(){return void 0 !== this.QI?this.QI:this.dMb();},set:function(p){this.QI=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uB:{get:function(){return this.Jq && !this.bB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ih:{get:function(){return this.HD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pLb:{get:function(){(0,d.assert)(!!this.Ma,"Initial header should have been received already");return this.pa.Xna() && -1 < this.Ue.indexOf("h264mpl") && void 0 === this.Ma.Dga;},enumerable:!1,configurable:!0}});m.prototype.nF=function(){return this.pa.nF(this.mediaType,this.Wb);};m.prototype.rGb=function(){var p;p=this.nF();return p && p.stream.Ma;};m.prototype.yH=function(p){return this.pa.yH(this,p);};m.prototype.u7=function(){this.track.u7();};m.prototype.t7=function(){this.track.t7();};m.prototype.Uqa=function(p,q,v,t,w,u,y,x){this.ha || t && void 0 !== t.nr && (this.track.Yj || void 0 !== t.cf && t.cf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ha && this.W.pm && this.Lf && 0 === t.nr && (t.nr+=this.Lf.Nd(t.T).xa),this.Yj || (this.HD=p,this.track.Uqa(this,q,v,t,u,x),this.ha || (this.Qa=new g.PKa(this.S0,this.track.qo,t,w,u,y,this.O)),this.track.KRb(this))):this.ha || (t?this.S.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.nr) + "," + this.track.Yj + "," + this.track.psa + "," + (void 0 !== t.cf) + "," + !(!t.cf || !t.cf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.S.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};m.prototype.Dvb=function(p){this.Yj || (this.track.Evb(p.track),this.Qa=p.Ma,this.HD=p.Ih);};m.prototype.Pn=function(p){return new k.al(this,this.Ma.get(p));};m.prototype.zXa=function(p){var q;q=this.Pn(p.index);p.Ga && (q.mi(p.Ga),q.ZM(p.Qv));return q;};m.prototype.w3b=function(p,q){this.pea=p;this.yNa=q;};m.prototype.Gub=function(){this.ub=this.Vb=this.bc=this.location=this.url=void 0;};m.prototype.Hm=function(){return this.mediaType === l.v.ga?this.dFb():this.HIb();};m.prototype.TK=function(p,q,v){var t,w,u;return this.ha?(v=null === (t=v || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === v || void 0 === v?void 0:v[0]) && void 0 !== w?w:"",w=null !== (u=null === v || void 0 === v?void 0:v[1]) && void 0 !== u?u:"",p?p=this.Qn().QKb:(void 0 === q && this.S.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Qn().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):v || this.url;};m.prototype.Qn=function(){var p,q;(0,d.assert)(this.ha && this.pa.X.sj,"liveMetadata missing from manifest");p=this.pa.X.sj;p=p.jua[p.Nja[this.Wb]];q=new Date(p.R1).getTime();return c.__assign(c.__assign({},p),{lha:q,yTa:Math.max(0,this.pa.qC - q - this.W.a6),hN:Number(p.hN),c8:new h.N(Number(p.TUb),p.T),Fd:new h.N(p.duration,p.T)});};m.prototype.$Sb=function(p,q){var v,t,w,u,y,x,z,A,B;if(p){p.split(";").some(function(C){if(0 === C.indexOf("sc="))return (t=C.slice(3),!0);});if(t && (q.pJb=!0,p=this.W.LTa,this.pa.wNb() && (p=Math.max(p,this.W.MTa)),!(n.default.time.Ca() - this.pa.j1a < p))){(0,d.assert)(null === (v=this.pa.X.tA) || void 0 === v?void 0:v.Ap,"Missing pbcid for OC side channel message decryption.");v=new f.bea(this.pa.X.tA.Ap).decrypt(t,!0);try{w=JSON.parse(v);u=w.time;y=Number(u);isNaN(y)?this.S.error(("Invalid live server time in OC side channel message. time:").concat(u)):this.pa.qC=y;x=w["live-msg-start"];z=w["live-msg-end"];void 0 !== x && isNaN(new Date(x).getTime()) || void 0 !== z && isNaN(new Date(z).getTime())?this.S.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(x,", live-msg-end:").concat(z)):this.pa.Bbb(x,z);A=w["encoder-tag"];B=w["encoder-region"];A && B || this.S.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(A,", encoder-region:").concat(B));this.pa.E3b(this.mediaType,{XE:A,WE:B});this.pa.j1a=n.default.time.Ca();}catch(C){this.S.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(v));}}}};m.prototype.Csa=function(p){return !this.MP.has(p);};m.prototype.Apb=function(p){this.MP.has(p)?this.S.trace("segment already blocked: " + p):(this.S.trace("addBlockedLiveSegment: " + p),this.MP.add(p));};m.prototype.YWb=function(p){this.MP.has(p) && (this.S.trace("removeBlockedSegment: " + p),this.MP.delete(p));};m.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,streamId:this.Wb,bitrate:this.bitrate,streamIndex:this.zt,isAvailable:this.Jq,fittable:this.av,vmaf:this.zb,resolutionWidth:this.NXb,resolutionHeight:this.H8};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Wb + ":" + this.bitrate;};m.prototype.dMb=function(){var p,q,v,t,w,u,y;if(!this.Yj)return !0;if(this.track.kna >= this.bitrate)return this.QI=!0;if(this.track.U1a <= this.bitrate)return this.QI=!1;(y=this.ha?this.W.z6 * this.bitrate / 8 * (this.W.IB + (null !== (q=null === (p=this.pa) || void 0 === p?void 0:p.YG.G) && void 0 !== q?q:0)) < this.pea:this.Qa.htb(this.W.IB,this.pea,null !== (t=null === (v=this.pa) || void 0 === v?void 0:v.YG.G) && void 0 !== t?t:0,null !== (u=null === (w=this.pa) || void 0 === w?void 0:w.YG.va) && void 0 !== u?u:0,this.yNa))?this.track.psa && !this.ai && this.track.Cl || (this.track.kna=this.bitrate):this.track.U1a=this.bitrate;return this.QI=y;};m.prototype.HIb=function(){return c.__assign(c.__assign({},this.track.Hm()),{profile:this.Ue});};m.prototype.dFb=function(){return c.__assign(c.__assign({},this.track.Hm()),{profile:this.Ue,bitrate:this.bitrate});};return m;})();b.jaa=r;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PKa=b.Ckb=void 0;c=a(0);a(75);l=a(4);r=c.__importDefault(a(5));g=a(401);a=a(399);h=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(n){d=!1;}f=(function(n){function k(m,p){p=n.call(this,m.qo,p) || this;p.YD=m;return p;}c.__extends(k,n);Object.defineProperties(k.prototype,{va:{get:function(){return this.YD.V9a(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.YD.ii(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oqa:{get:function(){return this.YD.RL && this.YD.RL[this.Ud];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hj:{get:function(){return this.YD.$Eb(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zb:{get:function(){return this.YD.Zv && this.YD.Zv[this.Ud];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uha:{get:function(){return 8 * this.va / (1E3 * this.GA / this.T);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.kb,contentEndTicks:this.nb,durationTicks:this.GA,timescale:this.T,startPts:this.La.G,endPts:this.Wa.G,duration:this.Fd.G,additionalSAPs:this.hj};};return k;})(a.qLa);b.Ckb=f;r=(function(){function n(k,m,p,q,v,t,w){this.$I=128;this.Ec=m;this.Gb=p.offset;this.km=p.sizes;this.S0=k;this.EI=this.OP=this.Bh=this.No=this.Kfa=void 0;this.fnb=q;this.gea=v && v.ii;this.Wfa=t;this.Oz=Math.min(this.Ec.length,this.km.length);k=this.jtb();this.Vmb=k.maxBitrate;this.Wmb=k.$n;this.qo.$p.length !== this.km.length && h.trace("Mis-matched stream duration (" + this.qo.$p.length + "," + this.km.length + ") for movie id " + w);this.qo.o1 && !this.gea && h.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Ec.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.Oz;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{nr:{get:function(){return this.Ec.nr;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fka:{get:function(){return this.Ec.fka;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gb:{get:function(){return this.Ec.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Vf:{get:function(){return this.Ec.Vf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jpa:{get:function(){return this.Ec.Jpa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rv:{get:function(){return this.Vmb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$n:{get:function(){return this.Wmb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ba:{get:function(){return this.Ec.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{T:{get:function(){return this.Ec.T;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Yk:{get:function(){return this.No || this.nea();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{RL:{get:function(){return this.fnb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Dga:{get:function(){return this.gea;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zv:{get:function(){return this.Wfa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qo:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kr:{get:function(){return this.Kfa || this.Glb();},enumerable:!1,configurable:!0}});n.prototype.V9a=function(k){if(this.km)return this.km[k];h.error("sizesByIndex _sizes is undefined");return -1;};n.prototype.Tl=function(k){return this.Ec.Tl(k);};n.prototype.sS=function(k){return this.Ec.Tl(k) + this.Ec.cf(k);};n.prototype.ii=function(k){var m,p,q;if(this.OP !== k || void 0 === this.EI){if(0 === k)return this.Gb;if(this.OP === k - 1 && void 0 !== this.EI)(this.EI+=this.km[this.OP],++this.OP);else {m=this.Bh || this.ulb();p=Math.floor(k / this.$I);q=p * this.$I;for(m=m[p];q < k;++q){m+=this.km[q];}this.OP=k;this.EI=m;}}return this.EI;};n.prototype.cf=function(k){return this.Ec.cf(k);};n.prototype.get=function(k){return new f(this,k);};n.prototype.$Eb=function(k){var m,p,q,v,t;(0,l.assert)(0 <= k);m=this.qo.o1;p=this.qo.uPa;q=this.gea;if(!q || !m || !p || k >= m.length)return [];v=[];t=k === m.length - 1?p.length:m[k + 1];for(m=m[k];m < t;++m){v.push({Aj:p[m],hf:this.Tl(k) + this.ba.uv(p[m]).G,offset:q[m]});}return v;};n.prototype.Lx=function(k,m,p){return this.Ec.Lx(k,m,p);};n.prototype.Lka=function(k,m,p){return this.Ec.Lka(k,m,p);};n.prototype.Wia=function(k,m){return this.Ec.Wia(k,m);};n.prototype.htb=function(k,m,p,q,v){var t,w,u,y,x,z,A,B,C;t=!0;w=0;u=this.Ec.$p;y=this.km;k=Math.floor(k * this.T / 1E3);x=Math.floor(p * this.T / 1E3);z=0;A=0;B=0;if(this.Ec.lwa && this.Ec.kwa)for(w=this.Ec.lwa;w <= this.Ec.kwa;++w){z+=u[w];A+=y[w];}if(A > m)t=!1;else for(;w < this.length && (!v || w < v);){C=y[w];p=u[w];if(A + C > m){for(;1 < w - B && A + C > m && (z - u[B] >= x || A - y[B] > q);){z-=u[B];A-=y[B];++B;}if(z < k || A + C > m){t=!1;this.Ec.lwa=B;this.Ec.kwa=w;break;}}z+=p;A+=C;++w;}return t;};n.prototype.subarray=function(k,m){(0,l.assert)(void 0 === k || 0 <= k && k < this.length);(0,l.assert)(void 0 === m || m > k && m <= this.length);return new n(this.S0,this.Ec.subarray(k,m),{offset:this.ii(k),sizes:this.km.subarray(k,m)},this.RL && this.RL.subarray(k,m),this.Dga && ({ii:this.Dga}),this.Wfa && this.Wfa.subarray(k,m));};n.prototype.forEach=function(k){for(var m=0;m < this.length;++m){k(this.get(m),m,this);}};n.prototype.map=function(k){for(var m=[],p=0;p < this.length;++p){m.push(k(this.get(p),p,this));}return m;};n.prototype.reduce=function(k,m){for(var p=0;p < this.length;++p){m=k(m,this.get(p),p,this);}return m;};n.prototype.toJSON=function(){return {length:this.length};};n.prototype.dump=function(){var m;h.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){m=this.get(k);h.trace(("StreamFragments: ").concat(k,": [").concat(m.La.G,"-").concat(m.Wa.G,"]") + (" @ ").concat(m.offset,", ").concat(m.va," bytes"));}};n.prototype.jtb=function(){var k,m,p,q,v,t,y;k=0;m=0;p=this.Ec.w2a;q=this.Ec.x2a;v=this.Ec.$p;t=this.km;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,u=this.length;w < u;++w){y=t[w];y > m && (m=y,q=w);y/=v[w];y > k && (k=y,p=w);}void 0 === this.Ec.w2a && (this.Ec.w2a=p);void 0 === this.Ec.x2a && (this.Ec.x2a=q);}else (k=t[p] / v[p],m=t[q]);return {maxBitrate:Math.floor(k * this.T / 125),$n:m};};n.prototype.nea=function(){for(var k=0,m=0;m < this.length;++m){k+=this.km[m];}return this.No=k;};n.prototype.Glb=function(){return this.Kfa=new g.Cda(this.Ec.$p,this.km,this.Ec.T);};n.prototype.ulb=function(){if(!this.Bh){for(var k=d?new Float64Array(Math.ceil(this.length / this.$I)):Array(Math.ceil(this.length / this.$I)),m=this.Gb,p=0;p < k.length;++p){k[p]=m;for(var q=0;q < this.$I;++q){m+=this.km[p * this.$I + q];}}this.Bh=k;}return this.Bh;};return n;})();b.PKa=r;(0,a.ov)(r.prototype.Tl);(0,a.ov)(r.prototype.sS);(0,a.ov)(r.prototype.cf);(0,a.ov)(r.prototype.ii);(0,a.ov)(r.prototype.V9a);(0,a.ov)(r.prototype.get);},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.yBa=void 0;c=a(0);l=a(13);g=c.__importStar(a(24));h=c.__importDefault(a(5));d=new h.default.Console("ASEJS_ERROR_DIRECTOR","asejs");f=c.__importDefault(a(53));n=a(911);k=a(177);m=h.default.Wt;p=m.IY;q={};v={};r=[f.default.Hg.yw,!1];a=[f.default.Hg.yw,!0];t=[f.default.Hg.nD,!1];w=[f.default.Hg.nD,!0];u=[f.default.Hg.URL,!0];y=[f.default.Hg.URL,!1];x=[-1,!1];z=[f.default.Hg.nD,!1];q[p.Y5b]=t;q[p.UNKNOWN_ERROR]=t;q[p.Y8b]=t;q[p.ufb]=t;q[p.cAa]=t;q[p.Gfb]=t;q[p.yfb]=w;q[p.Neb]=w;q[p.kza]=z;q[p.iza]=z;q[p.Oeb]=x;q[p.Peb]=z;q[p.Qeb]=z;q[p.Keb]=t;q[p.Meb]=t;q[p.jza]=r;q[p.Leb]=t;q[p.Jeb]=z;q[p.L6b]=w;q[p.Jgb]=z;q[p.CCa]=z;q[p.BCa]=z;q[p.yCa]=z;q[p.zCa]=z;q[p.Igb]=u;q[p.uba]=w;q[p.FZ]=u;q[p.vba]=a;q[p.wba]=w;q[p.Lgb]=u;q[p.GZ]=z;q[p.DCa]=w;q[p.Kgb]=w;q[p.Bfb]=w;q[p.vfb]=t;q[p.nkb]=t;q[p.lfb]=t;q[p.mfb]=t;q[p.nfb]=t;q[p.ofb]=t;q[p.pfb]=t;q[p.qfb]=t;q[p.rfb]=t;q[p.sfb]=t;q[p.tfb]=t;q[p.wfb]=t;q[p.xfb]=t;q[p.zfb]=t;q[p.Afb]=t;q[p.Cfb]=t;q[p.Dfb]=t;q[p.Efb]=t;q[p.Ffb]=t;q[p.Hfb]=t;q[p.Ifb]=t;q[p.mkb]=z;q[p.TIMEOUT]=r;v[p.kza]=!0;v[p.CCa]=!0;v[p.BCa]=!0;v[p.zCa]=!0;v[p.cAa]=!0;r=(function(){var p53;p53=2;function A(B,C,D,E){var S6L;S6L=2;for(;S6L !== 20;){switch(S6L){case 2:this.Hl=B;this.config=C;this.Vma=D;this.$A=E;S6L=3;break;case 12:this.pN=this.Vu=0;this.Mva={};this.ssa=new n.pJa(B,E,C);S6L=20;break;case 3:var I6V="1SI";I6V+="Yb";I6V+="Z";I6V+="rNJCp";I6V+="9";this.events=new l.EventEmitter();this.Mm=new l.Af();I6V;S6L=7;break;case 7:var k_w="netwo";k_w+="r";k_w+="kFail";k_w+="ed";this.NRa=new k.rda();q[p.yCa]=C.VJb?w:z;this.Mm.addListener(this.Hl,k_w,this.ZIb.bind(this));this.uL=h.default.time.Ca();S6L=12;break;}}}for(;p53 !== 13;){switch(p53){case 3:A.prototype.ZIb=function(B){var W2B,F,H,K,C,D,E,G;W2B=2;for(;W2B !== 7;){switch(W2B){case 9:var o_4="tem";o_4+="poraryNetw";o_4+="orkE";o_4+="rror";var L52="tempo";L52+="r";L52+="aryNetworkErro";L52+="r";B || this.events.emit(L52,{type:o_4,errorCode:F,httpCode:H,nativeCode:K});E?(this.MM && (clearTimeout(this.MM),this.MM=void 0),this.XRa(),this.ssa.reset(),this.Vma({ULb:B,uSb:F,wSb:H,xSb:K})):this.MM || (this.MM=setTimeout(function(){var O1T;O1T=2;for(;O1T !== 5;){switch(O1T){case 2:C.MM=void 0;C.F8();O1T=5;break;}}},G.tqa));W2B=7;break;case 3:(F=this.ay.Fh,H=this.ay.Rx,K=this.ay.dk);W2B=9;break;case 4:W2B=this.ay?3:9;break;case 2:var q4u="Ne";q4u+="twork has ";q4u+="failed ";var l6k="tempor";l6k+="a";l6k+="rily";var D2I="p";D2I+="er";D2I+="manen";D2I+="tl";D2I+="y";var j08=" m";j08+="s a";j08+="go";var O9L=" ";O9L+="las";O9L+="t s";O9L+="ucc";O9L+="ess was ";(C=this,D=h.default.time.Ca() - this.uL,E=B,G=this.config);R7xOY.g6M(8);d.warn(R7xOY.G5G(O9L,j08,D,B?D2I:l6k,q4u));!B && D > G.sqa && (E=!0);W2B=4;break;}}};A.prototype.F8=function(){var y35,B;y35=2;for(;y35 !== 5;){switch(y35){case 1:this.NRa.Nga || this.NRa.Ncb(function(){var r6J;r6J=2;for(;r6J !== 1;){switch(r6J){case 2:B.MM || (B.Hl.F8(),B.Mva={},B.$A());r6J=1;break;}}});y35=5;break;case 3:B=this;y35=4;break;case 2:B=this;y35=1;break;}}};A.prototype.g$=function(B){var M9O,C;M9O=2;for(;M9O !== 8;){switch(M9O){case 2:C=this.config;this.uL=Math.max(B.Cg || h.default.time.Ca(),this.uL);this.XRa();this.Hl.ha && void 0 !== B.Jh && !B.er.Csa(B.Jh) && (this.Hl.MXa(B.er).jA.YWb(B.Jh),this.pN=0);C.AG && this.ssa.g$(B);M9O=9;break;case 9:var y_T="updatingLast";y_T+="Succes";y_T+="sEvent";var U8c="u";U8c+="pdatingLa";U8c+="stSuccessEv";U8c+="ent";this.events.emit(U8c,{type:y_T});M9O=8;break;}}};A.prototype.ph=function(){var y7A,B,C,D;y7A=2;for(;y7A !== 4;){switch(y7A){case 2:var K3E="m";K3E+="s";var D_E="Setting u";D_E+="nd";D_E+="erflow time";D_E+="out i";D_E+="n ";(B=this,C=this.config,D=C.m6);this.uL=Math.max(h.default.time.Ca(),this.uL);!C.Sbb || this.rX || C.BQb || (d.info(D_E + D + K3E),this.rX=setTimeout(function(){var n_O;n_O=2;for(;n_O !== 4;){switch(n_O){case 2:var g3y="Forcing permanent network fa";g3y+="il";g3y+="ure a";g3y+="fter ";var H_n="ms, s";H_n+="ince underflow";H_n+=" with no succes";H_n+="s";R7xOY.v$C(9);d.info(R7xOY.g1D(H_n,D,g3y));B.rX=void 0;n_O=5;break;case 5:B.Hl.st(f.default.Hg.yw,!0);n_O=4;break;}}},D));y7A=4;break;}}};A.prototype.XRa=function(){var b41;b41=2;for(;b41 !== 1;){switch(b41){case 2:var f2E="Cleare";f2E+="d ";f2E+="un";f2E+="derflow tim";f2E+="eout";this.rX && (clearTimeout(this.rX),this.rX=void 0,d.info(f2E));b41=1;break;}}};return A;break;case 2:A.prototype.Ra=function(){var k2N;k2N=2;for(;k2N !== 1;){switch(k2N){case 2:this.Mm.clear();k2N=1;break;}}};A.prototype.YM=function(B){var j1v;j1v=2;for(;j1v !== 1;){switch(j1v){case 2:this.v9=B;j1v=1;break;case 4:this.v9=B;j1v=0;break;}}};A.prototype.st=function(B,C,D,E,G){var q70,R,ka,u0X,da,ta,Ba,Ja,Va,Ta,la,X,U3B,A49,x$V,J,F,H,K,O,I,P,N,L,q6r,aa,Q,Q2Y,p0D,D9n;q70=2;for(;q70 !== 24;){switch(q70){case 10:C=N.LYa(B).map(function(S){var d5r;d5r=2;for(;d5r !== 1;){switch(d5r){case 2:return {url:B.url,Rc:S.id,bc:S,stream:L,urls:S.urls,J:B.Jh};break;}}});q70=20;break;case 13:q70=J !== x?12:24;break;case 15:C=N.mZb(C.host,C.port).map(function(S){var i2e;i2e=2;for(;i2e !== 1;){switch(i2e){case 2:return {url:S.url.url,Rc:S.bc.id,bc:S.bc,stream:S.url.stream,urls:S.bc.urls};break;}}});q70=20;break;case 19:q70=P.AG?18:17;break;case 12:q70=B?11:16;break;case 20:(R=J[0],ka=J[1]);q70=19;break;case 27:var h0s="Inva";h0s+="lid affected for n";h0s+="etwork failure";d.error(h0s);q70=26;break;case 25:var P5k="Unmapped f";P5k+="ailure code";P5k+=" in JSASE error director ";P5k+=": ";R7xOY.v$C(6);d.error(R7xOY.G5G(E,P5k));q70=24;break;case 18:try{u0X=2;for(;u0X !== 8;){switch(u0X){case 9:X=la.next();u0X=1;break;case 5:var z1Q="e";z1Q+="r";z1Q+="r";z1Q+="o";z1Q+="r";(da=X.value,ta=da.urls,Ba=da.url,Ja=da.Rc,Va=da.stream,Ta=da.bc);J === z || J === t?this.ssa.iVb(da,{APa:Ja,pX:J,Rx:D,Fh:E,HVa:I,dk:G}):this.config.bVa && J === y && (null === (K=null === Va || void 0 === Va?void 0:Va.jA) || void 0 === K?0:K.ha) && (null === (O=null === Va || void 0 === Va?void 0:Va.jA) || void 0 === O?void 0:O.bc) === Ta.id && B?(this.pN++,Va.jA.Apb(B.Jh || 0)):(ta.some(function(S){var y9B;y9B=2;for(;y9B !== 5;){switch(y9B){case 2:N.st(R,ka,S.url);return R === f.default.Hg.nD;break;}}}),N.ha && this.pN === this.config.Woa && J === u && (this.pN=0));!this.v9 || 0 !== D && void 0 !== D || this.v9.mua(z1Q,Ba);u0X=9;break;case 1:u0X=!X.done?5:8;break;case 2:(la=c.__values(C),X=la.next());u0X=1;break;}}}catch(S){var T;T={error:S};}finally{U3B=2;for(;U3B !== 1;){switch(U3B){case 2:try{A49=2;for(;A49 !== 1;){switch(A49){case 2:X && !X.done && (F=la.return) && F.call(la);A49=1;break;}}}finally{x$V=2;for(;x$V !== 5;){switch(x$V){case 1:throw T.error;x$V=5;break;case 9:throw T.error;x$V=9;break;case 3:x$V=T?3:6;break;case 2:x$V=T?1:5;break;}}}U3B=1;break;}}}q70=24;break;case 9:var D_w="cri";D_w+="ticalNet";D_w+="w";D_w+="orkError";var z49="cri";z49+="ticalNetw";z49+="orkError";var v6e="reque";v6e+="st";v6e+="Er";v6e+="r";v6e+="or";var S5_="req";S5_+="ue";S5_+="stError";J=q[E];N.ha && B && (this.config.bVa && E === p.FZ && 404 === D && this.pN < this.config.Woa?J=y:E === p.wba && B.pJb && (J=t));this.ay={Rx:D,Fh:E,HVa:I,dk:G};this.events.emit(S5_,{type:v6e,Rx:D});v[E] && (++this.Vu,this.events.emit(z49,{type:D_w,Fh:E}));q70=13;break;case 3:q70=E && g.isArray(q[E])?9:25;break;case 2:var m1H=" : ";m1H+="critical erro";m1H+="r count ";m1H+="= ";var w$4=" ";w$4+="o";w$4+="n ";var x0s=" h";x0s+="tt";x0s+="pCode ";var v62="Fail";v62+="ure";v62+=" ";I=m.IY.name;I=E?I[E]:void 0;(P=this.config,N=this.Hl);d.warn(v62 + I + x0s + D + w$4 + JSON.stringify(B?B:C) + m1H + this.Vu);q70=3;break;case 16:q70=C?15:27;break;case 11:L=N.MXa(B.er);q70=10;break;case 17:try{q6r=2;for(;q6r !== 13;){switch(q6r){case 5:da=Q.value;Ja=da.Rc;ta=da.urls;Ba=da.url;q6r=8;break;case 14:Q=aa.next();q6r=1;break;case 2:(aa=c.__values(C),Q=aa.next());q6r=1;break;case 8:q6r=J === z && !this.pXb(Ja)?13:7;break;case 6:var z7T="e";z7T+="rr";z7T+="o";z7T+="r";!this.v9 || 0 !== D && void 0 !== D || this.v9.mua(z7T,Ba);q6r=14;break;case 1:q6r=!Q.done?5:13;break;case 7:ta.some(function(S){var t2s;t2s=2;for(;t2s !== 5;){switch(t2s){case 2:N.st(R,ka,S.url);return R === f.default.Hg.nD;break;}}});q6r=6;break;}}}catch(S){var M;M={error:S};}finally{Q2Y=2;for(;Q2Y !== 1;){switch(Q2Y){case 2:try{p0D=2;for(;p0D !== 1;){switch(p0D){case 2:Q && !Q.done && (H=aa.return) && H.call(aa);p0D=1;break;}}}finally{D9n=2;for(;D9n !== 5;){switch(D9n){case 2:D9n=M?1:5;break;case 1:throw M.error;D9n=5;break;}}}Q2Y=1;break;}}}q70=24;break;case 26:return;break;}}};A.prototype.pXb=function(B){var J5f,C,D,E;J5f=2;for(;J5f !== 7;){switch(J5f){case 2:(C=h.default.time.Ca(),D=this.config,E=this.Mva[B]);J5f=1;break;case 9:return E.Iy=!0;break;case 4:(E.Zf=C,E.count=1);J5f=7;break;case 8:this.Mva[B]={Zf:C,count:1};J5f=7;break;case 1:J5f=E?5:8;break;case 3:J5f=!(E.Zf >= C - D.T9 || E.Iy || (E.Zf=C,++E.count,E.count < D.q6))?9:7;break;case 5:J5f=E.Zf < this.uL?4:3;break;}}};p53=3;break;}}})();b.yBa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pJa=void 0;c=a(4);l=a(912);g=a(5).default;new g.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function h(d,f,n){this.mQ=d;this.$A=f;this.config=n;this.Es={};this.cC={};this.VD=!0;this.groupId=1;}h.prototype.iVb=function(d,f){var n,k,m,p,q,v,t,w,u,y;n=this;k=this.config;m=d.Rc;p=d.stream;q=d.bc.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");v=[];t=p.ei[0];w=!1;u=this.Es[m];y=g.time.Ca();if(!u)u=this.l_b(m,y,f,d);else if(u.Zf >= y - k.T9)return;u.Iy || (t && q.id === t.id && (d.isPrimary=!0),u.Zf=y,u.Iy=!1,u.error=f,++u.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,C,D;B=x.bc.id;C=B + "-" + m;D=n.cC[C];if(void 0 === D || void 0 === D.f8)(D && D.Wl && clearTimeout(D.Wl),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.jA) || void 0 === A?0:A.ha)?n.JGb(d.stream.jA,d.J,x.url):x.url,(0,c.assert)(x,("Unexpected probeUrl: ").concat(x)),z=n.$Sa(x,d,B),n.cC[C]={ia:!1,count:0,f8:z.Hh()},v.push(z.Hh()),w=!0);-1 === u.vua.indexOf(B) && u.vua.push(B);}),0 < v.length && (k={ts:g.time.Ca(),es:f.APa,fc:f.Fh,fn:f.HVa,nc:f.dk,pb:v,gid:this.groupId},f.Rx && (k.hc=f.Rx),this.UF(k,"errpb")),w && this.groupId++));};h.prototype.$Sa=function(d,f,n){var k,m;k=new l.eya(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));k.nSb(d + (-1 !== d.indexOf("?")?"&":"?") + m,f,n);return k;};h.prototype.l_b=function(d,f,n,k){var m;m=this.Es[d];k=k.bc.location;m || (m=this.Es[d]={count:0,Zf:f,Iy:!1,error:n,vua:[],usa:{},location:k,J:n.J,Rbc:n});return m;};h.prototype.getState=function(d){return this.Es[d];};h.prototype.Eub=function(d){this.Es[d]=void 0;};h.prototype.UF=function(d,f){var n;if(this.VD){n={type:"logdata",target:"endplay",fields:{}};n.fields[f]={type:"array",value:d,adjust:["ts"]};this.mQ.hG(n);}};h.prototype.JGb=function(d,f,n){var k;k=void 0 === f || f === d.Qn().hN;return d.TK(k,k?void 0:f - 1,n);};h.prototype.jVb=function(d,f){var n,k,m,p,q,v,t,w,u,y,x,z;n=this;p=this.mQ;q=this.config;v=f.Rc;t=this.Es[v];if(t){w=d.url;u=this.cC[d.Rc + "-" + v];if(u){y=t.error;u && u.Wl && clearTimeout(u.Wl);u.ia=!0;u.count=0;u.f8=void 0;t.usa[d.Rc]=!0;u=this.Es[d.Rc];if((null === u || void 0 === u?0:u.Iy) && q.cR){p.Z7a(d.Rc,u.error.pX[1]);if(this.VD){x={ts:g.time.Ca(),id:d.requestId,servid:f.Rc,gid:d.groupId?d.groupId:-1};this.UF(x,"errst");}this.Es[d.Rc]=void 0;this.$A();}if(w !== f.url){z=this.cC[v + "-" + v];z && z.ia || (v=null === u || void 0 === u?void 0:u.location,q=Math.min((null === (m=null === (k=null === v || void 0 === v?void 0:v.Vb) || void 0 === k?void 0:k.a5) || void 0 === m?void 0:m.Da) || Math.random() * q.n6,q.n6),setTimeout(function(){var A;if(!(!1 !== t.Iy || z && z.ia) && (t.Iy=!0,p.st(y.pX[0],y.pX[1],f.stream.jA.url,y),n.VD)){A={ts:g.time.Ca(),id:d.requestId,servid:f.Rc,gid:d.groupId?d.groupId:-1};n.UF(A,"erep");}},q));}this.VD && (x={ts:g.time.Ca(),id:d.requestId,result:1,servid:d.Rc,gid:d.groupId?d.groupId:-1},this.UF(x,"pbres"));}}};h.prototype.gVb=function(d,f){var n,k,m,p,q,v,t,w,u,y,x,z,A;n=this;p=this.mQ;q=this.config;v=f.Rc;t=this.Es[v];w=d.Rc;u=this.cC[w + "-" + v];if(u && t){y=0;u.ia=!1;u.f8=void 0;t.usa[w]=!1;x=t.vua;if(q.cR && w === v && f.isPrimary){z=t.location;z=(null === (m=null === (k=null === z || void 0 === z?void 0:z.Vb) || void 0 === k?void 0:k.a5) || void 0 === m?void 0:m.Da) || 300 * Math.random();k=Math.min(z * Math.pow(2,u.count),12E4);k+=Math.random() * (1E4 > k?100:1E4);u.Wl=setTimeout(function(){var B;u.Wl=void 0;B=n.$Sa(d.url,f,w);B.EZb(d.groupId);u.f8=B.Hh();},k);}++u.count;if(w === v && (y=0,x.forEach(function(B){!1 === t.usa[B] && y++;}),x.length === y && t.count >= q.q6)){A=t.error;t.Iy=!0;q=f.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.st(A.pX[0],A.pX[1],B.url,A);n.VD && (B={ts:g.time.Ca(),id:-1,servid:B.bc.id},n.UF(B,"erep"));});}this.VD && (q={ts:g.time.Ca(),id:d.requestId,result:0,servid:d.Rc,gid:d.groupId?d.groupId:-1},this.UF(q,"pbres"));}};h.prototype.g$=function(d){var f,n,k;if(d.url){n=this.mQ;k=n.jZb(d.url);k || (k=null === (f=this.mQ.LYa(d)[0]) || void 0 === f?void 0:f.id);k && (d=this.Es[k]) && d.Iy && this.config.cR && (n.Z7a(d.error.APa,!1),this.VD && (n={ts:g.time.Ca(),id:-1,servid:k},this.UF(n,"errst")),this.Eub(k),(k=this.cC[k + "-" + k]) && k.Wl && clearTimeout(k.Wl));}};h.prototype.reset=function(){var d,f,n;d=this.cC;for(n in d){d.hasOwnProperty(n) && (f=d[n + "-" + n]) && f.Wl && clearTimeout(f.Wl);}this.cC={};this.Es={};};return h;})();b.pJa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eya=void 0;c=a(0);l=a(13);g=c.__importDefault(a(5)).default.au;r=(function(h){function d(f){var n;n=h.call(this) || this;n.YNa=f;n.p0=f.groupId;n.Ho=new l.Af();n.Ho.on(n,g.Ph.jP,n.sfa);n.Ho.on(n,g.Ph.hD,n.qQ);return n;}c.__extends(d,h);d.prototype.nSb=function(f,n,k){g.prototype.open.call(this,f,n,k);};d.prototype.EZb=function(f){this.p0=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.p0;},enumerable:!1,configurable:!0}});d.prototype.Te=function(){this.Ho && this.Ho.clear();g.prototype.Te.call(this);};d.prototype.sfa=function(f){this.YNa.jVb(f.probed,f.affected);this.Te();};d.prototype.qQ=function(f){this.YNa.gVb(f.probed,f.affected);this.Te();};return d;})(g);b.eya=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(914),b);},function(r,b,a){var f,n,k,m,p,q,v,t,w;function c(u){var y,x,z;u=u.parent;y=!1;if(u && u.children){x={};x[t.gl]=[];x[t.sk]=[];x[t.TEMPORARY]=[];z=u.children;z.forEach(function(A){A && x[A.We].push(A);});0 < x[t.gl].length || (x[t.sk].length === z.length?u.We !== t.sk && (u.We=t.sk,v.error("PERM failing :",m.default.Hg.name[u.Em] + " " + u.id),y=!0):(u.We === t.gl && (u.We=t.TEMPORARY,v.error("TEMP failing :",m.default.Hg.name[u.Em] + " " + u.id),y=!0),x[t.TEMPORARY].forEach(function(A){A.We=t.gl;})),y && c(u));}}function l(u){var y;if((u=u.parent) && 0 < u.children.length && u.We !== t.gl){y={};y[t.gl]=[];y[t.sk]=[];y[t.TEMPORARY]=[];u.children.forEach(function(x){x && y[x.We].push(x);});0 < y[t.gl].length && (u.We=t.gl,l(u));}}function g(u){return u.We !== t.gl;}function h(u){switch(u.We){case t.gl:return "OK";case t.sk:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,y){if(u.We === t.TEMPORARY || u.We === t.sk && y)u.We=t.gl;u.children && u.children.forEach(function(x){x && d(x,y);});}Object.defineProperties(b,{__esModule:{value:!0}});b.uEa=void 0;f=a(0);n=f.__importStar(a(24));r=a(13);k=a(7);m=f.__importDefault(a(53));p=f.__importDefault(a(5));q=a(4);v=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.gl=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.sk=2]="PERMANENT";})(t || (t={}));(function(u){u[u.eu=0]="STARTUP";u[u.Wjb=1]="REBUFFER";})(w || (w={}));a=(function(u){var Y0k;Y0k=2;for(;Y0k !== 23;){switch(Y0k){case 15:y.prototype.H3b=function(){var Q$1,B,x,z,A;Q$1=2;for(;Q$1 !== 6;){switch(Q$1){case 4:B=p.default.time.Ca();Q$1=3;break;case 5:return null;break;case 8:A.sort(function(C,D){var D6S;D6S=2;for(;D6S !== 1;){switch(D6S){case 2:return C.level - D.level || C.$b - D.$b;break;}}});return A;break;case 3:Q$1=null === this.D0 || this.D0 + z.cpa < B?9:8;break;case 1:Q$1=0 === A.length?5:4;break;case 9:(A.forEach(function(C){var f_y;f_y=2;for(;f_y !== 1;){switch(f_y){case 2:C.id !== x.Kd.location && (C.Vb=x.wp.get(C.id));f_y=1;break;}}}),this.D0=B);Q$1=8;break;case 2:(x=this,z=this.config,A=this.OB.filter(function(C){var L0p;L0p=2;for(;L0p !== 1;){switch(L0p){case 2:return !g(C) && 0 !== C.level;break;}}}));Q$1=1;break;}}};y.prototype.uXb=function(x){var K1u,z;K1u=2;for(;K1u !== 4;){switch(K1u){case 2:z=this.Kd.location;this.mVb=x;this.OB.forEach(function(A){var R8Q;R8Q=2;for(;R8Q !== 1;){switch(R8Q){case 2:A.id !== z && A.Vb && A.Vb.confidence > m.default.fl.YH && (A.Vb.confidence=m.default.fl.YH);R8Q=1;break;}}});K1u=4;break;}}};y.prototype.wTb=function(){var o84,x;o84=2;for(;o84 !== 5;){switch(o84){case 2:x=this;this.X6 || this.OB.forEach(function(z){var s1G;s1G=2;for(;s1G !== 1;){switch(s1G){case 2:z.We === t.TEMPORARY && x.wp.fail(z.id,p.default.time.Ca());s1G=1;break;}}});o84=5;break;}}};Y0k=25;break;case 2:f.__extends(y,u);y.prototype.Ds=function(){var m6r;m6r=2;for(;m6r !== 1;){switch(m6r){case 2:return g(this.eo);break;case 4:return g(this.eo);break;}}};y.prototype.jZb=function(x){var h4e;h4e=2;for(;h4e !== 5;){switch(h4e){case 9:return x.parent.id;break;case 1:return x.parent.id;break;case 2:h4e=(x=this.urls[x]) && x.parent?1:5;break;}}};y.prototype.LYa=function(x){var X1q,z,A,F_I,D,B,C,j1V,B$Z,p8j;X1q=2;for(;X1q !== 4;){switch(X1q){case 2:A=[];try{F_I=2;for(;F_I !== 9;){switch(F_I){case 12:C=B.next();F_I=0;break;case 6:F_I=~C.done?8:6;break;case 1:F_I=!C.done?5:9;break;case 3:C=B.next();F_I=1;break;case 5:D=this.urls[C.value];D.url === x.er.url && A.push(D.bc);F_I=3;break;case 2:(B=f.__values(Object.keys(this.urls)),C=B.next());F_I=1;break;}}}catch(G){var E;E={error:G};}finally{j1V=2;for(;j1V !== 1;){switch(j1V){case 2:try{B$Z=2;for(;B$Z !== 1;){switch(B$Z){case 2:C && !C.done && (z=B.return) && z.call(B);B$Z=1;break;}}}finally{p8j=2;for(;p8j !== 5;){switch(p8j){case 3:p8j=E?2:9;break;case 2:p8j=E?1:5;break;case 9:throw E.error;p8j=0;break;case 1:throw E.error;p8j=5;break;}}}j1V=1;break;}}}return A;break;}}};Y0k=3;break;case 14:y.prototype.Z7a=function(x,z){var X5I;X5I=2;for(;X5I !== 3;){switch(X5I){case 2:X5I=(x=this.kk[x])?1:5;break;case 1:(d(x,z),l(x));X5I=5;break;case 5:this.pC=null;this.WM=m.default.du.Eca;X5I=3;break;}}};y.prototype.F8=function(){var N1I;N1I=2;for(;N1I !== 1;){switch(N1I){case 4:d(this.eo,-9);N1I=3;break;case 2:d(this.eo,!1);N1I=1;break;}}};y.prototype.hG=function(x){var r9F,z;r9F=2;for(;r9F !== 5;){switch(r9F){case 2:null === (z=this.pnb) || void 0 === z?void 0:z.call(this,x);r9F=5;break;}}};Y0k=11;break;case 25:y.prototype.dump=function(){};return y;break;case 3:y.prototype.MXa=function(x){var i8S;i8S=2;for(;i8S !== 1;){switch(i8S){case 2:for(var z in this.streams){if(this.streams[z].jA === x){return this.streams[z];}}i8S=1;break;}}};y.prototype.m1=function(x,z,A){var M4L,G,B,C,D,E;M4L=2;for(;M4L !== 26;){switch(M4L){case 15:this.WM=A;this.dump();M4L=26;break;case 7:var Z_G="L";Z_G+="I";Z_G+="V";Z_G+="E";var R4x="LI";R4x+="V";R4x+="E";(0,q.assert)(this.ha && R4x === D && !!E || !this.ha && Z_G !== D && !E);this.ha && (this.GNb=E.mRb);G=!0;z && (G=!1,this.xVb(z));x.audio_tracks.forEach(function(F){var y1J;y1J=2;for(;y1J !== 1;){switch(y1J){case 2:B.q6a(k.v.ga,F,G);y1J=1;break;}}});x.video_tracks.forEach(function(F){var Y8A;Y8A=2;for(;Y8A !== 1;){switch(Y8A){case 2:B.q6a(k.v.Z,F,G);Y8A=1;break;}}});M4L=10;break;case 2:B=this;void 0 === A && (A=m.default.du.Mhb);x.locations.forEach(function(F){var b69,H,K,O,I;b69=2;for(;b69 !== 7;){switch(b69){case 1:b69=B.ei[H]?5:4;break;case 2:H=F.key;b69=1;break;case 4:(K=[],O=B.wp.get(H),I=B.eo);b69=3;break;case 3:F={id:H,Em:m.default.Hg.LOCATION,We:t.gl,$b:F.rank,level:F.level,weight:F.weight,Dv:void 0,parent:I,children:K,kk:K,streams:{},Vb:O};B.ei[F.id]=F;b69=8;break;case 5:(B.ei[H].$b=F.rank,B.ei[H].level=F.level,B.ei[H].weight=F.weight);b69=7;break;case 8:I.children.push(F);b69=7;break;}}});this.D0=p.default.time.Ca();this.OB.sort(function(F,H){var c9H;c9H=2;for(;c9H !== 1;){switch(c9H){case 2:return F.level - H.level || F.$b - H.$b;break;}}});x.servers.forEach(function(F){var j$8,K,H,O;j$8=2;for(;j$8 !== 14;){switch(j$8){case 4:K=B.ei[F.key];j$8=3;break;case 2:H=F.id;j$8=1;break;case 3:j$8=K?9:14;break;case 1:j$8=B.kk[H]?5:4;break;case 5:B.kk[H].$b=F.rank;j$8=14;break;case 9:O=[];F={id:H,Em:m.default.Hg.nD,We:t.gl,Dv:void 0,parent:K,children:O,urls:O,name:F.name,type:F.type,$b:F.rank,location:K};B.kk[F.id]=F;j$8=6;break;case 6:K.children.push(F);j$8=14;break;}}});(D=x.bg,E=x.sj);M4L=7;break;case 16:this.pC=null;M4L=15;break;case 10:null === (C=x.timedtexttracks) || void 0 === C?void 0:C.forEach(function(F){var s7J;s7J=2;for(;s7J !== 1;){switch(s7J){case 4:B.pVb(F,G);s7J=2;break;case 2:B.pVb(F,G);s7J=1;break;}}});x=this.OB.filter(function(F){var T11,H;T11=2;for(;T11 !== 4;){switch(T11){case 2:H=F.kk.every(function(K){var S9v;S9v=2;for(;S9v !== 1;){switch(S9v){case 2:return 0 === K.urls.length;break;case 4:R7xOY.g6M(10);var e7i=R7xOY.G5G(13,6);return e7i != K.urls.length;break;}}});H && (F.kk.forEach(function(K){var E3u;E3u=2;for(;E3u !== 1;){switch(E3u){case 2:B.kk[K.id]=void 0;E3u=1;break;}}}),B.ei[F.id]=void 0,F.parent=void 0,F.children.length=0,F.streams={});return !H;break;}}});x.forEach(function(F){var Y2A;Y2A=2;for(;Y2A !== 1;){switch(Y2A){case 2:F.kk.sort(function(H,K){var z8E;z8E=2;for(;z8E !== 1;){switch(z8E){case 2:return H.$b - K.$b;break;case 4:return H.$b + K.$b;break;}}});Y2A=1;break;}}});this.OB=x;this.eo.children=x;M4L=16;break;}}};Y0k=8;break;case 11:y.prototype.ph=function(){var c3x;c3x=2;for(;c3x !== 1;){switch(c3x){case 2:this.uXb(w.Wjb);c3x=1;break;}}};y.prototype.Ra=function(){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:this.config.TNb && this.wTb();m$r=1;break;}}};y.prototype.xVb=function(x){var k12,A,B,C,i0$,D,E,M$9,I5h,D3h;k12=2;for(;k12 !== 4;){switch(k12){case 2:(B=this,C=new Set());try{i0$=2;for(;i0$ !== 3;){switch(i0$){case 4:E=D.next();i0$=1;break;case 5:z(E.value);i0$=4;break;case 14:E=D.next();i0$=8;break;case 1:i0$=!E.done?5:3;break;case 2:(D=f.__values(x),E=D.next());i0$=1;break;}}}catch(F){var G;G={error:F};}finally{M$9=2;for(;M$9 !== 1;){switch(M$9){case 2:try{I5h=2;for(;I5h !== 1;){switch(I5h){case 2:E && !E.done && (A=D.return) && A.call(D);I5h=1;break;}}}finally{D3h=2;for(;D3h !== 5;){switch(D3h){case 1:throw G.error;D3h=5;break;case 2:D3h=G?1:5;break;case 3:D3h=G?5:9;break;case 9:throw G.error;D3h=1;break;}}}M$9=1;break;}}}Object.keys(this.streams).forEach(function(F){var y9p;y9p=2;for(;y9p !== 1;){switch(y9p){case 2:C.has(F) || delete B.streams[F];y9p=1;break;}}});k12=4;break;}}function z(F){var e3q;e3q=2;for(;e3q !== 1;){switch(e3q){case 2:Object.keys(F).forEach(function(H){var o16,K,O;o16=2;for(;o16 !== 9;){switch(o16){case 5:o16=K?4:9;break;case 2:K=F[H];C.add(H);o16=5;break;case 4:var s4P="L";s4P+="IV";s4P+="E";O=B.streams[H];B.streams[H]=O?f.__assign(f.__assign({},O),K):{id:H,bitrate:K.bitrate,zb:null,type:K.mediaType,clear:K.ai?!1:!0,Jq:!0,urls:[],IN:{},ei:[],jA:K,Xoa:B.ha?s4P:void 0};o16=9;break;}}});e3q=1;break;}}}};Y0k=19;break;case 8:y.prototype.Hbb=function(x,z,A){var t_B,H,F,B,C,D,E,G;t_B=2;for(;t_B !== 16;){switch(t_B){case 11:return (this.st(m.default.Hg.yw,!1),!1);break;case 12:t_B=!this.pC?11:10;break;case 10:H=this.pC;t_B=20;break;case 19:return (this.st(m.default.Hg.yw,!1),!1);break;case 7:F=m.default.fl.YH;C.rqa && (F=m.default.fl.XH);this.Kd.location && E.confidence >= F && (x=this.ei[this.Kd.location]) && (x.Vb=E);t_B=13;break;case 8:return !1;break;case 13:n.Tb(this.pC) && (this.pC=this.H3b());t_B=12;break;case 2:(B=this,C=this.config,D=!1);this.ha && void 0 !== A && A !== this.nNa && (void 0 === this.oNa || p.default.time.Ca() - this.oNa > C.uNb) && (this.nNa=A,this.oNa=p.default.time.Ca(),D=!0);D && (this.pC=null);t_B=4;break;case 4:(E=this.Kd.get(),G=0);p.default.rs && p.default.rs(x);t_B=9;break;case 9:t_B=g(this.eo)?8:7;break;case 20:t_B=!H.length?19:18;break;case 18:var l3B="(emp";l3B+="ty st";l3B+="ream ";l3B+="list)";var d_C="Did not find ";d_C+="a U";d_C+="RL ";d_C+="for ANY stream.";d_C+="..";var R1h="netw";R1h+="orkFail";R1h+="ed";var F9T="Network has failed, not upd";F9T+="ating stream selecti";F9T+="on";z.forEach(function(K,O){var O4L,I;O4L=2;for(;O4L !== 5;){switch(O4L){case 2:var D8k=" Kbp";D8k+="s";D8k+=")";var n7x=" ";n7x+="(";var y3L="]";y3L+=" ";var t83="Fa";t83+="iling s";t83+="t";t83+="ream [";I=K.id;H.some(function(P){var d7$,N,J;d7$=2;for(;d7$ !== 8;){switch(d7$){case 5:return !1;break;case 2:N=P.streams[I];d7$=1;break;case 1:d7$=!N?5:4;break;case 4:J=N.ei[0];void 0 === K.e8 && (K.e8=J.id,K.rsa=N.IN[J.id][0].bc.id);return N.IN[P.id].some(function(L){var m0L,R;m0L=2;for(;m0L !== 20;){switch(m0L){case 1:return (L.bc.We === t.TEMPORARY && (K.We=t.TEMPORARY),C.AG && K.bc === L.bc.id && L.bc.Dv && (K.Dv=L.bc.Dv),!1);break;case 5:m0L=g(L) || D && !L.b6.some(function(ka){var I5t=R7xOY;var H0S;H0S=2;for(;H0S !== 1;){switch(H0S){case 4:I5t.g6M(11);return I5t.G5G(ka,A);break;case 2:I5t.g6M(12);return I5t.g1D(ka,A);break;}}})?4:3;break;case 12:K.Vb=C.tha?P.Vb.confidence >= m.default.fl.XH || E.confidence < F?P.Vb:E:E.confidence === m.default.fl.HAVE_NOTHING || P.Vb.confidence >= m.default.fl.XH?P.Vb:E;C.YUa && !K.Vb.KT && (K.Vb.KT=P.Vb.KT);m0L=10;break;case 4:return !1;break;case 10:return !0;break;case 3:var p_V="loca";p_V+="ti";p_V+="onfail";p_V+="ove";p_V+="r";var Z25="serverfa";Z25+="il";Z25+="over";var N_V="pe";N_V+="rf";N_V+="orman";N_V+="c";N_V+="e";var q7F="u";q7F+="n";q7F+="k";q7F+="nown";R=q7F;K.location !== P.id && (C.AG?K.woa=P.id === J.id:R=P !== H[0] && D && N.Xoa !== A?"" + m.default.du.zkb:P !== H[0]?"" + m.default.du.oaa:void 0 === K.location?"" + m.default.du.eu:n.bi(K.b1a) || K.b1a === P.id?n.bi(K.g1a) || K.g1a === L.bc.id?N_V:Z25:p_V,K.location=P.id,K.dpa=P.level,K.yt=R);K.url=L.url;K.bc=L.bc.id;m0L=6;break;case 2:m0L=g(L.bc)?1:5;break;case 6:K.wW=L.bc.name;K.hr=L.bc.type;D && (N.Xoa=A);m0L=12;break;}}});break;}}})?(K.bB=!1,K.We=void 0,K.Jq && ++G):K.We && K.We === t.TEMPORARY?B.eo.We=t.TEMPORARY:K.bB || (v.warn(t83 + O + y3L + I + n7x + K.bitrate + D8k),K.Gub(),K.bB=!0);O4L=5;break;}}});return g(this.eo)?(v.warn(F9T),this.X6=!0,this.emit(R1h,this.eo.We === t.sk),!1):G?!0:(v.warn(d_C + (z.length?"":l3B)),this.st(m.default.Hg.yw,!0),!1);break;}}};y.prototype.mZb=function(x,z){var p97,A,B;p97=2;for(;p97 !== 4;){switch(p97){case 2:(A=[],B=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);n.forEach(this.urls,function(C,D){var H2t,G,F,E,H;H2t=2;for(;H2t !== 13;){switch(H2t){case 6:C.urls.some(function(K){var E3m;E3m=2;for(;E3m !== 5;){switch(E3m){case 1:return (H=K,!0);break;case 2:E3m=K.url === D?1:5;break;case 3:E3m=K.url == D?5:2;break;}}});H && A.push({url:H,bc:C});H2t=13;break;case 4:var w3R="8";w3R+="0";var R9X="4";R9X+="4";R9X+="3";(G="s" === E[1],F=E[2]);E=E[3];E.length || (E=G?R9X:w3R);H2t=8;break;case 2:C=C.bc;E=D.match(B);H2t=5;break;case 5:H2t=E && 4 === E.length?4:13;break;case 8:H2t=n.rg(F) && n.rg(E) && F === x && E == z?7:13;break;case 7:H2t=6;break;}}});return A;break;}}};y.prototype.st=function(x,z,A,B){var Y8I,I27,C,D,E,F,u3V,H,G;Y8I=2;for(;Y8I !== 42;){switch(Y8I){case 4:Y8I=C?3:43;break;case 15:var e8u="<";e8u+="url f";e8u+="or";e8u+=" ";z.unshift(e8u + F.stream.bitrate + ">");Y8I=19;break;case 5:C=C.parent;Y8I=1;break;case 24:C.We=E;c(C);this.X6=this.X6 || g(this.eo);Y8I=21;break;case 25:return;break;case 26:I27=C.We;Y8I=I27 === t.sk?25:30;break;case 1:Y8I=C && C.parent && C.Em !== x?5:4;break;case 43:var j7d="Unab";j7d+="le to find failure entity ";j7d+="for U";j7d+="RL ";R7xOY.g6M(6);v.warn(R7xOY.G5G(A,j7d));Y8I=42;break;case 3:Y8I=E !== C.We?9:42;break;case 21:var t6t="ne";t6t+="tw";t6t+="orkFa";t6t+="iled";var a$6="Em";a$6+="itting networkFaile";a$6+="d, permanent =";E=this.eo.We;E > D && (v.warn(a$6,E === t.sk),this.emit(t6t,E === t.sk));this.pC=null;Y8I=33;break;case 2:(C=x !== m.default.Hg.yw && A?this.urls[A]:this.eo,D=this.eo.We,E=z?t.sk:t.TEMPORARY);Y8I=1;break;case 44:var B2u="Invalid fa";B2u+="ilu";B2u+="r";B2u+="e s";B2u+="tate";throw Error(B2u);Y8I=24;break;case 18:Y8I=u3V === m.default.Hg.LOCATION?17:16;break;case 28:Y8I=44;break;case 20:z.unshift(H.id + "(" + H.name + ")");Y8I=19;break;case 29:Y8I=I27 === t.gl?24:28;break;case 30:Y8I=I27 === t.TEMPORARY?24:29;break;case 27:var m0s=" :";m0s+=" wa";m0s+="s ";G.call(A,x + (z.length?"/" + z.join("/"):"") + m0s + h(C));Y8I=26;break;case 33:this.WM=m.default.du.wh;B && (this.WM=m.default.du.Bjb,C.Dv=B);this.dump();Y8I=42;break;case 13:F=C;Y8I=12;break;case 16:Y8I=u3V === m.default.Hg.URL?15:19;break;case 14:Y8I=13;break;case 11:u3V=F.Em;Y8I=u3V === m.default.Hg.nD?10:18;break;case 10:H=F;Y8I=20;break;case 9:var o1T=" ";o1T+="a";o1T+="t";o1T+=" ";var P0p=" fa";P0p+="ilure re";P0p+="port";P0p+="ed for ";var j77="T";j77+="E";j77+="M";j77+="P";var B93="P";B93+="E";B93+="RM";A=v;G=A.warn;x=(z?B93:j77) + P0p + m.default.Hg.name[x] + o1T;z=[];Y8I=14;break;case 19:F=F.parent;Y8I=12;break;case 12:Y8I=F?11:27;break;case 17:z.unshift(F.id);Y8I=19;break;}}};Y0k=14;break;case 19:y.prototype.q6a=function(x,z,A){var F98,B;F98=2;for(;F98 !== 5;){switch(F98){case 2:B=this;z.streams.forEach(function(C){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:B.r6a(x,C.downloadable_id,C,A);e50=1;break;}}});F98=5;break;}}};y.prototype.pVb=function(x,z){var Y5k,A;Y5k=2;for(;Y5k !== 4;){switch(Y5k){case 9:Y5k="" === x.id?2:8;break;case 2:var g_L="n";g_L+="o";g_L+="ne";Y5k=g_L !== x.id?1:4;break;case 1:var o2g="imsc1";o2g+=".";o2g+="1";var P6S="i";P6S+="ms";P6S+="c";P6S+="1";P6S+=".1";A=x.ttDownloadables[P6S];A && this.r6a(k.v.Za,x.downloadableIds[o2g],A,z);Y5k=4;break;}}};y.prototype.r6a=function(x,z,A,B){var Q2_,D,C;Q2_=2;for(;Q2_ !== 10;){switch(Q2_){case 1:Q2_=n.bi(C) && B?5:12;break;case 6:this.qVb(C,A.urls);n.zs(C.IN,function(E){var M$B;M$B=2;for(;M$B !== 1;){switch(M$B){case 2:E.sort(function(G,F){var Z0O;Z0O=2;for(;Z0O !== 1;){switch(Z0O){case 2:return G.bc.$b - F.bc.$b;break;}}});M$B=1;break;}}});C.ei=C.ei.sort(function(E,G){var v3H;v3H=2;for(;v3H !== 1;){switch(v3H){case 2:return E.level - G.level || E.$b - G.$b;break;}}});Q2_=10;break;case 11:return;break;case 3:D=null;Q2_=9;break;case 7:this.streams[C.id]=C;Q2_=6;break;case 2:C=this.streams[z];Q2_=1;break;case 12:Q2_=!C && !B?11:6;break;case 5:B="";Q2_=4;break;case 4:C=0;Q2_=3;break;case 9:var O2L="L";O2L+="I";O2L+="V";O2L+="E";var x_T="n";x_T+="on";x_T+="e";x_T+="-";x !== k.v.Za && (B=A.content_profile,C=A.bitrate,x === k.v.Z && (D=A.vmaf));C={id:z,bitrate:C,zb:D,type:x,profile:B,clear:0 === B.indexOf(x_T),Jq:!0,urls:[],IN:{},ei:[],Xoa:this.ha?O2L:void 0};Q2_=7;break;}}};y.prototype.qVb=function(x,z){var c5R,A;c5R=2;for(;c5R !== 5;){switch(c5R){case 2:A=this;z.forEach(function(B){var j1c,F,C,D,E,G;j1c=2;for(;j1c !== 14;){switch(j1c){case 4:n.bi(D) && (D={id:C,Em:m.default.Hg.URL,We:t.gl,Dv:void 0,parent:E,children:[],url:C,bc:E,stream:x,b6:G},A.urls[C]=D,E.children.push(D));j1c=3;break;case 3:F=E.location;x.urls.push(D);0 === x.ei.filter(function(H){var P5J;P5J=2;for(;P5J !== 1;){switch(P5J){case 4:return H.id == F.id;break;case 2:return H.id === F.id;break;}}}).length && x.ei.push(F);F.streams[x.id]=x;j1c=6;break;case 6:(B=x.IN[F.id])?B.push(D):x.IN[F.id]=[D];j1c=14;break;case 5:j1c=E?4:14;break;case 2:(C=B.url,D=A.urls[C],E=A.kk[B.cdn_id]);A.ha && (G=B.liveOcaCapabilities);j1c=5;break;}}});c5R=5;break;}}};Y0k=15;break;}}function y(x,z,A,B,C,D){var S4f,E;S4f=2;for(;S4f !== 25;){switch(S4f){case 12:var n9V="n";n9V+="e";n9V+="two";n9V+="rk";E.OB=[];E.X6=!1;E.eo={id:n9V,Em:m.default.Hg.yw,We:t.gl,Dv:void 0,parent:void 0,children:E.OB};E.D0=null;S4f=19;break;case 19:E.pC=null;E.WM=m.default.du.eu;A=x.sj;S4f=16;break;case 6:E.kk={};E.urls={};E.streams={};S4f=12;break;case 3:var t7e="L";t7e+="I";t7e+="V";t7e+="E";E.pnb=D;E.nNa=t7e;E.mVb=w.eu;E.ei={};S4f=6;break;case 5:E.wp=B;E.config=C;S4f=3;break;case 2:E=u.call(this) || this;E.Kd=A;S4f=5;break;case 16:var l_M="1";l_M+="S";l_M+="IYbZr";l_M+="NJCp";l_M+="9";var z8x="L";z8x+="I";z8x+="V";z8x+="E";E.ha=z8x === x.bg && !!A;E.m1(x,z,m.default.du.eu);l_M;return E;break;}}}})(r.EventEmitter);b.uEa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mya=void 0;c=a(19);r=(function(){function l(g){this.config=g;}l.prototype.yVb=function(g){var h,d,f;h=this.config;d=[];f=[];g.forEach(function(q,v){void 0 === q.zb?f.push(v):d.push(v);});if(0 !== f.length)for(var n=-1,k=-1,m=function(q){var v,t,w,u,y,x;v=f[q];t=g[v];if(0 === q || v !== f[q - 1] + 1)(n=d[(0,c.Vga)(d,function(z){return z < v;})] || -1,k=d[(0,c.ks)(d,function(z){return z > v;})] || -1);w=0;u=h.aPb;q=0;y=h.bPb;-1 < k && (u=g[k].bitrate,y=g[k].zb);-1 < n && (q=g[n].zb,w=g[n].bitrate);u=Math.log(u);w=0 === w?0:Math.log(w);x=Math.log(t.bitrate);t.t3=Math.max(0,Math.min(110,Math.round((q * (u - x) + y * (x - w)) / (u - w) * 100) / 100));},p=0;p < f.length;p++){m(p);}};return l;})();b.mya=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pEa=void 0;r=a(0);c=a(9);l=r.__importDefault(a(5));a=(function(){function g(){this.console=new l.default.Console("ASEJS","asejs|serverclock");}Object.defineProperties(g.prototype,{qC:{get:function(){return void 0 === this.vW?(c.I && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),l.default.time.now()):l.default.time.Ca() - this.vW;},set:function(h){this.Ooa=l.default.time.Ca();this.Poa=h;h=this.Ooa - this.Poa;if(void 0 === this.vW || h < this.vW)this.vW=h;},enumerable:!1,configurable:!0}});g.prototype.bYb=function(){this.Ooa && this.Poa && (this.vW=this.Ooa - this.Poa);};return g;})();b.pEa=a;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ICa=void 0;c=a(0);l=a(144);g=a(918);a(7);h=c.__importDefault(a(5));r=a(114);a(935);d=a(4);f=a(148);a=(function(n){function k(m,p,q,v,t,w){var u;u=n.call(this,m) || this;u.lJ=m;u.S=p;u.W=q;u.hG=v;u.PK=t;u.Y_a=w;u.mNa=[void 0,void 0];u.fQ={Lz:[Object.create(null),Object.create(null)]};u.me=f.pz.instance.Bx("headers","" + u.lJ.K,!0,!1,{},u.W);u.me.oa();return u;}c.__extends(k,n);Object.defineProperties(k.prototype,{Lz:{get:function(){return this.fQ.Lz;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bea:{get:function(){return this.fQ.Bea;},set:function(m){this.fQ.Bea=m;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{f0:{get:function(){return this.fQ.f0;},set:function(m){this.fQ.f0=m;},enumerable:!1,configurable:!0}});k.prototype.Te=function(){var m;m=this;this.Lz.forEach(function(p,q){for(var v in p){p[v].Te();m.Bja(q,v);}});this.me && f.pz.instance.X2(this.me);this.me=void 0;};k.prototype.nF=function(m,p){return this.Lz[m][p];};k.prototype.l9=function(m){this.Bea=m;};k.prototype.yH=function(m,p){var q,v,t,w;q=this.W;v=this.nF(m.mediaType,m.Wb);if(v)return (v.stream.Ma || v.z9 && this.TRa(v),!1);v=this.Jmb;t=this.Kmb;if(void 0 !== q.iqa && void 0 !== v && void 0 !== t){w=h.default.time.Ca();if(w - v < q.iqa || w - t < q.iqa)return !1;}m=this.S2b(m,p);this.Kmb=h.default.time.Ca();return m;};k.prototype.S2b=function(m,p){var q,v,t,w,u;q={offset:0};t=m.mediaType;l.Sp.fv(t);if(this.nF(t,m.Wb))m=!1;else {w=this.W.T$a && m.ha;u=w?0:q.offset;w=w?0:null !== (v=q.va) && void 0 !== v?v:this.Ylb(m);q=c.__assign(c.__assign({},q),{offset:u,va:w});v=!!q.eS;u=!!q.UU;this.THb?p=this.THb(t,!!q.HS,v,u,!1):p || (p=this.me);(0,d.assert)(p);m.url && (this.PK(t).k1a=m.TK(!0));if(!this.Elb(m,p,q).eM())return (this.lJ.yf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);m=!0;}return m;};k.prototype.Ym=function(){var m,p;m=this;p=[];this.Lz.forEach(function(q,v){var w;l.Sp.fv(v);for(var t in q){v=q[t];w=v.xwa();1 === w?p.push(v):2 === w && m.lJ.yf("swapUrl failure");}});return p;};k.prototype.Kl=function(m){var p,q;p=m.mediaType;q=l.Sp.fv(p);this.lJ.El?q.warn("header onrequestcomplete ignored, session shutdown:",m.toString()):(this.hG({type:"logdata",target:"startplay",Fc:{usedNativeDataView:m.s4b}}),m.G7 > m.rSb && (this.mNa[p]=m.G7),m.z9 && this.TRa(m),this.smb(m),this.Jmb=h.default.time.Ca(),this.lJ.events.emit("onHeaderRequestComplete",m));this.PA(m);};k.prototype.PQ=function(m,p){var q,v,t,w;q=[];v=this.Lz[m];for(t in v){w=v[t];w && !w.stream.Ma && w.wM === p && (this.Bja(m,t),q.push({stream:w.stream,offset:w.offset,va:w.va,eS:w.eS,HS:w.HS,UU:w.UU,Ara:w.Ara}),w.Te());}return q;};k.prototype.Hpb=function(m){this.Lz[m.mediaType][m.Wb]=m;};k.prototype.smb=function(m){var p,q,v,w;p=this.W;q=l.Sp.fv(m.mediaType);v=m.stream.Ma;if(p.oja){p=v.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){w=v.get(t);q.trace("fragment: " + t + ", startPts: " + w.La.G + ", duration: " + w.Fd.G + ", offset: " + w.offset);}}this.hlb(m);};k.prototype.hlb=function(m){var p,q;p=m.mediaType;q=m.Wb;l.Sp.fv(p);m.L4a && (m.L4a.forEach(function(v){(v=v.Bma(p,q)) && v !== m.stream && !v.Yj && v.Dvb(m.stream);}),m.L4a=void 0);this.lJ.WIb(m);};k.prototype.Elb=function(m,p,q){var v,t;v=this;t=l.Sp.fv(m.mediaType);m=new g.Vxa(m,this.W,p,q,this,!1,t);m.addListener("headerRequestCancelled",function(w){v.rmb(w.request);});m.oa(void 0);this.Hpb(m);return m;};k.prototype.Ylb=function(m){var p,q,v,t;p=m.lk;q=m.pa;v=q.duration;t=this.W;return m.ha?512:q.wq?t.KVa?t.KVa:t.X4:t.p4b && p?p.offset + p.size:(m=this.mNa[m.mediaType])?m + 128:t.nka?2292 + 12 * Math.ceil(v / 2E3):t.X4;};k.prototype.rmb=function(m){this.Bja(m.mediaType,m.Wb);};k.prototype.Bja=function(m,p){delete this.Lz[m][p];};k.prototype.TRa=function(m){this.f0 === m.Wb && (this.f0=void 0);};return k;})(r.hz);b.ICa=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Vxa=void 0;c=a(0);l=a(75);r=a(13);g=c.__importDefault(a(5));h=a(10);d=a(49);f=a(4);n=a(7);k=a(246);m=a(934);a=a(411);p=g.default.MediaSource;a=(function(q){function v(t,w,u,y,x,z,A){w=q.call(this,t,y,x,w,A) || this;m.caa.p_a(w,t,y,A);w.wM=u;w.track=u.track;w.HS=!!y.HS;w.UU=!!y.UU;w.eS=!!y.eS;w.rSb=y.va;w.z9=!!y.z9;w.kQ=(z?"(cache)":"") + w.Wb + " header";t=y.offset;y=y.va;w.su && (t+=w.su.byteLength,y-=w.su.byteLength);w.XD(t,y);return w;}c.__extends(v,q);Object.defineProperties(v.prototype,{Ad:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{G7:{get:function(){return this.Lnb;},enumerable:!1,configurable:!0}});v.prototype.Te=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}q.prototype.Te.call(this);};v.prototype.MS=function(t){this.stream.u7();q.prototype.MS.call(this,t);};v.prototype.zK=function(t,w,u){this.stream.t7();q.prototype.zK.call(this,t,w,u);};v.prototype.Kl=function(t){t.response && this.pMa(t.response);(0,f.assert)(this.su);t.WV();this.stream.t7();this.Jnb()?q.prototype.Kl.call(this,t):this.qMa?(this.XD(t.offset + t.va,this.qMa),this.stream.u7(),q.prototype.Kl.call(this,t)):this.R3(this);};v.prototype.A7=function(t){t.response && this.pMa(t.response);q.prototype.A7.call(this,t);};v.prototype.XD=function(t,w){t=new k.dO(this.stream,this.track,this.kQ + " (" + this.Ja.length + ")",{Ad:!0,offset:t,va:w,Ny:{ue:n.rb.Lj},location:this.location,Rc:this.Rc,responseType:0},this,this.Yd,this.S);this.push(t);this.Hc=this.Ja.reduce(function(u,y){return u + y.va;},0);};v.prototype.Jnb=function(){var t,w,u,y,x,z,A;y=this.Yd;x=new l.Mr(v.bQb,this.stream,this.su,this.stream.ha?["moov"]:["sidx"],y.RSb,{ifc:this.stream.track.psa,xra:void 0 === this.ba,Uab:!p.re || !p.re.Pub,bwa:y.bwa,pm:y.pm,JN:this.Yd.JN,h8a:!0,A9:!p.re || !p.re.lQb,ita:this.Yd.ita});z=x.parse({ba:this.ba});this.s4b=y.JN && x.rJb;if(z.dt){(0,f.assert)(z.Ih);this.HD=z.Ih;this.Lnb=z.G7;this.JMa=!!z.XBb;void 0 === this.ba && void 0 === z.ba && this.S.error("No frame duration available for " + this.Wb);x=z.ba?new h.N(z.ba):this.ba;A=void 0;if(this.er.mediaType === n.v.Z && (null === (t=y.jM) || void 0 === t?0:t.enabled))if(null === (w=this.er.PG) || void 0 === w?0:w.length)A=this.er.PG;else if((t=this.er.pv.PG,0 < (null === t || void 0 === t?void 0:t.length)))for((A=new Uint8Array(t.length),u=0);u < t.length;u++){A[u]=t[u].zb;}else if(null === (u=z.Zv) || void 0 === u?0:u.length)for((A=new Uint8Array(z.Zv.length),u=0);u < z.Zv.length;u++){A[u]=z.Zv[u];}this.stream.Uqa(z.Ih,z.T,x,z.Ma,z.RL,z.hj,A,z.trackId);this.su=void 0;}else this.qMa=z.hqb || 0;return !!z.dt;};v.prototype.pMa=function(t){this.su=this.su?(0,h.BE)(this.su,t):t;};v.bQb=new g.default.Console("MP4","media|asejs");return v;})(a.$$);b.Vxa=a;(0,d.si)(m.caa,a,!1,!1);(0,d.si)(r.EventEmitter,a);},function(r,b,a){r.exports={Vjb:a(920),B6b:a(921)};},function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function l(f){this.Pe=null;this.Ur=f;this.size=0;}function g(f){return null !== f && f.red;}function h(f,n){var k;k=f.Lg(!n);f.Op(!n,k.Lg(n));k.Op(n,f);f.red=!0;k.red=!1;return k;}function d(f,n){f.Op(!n,h(f.Lg(!n),!n));return h(f,n);}b=a(404);c.prototype.Lg=function(f){return f?this.right:this.left;};c.prototype.Op=function(f,n){f?this.right=n:this.left=n;};l.prototype=new b();l.prototype.Qs=function(f){var n,k,m,p,q,v,t,w;if(null === this.Pe)(this.Pe=new c(f),this.size++);else {n=new c(void 0);k=0;m=0;p=null;q=n;v=null;t=this.Pe;for(q.right=this.Pe;;){null === t?(t=new c(f),v.Op(k,t),this.size++):g(t.left) && g(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(g(t) && g(v)){w=q.right === p;t === v.Lg(m)?q.Op(w,h(p,!m)):q.Op(w,d(p,!m));}w=this.Ur(t.data,f);if(0 === w)break;m=k;k=0 > w;null !== p && (q=p);p=v;v=t;t=t.Lg(k);}this.Pe=n.right;}this.Pe.red=!1;};l.prototype.remove=function(f){var n,k,t,w,u;if(null === this.Pe)return !1;n=new c(void 0);k=n;k.right=this.Pe;for(var m=null,p,q=null,v=1;null !== k.Lg(v);){t=v;p=m;m=k;k=k.Lg(v);w=this.Ur(f,k.data);v=0 < w;0 === w && (q=k);if(!g(k) && !g(k.Lg(v)))if(g(k.Lg(!v)))(p=h(k,v),m.Op(t,p),m=p);else if(!g(k.Lg(!v)) && (w=m.Lg(!t),null !== w))if(g(w.Lg(!t)) || g(w.Lg(t))){u=p.right === m;g(w.Lg(t))?p.Op(u,d(m,t)):g(w.Lg(!t)) && p.Op(u,h(m,t));t=p.Lg(u);t.red=!0;k.red=!0;t.left.red=!1;t.right.red=!1;}else (m.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,m.Op(m.right === k,k.Lg(null === k.left)),this.size--);this.Pe=n.right;null !== this.Pe && (this.Pe.red=!1);return null !== q;};r.exports=l;},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;}function l(g){this.Pe=null;this.Ur=g;this.size=0;}b=a(404);c.prototype.Lg=function(g){return g?this.right:this.left;};c.prototype.Op=function(g,h){g?this.right=h:this.left=h;};l.prototype=new b();l.prototype.Qs=function(g){if(null === this.Pe)(this.Pe=new c(g),this.size++);else for(var h=0,d=null,f=this.Pe;;){if(null === f){f=new c(g);d.Op(h,f);ret=!0;this.size++;break;}if(0 === this.Ur(f.data,g))break;h=0 > this.Ur(f.data,g);d=f;f=f.Lg(h);}};l.prototype.remove=function(g){var h,d,m;if(null === this.Pe)return !1;h=new c(void 0);d=h;d.right=this.Pe;for(var f=null,n=null,k=1;null !== d.Lg(k);){f=d;d=d.Lg(k);m=this.Ur(g,d.data);k=0 < m;0 === m && (n=d);}return null !== n?(n.data=d.data,f.Op(f.right === d,d.Lg(null === d.left)),this.Pe=h.right,this.size--,!0):!1;};r.exports=l;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kza=void 0;c=a(0);l=a(179);new (c.__importDefault(a(5)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function g(h){this.config=h;this.Gia=h.c;this.Kpa=h.Adc;this.sU=h.sU;this.zT=h.zT;this.m5=h.m5;this.x_b=h.lbc;this.yF=h.yF;this.s2a=h.s2a;this.reset();}g.prototype.reset=function(){this.Wg=new l.Nda(this.Gia,this.Kpa);this.ib=null;};g.prototype.add=function(h,d,f){var n,k,m,v;f=Math.max(f - d,1);h=8 * h / f;if(this.x_b){null === this.ib && (this.ib=d);k=Math.pow(2,(d - this.ib) / this.yF);m=f * k;if(k >= this.s2a){m=new l.Nda(this.Gia,this.Kpa);try{for(var p=c.__values(this.Wg.ur()),q=p.next();!q.done;q=p.next()){v=q.value;m.push(v.Kf,v.n / k);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(t)throw t.error;}}this.Wg=m;m=f;this.ib=d;}this.Wg.push(h,m);}else this.Wg.push(h,f);};g.prototype.get=function(){var h;h=this.Wg.ji([this.sU,this.zT,this.m5]);return {low:h[0] || 0,high:h[1] || 0,initial:h[2] || 0};};g.prototype.Dn=function(){var h,d,f,m;d=new g(this.config);f=new l.Nda(this.Gia,this.Kpa);try{for(var n=c.__values(this.Wg.ur()),k=n.next();!k.done;k=n.next()){m=k.value;f.push(m.Kf,m.n);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (h=n.return) && h.call(n);}finally{if(p)throw p.error;}}d.Wg=f;return d;};g.prototype.flush=function(){};g.prototype.start=function(){};g.prototype.stop=function(){};return g;})();b.Kza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NZ=void 0;c=a(396);r=(function(){function l(g,h){this.qqa=g;this.Rd=h;0 < h?(this.W0a=h=Math.pow(g,3) / h,g=2 * h / g,500 >= g && (this.yka=Math.exp(g))):this.yka=0;}l.prototype.qRa=function(g){var h,d,f;h=this.qqa;d=this.yka;if(d && 0 < g){f=Math.sqrt(this.W0a / (2 * g));h=g / h;g=(0,c.rK)(f * (h - 1));f=(0,c.rK)(f * (h + 1));return Math.max((2 - g + d * f) / 2,0);}return g < h?0:g > h?1:.5;};l.prototype.Bv=function(g,h,d){for(var f=0,n=this.qqa + 5 * Math.sqrt(this.Rd),k=1,m=0;Math.abs(k) > h && d--;){m=(f + n) / 2;k=this.qRa(m);k=g - k;0 > k?n=m:f=m;}return m;};l.prototype.Jtb=function(g){var h,d,f,n;h=this.qqa;d=this.yka;if(d && 0 < g){f=Math.sqrt(this.W0a / (2 * g));n=g / h;g=2 - (0,c.rK)(f * (n - 1));d*=(0,c.rK)(f * (n + 1));return [Math.max((g + d) / 2,0),Math.max(h * (g - d) / 2,0)];}return g < h?[0,0]:g > h?[1,h]:[.5,h / 2];};return l;})();b.NZ=r;},function(r,b,a){var l;function c(){this.im=void 0;this.Xz=0;}l=a(24);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.Xz && this.im?{p25:this.im.yp,p50:this.im.Qm,p75:this.im.zp,c:this.Xz}:null;};c.prototype.Tg=function(g){if(!(!l.Tb(g) && l.has(g,"p25") && l.has(g,"p50") && l.has(g,"p75") && l.has(g,"c") && l.isFinite(g.p25) && l.isFinite(g.p50) && l.isFinite(g.p75) && l.isFinite(g.c)))return (this.im=void 0,this.Xz=0,!1);this.im={yp:g.p25,Qm:g.p50,zp:g.p75};this.Xz=g.c;};c.prototype.get=function(){return {Ira:this.im,Bj:this.Xz};};c.prototype.set=function(g,h){this.im=g;this.Xz=h;};c.prototype.reset=function(){this.im=void 0;this.Xz=0;};c.prototype.toString=function(){return "IQRHist(" + this.im + "," + this.Xz + ")";};r.exports=c;},function(r,b,a){var l;function c(g){var h,d;h=g.sw;d=g.mw;this.mJ=h;this.lea={uhd:g.uhdl,hd:g.hdl};this.gj=Math.max(Math.ceil(1 * h / d),1);this.dnb=g.mins || 1;l.call(this,h,d);this.reset();}l=a(180);new (a(5).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.rd.map(function(g,h){this.qPa(g,this.qla(h));},this);};c.prototype.ctb=function(){var g,h,d,f,n,k,m,t;g=this.lea;for(h in g){if(g.hasOwnProperty(h)){d=g[h];f=this.Sfa[h];n=this.Rfa[h];if(f.first){k=f.first;m=f.zG;void 0 !== m && (n[k][m]+=1);f.first=void 0;}f=[];k=0;d=m=d.length + 1;for(var p=0;p < m;p++){for(var q=0,v=0;v < d;v++){q+=n[v][p];}k+=q;f.push(q);}q=-1;if(k > this.dnb){for(p=q=0;p < m;p++){if(0 < f[p])for(v=0;v < d;v++){t=n[v][p];0 < t && (q-=t * Math.log(1 * t / f[p]));}}q/=k * Math.log(2);}this.Hea[h]=q;}}return this.Hea;};c.prototype.qPa=function(g,h){var k,m;for(var d=this.gj,f=this.lea;this.k0.length >= d;){this.k0.shift();}for(;this.l0.length >= d;){this.l0.shift();}this.k0.push(g);this.l0.push(h);g=this.k0.reduce(function(p,q){return p + q;},0);h=this.l0.reduce(function(p,q){return p + q;},0);if(0 < h){g=8 * g / h;for(var n in f){if(f.hasOwnProperty(n)){h=this.Sfa[n];d=this.Rfa[n];k=this.NVb(g,f[n]);m=h.zG;void 0 !== m?d[k][m]+=1:h.first=k;h.zG=k;}}}};c.prototype.NVb=function(g,h){for(var d=0;d < h.length && g > h[d];){d+=1;}return d;};c.prototype.shift=function(){this.qPa(this.rd[0],this.qla(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var g,h,d,f,n,k,m;this.Sfa={};this.k0=[];this.l0=[];this.Rfa={};this.Hea={};g=this.lea;for(h in g){if(g.hasOwnProperty(h)){d=this.Rfa;f=h;k=void 0;m=Array(k);k=n=g[h].length + 1;for(var p=0;p < k;p++){m[p]=Array(n);for(var q=0;q < n;q++){m[p][q]=0;}}d[f]=m;this.Sfa[h]={first:void 0,zG:void 0};this.Hea[h]=0;}}l.prototype.reset.call(this);};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HIa=void 0;r=(function(){function a(c,l){this.Sj=0;this.filter=c;this.U7=l;this.Sj=0;}a.prototype.AU=function(c){return 0 < this.U7.filter(function(l){var g;return l === (null === (g=c.Ny) || void 0 === g?void 0:g.ue);}).length;};a.prototype.add=function(c,l,g,h){this.AU(h) && this.filter.add(c,l,g,h);};a.prototype.start=function(c,l){this.filter.start && this.AU(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.AU(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Sj=0;this.filter.reset && this.filter.reset();};a.prototype.tt=function(c,l){this.AU(l) && (this.Sj+=1,this.filter.tt && this.filter.tt(c,l));};a.prototype.Kv=function(c,l,g){this.AU(g) && (this.Sj=Math.max(this.Sj - 1,0),0 === this.Sj && this.stop(c,g),this.filter.Kv && this.filter.Kv(c,g));};return a;})();b.HIa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Jxa=void 0;c=a(0);l=a(928);r=(function(){function g(h,d){this.ek=h;this.filter=d;this.u2a=Math.max(h.max_n || 10,0);this.reset();}g.prototype.reset=function(){this.SV=[];this.offset=0;this.Sv=this.yC=null;this.filter.reset();this.hX=null;};g.prototype.add=function(h,d,f){var n;n=this.Sv;null !== n && f > n && (this.offset+=Math.max(d - n,0),this.Sv=null);for((0,l.D_a)(this.SV,[d - this.offset,f - this.offset,h]);this.SV && this.SV.length > this.u2a;){h=c.__read(this.SV.shift(),3);this.filter.add(h[2],h[0],h[1]);}this.hX=null;};g.prototype.get=function(h,d){var f,m;if(!this.hX){this.hX=this.filter.Dn();try{for(var n=c.__values(this.SV),k=n.next();!k.done;k=n.next()){m=c.__read(k.value,3);this.hX.add(m[2],m[0],m[1]);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (f=n.return) && f.call(n);}finally{if(p)throw p.error;}}}p=this.Sv;return this.hX.get((null === p?h:p) - this.offset,d);};g.prototype.Dn=function(){var h;h=new g(this.ek,this.filter.Dn());h.Sv=this.Sv;h.offset=this.offset;return h;};g.prototype.start=function(h){var d;d=this.Sv;null !== d && h > d && (this.offset+=h - d,this.Sv=null);this.filter.start(h - this.offset);};g.prototype.stop=function(h){this.Sv=null === this.Sv?h:Math.min(this.Sv,h);this.filter.stop(h - this.offset);};g.prototype.flush=function(){this.filter.flush();};g.prototype.toString=function(){return "AggregatingFilter(" + this.u2a + ", " + this.filter.toString() + ")";};return g;})();b.Jxa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.D_a=void 0;c=a(0);b.D_a=function(l,g){var n,k,m,p,q,v,t,y,x,z,A,B,C,D;for(var h,d,f=0;f < l.length;f++){n=c.__read(g,3);k=n[0];m=n[1];p=n[2];q=c.__read(l[f],3);v=q[0];n=q[1];t=q[2];if(!(k >= n)){k=[k,Math.min(n,m),v,n].filter(function(E,G,F){return F.indexOf(E) === G;}).sort(function(E,G){return E - G;});v=k.length - 1;q=Array(v);p+=t;try{for(var w=(h=void 0,c.__values([g,l[f]])),u=w.next();!u.done;u=w.next()){y=c.__read(u.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(g=0;g < v;g++){B=k[g + 1];C=Math.min(B,z) - Math.max(k[g],x);if(0 < C){D=C * A / t;p-=D;q[g]=q[g]?q[g] + D:D;}if(z <= B)break;}}}catch(E){h={error:E};}finally{try{u && !u.done && (d=w.return) && d.call(w);}finally{if(h)throw h.error;}}t=[];for(g=0;g < v;g++){A=q[g];0 < A && t.push([k[g],k[g + 1],A]);}l.splice.apply(l,c.__spreadArray([f,1],c.__read(t),!1));if(n < m)g=[n,m,p];else return;}}g && 0 < g[2] && l.splice(l.length,0,g);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fGa=void 0;r=a(0).__importDefault(a(5));c=a(7);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(g,h){this.config=g;this.s7=h;this.reset();}l.prototype.reset=function(){this.confidence=c.zz.HAVE_NOTHING;this.startTime=this.va=0;};l.prototype.Dn=function(){var g;g=new l(this.config,this.s7);g.confidence=this.confidence;g.va=this.va;g.startTime=this.startTime;return g;};l.prototype.add=function(g,h,d){0 === this.startTime && (this.startTime=h,this.va=0);this.va+=g;g=d - this.startTime;this.confidence=Math.max(this.confidence,c.zz.YH);this.confidence < c.zz.XH && (g > this.config.cnb || this.va > this.config.bnb) && (this.confidence=c.zz.XH);this.confidence < c.zz.CO && (g > this.config.Xnb || this.va > this.config.Wnb) && (this.confidence=c.zz.CO,this.s7());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.fGa=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fba=void 0;r=a(0);c=a(931);l=a(7);new (r.__importDefault(a(5)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var R_I;R_I=2;for(;R_I !== 7;){switch(R_I){case 2:g.prototype.reset=function(){var n$G;n$G=2;for(;n$G !== 1;){switch(n$G){case 2:this.zC=new c.vza();n$G=1;break;case 4:this.zC=new c.vza();n$G=7;break;}}};g.prototype.tt=function(h,d){var I87;I87=2;for(;I87 !== 1;){switch(I87){case 2:d.nj && (this.Bna?this.zC.start(h,d.nj):d.type === l.v.Z && (this.Ix[d.nj]?this.Ix[d.nj].FX+=1:this.Ix[d.nj]={nj:d.nj,FX:1,F3:!1},this.rbb(h)));I87=1;break;}}};g.prototype.Kv=function(h,d){var S8n,f;S8n=2;for(;S8n !== 9;){switch(S8n){case 1:S8n=this.Bna?5:4;break;case 4:f=this.Ix[d.nj];d.type === l.v.Z && f && (--f.FX,0 === f.FX && (f.F3 && this.zC.stop(h,d.nj),f.F3=!1,delete this.Ix[d.nj]),this.rbb(h));S8n=9;break;case 6:S8n=this.Bna?4:2;break;case 2:S8n=d.nj?1:9;break;case 5:this.zC.stop(h,d.nj);S8n=9;break;}}};g.prototype.gA=function(h,d,f,n){var X5z;X5z=2;for(;X5z !== 1;){switch(X5z){case 2:n.nj && (this.Bna?this.zC.add(h,d,f,n.nj):this.VQ === n.nj && this.zC.add(h,d,f,n.nj));X5z=1;break;}}};R_I=3;break;case 3:g.prototype.Im=function(){var C$S;C$S=2;for(;C$S !== 1;){switch(C$S){case 2:return this.zC.get();break;}}};g.prototype.rbb=function(h){var S3w,d,f;S3w=2;for(;S3w !== 5;){switch(S3w){case 2:(d=Object.keys(this.Ix).map(function(n){var r3h;r3h=2;for(;r3h !== 1;){switch(r3h){case 2:return parseInt(n);break;}}}),f=this.Ix[d[0]]);1 === d.length && !1 === f.F3?(this.zC.start(h,f.nj),this.VQ=f.nj):1 < d.length && this.VQ && (d=this.Ix[this.VQ],this.zC.stop(h,this.VQ),d.F3=!1,this.VQ=void 0);S3w=5;break;}}};return g;break;}}function g(h){var g_P;g_P=2;for(;g_P !== 4;){switch(g_P){case 2:var C_t="1SI";C_t+="YbZrNJ";C_t+="Cp9";this.Bna=h;this.Ix={};C_t;g_P=4;break;}}}})();b.fba=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vza=void 0;c=a(0).__importDefault(a(249));r=(function(){var e2z;e2z=2;function l(){var m4n;m4n=2;for(;m4n !== 5;){switch(m4n){case 2:var C_B="1SIYbZr";C_B+="N";C_B+="J";C_B+="C";C_B+="p9";this.L0={};C_B;m4n=5;break;}}}for(;e2z !== 9;){switch(e2z){case 2:l.prototype.add=function(g,h,d,f){var u2n,n;u2n=2;for(;u2n !== 4;){switch(u2n){case 2:n=this.L0;void 0 === n[f] && (n[f]=new c.default());n[f].add(g,h,d);u2n=4;break;}}};l.prototype.start=function(g,h){var G6u,d;G6u=2;for(;G6u !== 4;){switch(G6u){case 2:d=this.L0;void 0 === d[h] && (d[h]=new c.default());d[h].start(g);G6u=4;break;}}};l.prototype.stop=function(g,h){var j3X,d;j3X=2;for(;j3X !== 5;){switch(j3X){case 2:d=this.L0;void 0 !== d[h] && d[h].stop(g);j3X=5;break;}}};l.prototype.get=function(){var n3W,g,h,d,f,n,k;n3W=2;for(;n3W !== 8;){switch(n3W){case 2:(g=this.L0,h=Object.keys(g).map(function(m){var S7K;S7K=2;for(;S7K !== 1;){switch(S7K){case 2:return parseInt(m);break;case 4:return parseInt(m);break;}}}),d=[],f=0);n3W=1;break;case 5:(n=h[f],k=g[n].get());k && d.push({cdnid:n,avtp:k.Da,tm:k.oUa});n3W=3;break;case 3:f++;n3W=1;break;case 1:n3W=f < h.length?5:9;break;case 9:return d;break;}}};return l;break;}}})();b.vza=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WGa=void 0;r=a(0);c=a(7);l=r.__importDefault(a(249));a=(function(){var Z15;Z15=2;for(;Z15 !== 3;){switch(Z15){case 2:g.prototype.reset=function(){var f3N;f3N=2;for(;f3N !== 4;){switch(f3N){case 2:this.hW=[0,0];this.Yk=[0,0];this.qV=[0,0];f3N=4;break;}}};g.prototype.gA=function(h,d,f,n){var G$s,k,m;G$s=2;for(;G$s !== 8;){switch(G$s){case 4:(this.hW[n.type]+=h,this.a5a.add(h,d,f),this.qra[n.type].add(h,d,f));G$s=3;break;case 5:G$s=(null === (k=n.iW) || void 0 === k?0:k.C5())?4:3;break;case 3:G$s=(null === (m=n.iW) || void 0 === m?0:m.Gpa(h,d,f,this.rV))?9:8;break;case 2:this.Yk[n.type]+=h;G$s=5;break;case 9:this.qV[n.type]+=h;G$s=8;break;}}};g.prototype.gma=function(){var L1M;L1M=2;for(;L1M !== 1;){switch(L1M){case 2:return {bytesRequestedPacingVideo:this.hW[c.v.Z],bytesRequestedPacingAudio:this.hW[c.v.ga],estimatedBytesPacedVideo:this.qV[c.v.Z],estimatedBytesPacedAudio:this.qV[c.v.ga],bytestotalVideo:this.Yk[c.v.Z],bytestotalAudio:this.Yk[c.v.ga],pacedAvtpVideo:this.qra[c.v.Z].get().Da,pacedAvtpAudio:this.qra[c.v.ga].get().Da,pacedAvtp:this.a5a.get().Da};break;}}};return g;break;}}function g(h){var O29;O29=2;for(;O29 !== 7;){switch(O29){case 4:var k14="1";k14+="SIYb";k14+="ZrNJC";k14+="p9";k14;this.rV=h.rV;O29=9;break;case 9:this.qra=[new l.default(),new l.default()];this.a5a=new l.default();O29=7;break;case 2:this.hW=[0,0];this.Yk=[0,0];this.qV=[0,0];O29=4;break;}}}})();b.WGa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Zjb=void 0;c=a(0).__importDefault(a(5));l=a(144);g=["",""];r=(function(){function h(d){this.un=d;this.complete=this.append=this.L3=this.apa=this.open=0;}Object.defineProperties(h.prototype,{console:{get:function(){return l.Sp.fv(this.un.mediaType);},enumerable:!1,configurable:!0}});h.prototype.SRb=function(){this.open=c.default.time.Ca();};h.prototype.MRb=function(){this.apa=c.default.time.Ca();this.Bu();};h.prototype.IRb=function(){this.L3=c.default.time.Ca();this.Bu();};h.prototype.xRb=function(){this.append=c.default.time.Ca();this.Bu();};h.prototype.p7=function(){this.complete=c.default.time.Ca();this.Bu();};h.prototype.Bu=function(){var d;d=("RequestLedger ID: ").concat(this.un.Hh());d+=(" load-open: ").concat(this.apa - this.open);0 < this.L3 && (" firstbyte-load: ").concat(this.L3 - this.apa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.L3);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.un.mediaType,this.un.Fd && this.complete - this.open > this.un.Fd.G?((" duration: ").concat(this.un.Fd.G),g[d]+="X"):g[d]+=".",10 < g[d].length && (g[d]=g[d].slice(1)));};return h;})();b.Zjb=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.caa=void 0;c=a(0);a(4);l=a(176);r=(function(g){function h(d,f,n){var k;k=g.call(this,d,f) || this;k.z9=!1;k.HS=!1;k.UU=!1;k.eS=!1;k.wM=void 0;h.p_a(k,d,f,n);return k;}c.__extends(h,g);h.p_a=function(d,f,n,k){l.Lt.oa(d,f,n);d.HD=n.Ih;d.su=n.Ara;d.JMa=n.YE;d.S=k;};Object.defineProperties(h.prototype,{Ad:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ih:{get:function(){return this.HD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ara:{get:function(){return this.su;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{YE:{get:function(){return this.JMa;},enumerable:!1,configurable:!0}});h.prototype.Te=function(){};h.prototype.xwa=function(){};h.prototype.toJSON=function(){return c.__assign(c.__assign({},g.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Ma});};return h;})(l.Lt);b.caa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ADb=void 0;b.ADb=function(a,c){for(var l,g,h=a.length - 1;0 <= h;--h){if((g=a[h],g.uB)){if(g.bitrate <= c)return h;l=h;}}return l;};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OJa=void 0;c=a(0);l=a(13);r=(function(g){function h(d,f,n,k){var m;m=g.call(this) || this;m.S=d;m.track=f;m.En=!1;m.bfa=!1;m.Mm=new l.Af();m.Mm.on(f,"networkfailing",function(){m.emit("networkfailing");});m.Mm.on(f,"error",function(){m.S.warn("requestQueue got error");m.emit("error");});if(n)(m.En=!0,Promise.resolve().then(function(){return m.emit("created");}));else m.Mm.on(f,"created",function(){m.En=!0;m.emit("created");});m.bfa=k;return m;}c.__extends(h,g);Object.defineProperties(h.prototype,{Fka:{get:function(){return this.track.Fka;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fh:{get:function(){return this.track.Fh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dk:{get:function(){return this.track.dk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gka:{get:function(){return this.track.Gka;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});h.prototype.oa=function(){var d,f;this.bfa || (null === (f=(d=this.track).oa) || void 0 === f?void 0:f.call(d),this.bfa=!0);};h.prototype.kL=function(){return this.track.kL();};h.prototype.toString=function(){return this.track.toString();};h.prototype.toJSON=function(){return this.track;};h.prototype.ys=function(){this.Mm.clear();};return h;})(l.EventEmitter);b.OJa=r;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p){return m.filter(function(q){return q.groupId === p.groupId;}).reduce((0,h.d3a)(function(q){return q.uy;}),p).uy;}Object.defineProperties(b,{__esModule:{value:!0}});b.aCa=void 0;l=a(0);g=a(240);h=a(19);d=a(7);f=a(72);n=l.__importDefault(a(5));k=a(412);r=(function(){function m(p,q){this.S=p;this.config=q;this.i1a=0;this.Yg=new f.gu({$n:10,Pm:this,source:"GraphStreamingProcess"});}m.prototype.B4a=function(p,q){var v,t,w,u,y,x,z,A,B,E,G,F,H,K;w=!1;u=[];if(0 < q.length){y=this.f0b(q);x=y.some(function(I){return 1 === (0,k.iRa)(I) && (0,d.Kq)(I.Ff);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var C=l.__values(y),D=C.next();!D.done;D=C.next()){E=D.value;if(E.rB && (!B || E.groupId === B) && "global" !== A[E.mediaType]){G=E.A0a(p,null !== (t=E.wF) && void 0 !== t?t:1);F=(0,g.Y6a)(G.reason);F && (A[E.mediaType]=F,(0,h.$Pa)(z,E));if(G.result){H=c(z,E);if(this.jub(E,x,H)){K=E.F0a();this.ipa(u,E,K.reason);K.ci && (this.i1a=n.default.time.Ca());if(w=K.ci)break;if("globalVideoMemoryLimit" === K.reason || "globalAudioMemoryLimit" === K.reason){this.S.trace("GSP.onRequestOpportunity stopping at memory limit:",K.reason);break;}this.config.jsb && "pipelineTryIssueHeaderRequest" === K.reason && (B=E.groupId);}else if((this.ipa(u,E,"concurrencyCheck"),!F))break;}else this.ipa(u,E,G.reason);}}}catch(I){var O;O={error:I};}finally{try{D && !D.done && (v=C.return) && v.call(C);}finally{if(O)throw O.error;}}}this.Yg.js({streamableCount:q.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.i1a});return w;};m.prototype.f0b=function(p){return this.eVb(p).sort(function(q,v){return q.priority - v.priority;}).map(function(q){return q.O0b;});};m.prototype.eVb=function(p){var q;q=this;return p.map(function(v){return {priority:-(0,k.hRa)(q.config,v,q.S),O0b:v};});};m.prototype.ipa=function(p,q,v){this.Yg.enabled && p.push(this.oIb(v,q));};m.prototype.oIb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Ff,currentPlayerMs:q.sq,pathCompletePlayerMs:q.uy,streamingPlayerMs:q.qr};};m.prototype.jub=function(p,q,v){return this.config.yR && (q || (0,d.Kq)(p.Ff))?this.kub(p,v):this.lub(p,v);};m.prototype.mub=function(p){return p.qr <= p.uy;};m.prototype.lub=function(p,q){return p.qr - (p.sq > q?p.sq:q) <= Math.max(this.config.hqa,Math.min((p.uy - p.sq) * this.config.wva,this.config.ZOb));};m.prototype.kub=function(p,q){var v,t;if(void 0 === this.config.yR)return !0;v=this.config.yR;t=p.sq + v;return p.qr <= t?!0:this.mub(p) && q >= t && p.qr - q < v;};l.__decorate([(0,f.Pb)({methodName:"onRequestOpportunity",Vj:!0})],m.prototype,"B4a",null);return m;})();b.aCa=r;},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Iza=void 0;r=a(0);c=a(403);l=r.__importDefault(a(413));g=r.__importDefault(a(943));h=r.__importDefault(a(147));d=a(4);f=a(414);n=r.__importDefault(a(5));b.Iza=(function(){function m(p,q,v){var t;t=this;this.wp=new l.default(p,v);this.TU=new g.default(p);this.Kd=new h.default(this.TU,this.wp,p);new f.D_(n.default.M2,q,p);c.KC.mvb(p);p.L7 && setInterval(function(){t.wp.save();t.TU.save();},p.L7);}m.fma=function(p,q,v){void 0 === k?(m.config=p,m.qab=v,k=new m(p,q,v)):((0,d.assert)(m.config === p),(0,d.assert)(m.qab === v));return k;};m.reset=function(){m.config=void 0;k=m.qab=void 0;};return m;})();},function(r,b,a){r.exports={Vbc:a(407),kfc:a(247),E6b:a(940),Waa:a(248),D6b:a(408),F6b:a(409),ygb:a(405)};},function(r,b,a){var g,h,d,f;function c(n,k,m){g.call(this,n,k,m);}function l(n,k){h.call(this,new c(n,k,!1));}g=a(941);h=a(942);d=a(101).PWa;f=a(101).cZa;c.prototype=Object.create(g.prototype);c.prototype.Da=function(){return Math.floor(8 * d(this.rd) / this.qd);};c.prototype.Rd=function(){return Math.floor(64 * f(this.rd) / (this.qd * this.qd));};c.prototype.get=function(){return {Da:this.Da(),Rd:this.Rd(),Gac:this.rd.length};};c.prototype.toString=function(){return "bsw(" + this.nJ + "," + this.qd + "," + this.gj + ")";};l.prototype=Object.create(h.prototype);l.prototype.setInterval=function(n){this.SP.setInterval(n);};r.exports=l;},function(r){function b(a,c,l){this.nJ=a;this.gj=Math.floor((a + c - 1) / c);this.qd=c;this.cob=l;this.reset();}b.prototype.shift=function(){this.rd.shift();this.Bh.shift();};b.prototype.update=function(a,c){this.rd[a]+=c;};b.prototype.push=function(a){this.rd.push(0);this.Bh.push(a?a:0);this.ib+=this.qd;};b.prototype.add=function(a,c,l,g){var h,d;if(null === this.ib){h=Math.max(Math.floor((l - c + this.qd - 1) / this.qd),1);for(this.ib=c;this.rd.length < h;){this.push(g);}}for(;this.ib < l;){if((this.push(g),this.cob))for(;1 < this.rd.length && l + g - (this.ib - this.qd * this.rd.length + this.Bh[0]) > this.nJ;){this.shift();}else this.rd.length > this.gj && this.shift();}if(c > this.ib - this.qd)this.update(this.rd.length - 1,a);else if(c == l)(g=this.rd.length - Math.max(Math.ceil((this.ib - l) / this.qd),1),0 <= g && this.update(g,a));else for(g=1;g <= this.rd.length;++g){h=this.ib - g * this.qd;d=h + this.qd;if(!(h > l)){if(d < c)break;this.update(this.rd.length - g,Math.round(a * (Math.min(d,l) - Math.max(h,c)) / (l - c)));}}for(;this.rd.length > this.gj;){this.shift();}};b.prototype.reset=function(){this.rd=[];this.Bh=[];this.ib=null;};b.prototype.setInterval=function(a){this.gj=Math.floor((a + this.qd - 1) / this.qd);};r.exports=b;},function(r){function b(a){this.SP=a;this.Gb=0;this.iJ=null;}b.prototype.add=function(a,c,l){null !== this.iJ && c > this.iJ && (this.Gb+=c - this.iJ,this.iJ=null);this.SP.add(a,c - this.Gb,l - this.Gb,this.Gb);};b.prototype.stop=function(a){null === this.iJ && (this.iJ=a);};b.prototype.get=function(){return this.SP.get();};b.prototype.reset=function(){this.SP.reset();};b.prototype.toString=function(){return this.SP.toString();};r.exports=b;},function(r,b,a){var l,g;function c(h){this.W=h;this.lfa();}l=a(24);g=a(5).default;new g.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var h;h=this.getState();g.storage.set("nh",h);};c.prototype.L_a=function(h,d){this.Ofa && (d > this.eJ && (this.ZD+=d - this.eJ,this.eJ=d),null === this.A0 || h > this.A0) && (h=d - h,this.TI.push([this.ZD - h,h]),this.Hob(),this.A0=d);};c.prototype.Hob=function(){var h;h=this.ZD - this.W.rQb;this.TI=this.TI.filter(function(d){return d[0] > h;});};c.prototype.lfa=function(){var h;h=g.storage.get("nh");this.Jfa(h) || (this.eJ=g.time.Ca(),this.ZD=0,this.Ofa=!1,this.A0=null,this.TI=[]);};c.prototype.Jfa=function(h){if(!(h && l.has(h,"t") && l.has(h,"s") && l.has(h,"i") && l.sb(h.t) && l.sb(h.s) && l.isArray(h.i)))return !1;this.eJ=g.time.Lqa(1E3 * h.t);this.ZD=1E3 * h.s;this.Ofa=!1;this.TI=h.i.map(function(d){return [1E3 * d[0],d[1]];});this.A0=null;return !0;};c.prototype.getState=function(){return this.Ofa?{t:g.time.now() / 1E3 | 0,s:(this.ZD + (g.time.Ca() - this.eJ)) / 1E3 | 0,i:this.TI.map(function(h){return [h[0] / 1E3 | 0,h[1]];})}:{t:g.time.nqa(this.eJ) / 1E3 | 0,s:this.ZD / 1E3 | 0,i:this.TI.map(function(h){return [h[0] / 1E3 | 0,h[1]];})};};r.exports=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(945),b);r.__exportStar(a(251),b);},function(r,b,a){var l,g,h,d,f,n,k;function c(m){if(-1 !== h.DX.indexOf(m))return m;for(var p,q=0;q < h.DX.length;++q){if(-1 !== m.indexOf(h.DX[q])){p=h.DX[q];break;}}f.assert(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;l=a(0);g=a(946);h=a(971);d=a(251);f=a(415);n=a(972);k=a(973);r=(function(){function m(p,q){this.atob=p;this.console=q;this.DJ=1;this.CX=[];this.kR=[];}m.prototype.iIb=function(p,q,v,t,w){var u,z;void 0 === t && (t={w:16,op:9});void 0 === w && (w=1);q=c(q);u=n.uc(d.Mwa,function(A){return d.xWa(v,d.wWa[A]);});f.assert(u);f.assert(16 === t.w && 9 === t.op || 4 === t.w && 3 === t.op);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.CX;y < x.length;y++){z=x[y];if(z.type === p && z.Lu === t && z.md === q && z.frameRate === u && z.trackId === w)return z;}p=this.czb(p,t,q,u,w);this.CX.unshift(p);this.CX.length > this.DJ && this.CX.splice(this.DJ,this.CX.length - this.DJ);return p;};m.prototype.hIb=function(p,q,v){var y;void 0 === v && (v=1);for(var t,w=0,u=this.kR;w < u.length;w++){y=u[w];"silence" === y.type && y.md === p && y.bitrate === q && y.trackId === v && (t=y);}void 0 === t && (t=this.Tyb(p,q,v),this.kR.unshift(t),this.kR.length > this.DJ && this.kR.splice(this.DJ,this.kR.length - this.DJ));return t;};m.prototype.czb=function(p,q,v,t,w){var u;u=g.qcb[p][q][v][t]();return l.__assign(l.__assign({},this.decode(u,w)),{type:p,Lu:q,md:v,frameRate:t,width:u.width,height:u.height,Pc:u.Pc,Qc:u.Qc});};m.prototype.Tyb=function(p,q,v){var t;t=g.mQa.silence[p][q];f.assert(t);t=t();return l.__assign(l.__assign({},this.decode(t,v)),{type:"silence",md:p,bitrate:q,channels:t.channels});};m.prototype.decode=function(p,q){var v,t,w,u;v=p.Nb?this.JTa(p.oa,p.Ee,p.Ge,p.Fe):this.atob(p.oa);t=p.Mb?this.JTa(p.ka,p.Ae,p.Ce,p.Be):this.atob(p.ka);if(1 !== q){w=new DataView(v);u=new DataView(t);p.Yb.forEach(function(y){return w.setUint32(y,q);});p.Xb.forEach(function(y){return u.setUint32(y,q);});}return l.__assign(l.__assign({},p),{oa:v,ka:t,trackId:q});};m.prototype.JTa=function(p,q,v,t){p=void 0 === q?k.i6(p):t?k.i6(q + p):k.i6(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (v || 0),p.byteOffset + p.byteLength);};return m;})();b.JKa=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mQa=b.qcb=void 0;b.qcb={padding:{"16:9":{h264hpl:{23976:function(){return a(149);},24:function(){return a(947);},25:function(){return a(948);},2997:function(){return a(949);},30:function(){return a(950);}},h264:{23976:function(){return a(150);},24:function(){return a(951);},25:function(){return a(952);},2997:function(){return a(953);},30:function(){return a(954);}}},"4:3":{h264hpl:{23976:function(){return a(151);},24:function(){return a(955);},25:function(){return a(956);},2997:function(){return a(957);},30:function(){return a(958);}},h264:{23976:function(){return a(152);},24:function(){return a(959);},25:function(){return a(960);},2997:function(){return a(961);},30:function(){return a(962);}}}}};b.mQa={silence:{heaac:{64:function(){return a(963);},96:function(){return a(964);},128:function(){return a(965);}},ddp:{192:function(){return a(966);},256:function(){return a(967);},384:function(){return a(968);},448:function(){return a(969);},640:function(){return a(970);}}}};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(149);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Nb=!0;b.Ge=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:24E3};b.duration={xa:6E3,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,733];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(149);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Nb=!0;b.Ge=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:25E3};b.duration={xa:7E3,T:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,733];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(149);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Nb=!0;b.Ge=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1001,T:3E4};b.duration={xa:8008,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,731];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(149);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Nb=!0;b.Ge=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:3E4};b.duration={xa:8E3,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,733];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(150);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Nb=!0;b.Ge=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:24E3};b.duration={xa:6E3,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,731];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(150);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Nb=!0;b.Ge=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:25E3};b.duration={xa:7E3,T:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,731];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(150);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Nb=!0;b.Ge=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1001,T:3E4};b.duration={xa:8008,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,729];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(150);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Nb=!0;b.Ge=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:3E4};b.duration={xa:8E3,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=4;b.Qc=3;b.Yb=[176,731];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(151);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Nb=!0;b.Ge=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:24E3};b.duration={xa:6E3,T:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,733];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(151);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Nb=!0;b.Ge=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:25E3};b.duration={xa:7E3,T:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,733];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(151);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Nb=!0;b.Ge=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1001,T:3E4};b.duration={xa:8008,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,731];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(151);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Nb=!0;b.Ge=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:3E4};b.duration={xa:8E3,T:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,733];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(152);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Nb=!0;b.Ge=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:24E3};b.duration={xa:6E3,T:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,731];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(152);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Nb=!0;b.Ge=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:25E3};b.duration={xa:7E3,T:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,731];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(152);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Nb=!0;b.Ge=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1001,T:3E4};b.duration={xa:8008,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,729];b.Xb=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Qc=b.Pc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ba=b.Ce=b.Mb=b.ka=b.Ge=b.Nb=b.oa=b.Be=b.Ae=b.Fe=b.Ee=void 0;r=a(152);b.Ee=r.oa;b.Fe=r.Nb;b.Ae=r.ka;b.Be=r.Mb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Nb=!0;b.Ge=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Mb=!0;b.Ce=1022;b.ba={xa:1E3,T:3E4};b.duration={xa:8E3,T:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Pc=1;b.Qc=1;b.Yb=[176,731];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Nb=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Mb=!0;b.ba={xa:1024,T:24E3};b.duration={xa:7168,T:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Nb=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Mb=!0;b.ba={xa:1024,T:24E3};b.duration={xa:7168,T:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Nb=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Mb=!0;b.ba={xa:1024,T:24E3};b.duration={xa:7168,T:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Nb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Mb=!0;b.ba={xa:1536,T:48E3};b.duration={xa:12288,T:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Nb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Mb=!0;b.ba={xa:1536,T:48E3};b.duration={xa:12288,T:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Nb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Mb=!0;b.ba={xa:1536,T:48E3};b.duration={xa:12288,T:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Nb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Mb=!0;b.ba={xa:1536,T:48E3};b.duration={xa:12288,T:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ba=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Nb=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Mb=!0;b.ba={xa:1536,T:48E3};b.duration={xa:12288,T:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.yrb=b.wrb=b.zrb=b.vrb=b.xrb=b.Arb=b.R4b=b.L4b=b.DX=b.T4b=void 0;c=a(251);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.Mwa;}});b.T4b=["padding"];b.DX=["h264hpl","h264"];b.L4b=["16:9","4:3"];b.R4b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.Arb=["silence"];b.xrb=["heaac","ddp"];b.vrb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.zrb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.wrb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.yrb={heaac:{xa:1024,T:24E3},ddp:{xa:1536,T:48E3}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uc=void 0;b.uc=function(a,c){for(var l=0;l < a.length;l++){if(c(a[l],l,a))return a[l];}};},function(r,b,a){var d;function c(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function l(f,n){d.assert(0 < n && 8 > n);return c((n - 1 << 8) + f);}function g(f){return c(1792 + f[0]) + c((f[1] << 4) + (f[2] >>> 4)) + c((f[2] << 8 & 3840) + f[3]);}function h(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.i6=b.iOb=void 0;d=a(415);b.iOb=function(f,n){var p,q,v,t,w,u;function k(y,x){var z;z=p;y=q - x - y;d.assert(1 <= y);d.assert(16384 > y - 1);d.assert(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;v=q;t=0;}function m(y,x,z){return f.subarray(y,y + z).every(function(A,B){return A === f[x + B];});}p="";q=n || 0;v=q;t=0;for(n=0;q < f.byteLength;){w=v;u=t;if(0 !== t && 513 > t && f[q] === f[v + t])(++t,++q);else if(513 === t)(k(w,u),n=0);else {for(--v;0 <= v && v >= q - t - 16384 && (f[w] !== f[v] || 0 < t && !m(q - t,v,t + 1));){--v;}if(0 <= v && v >= q - t - 16384)(++t,++q);else if(w === q || 1 === u){q-=u;for(w=1;5 > w && f[q + w] === f[q];){++w;}p+=l(f[q],w);q+=w;n=1 < w?0:n + 1;4 === n && (p=p.slice(0,p.length - 8),p+=g(f.subarray(q - 4,q)));v=q;t=0;}else (k(w,u),n=0);}}1 === t?p+=l(f[v],1):1 < t && k(v,t);return p;};b.i6=function(f,n){var t;function k(u,y){var x;if(v + y > p.byteLength){x=new Uint8Array(2 * p.byteLength);x.set(p,0);p=x;}if(u + y <= v)p.set(p.subarray(u,u + y),v);else for(x=0;x < y;++x){p[v + x]=p[u + x];}v+=y;}function m(){var u;u=f.slice(q,q+=2);return (h(u.charCodeAt(0)) << 6) + h(u.charCodeAt(1));}for(var p=n || new Uint8Array(4096),q=0,v=n?n.byteLength:0;q < f.length;){t=m();if(t & 2048)(n=m(),k(v - (((t & 2047) << 3) + (n >>> 9) + 1),(n & 511) + 2));else if(1792 === (t & 3840))(p[v++]=t & 255,n=m(),t=m(),p[v++]=n >>> 4,p[v++]=(n << 4 & 240) + (t >>> 8),p[v++]=t & 255);else {n=t & 255;t=(t >>> 8) + 1;for(var w=0;w < t;++w){p[v++]=n;}}}return p.subarray(0,v);};},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.NJa=void 0;c=a(0);l=a(4);g=c.__importDefault(a(5));h=a(72);d=a(10);r=(function(){var t_p;t_p=2;for(;t_p !== 13;){switch(t_p){case 7:var Y_K="E";Y_K+="R";Y_K+="a";var h$G="checkRequestOpport";h$G+="unit";h$G+="yRunner";var a9m="I";a9m+="p";var E7y="re";E7y+="mo";E7y+="veRequest";c.__decorate([(0,h.Pb)({methodName:E7y,Vj:!0})],f.prototype,a9m,null);c.__decorate([(0,h.Pb)({methodName:h$G,Vj:!0})],f.prototype,Y_K,null);return f;break;case 2:Object.defineProperties(f.prototype,{ZQb:{get:function(){var J6B;J6B=2;for(;J6B !== 1;){switch(J6B){case 2:return this.ND;break;}}},enumerable:!1,configurable:!0}});f.prototype.lj=function(){var c_Z,k,n;c_Z=2;for(;c_Z !== 9;){switch(c_Z){case 5:this.$ta=!0;k=g.default.time.Ca();return Promise.resolve().then(function(){var J$h;J$h=2;for(;J$h !== 5;){switch(J$h){case 2:n.$ta=!1;n.ERa(k);J$h=5;break;}}});break;case 7:n=this;c_Z=7;break;case 2:n=this;c_Z=1;break;case 1:c_Z=!this.$ta?5:9;break;}}};f.prototype.Ju=function(n){var R85,k,m;R85=2;for(;R85 !== 3;){switch(R85){case 4:var t8K="More than maxAllowe";t8K+="dOutstandingReques";t8K+="ts are outstanding";(0,l.assert)(this.ND <= this.config.k6,t8K);R85=3;break;case 2:this.vp.js({mediaType:n.mediaType,contentStartPts:null === (k=n.La) || void 0 === k?void 0:k.G,contentEndPts:null === (m=n.Wa) || void 0 === m?void 0:m.G});this.ND++;R85=4;break;}}};t_p=4;break;case 4:var g$2="J";g$2+="u";var F3x="addReque";F3x+="s";F3x+="t";var n4j="l";n4j+="j";var J8S="checkRequestOpp";J8S+="ort";J8S+="unity";f.prototype.Ip=function(n){var X0F,k,m;X0F=2;for(;X0F !== 9;){switch(X0F){case 2:var v4Y="removeRe";v4Y+="q";v4Y+="uest";var f46="Received remove request when t";f46+="here are n";f46+="o req";f46+="uests outst";f46+="anding";this.vp.js({mediaType:n.mediaType,contentStartPts:null === (k=n.La) || void 0 === k?void 0:k.G,contentEndPts:null === (m=n.Wa) || void 0 === m?void 0:m.G});this.ND--;(0,l.assert)(0 <= this.ND,f46);this.lj(v4Y);X0F=9;break;}}};f.prototype.ERa=function(n){var G1z,k,m,p;G1z=2;for(;G1z !== 9;){switch(G1z){case 2:(k=this.config.k6,m=g.default.time.Ca() - n,p=0);G1z=1;break;case 1:this.O7a.push(m);G1z=5;break;case 3:var I29="requestOpportunityR";I29+="unner";I29+="Complete";this.vp.pPa(I29,{requestsIssued:p,scheduledMs:n,timeSinceScheduled:m},!0);G1z=9;break;case 5:G1z=this.ND < k && this.H5()?4:3;break;case 6:this.O7a.push(m);G1z=4;break;case 4:p++;G1z=5;break;}}};c.__decorate([(0,h.Pb)({methodName:J8S,Vj:!0,iq:!0})],f.prototype,n4j,null);c.__decorate([(0,h.Pb)({methodName:F3x,Vj:!0})],f.prototype,g$2,null);t_p=7;break;}}function f(n,k){var F2P,m;F2P=2;for(;F2P !== 14;){switch(F2P){case 8:var N_y="Re";N_y+="questP";N_y+="acer";var u$g="1";u$g+="SIYbZrNJ";u$g+="Cp9";u$g;this.vp=new h.gu({Pm:this,source:N_y,tPa:function(){var l8M;l8M=2;for(;l8M !== 1;){switch(l8M){case 2:return {numOutstanding:m.ND};break;}}},$n:10});this.O7a=new d.oD();F2P=14;break;case 4:var S_T="me";S_T+="dia|";S_T+="a";S_T+="s";S_T+="ejs";var l_p="ASEJS_RE";l_p+="QUEST_PACE";l_p+="R";this.ND=0;this.console=new g.default.Console(l_p,S_T);this.$ta=!1;F2P=8;break;case 2:m=this;this.H5=n;this.config=k;F2P=4;break;}}}})();b.NJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sBa=void 0;c=a(28);r=(function(){function l(g){this.Kd=g;}Object.defineProperties(l.prototype,{nd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.pj=function(g){var h;if(g.rj === c.pc.mj && this.Kd){g={};h=this.Kd.get();h && h.avtp && h.avtp.Da && (g.avtp=h.avtp.Da,g.dltm=h.avtp.oUa);h && h.initialThroughput && h.initialThroughput.Da && (g.initial_avtp=h.initialThroughput.Da);h && h.cdnavtp && (g.cdnavtp=h.cdnavtp,g.activecdnavtp=h.activecdnavtp);if(h=this.Kd.gma())(h.bytesRequestedPacingVideo && (g.bytesRequestedPacingVideo=h.bytesRequestedPacingVideo,g.estimatedBytesPacedVideo=h.estimatedBytesPacedVideo,g.bytestotalVideo=h.bytestotalVideo,g.pacedAvtpVideo=h.pacedAvtpVideo),h.bytesRequestedPacingAudio && (g.bytesRequestedPacingAudio=h.bytesRequestedPacingAudio,g.estimatedBytesPacedAudio=h.estimatedBytesPacedAudio,g.bytestotalAudio=h.bytestotalAudio,g.pacedAvtpAudio=h.pacedAvtpAudio),h.pacedAvtp && (g.pacedAvtp=h.pacedAvtp));this.Kd.flush();if(h=this.Kd.cGb())for(var d in h){h.hasOwnProperty(d) && (g["ne" + d]=Number(h[d]).toFixed(6));}return g;}};return l;})();b.sBa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IKa=void 0;c=a(13);l=a(7);g=a(28);r=(function(){function h(d){this.EMa=!1;this.MA=new c.Af();this.MA.addListener(d.events,"streamSelection",this.ira.bind(this));}h.prototype.ira=function(d){this.EMa || (d.mediaType === l.v.ga && void 0 === this.Mna?this.Mna=d:d.mediaType === l.v.Z && void 0 === this.Ona && (this.Ona=d));};h.prototype.Ra=function(){this.Ona=this.Mna=void 0;this.MA.clear();this.EMa=!0;};Object.defineProperties(h.prototype,{nd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});h.prototype.pj=function(d){var f;if(d.rj === g.pc.Fj)return (d=null !== (f=this.Ona) && void 0 !== f?f:this.Mna,f={histdiscbw:null === d || void 0 === d?void 0:d.result.Ps,histage:null === d || void 0 === d?void 0:d.result.cB},d=null === d || void 0 === d?void 0:d.streamList.map(function(n){return void 0 !== n.t3?{vmaf:n.t3,streamIndex:n.zt,streamId:n.Wb}:void 0;}).filter(function(n){return void 0 !== n;}),0 < (null === d || void 0 === d?void 0:d.length) && (f.vmafEstimates=d),this.Ra(),f);this.Ra();};return h;})();b.IKa=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.aLa=void 0;r=a(0);c=a(13);l=a(9);g=r.__importDefault(a(5));h=a(28);a=(function(){function d(f){this.Bd=f;this.U_=[];this.reset();}Object.defineProperties(d.prototype,{nd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wq:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.I;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f,n;f=this;null === (n=this.NI) || void 0 === n?void 0:n.clear();this.NI=new c.Af();this.NI.on(this.Bd,"clockChanged",function(){f.reset();f.PS("initial");});this.NI.on(this.Bd,"stopping",function(){f.PS("stopping");});this.NI.on(this.Bd.ta,"clockAdjusted",function(){f.PS("clockAdjusted");});this.NI.on(this.Bd.ta,"stopStart",function(){f.PS("stopStart");});this.NI.on(this.Bd.ta,"speedChanged",function(){f.PS("speedChanged");});};d.prototype.PS=function(f){this.U_.push({reason:f,audit:this.Bd.bv(),time:g.default.time.Ca()});5 < this.U_.length && this.U_.shift();};d.prototype.pj=function(f){var n;n=f.rj;f=f.DB;if(n === h.pc.Fj || n === h.pc.Zl || n === h.pc.mj || void 0 === n && void 0 === f)return this.U_;};return d;})();b.aLa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QJa=void 0;c=a(28);r=(function(){function l(g,h){this.Kd=g;this.P7a=h;}Object.defineProperties(l.prototype,{nd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.pj=function(g){var h;h=g.rj;g=g.DB;if(h === c.pc.mj || h === c.pc.Zl || void 0 === h && void 0 === g)return (h={numOutstandingRequests:this.P7a.ZQb,requestOpportunityDelayStats:this.P7a.O7a},(g=this.Kd.mpb) && g.length && (h.activeRequests=JSON.stringify(g)),h);};return l;})();b.QJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vBa=void 0;c=a(28);r=(function(){function l(g){this.p3=g;this.Wq="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{nd:{get:function(){return this.Wq;},enumerable:!1,configurable:!0}});l.prototype.pj=function(g){var h;h=g.rj;g=g.DB;if(h === c.pc.Fj || h === c.pc.Zl || h === c.pc.mj || void 0 === h && void 0 === g)return (h=this.p3.bUb.map(function(d){var f;f=d.fa;return {id:f.id,weight:f.weight,relativeWeight:d.VV};}),{prefetcher:this.p3.Cv.getStats(),playgraphs:h,viewables:this.p3.X4b,players:this.p3.$Tb.length});};return l;})();b.vBa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZBa=void 0;c=a(4);l=a(416);r=(function(){function g(){this.global=new l.eP();this.uG={};}g.prototype.add=function(h,d){(0,c.assert)(void 0 === this.uG[h],"Cannot add new memory object for playgraph");this.uG[h]=d;this.global.add(d.qq);this.global.add(d.aS);};return g;})();b.ZBa=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.LFa=void 0;c=a(0);l=a(9);g=a(412);h=a(7);d=a(72);r=(function(){function f(n,k,m){this.Pla=n;this.lGb=k;this.S=m;this.Yg=new d.gu({Pm:this,console:m,source:"MemoryDeadlockProtector",$n:5});}f.prototype.tEb=function(n){var k,m,p,q;p=n.config;q=p.Uq + (null !== (m=null === (k=p.bN) || void 0 === k?void 0:k.G) && void 0 !== m?m:0);k=this.mJb(q,n);l.I && this.S.debug(("MDP: has prebuf: ").concat(k));return k?{Z2:!0}:(m=this.otb(p),k=m.ESb,m=m.w4b,k && m?(l.I && this.S.debug(("MDP: utilizing ").concat(Math.round(100 * m),"%")),m >= p.pPb?this.X7a(n,k):{Z2:!0}):{Z2:!1});};f.prototype.X7a=function(n,k){var m,p,q,v,t,u,z,A;this.Yg.js({o:k});v=n.Y;n=n.Ta;t=v.Ta;v=v.Nq;for(var w=0;w < t.length;w++){if(!t[w].ij){v=t[w];t=t.slice(0,w + 1);break;}}w=!1;u=[{mediaType:h.v.ga,jx:0},{mediaType:h.v.Z,jx:0},{mediaType:h.v.Za,jx:0}];if(null === v || void 0 === v || !v.ij){n=n.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,g.Qha)(C) - (0,g.Qha)(D);});try{for(var y=c.__values(n),x=y.next();!x.done;x=y.next()){z=x.value;A=z.EK();u[h.v.ga].jx+=null !== (p=A.TQ) && void 0 !== p?p:0;u[h.v.Z].jx+=null !== (q=A.AX) && void 0 !== q?q:0;l.I && this.S.debug(("Resetting discontiguous branch ").concat(z.u.id),A);z.reset();if(w=u.every(function(C){return C.jx >= k[C.mediaType].jx;}))break;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (m=y.return) && m.call(y);}finally{if(B)throw B.error;}}}return {Z2:w,icc:u};};f.prototype.otb=function(n){var k,m,p,q,v;k=[h.v.ga,h.v.Z,h.v.Za];if(!n.qPb)return {};m=this.lGb();p=this.Pla().total;q=n.oPb;v=0;n=k.map(function(t){var w;w=m[t] - p[t] * q;v=Math.max(0 < p[t]?m[t] / p[t]:0,v);return {jx:Math.max(0,w),mediaType:t};});return {w4b:v,ESb:n};};f.prototype.mJb=function(n,k){var m,p;m=!1;k=k.Eq?k.Y:void 0;if(null === k || void 0 === k?0:k.NKb){m=k.Ay.Ls().map(function(q){return q.mediaType;});p=k.DFb();m=m.every(function(q){var v,t;if(q === h.v.ga)q=null !== (v=p.h1) && void 0 !== v?v:0;else if(q === h.v.Z)q=null !== (t=p.r$) && void 0 !== t?t:0;else throw Error(("Unsupported media type:").concat(q));return q >= n;});}return m;};c.__decorate([(0,d.Pb)({methodName:"resetDiscontiguousBranches",return:!0,Vj:!0})],f.prototype,"X7a",null);return f;})();b.LFa=r;},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fya=void 0;r=a(0);c=a(13);l=a(10);g=r.__importDefault(a(53));h=a(19);d=r.__importDefault(a(983));f=a(28);n=a(254);a=(function(){function k(m){var p,q;p=this;this.fa=m;this.uq="aseReport";this.zR=l.N.Iq;this.events=new c.EventEmitter();this.yia=n.t_.Uza;this.rn=!1;this.yOa=0;if(0 === Math.floor(1E6 * Math.random()) % m.config.iR || m.config.ecc){this.zR=l.N.Na(m.config.Zga);this.YOb=m.config.Vqb;this.fa.B1=!0;q=[];q[g.default.cn.Z]=new d.default(m.config,g.default.cn.Z);q[g.default.cn.ga]=new d.default(m.config,g.default.cn.ga);this.Mfa=q;this.fa.events.on("openComplete",function(){return p.open();});}}k.prototype.open=function(){this.fa.B1 && !this.rn && (this.rn=!0,this.fa.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.fa.events.on("requestIssued",this.ira.bind(this)));};k.prototype.ira=function(m){m.result && m.streamList && (this.Mfa[m.mediaType].add(m.result,m.streamList),++this.yOa >= this.YOb && this.events.emit("collectionRequested"));};k.prototype.lIb=function(){var m;m=(0,h.flatten)(this.Mfa.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.Mfa.forEach(function(p){return p.reset(!0);});this.yOa=0;return m;};k.prototype.sf=function(m){var p,q;p=m.rj;q=m.Xub;m=m.V_a || q || p === f.pc.mj;return this.fa.B1 && this.rn && m && (m=this.lIb()) && m.length?{q9:!0,event:{type:"asereport",strmsel:m}}:{q9:!1};};return k;})();b.fya=a;},function(r,b,a){var g;function c(h,d){this.Mnb=h.jM && h.jM.enabled;this.T0=void 0;this.Ymb=d;this.Hfa=[];this.Xfa=[];this.wfa=[];h=h.jOa || [];d=h.map(function(f){return f.xbc;});d.unshift(0);this.Tnb=h;this.Unb=d;this.xfa=[];this.eh=[];}function l(h,d){var v,t,w,u;for(var f=[],n=[],k=0;k < h.length;k++){for(var m=h[k],p=[],q=0;q < m.length;q++){v=m[q] - (n[q] || 0);t=d && d[q];w=p;u=w.push;1 <= t && (t=Math.pow(10,t || 0),v=Math.round(v * t) / t);u.call(w,v);}f.push(p);n=m;}return f;}g=a(33).nL;c.prototype.reset=function(h){this.T0=void 0;this.Hfa=[];this.Xfa=[];this.wfa=[];this.xfa=[];h && (this.eh=[]);};c.prototype.add=function(h,d){var f,n,k,m;f=d.filter(function(p,q){return g(p) || q === h.Mh;});n=f.map(function(p){return p.bitrate;});d=d[h.Mh];f=f.indexOf(d);k=this.T0;if(k && (k.length !== n.length || k.some(function(p,q){return p !== n[q];}))){m=this.lXa();m && (this.eh.push(m),this.reset(!1));}void 0 === k && (this.T0=n);this.Hfa.push([f,h.wr,h.Uk,h.TQa,h.Ksb,h.GV,h.gRb,h.ue,h.Sj,h.ep,h.yC - h.wr,h.ZTb]);void 0 !== h.sy && this.wfa.push([h.wr,h.sy.Ry,h.sy.wx,h.sy.Fy]);f=d && d.Ma;this.Mnb && void 0 !== f && (k=f.Lx(h.ep),-1 != k && (f=f.get(k),k=f.duration,d=f.zb || d.zb,void 0 !== d && this.Xfa.push({gb:f.gb,duration:k,zb:d})));(d=h.vUb) && d.length && (d=d.slice(0),d.unshift(h.wr),this.xfa.push(d));};c.prototype.lXa=function(){var h,d;h=l(this.Hfa);if(0 !== h.length){h={dltype:this.Ymb,bitrates:this.T0,seltrace:h,vmaftrace:this.Xfa,paceratetrace:l(this.wfa)};d=l(this.xfa,this.Unb);d && d.length && (h.predtrace={config:this.Tnb,data:d});return h;}};c.prototype.get=function(){var h,d;h=this.lXa();d=this.eh;h && d.push(h);if(0 !== d.length)return d;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PJa=void 0;c=a(181);r=(function(){function l(g,h){this.C8=h;this.fW=[];this.fW.push(g);}l.prototype.Kp=function(g,h){return c.sO.p5({K:g,dW:h},this.fW);};l.prototype.Jv=function(g){return this.C8(g);};l.prototype.kXb=function(g){this.fW.pop();this.fW.push(g);};l.prototype.bPa=function(g){this.fW.unshift(g);};return l;})();b.PJa=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.lEa=void 0;c=a(13);l=a(10);g=a(7);h=a(254);d=a(28);r=(function(){function f(n){this.fa=n;this.uq="liveReport";this.zR=l.N.Iq;this.events=new c.EventEmitter();this.yia=h.t_.HKa;this.XP=!1;this.trace=[];this.Kab=1;0 < n.config.y1a && 0 < n.config.Yoa && (this.zR=l.N.Na(n.config.Yoa),this.Kab=Math.max(Math.floor(n.config.y1a / n.config.Yoa),1),this.XP=!0);}f.prototype.Vub=function(){var n,k,m,p;k=this.fa.Y;if(k.ae){m=k.Ay;p=m.pa;if(p.ha){if(m=null === (n=m.Ze(g.v.Z)) || void 0 === n?void 0:n.Xn)(n=m.Qn(),p=p.qC,k=n.lha + k.Ed.G,n=this.fa.iF(),this.trace.push([p,k,n.totalabuflmsecs,n.totalvbuflmsecs]));}else this.XP=!1;}};f.prototype.sf=function(n){var k;k=n.V_a;n=n.rj;this.XP && (k || n === d.pc.Fj) && this.Vub();return this.trace.length === this.Kab || 0 < this.trace.length && n === d.pc.mj?(k=this.trace,this.trace=[],{q9:!0,event:{type:"livereport",samplinginterval:this.zR.G,trace:k}}):{q9:!1};};return f;})();b.lEa=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.gJa=void 0;c=a(0);l=a(13);g=a(7);h=a(10);d=a(181);f=a(19);n=a(4);k=a(987);m=a(9);p=a(143);q=a(988);v=c.__importDefault(a(5));t=a(381);w=a(989);u=a(997);y=a(998);x=a(182);z=a(1E3);A=a(1002);r=(function(){function B(C,D,E,G,F){void 0 === G && (G=new u.rAa());void 0 === F && (F=new w.qAa());this.oVa=C;this.config=D;this.g7a=G;this.Nl=[];this.c6a=[];this.$v=[];this.Nf={K0a:0,L0a:0,H0a:0,Hha:0,I0a:0,J0a:0,Iha:0};this.events=new l.EventEmitter();this.S=(0,h.gi)(v.default,E,"PREFETCH");this.jPa(new y.Vza(D));this.jPa(new A.qKa(D));this.a9a({fB:D.yUb});this.Dua(F);this.KKb();}Object.defineProperties(B.prototype,{zUb:{get:function(){return this.Nl.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});B.prototype.v9a=function(C){m.I && (0,n.assert)(C,"Reconciliation strategy is undefined");this.g7a=C;return this;};B.prototype.jPa=function(C){this.c6a.unshift(C);};B.prototype.C9a=function(C){m.I && this.S.debug("Wish list changed",{Xdc:C.length});this.$v=C;this.zsa();};B.prototype.reset=function(){var C,G,F,H,K,O;if(this.config.HUb)try{for(var D=c.__values(this.Nl),E=D.next();!E.done;E=D.next()){G=E.value;F=G.fa;H=G.L5;K=G.context;if(F){F.Gf();H.w8(function(P){return "segmentNormalized" !== P.uq;});O=(0,x.tma)(K.vd,F.fa);F.nC(O);}}}catch(P){var I;I={error:P};}finally{try{E && !E.done && (C=D.return) && C.call(D);}finally{if(I)throw I.error;}}else this.C9a([]);};B.prototype.a9a=function(C){m.I && this.S.debug("Budget changed",{tRb:this.wR,sQb:C});this.wR=C;this.zsa();};B.prototype.uub=function(C,D){var E,G,F,H;m.I && this.S.debug("Looking for playgraph to claim");if(C=this.g7a.ZVa(this.Nl,{fa:C,li:D}))if((D=this.$v.indexOf(C.context.vd),m.I && this.S.debug(("Claiming item: ").concat((0,x.Jm)(C.context.vd.key)),{rl:v.default.time.Ca() - C.U9,buffer:null === (E=C.fa) || void 0 === E?void 0:E.On(h.N.Ia)}),this.cK(C.context,{zoa:!!C.fa}),C.fa)){E=C.fa;F=C.GM;H=E.$e;z.eJa.mXb(E,H,C.L5,this.S);F.yYb(null !== (G=E.$K(H)) && void 0 !== G?G:h.N.Ia,D);E.sbb({fB:this.config.FU || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.vd,videoBytesBuffered:C.fa.iF().AX,audioBytesBuffered:C.fa.iF().TQ});}this.config.uqb || this.reset();return null === C || void 0 === C?void 0:C.fa;};B.prototype.tub=function(){};B.prototype.getStats=function(){var C;C=v.default.time.Ca();return {wishListLength:this.$v.length,prefetchList:this.zUb.length,contents:this.Nl.map(function(D){var E,G,F,H,K;return {id:(0,x.Jm)(D.context.vd.key),buffer:null === (E=D.fa) || void 0 === E?void 0:E.On(h.N.Ia),pId:null === (G=D.fa) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.G0a.fB},weight:D.context.X7,age:C - D.U9,timeOpened:C - (null !== (F=D.e2b) && void 0 !== F?F:0),state:g.yc[null !== (K=null === (H=D.fa) || void 0 === H?void 0:H.Ff.value) && void 0 !== K?K:g.yc.zo]};}),aggregated:{itemsRequested:this.Nf.K0a,itemsStarted:this.Nf.L0a,itemsClaimed:this.Nf.H0a,bytesClaimed:this.Nf.Hha,itemsCompleted:this.Nf.I0a,itemsDiscarded:this.Nf.J0a,bytesDiscarded:this.Nf.Iha}};};B.prototype.cK=function(C,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,F,H,K,O,I;return c.__generator(this,function(P){switch(P.label){case 0:G=c.__assign({zoa:!1,Q0a:!1},D);F=G.zoa;H=G.Q0a;K=(0,f.uc)(this.Nl,function(N){return N.context === C;});if(!K)return [3,3];this.Nl.splice(this.Nl.indexOf(K),1);H || (O=this.$v.length,this.$v=this.$v.filter(function(N){return N !== C.vd;}),m.I && this.S.info("Dropping items from wishlist",O - this.$v.length),this.$v.length >= O && m.I && this.S.warn("Unable to filter out wishlist item",this.$v.map(function(N){return N.key;}),C.vd.key));m.I && this.S.debug("Dropping playgraph",{rl:v.default.time.Ca() - K.U9,buffer:null === (E=K.fa) || void 0 === E?void 0:E.On(h.N.Ia),K:(0,x.Jm)(C.vd.key),Bec:!F,Ubc:!H});K.MA.clear();if(F)return [3,2];I=this.Hy(K);return K.fa?[4,I]:[3,2];case 1:(P.cb(),P.label=2);case 2:(this.zsa(),P.label=3);case 3:return [2];}});});};B.prototype.Dua=function(C){(0,n.assert)(C,"Playgraph resolver is undefined");this.csa=C;return this;};B.prototype.KKb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Nf.I0a++;});this.events.on("prefetchStarted",function(){return C.Nf.L0a++;});this.events.on("itemQueued",function(){return C.Nf.K0a++;});this.events.on("itemClaimed",function(D){var E,G;C.Nf.H0a++;C.Nf.Hha+=(null !== (E=D.N4b) && void 0 !== E?E:0) + (null !== (G=D.rrb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var E,G;C.Nf.J0a++;C.Nf.Iha+=(null !== (E=D.N4b) && void 0 !== E?E:0) + (null !== (G=D.rrb) && void 0 !== G?G:0);});};B.prototype.zsa=function(){var C,D,E,G,F,H;C=this;D=d.sO.p5({o5b:this.$v,gZa:this.wR},this.c6a.map(function(K){return K.eRa.bind(K);})).Nl;E=(0,f.ex)(D,this.Nl,function(K,O){return (0,x.isEqual)(K.vd.key,O.context.vd.key);});G=(0,f.ex)(this.Nl,D,function(K,O){return (0,x.isEqual)(K.context.vd.key,O.vd.key);});F=(0,f.ex)(this.Nl,G);m.I && this.S.debug(("Re-evaluated prefetch items. new:").concat(E.length,", evict: ").concat(G.length,", update: ").concat(E.length));G=G.map(function(K){var O;O=K.context.vd.key;m.I && C.S.debug("Releasing playgraph",(0,x.Jm)(O));return C.Hy(K).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:K.context.vd});});});H=F.map(function(K){return c.__awaiter(C,void 0,void 0,function(){var O,I;return c.__generator(this,function(P){switch(P.label){case 0:(O=(0,f.uc)(D,function(N){return (0,x.isEqual)(N.vd.key,K.context.vd.key);}),(0,n.assert)(O,"Couldn't find the requested item context"),K.context=O,P.label=1);case 1:return (P.Wm.push([1,3,,4]),[4,K.W7]);case 2:return (I=P.cb(),[3,4]);case 3:return (P.cb(),[2]);case 4:return ((0,f.uc)(this.Nl,function(N){return N === K;}) && (this.WPa(K.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:K.context.vd})),[2]);}});});});E=E.map(function(K){var O;O=C.cyb(K);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:K.vd});return O;});this.Nl=c.__spreadArray(c.__spreadArray([],c.__read(F),!1),c.__read(E),!1);F=E.map(function(K){return K.W7.catch(function(){});});F=G.concat(H).concat(F);Promise.all(F);};B.prototype.Hy=function(C){var D;D=this;return C.W7.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(F){switch(F.label){case 0:return (m.I && this.S.debug("Removing prefetch playgraph",{size:E.On(h.N.Ia)}),C.MA.clear(),[4,this.oVa()]);case 1:return (G=F.cb(),G.Hy(E),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.vd,videoBytesBuffered:E.iF().AX,audioBytesBuffered:E.iF().TQ}),[2]);}});});},function(){});};B.prototype.G2=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,E,G,F,H,K,O;O=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=C.context,E=(0,x.Jm)(D.vd.key),m.I && this.S.debug("Creating playgraph",E),[4,this.csa.g2a(D)]);case 1:return (G=I.cb(),[4,D.vd.dg.Nn(E).Rp]);case 2:return (F=I.cb(),F.X.xm?(this.cK(D,{zoa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(E) + " is not supported with prefetching")]):[4,this.oVa()]);case 3:return (H=I.cb(),K=H.bR(G,D.X7,D.li,D.vd.dg,!1),C.MA.addListener(K.events,"error",function(P){m.I && O.S.debug("Prefetch playgraph resulted in error",P.Sbc);O.cK(D);}),[2,K]);}});});};B.prototype.mSb=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var E,G,F,H;return c.__generator(this,function(K){switch(K.label){case 0:return (E=C.context,G=(0,x.Jm)(E.vd.key),F=E.vd.dg.Nn(G),[4,F.Rp]);case 1:return (H=K.cb(),this.WPa(E,D),this.Nqb(E,D,!!H.wq),D.open(),D.Py({VM:function(O,I){var P;P=O.recommendedMedia;return P?(0,f.ks)(I,function(N){return N.new_track_id === P.Vo;}):(0,f.ks)(I,function(N){return N.track_id === O.defaultTrackOrderList[0].audioTrackId;});}},{VM:function(O,I){var P;P=O.recommendedMedia;return P?(0,f.ks)(I,function(N){return N.new_track_id === P.ON;}):(0,f.ks)(I,function(N){return N.track_id === O.defaultTrackOrderList[0].videoTrackId;});}}),D.nC((0,x.tma)(E.vd,D.fa)),this.NWb(C,F),F.Bs && (m.I && this.S.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.cK(C.context)),[2]);}});});};B.prototype.NWb=function(C,D){var G;function E(F){m.I && G.S.debug(("Viewable ").concat(F?"superseded":"expired"),(0,x.Jm)(C.context.vd.key));C.odc=!0;G.cK(C.context,{Q0a:!F});}G=this;D.events && (C.MA.addListener(D.events,"viewableEvicted",function(){E(!0);}),C.MA.addListener(D.events,"viewableExpired",function(){E(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.vd});};B.prototype.WPa=function(C,D){D.Mbb(C.X7);D.sbb(C.G0a);};B.prototype.Nqb=function(C,D,E){var G;G=C.J0b;C=G.audio;G=G.video;E && G.push(new t.$O(this.S,D.config));D.Iua(new p.fu(C,!0),new p.fu(G,!0));};B.prototype.cyb=function(C){var D,E,G;D=this;E=new k.fJa();G={context:C,U9:v.default.time.Ca(),MA:new l.Af(),GM:E};G.W7=this.G2(G).then(function(F){return c.__awaiter(D,void 0,void 0,function(){var H,K;K=this;return c.__generator(this,function(O){switch(O.label){case 0:for(H=F;H.Xa;){H=H.Xa;}F.bf(E);E.lrb(F);G.L5=new q.DBa(H.events,{C_b:function(I){var P;P=I.uq;switch(P){case "buffering":return !1;case "bufferingStarted":G.L5.w8(function(N){return "bufferingComplete" === N.uq || "updateStreamingPts" === N.uq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.L5.w8(function(N){return N.uq === P;});default:return !0;}}});H.events.on("bufferingComplete",function(){K.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.vd});});return [4,this.mSb(G,F)];case 1:return (O.cb(),G.e2b=v.default.time.Ca(),G.fa=F,[2,F]);}});});});G.W7.catch(function(F){m.I && D.S.error("Exception occurred creating playgraph",F);D.cK(G.context);});return G;};return B;})();b.gJa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fJa=void 0;c=a(0).__importDefault(a(5));l=a(28);r=(function(){function g(){this.creationTime=c.default.time.Ca();this.Fc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}g.prototype.lrb=function(h){this.fa=h;};g.prototype.yYb=function(h,d){var f;h=null === (f=this.fa) || void 0 === f?void 0:f.On(h);this.Fc={isPrefetchItem:!0,prefetchedVideoMs:h.BN,prefetchedAudioMs:h.AN,prefetchClaimDurationMs:c.default.time.Ca() - this.creationTime,prefetchRank:d};};Object.defineProperties(g.prototype,{nd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.pj=function(h){if(h.rj === l.pc.Fj)return this.Fc;};return g;})();b.fJa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DBa=void 0;c=a(0);r=(function(){function g(h,d){void 0 === d && (d={});this.In=h;this.options=d;this.ZE=[];this.FF=new l(h,this.Jpb.bind(this));}g.prototype.Jpb=function(h){for(var d,f,n,k,m,p,q=[],v=1;v < arguments.length;v++){q[v - 1]=arguments[v];}q={uq:h,iq:q};(null !== (n=null === (f=(d=this.options).C_b) || void 0 === f?void 0:f.call(d,q,this.ZE)) && void 0 !== n?n:1) && this.ZE.push(q);return null !== (p=null === (m=(k=this.options).gfc) || void 0 === m?void 0:m.call(k,q)) && void 0 !== p?p:!0;};g.prototype.w8=function(h){this.ZE=this.ZE.filter(function(d,f){return !h(d,f);});};g.prototype.jta=function(){var h;h=this;this.FF.nwa();this.ZE.forEach(function(d){var f;(f=h.In).emit.apply(f,c.__spreadArray([d.uq],c.__read(d.iq),!1));});this.FF.I_a();};Object.defineProperties(g.prototype,{length:{get:function(){return this.ZE.length;},enumerable:!1,configurable:!0}});g.prototype.clear=function(){this.ZE=[];};g.prototype.Ra=function(){this.clear();this.FF.nwa();this.options=void 0;};return g;})();b.DBa=r;l=(function(){function g(h,d){this.In=h;this.qs=d;this.K4a=this.In.emit;this.Kxb();this.I_a();}g.prototype.Kxb=function(){var h;h=this;this.FF=function(d){for(var f,n,k=[],m=1;m < arguments.length;m++){k[m - 1]=arguments[m];}return (null === (n=h.qs) || void 0 === n?0:n.call.apply(n,c.__spreadArray([h,d],c.__read(k),!1)))?(f=h.K4a).call.apply(f,c.__spreadArray([h.In,d],c.__read(k),!1)):!1;};};g.prototype.I_a=function(){this.FF && (this.In.emit=this.FF);};g.prototype.nwa=function(){this.In.emit=this.K4a;};g.prototype.Ra=function(){this.nwa();this.qs=this.FF=void 0;};return g;})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qAa=void 0;c=a(0);l=a(36);g=a(182);r=(function(){function h(){}h.prototype.g2a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,n,k,m,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.vd.key;if(!(0,g.ZT)(f))return [3,2];n=f.K;k=d.vd.dg.Nn(n);return [4,Promise.resolve(k.Rp)];case 1:return (m=q.cb(),p=m.X,p.ap?[2,(0,l.g2)(p.ap,{config:m.config})]:[2,(0,l.y9)(n,"ps0")]);case 2:return [2,f.fa];}});});};return h;})();b.qAa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dda=void 0;b.dda=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.ce,segments:a.bzb(c.L)},void 0 !== c.Pd?{transitionType:c.Pd}:{});};a.encode=function(c){return Object.assign({ce:c.initialSegment,L:a.UBb(c.segments)},void 0 !== c.transitionType?{Pd:c.transitionType}:{});};a.UBb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.TBb(c[g]);return l;},{});};a.TBb=function(c){return Object.assign({K:c.viewableId,sa:c.startTimeMs},c.endTimeMs?{qa:c.endTimeMs}:{},c.defaultNext?{Hb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Pd:c.transitionType}:{},c.next?{next:a.RBb(c.next)}:{},c.exitZones?{vq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Qb:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Cs:c.fadeIn}:{},void 0 !== c.fadeOut?{Kn:c.fadeOut}:{});};a.RBb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.SBb(c[g]);return l;},{});};a.SBb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Pd:c.transitionType}:{});};a.bzb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.azb(c[g]);return l;},{});};a.azb=function(c){return Object.assign({viewableId:c.K,startTimeMs:c.sa},c.qa?{endTimeMs:c.qa}:{},c.Hb?{defaultNext:c.Hb}:{},c.weight?{weight:c.weight}:{},c.Pd?{transitionType:c.Pd}:{},c.next?{next:a.Zyb(c.next)}:{},c.vq?{exitZones:c.vq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Qb?{uxSegment:c.Qb}:{},c.type?{type:c.type}:{},void 0 !== c.Cs?{fadeIn:c.Cs}:{},void 0 !== c.Kn?{fadeOut:c.Kn}:{});};a.Zyb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.$yb(c[g]);return l;},{});};a.$yb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Pd?{transitionType:c.Pd}:{});};return a;})();},function(r,b,a){var f;function c(n){return Object.keys(n.segments).some(function(k){return void 0 !== d(n.segments[k]);});}function l(n){return "delayedSeamless" === n?"lazy":n;}function g(n){return Object.keys(n).reduce(function(k,m){var p,q;p=n[m];q=p.weight;p=p.transitionType || p.transitionHint;m=k[m]={};void 0 !== q && (m.weight=q);p && (m.Pd=l(p));return k;},{});}function h(n){var k,m;k=Object.keys(n);m=k.length;return m?k.reduce(function(p,q){return p + (n[q].weight || 0);},0) / m:void 0;}function d(n){var k;if(n.ui){k=n.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - n.startTimeMs;n=n.ui.interactionZonesV2;if((null === n || void 0 === n?0:n.length) && n[0].length)return n[0][0];}else if(void 0 !== n.earliestSkipRequestOffset)return n.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.g2=void 0;f=a(153);b.g2=function(n,k){var m,p,q,v,t,w;m=void 0 === k?{}:k;k=m.$f;p=m.ce;q=m.L;m=m.config;v=!(!m || -1 === m.hla.indexOf(n.viewableId));t=c(n)?0:(null === m || void 0 === m?void 0:m.gla) || 0;m=new f.$t();w=q || n.segments;m.UG(null !== p && void 0 !== p?p:n.initialSegment).o9a(null !== k && void 0 !== k?k:n.mediaTypes).Oua(v?"immediate":l(n.transitionType)).Hua(Object.keys(w).reduce(function(u,y){var x,z,A,B,C,D;x=w[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (v || (null === (B=x.exitZones) || void 0 === B?0:B.length))?h(x.next):void 0;}B=z;if(z=x.exitZones)C=void 0;else a:{if(v && x.endTimeMs){C=x.endTimeMs - x.startTimeMs;D=d(x);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=v?C?void 0:x.transitionHint || "lazy":x.transitionHint;B={K:n.viewableId,sa:x.startTimeMs,qa:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Pd:l(D),vq:z || C,weight:B};x.defaultNext && (B.Hb=x.defaultNext);x.next && (B.next=g(x.next));u[y]=B;return u;},{}));return m.Dh();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.y9=void 0;c=a(153);b.y9=function(l,g,h){var d;d=new c.$t();d.UG(g).Oua("lazy").o9a(h).pf(g,{K:l,sa:0,qa:Infinity});return d.Dh();};},function(r,b,a){var f,n,k,m;function c(p){for(var q=p.ce,v=[];q;){v.push(q);q=p.L[q].next;if(!q)break;q=Object.keys(q);if(q.length)(k.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return v;}function l(p){return m.hR(Object.keys(p.L).map(function(q){return p.L[q].K;}));}function g(p,q){return Object.keys(q.L).some(function(v){v=q.L[v];return p.K === v.K && p.sa > v.sa && (!v.qa || !!p.qa && (Infinity === p.qa || p.qa < v.qa));});}function h(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === h(q.qa):p >= q.sa && p <= h(q.qa);}Object.defineProperty(b,"__esModule",{value:!0});b.Ypa=void 0;f=a(0);n=a(153);k=a(418);m=a(255);b.Ypa=function(p,q){var v,t,w,u,y;v=c(q);t=l(p);w=l(q);t=m.ZPa(t,w);k.assert(1 === t.length,"Source and content playgraphs should share one viewable");u=t[0];w=Object.keys(p.L).filter(function(x){return p.L[x].K === u;}).map(function(x){var F,H,K,O,I,P;for(var z,A=p.L[x],B=A.sa,C=h(A.qa),D=0 === B,E=[],G=0;G < v.length;++G){F=v[G];H=q.L[F];K=g(p.L[x],q);if(H.K !== u)D && E.push({id:x + ":" + F,u:f.__assign(f.__assign({},H),{Qb:x})});else if(D){I=Math.max(A.sa,H.sa);O=(P=!Number.isFinite(C) && G == v.length - 1)?C:Math.min(C,h(H.qa));O > I && (K=Infinity !== C || !K && !P?Infinity === O?null:O:A.qa,E.push({id:x + ":" + F,u:f.__assign(f.__assign({},H),{sa:I,qa:K,Qb:x})}));if(d(C,H)){if(C === h(H.qa))for(G+=1;G < v.length;++G){B=v[G];C=q.L[B];if(C.K === u)break;E.push({id:x + ":" + B,u:f.__assign(f.__assign({},C),{Qb:x})});}break;}}else if(d(B,H))if((D=!0,C <= h(H.qa)))E.push({id:x,u:A});else {I=A.sa;P=!Number.isFinite(C) && G == v.length - 1;K=P && K?A.qa:Math.min(C,h(H.qa));E.push({id:x + ":" + F,u:f.__assign(f.__assign({},H),{sa:I,qa:K,Qb:x})});}}E.length || E.push({id:x,u:f.__assign(f.__assign({},A),{Qb:x})});for(G=0;G < E.length - 1;++G){B=E[G + 1].id;E[G].u=f.__assign(f.__assign({},E[G].u),{Hb:B,next:(z={},z[B]={},z)});}z=E[E.length - 1];z.u=f.__assign(f.__assign({},z.u),{Hb:A.Hb,next:A.next});return {id:x,u:A,O$a:E};});y=w.reduce(function(x,z){return (x[z.id]=z.O$a[0].id,x);},{});t=new n.$t();w=w.reduce(function(x,z){z.O$a.forEach(function(A){return x[A.id]=A.u;});return x;},{});return t.Hua(w,function(){return !0;},y).nPa(p.L,function(x,z){return !y[z];},y,function(x,z){return f.__assign(f.__assign({},x),{Qb:z});}).UG(y[p.ce] || p.ce).Dh();};},function(r,b,a){var q,v,t,w,u;function c(y,x,z,A,B){var C,D,E;C=y.L[x];D=z.L[C.Qb];A=A.Qb;E=f(C.qa) - C.sa;E=void 0 === B?B=0:B + E;return C.K === (null === D || void 0 === D?void 0:D.K)?{yX:f(C.qa),GR:B}:C.Qb === A && (x=q.__read(l(y,x),1)[0]) && y.L[x].Qb === C.Qb?c(y,x,z,C,E):{yX:D.sa,GR:E};}function l(y,x){return Object.keys(y.L).filter(function(z){return y.L[z].Hb === x;});}function g(y,x,z,A,B){var C,D,E;void 0 === B && (B=0);x=y.L[x];C=z.L[x.Qb];A=A.Qb;D=z.L[A];E=f(x.qa) - x.sa;return x.K === (null === C || void 0 === C?void 0:C.K)?{yX:x.sa,GR:B}:x.Qb === A && x.Hb?g(y,x.Hb,z,x,B + E):{yX:f(D.qa),GR:B};}function h(y,x,z){var A,B,C,D,E,G,F,H,K,O,I,P,N;A=m(y,x,z);if(A)return A;A=y.L[z.u];B=z.offset;C=Object.keys(x.L).filter(function(J){return x.L[J].Qb === z.u;});D=[];C.forEach(function(J){var R,ka,la;function L(X){X=v.G3(x,X);null === X || void 0 === X?void 0:X.forEach(function(da){var ta,Ba;if(x.L[da].Qb !== z.u){ta=x.L[da];Ba=ta.qa;la={u:da,offset:Ba - ta.sa};(ta=Ba?p(y,x,la):void 0) && D.push({tx:la,Qp:ta});ta || (la={u:da,offset:0},(ta=p(y,x,{u:da,offset:0})) && D.push({tx:la,Qp:ta}));L(da);}});}R=x.L[J];ka=R.qa;la={u:J,offset:ka - R.sa};(R=ka?p(y,x,la):void 0) && D.push({tx:la,Qp:R});la={u:J,offset:0};(ka=p(y,x,la)) && D.push({tx:la,Qp:ka});ka || R || L(J);});w.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");E=A.sa + B;F=Infinity;D.forEach(function(J){var L;L=J.Qp;L=E - (y.L[L.u].sa + L.offset);0 <= L && L < F && (F=L,G=J);});H=[];C.forEach(function(J){var R,ka,la,X;function L(da){Object.keys(x.L[da].next || ({})).forEach(function(ta){var Ba,Ja,Va;if(x.L[ta].Qb !== z.u){Ba=x.L[ta];Ja=Ba.sa;Ba=Ba.qa;X={u:ta,offset:0};Va=p(y,x,X);Va && H.push({tx:X,Qp:Va});Va || (X={u:ta,offset:Ba - Ja},(Ja=Ba?p(y,x,X):void 0) && H.push({tx:X,Qp:Ja}));}L(ta);});}R=x.L[J];ka=R.sa;la=R.qa;X={u:J,offset:0};(R=p(y,x,X)) && H.push({tx:X,Qp:R});X={u:J,offset:la - ka};(ka=la?p(y,x,X):void 0) && H.push({tx:X,Qp:ka});R || ka || L(J);});w.assert(0 < H.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");O=Infinity;H.forEach(function(J){var L;L=J.Qp;L=y.L[L.u].sa + L.offset - E;if(0 <= L && L < O || L > O && 0 > O || Infinity === O)(O=L,K=J);});w.assert(G);w.assert(K);B=G.tx;w.assert(B,"Segment not found in the combined playgraph");A=K.tx;w.assert(A,"Segment not found in the combined playgraph");I=x.L[B.u];C=x.L[A.u];B.offset === f(I.qa) - I.sa && x.L[I.Hb].Qb === I.Qb && (B.u === A.u && B.offset === A.offset && (A={u:C.Hb,offset:0},C=x.L[A.u]),B={u:I.Hb,offset:0},I=x.L[B.u]);P=y.L[G.Qp.u].sa + G.Qp.offset;N=y.L[K.Qp.u].sa + K.Qp.offset - P;P=0 === N?0:(E - P) / N;if(B.u === A.u)return (I=I.sa + B.offset,B=B.u,{u:B,offset:I + P * (C.sa + A.offset - I) - x.L[B].sa});N=d(x,B,A);I=N.path;N=N.NE;C=0 === A.offset?0:f(C.qa) - C.sa;return k(x,I,B.offset + P * (N - B.offset - (C - A.offset)));}function d(y,x,z){var A,B;if(x.u !== z.u){for(x=[x.u];x[x.length - 1] !== z.u;){A=y.L[x[x.length - 1]];w.assert(A.next,"Cannot find path between points in combined playgraph");if(A.next[z.u])break;B=Object.keys(A.next);1 === B.length?x.push(B[0]):(w.assert(A.Hb,"Multiple paths but no default finding paths between points in combined playgrahp"),x.push(A.Hb));}0 !== z.offset && x.push(z.u);return {path:x,NE:n(y,x)};}return {path:[],NE:z.offset - x.offset};}function f(y){return null === y || void 0 === y?Infinity:y;}function n(y,x){return x.reduce(function(z,A){var B;A=y.L[A];B=A.sa;return z + f(A.qa) - B;},0);}function k(y,x,z){var B,C,D;for(var A=0;A < x.length;++A){B=x[A];C=y.L[B];D=C.sa;C=f(C.qa) - D;if(C > z)return {u:B,offset:z};z-=C;}w.assert(!1,"Invalid offset given for path");}function m(y,x,z){var A,B,C,D,E,G,F,H,K,O,I;B=y.L[z.u];w.assert(B,"Graph position " + z.u + " does not exist in UX playgraph");C=z.offset;w.assert(0 <= C,"Graph position offset " + C + " cannot be negative");w.assert(!B.qa || C <= B.qa - B.sa,"Graph position " + C + " offset outside segment");if(x.L[z.u])return z;D=Object.keys(x.L).filter(function(P){return x.L[P].Qb === z.u;});w.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");E={};G=0;D.forEach(function(P){if(void 0 === E[P]){for(var N=0;P;){E[P]=[G,N++];P=x.L[P].Hb;}++G;}});D.sort(function(P,N){return E[P][0] !== E[N][0]?1:E[P][1] - E[N][1];});F=B.sa + C;H=D.filter(function(P){return x.L[P].K === B.K;});K=q.__read(D,1)[0];H=H.map(function(P){return [P,x.L[P]];}).filter(function(P){var N;P=q.__read(P,2);N=P[0];return F >= P[1].sa || N === K;});if(H=t.uc(H,function(P){var N;P=q.__read(P,2)[1];N=P.Hb?x.L[P.Hb]:void 0;return !P.qa || !!P.qa && F < P.qa || (null === N || void 0 === N?void 0:N.Qb) !== z.u && F >= P.sa;})){O=q.__read(H,2);H=O[0];O=O[1];I=(isFinite(F)?F:null !== (A=O.qa) && void 0 !== A?A:Infinity) - O.sa;w.assert(0 <= I,"Content playgrah graph position offset cannot be negative");A=!0;0 === I && (A=u.Nka(x,H),A=!A || A.Qb !== O.Qb);if(A)return {u:H,offset:I};}D=D.filter(function(P){return x.L[P].K !== B.K;});if(0 === C && (C=u.Nka(y,z.u),!C || C.Qb !== z.u) && (C=t.uc(D,function(P){return 0 === v.G3(x,P).length;}),void 0 !== C))return {u:C,offset:0};if(B.qa && Infinity !== B.qa && !(B.qa - B.sa !== z.offset || B.Hb && y.L[B.Hb]) && (C=t.uc(D,function(P){return !x.L[P].next || 0 === Object.keys(x.L[P].next).length;}),void 0 !== C))return (D=x.L[C],y=D.sa,D=D.qa,w.assert(D,"Content playgraph segments from other viewables must have end time"),{u:C,offset:D - y});}function p(y,x,z){var A,B;A=x.L[z.u];w.assert(A,"Graph position does not exist in combined playgraph");B=z.offset;w.assert(0 <= B,"Graph position offset cannot be negative");w.assert(!A.qa || B <= A.qa - A.sa,"Graph position offset outside segment");if(void 0 === A.Qb)return z;y=y.L[A.Qb];w.assert(y,"Referenced ux playgraph segment must exist");if(A.K === y.K)return (B=A.sa + B - y.sa,y=f(y.qa) - y.sa,B=Math.max(Math.min(B,y),0),{u:A.Qb,offset:B});if(0 === B && (z=v.G3(x,z.u).filter(function(C){return x.L[C].Qb === A.Qb;}),0 === B && 0 === z.length))return {u:A.Qb,offset:0};B=A.Hb?x.L[A.Hb]:void 0;if((null === B || void 0 === B?void 0:B.Qb) !== A.Qb)return {u:A.Qb,offset:y.qa?y.qa - y.sa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.iXa=b.jcb=b.iSa=void 0;q=a(0);v=a(36);t=a(255);w=a(418);u=a(419);b.iSa=function(y,x,z){var A,B,C,D;A=x.L[z.u];B=p(y,x,z);if(B)return B;w.assert(A.Qb,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=y.L[A.Qb];w.assert(C,"Referenced ux playgraph segment must exist");w.assert(A.qa,"Content playgraph segments from other viewables must have end time");if(!A.Hb || !x.L[A.Hb])return (w.assert(C.qa,"Must have definite end time to add terminal content playgraph segment"),{u:A.Qb,offset:C.qa - C.sa});D=c(x,z.u,y,A);B=D.yX;D=D.GR;if(null === B || void 0 === B)return (w.assert(C.qa,"Experience playgraph segment must have end time"),{u:A.Qb,offset:C.qa - C.sa});x=g(x,z.u,y,A);y=x.yX;x=x.GR;null !== y && void 0 !== y && isFinite(y) || w.assert(y,"Experience playgraph segment must have end time");return {u:A.Qb,offset:B + (D + z.offset) / (D + x) * (y - B)};};b.jcb=h;b.iXa=function(y,x,z){var A,B,C;return q.__generator(this,function(D){switch(D.label){case 0:(A=h(y,x,z),B=x.L[A.u],C=A.u,D.label=1);case 1:return [4,C];case 2:(D.cb(),C=B.Hb,B=x.L[C],D.label=3);case 3:if((null === B || void 0 === B?void 0:B.Qb) === z.u && C !== A.u)return [3,1];D.label=4;case 4:return [2];}});};},function(r,b,a){var l,g,h;function c(d,f,n){var k;if(!n)return !1;n=n[f];return "boolean" === typeof n?!0 === n:(null === n || void 0 === n?void 0:n.length) === (null === (k=d[f].xe) || void 0 === k?void 0:k.length);}Object.defineProperty(b,"__esModule",{value:!0});b.NSa=b.gn=void 0;l=a(0);g=a(153);b.gn=-1;b.NSa=function(d,f,n,k,m){function p(w){var u,y,x,z,A,B;u=f.Xd[w];y=c(f.Xd,w,n);x=!!u.xe;z=!!k && !y && x;A=0 === u.Gl;u.Gl > v && q.pf(d + "-" + w,{K:d,sa:v,qa:u.Gl,type:"content"});x || q.cqb();!z || A && !m || q.pf("padstart-" + w,{K:b.gn,sa:0,qa:k,type:"padding"});v=u.Gl;if(u.xe && !y){B=null === n || void 0 === n?void 0:n[w];u.xe.forEach(function(C,D){var E;E=!1;Array.isArray(B) && (E=-1 < B.indexOf(D));E || q.pf("ad-" + w + "-" + D,{K:C.id,sa:C.sa,qa:C.qa,type:"ad"});});z && q.pf("padend-" + w,{K:b.gn,sa:0,qa:k,type:"padding"});}}void 0 === k && (k=0);void 0 === m && (m=!1);for(var q=new h(),v=0,t=0;t < f.Xd.length;++t){p(t);}q.pf(d + "-" + f.Xd.length,{K:d,sa:v,qa:null,type:"content"});return q.Dh();};h=(function(){function d(){this.$a=new g.$t();}d.prototype.pf=function(f,n){var k,m,p;this.aF || (this.aF=f);if(this.bC){m=l.__read(this.bC,2);p=m[0];m=m[1];m.Hb=f;m.next=(k={},k[f]={},k);"content" === m.type && -1 < ["ad","padding"].indexOf(n.type) && (m.Kn=!0);"content" === n.type && (-1 < ["ad","padding"].indexOf(m.type) || m.Kn) && (n.Cs=!0);this.$a.pf(p,m);}this.bC=[f,n];};d.prototype.cqb=function(){var f,n;if(this.bC){f=l.__read(this.bC,2);n=f[0];f=f[1];"content" === f.type && (f.Kn=!0);this.$a.pf(n,f);this.bC=[n,f];}};d.prototype.Dh=function(){var f;if(this.bC){f=l.__read(this.bC,2);this.$a.pf(f[0],f[1]);}this.bC=void 0;this.aF && this.$a.UG(this.aF);return this.$a.Dh();};return d;})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.rAa=void 0;c=a(0);l=a(4);g=a(182);r=(function(){function h(){}h.Jm=function(d){var f,n;f=d.L;d=d.ce;n=f[d].K;Object.keys(f).forEach(function(k){return (0,l.assert)(f[k].K === n);});return f[d].K;};h.prototype.ZVa=function(d,f){var n;n=Object.keys(f.fa.L).length;return c.__read(d.filter(function(k){var m,p;return h.Jm(f.fa) === (0,g.Jm)(k.context.vd.key) && (1 === n || n === Object.keys(null !== (p=null === (m=k.fa) || void 0 === m?void 0:m.fa.L) && void 0 !== p?p:{}).length);}),1)[0];};return h;})();b.rAa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Vza=b.Yza=void 0;c=a(143);l=a(999);b.Yza=625E3;r=(function(){function g(h){this.config=h;}g.prototype.eRa=function(h){var d,f,n,k,m;d=this.config.xja;f=this.config.Bdc || this.config.wja;n=0 < h.gZa.fB;k=n?f * b.Yza / 1E3:this.config.FU || Infinity;m=n?Math.floor(h.gZa.fB / k):d;return {Nl:h.o5b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var v;v=p.key.config;return {G0a:{fB:q > m - 1?0:k},vd:p,X7:1,li:v,J0b:{audio:[(0,c.OJ)(v),new l.Hda()],video:[(0,c.PJ)(v),new l.Hda()]}};})};};return g;})();b.Vza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hda=void 0;c=a(7);r=(function(){function l(){}l.prototype.Xj=function(g,h){return h === c.yc.jl?[]:g;};return l;})();b.Hda=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eJa=void 0;c=a(9);l=a(1001);b.eJa=(function(){function g(){}g.mXb=function(h,d,f,n){h.events.once("seeking",function(k){var m,p;m=k.position;p=f.length;k.duplicate || (f.w8(function(q){return "segmentNormalized" !== q.uq;}),c.I && n.log(("Discarding ").concat(p - f.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.M4)(d)) + (" due to seek to ").concat((0,l.M4)(m))));c.I && n.log(("Replaying ").concat(f.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.M4)(m)));f.jta();f.Ra();});};return g;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M4=void 0;b.M4=function(a){return ("( ").concat(a.J,", ").concat(a.offset.ob()," )");};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qKa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.eRa=function(c,l){var g,h;g=this;c=l(c);h=c.Nl.map(function(d){return d.vd.priority;}).sort();c.Nl.forEach(function(d){d.X7=g.config.BUb / (2 << h.lastIndexOf(d.vd.priority));});return c;};return a;})();b.qKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WIa=void 0;r=(function(){function a(c){this.lj=c.lj;this.gv=this.FKb();}a.prototype.bR=function(c){c.events.on("requestsPruned",this.gv);};a.prototype.Hy=function(c){c.events.removeListener("requestsPruned",this.gv);};a.prototype.FKb=function(){var c;c=this;return function(){return c.lj();};};return a;})();b.WIa=r;},function(r,b,a){var l;function c(g,h,d,f){return g && h?Math.min(g - h * d,g - f):(g || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.gRa=void 0;l=a(7);b.gRa=function(g,h){var d,f,n,k,m,p,q,v;v=c(h.audio,h.rac,g.Qia,null !== (f=g.GSa) && void 0 !== f?f:0);f=c(h.video,h.$fc,g.Qia,null !== (n=g.ISa) && void 0 !== n?n:0);n=c(h.text,h.xfc,g.Qia,null !== (k=g.HSa) && void 0 !== k?k:0);return (d={},d[l.v.ga]=v,d[l.v.Z]=f,d[l.v.Za]=n,d.total=(h.total || Infinity) - (null !== (m=g.GSa) && void 0 !== m?m:0) - (null !== (p=g.ISa) && void 0 !== p?p:0) - (null !== (q=g.HSa) && void 0 !== q?q:0),d);};},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.G2=void 0;c=a(0);l=a(9);g=a(1006);h=a(182);d=a(181);b.G2=function(f,n,k){var m,p,q,v;m=[function(t){return new (g.iaa.bind.apply(g.iaa,c.__spreadArray([void 0],c.__read(t.CV),!1)))();}];p=(0,h.Jm)({fa:n[0]});l.I && k.trace("Creating playgraph",{vec:p,$ac:f.lS,xe:f.UE});if(f.lS){q=a(1082);m.unshift(function(t,w){return q.KR({},t,w);});}if(f.UE){v=a(1087);m.unshift(function(t,w){return v.KR({},t,w);});}return d.sO.p5({CV:n,Lga:[]},m);};},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T;function c(aa){var Q;Q={};aa.forEach(function(M){M.mediaType !== f.v.Za && (Q[M.mediaType]=M.Hm());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.iaa=void 0;l=a(0);g=a(13);h=a(36);d=a(389);f=a(7);n=a(1007);k=a(10);m=a(1008);p=a(1048);q=l.__importDefault(a(5));v=a(4);t=a(1049);w=a(19);u=a(60);y=a(143);x=a(177);z=a(28);A=a(435);B=a(253);C=a(252);D=a(1056);E=a(72);G=l.__importDefault(a(147));F=a(1057);H=a(254);K=a(1058);O=a(436);I=a(1059);P=a(1065);N=a(1066);J=a(1067);L=a(1070);R=a(1071);ka=a(1072);la=a(1073);X=a(1074);da=a(1075);ta=a(1077);Ba=a(1078);Ja=a(1079);Va=a(1080);Ta=a(1081);T=a(128).Av.vja;r=(function(){function aa(Q,M,S,ra,oa,Ca,Ua,Pa,Ya,ob){this.dj=Q;this.MOa=M;this.config=S;this.id=ra;this.yu=Ca;this.lj=Ua;this.vub=Pa;this.nn=ob;this.WP=!1;this.Nw=void 0;this.pka=[];this.Gi=this.Xa=void 0;this.Eqb="2.0";this.u_a=this.O0=this.jm=this.kfa=void 0;this.wc=d.am.CLOSED;this.Oea=!0;this.B1=!1;this.qN=this.IX=this.lE=void 0;this.LQa=new g.Af();this.HA=0;this.L9=!1;this.GKb();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Yg=new E.gu({$n:10,Pm:this,source:"AsePlaygraph",console:this.console});this.events=new g.EventEmitter();this.Cua(Q);this.Ta=new L.KIa();this.pg=new Va.MIa(this.console);this.Sma=new I.$Ba(this.config,k.N.Na(this.config.r6),{parent:this.QYa.bind(this),next:this.jHb.bind(this)},this.events,this.console);this.M9=new p.SKa(this.console,this.events);this.wR={fB:S.FU || Infinity};this.Y=new t.Pca(this);this.he=new u.yP(this.Y.ta,this.console,"playgraph",1);this.LKb();this.Se=new R.Wya(this.console,S,oa,this.events,this,this.Ar);this.V1=new X.Nya(this.he,this.Ar,this.config,this.Ej.bind(this),this.Ff,this.console);this.q7=this.Se.q7.bind(this.Se);this.kV=this.Se.kV.bind(this.Se);this.y7=this.Se.y7.bind(this.Se);this.i7=this.i7.bind(this);this.j7=this.j7.bind(this);this.QG=this.QG.bind(this);this.Jy=new z.sda(S);this.CKb();this.Jy.bf(new C.Kw(this.Se.Yg));this.Jy.bf(new D.XHa(this.xHb.bind(this)));this.Jy.bf(new C.Kw(this.Yg));this.Jy.bf(new F.JIa(this.Ta,this));this.Jy.bf(new K.mEa(this));this.D$a=new Ja.RKa(this,this.console,Ya);this.g6=new H.KEa(this.Ar,this.console,this.events);this.qm=new Ta.OIa(this.t8.bind(this));this.Iua((0,y.PJ)(this.config),(0,y.OJ)());}Object.defineProperties(aa.prototype,{state:{get:function(){return this.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Eq:{get:function(){return !(this.Y instanceof t.Pca);},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Dd:{get:function(){return this.Nw;},set:function(Q){this.Nw=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{XKb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{fa:{get:function(){return this.dj;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{weight:{get:function(){return this.MOa;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{$e:{get:function(){(0,v.assert)(this.Fq,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.jm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{E8a:{get:function(){(0,v.assert)(this.Fq,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.tT(this.$e).pq;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Ff:{get:function(){return this.Se.state;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{ue:{get:function(){return this.Se.ue;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Zj:{get:function(){return this.Se.Zj;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Fq:{get:function(){return void 0 !== this.jm;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{zg:{get:function(){return this.Y.ae?this.Y.zg:this.$e;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Ed:{get:function(){var Q,M;return this.Y.ae?this.Y.Ed:null !== (M=null === (Q=this.jm) || void 0 === Q?void 0:Q.jo) && void 0 !== M?M:this.E8a;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{Frb:{get:function(){return this.nlb;},enumerable:!1,configurable:!0}});Object.defineProperties(aa.prototype,{x$:{get:function(){return this.Tob;},enumerable:!1,configurable:!0}});aa.prototype.LKb=function(){this.Ar=new u.yP(new B.C_({Li:!0,currentTime:function(){return k.N.Na(q.default.time.Ca());},speed:1}),this.console,"wallclock");};aa.prototype.CKb=function(){var Q;Q=this;(0,Ba.PSa)({Se:this.Se,Ar:this.Ar},u.yh.GC(k.N.Na(this.config.DV)),function(){Q.Y.ae && Q.Y.Ay && (Q.Se.state.value === f.yc.Kj || Q.Se.state.value === f.yc.ie) && Q.PD(Q.Y.Ay);},"buffering");};aa.prototype.GKb=function(){var Q;Q=this;this.xv=function(M){var S,ra,oa;ra=Q.navigator.Hd(M.position.J);if((ra=Q.ema(ra)) && Q.Y.ae){oa=(0,k.Rka)(Q.Y.Ta.filter(function(Ca){return Ca.u.id === M.position.J;}),M.playerTimestamp,{lSa:!0});oa && (null === (S=Q.Y.$k) || void 0 === S?void 0:S.$G({u:oa.u,get mX() {return oa.Wa.wa(oa.u.Je);}},ra,Q.zg.offset,!0,!1));}Q.qm.start();};this.eV=function(){Q.lj("onDrmReady");};this.ORb=function(M){M=M.newValue;Q.WP || (Q.WP=M);};};aa.prototype.open=function(){this.Oea=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.wc !== d.am.CLOSED)return !1;this.wc=d.am.OPEN;return !0;};aa.prototype.Ra=function(){this.Ar.Ra();this.he.Ra();this.wc !== d.am.CLOSED && (this.Gf(),this.qm.Ra(),this.Se.stop(),this.wc=d.am.CLOSED,this.Eq || this.Y.Ra(),this.g6.Ra());};aa.prototype.Xtb=function(Q,M,S){Q=(0,ka.oka)(this.Ta,this.QG.bind(this),Q,M,S).wRa;return this.lRa(Q);};aa.prototype.Py=function(Q,M,S){var ra,oa,Ca,Ua,Pa,Ya,ob;ra=this;oa=this.lE;Ca=this.IX;Ua=this.qN;this.lE=Q;this.IX=M;this.qN=S;Q=(0,ka.oka)(this.Ta,this.QG.bind(this));Pa=Q.wRa;Q=Q.ssb;if(0 === Pa.length)return !0;if(!this.lRa(Pa))return (this.lE=oa,this.IX=Ca,this.qN=Ua,!1);Ya=this.zg;this.Y.LM(Pa);ob=this.tT(Ya).pq;Q.forEach(function(pb){var Db;Db=pb.mb;Db.Py(pb.Od,Ya.J === Db.u.id?ob:void 0,void 0 !== ra.Ta.kT(Db),Pa);});this.Se.kSb(Ya,Q[0].Od);return !0;};aa.prototype.OJ=function(Q){return (0,y.OJ)(this.config,Q);};aa.prototype.PJ=function(Q){return (0,y.PJ)(this.config,Q);};aa.prototype.eT=function(Q,M){var S,ra;S=this.navigator.Hd(Q);ra=this.navigator.Hd(M);return {z4b:S.sJb(M),xR:M !== Q && this.Ta.has(M) && this.Ta.zq(M)[0].Ng,x2:ra.Je.G,zqa:this.ema(S)};};aa.prototype.Ej=function(Q,M,S,ra){var oa,Ca,Ua,Pa;oa=this;void 0 === ra && (ra=!0);if(!M)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(ra && this.pg.get(Q))S || this.pg.set(Q,M);else {Ua=this.SS(Q)[0];Pa=this.navigator.Hd(Q);this.zg.J === Q && Ua && (null === (Ca=this.Y.$k) || void 0 === Ca?void 0:Ca.$G({u:Ua.u,get mX() {return Ua.Wa.wa(Ua.u.Je);}},M,this.zg.offset,ra,S));ra || (Q={offset:k.N.Ia,J:M},this.jm={position:Q,Ng:!0,mbb:Q});S?this.pg.yZb(Pa.id,M):this.pg.set(Pa.id,M);this.qm.start();ra && Pa.Iv && 0 < Pa.Iv.length && ((0,v.assert)(Ua),Ua.d$(Pa.Iv) && this.SS(M).forEach(function(Ya){return oa.Vv(Ua,Ya);}));ra || this.Se.ZL(this.$e);}};aa.prototype.lRa=function(Q){var M,S;if(0 === Q.length)return !0;if(this.Y.WG && this.Y.P5.value.wa(this.Y.Ed).lessThan(k.N.Na(5E3)))return !1;Q=this.Y.Ta;if(!Q.length)return !0;S=null === (M=Q[0]) || void 0 === M?void 0:M.pa.K;return !Q.some(function(ra){return ra.pa.K !== S;});};aa.prototype.Vv=function(Q,M){var S;S=this;Q=Q.Kb.wa(M.u.Je);M.Vv(Q);this.Ta.zFb(M).forEach(function(ra){return S.Vv(M,ra);});};aa.prototype.Ti=function(Q){this.navigator.Ti(Q);this.qm.start();};aa.prototype.Iua=function(Q,M){this.nlb=Q;this.Tob=M;this.state === d.am.jl && this.lj("setStreamFilters");};aa.prototype.Epb=function(Q){(0,v.assert)(-1 === this.pka.indexOf(Q),"Attempted to add the same evaluation hook twice");this.pka.push(Q);};aa.prototype.SZb=function(Q){this.yu.kXb(Q);};aa.prototype.nC=function(Q,M){this.Y8(Q,M);};aa.prototype.Y8=function(Q,M,S){var ra,oa,Ca,Ua,Pa;Ca=this.fa;Ua=(0,O.kcb)(Ca,Q);if(Ua.pL){Pa=this.wYb(Ca,Q,M);if(void 0 === Pa)this.yf(("Invalid seekPosition after sanitization to ").concat(Q.J) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ua.reason),null === (ra=Ca.L[Q.J]) || void 0 === ra?void 0:ra.K);else if(void 0 === this.lE || void 0 === this.IX)this.yf("No track selectors available");else if((ra=!(this.Eq && this.Y.Dq) && (0,O.hZa)(null === (oa=this.jm) || void 0 === oa?void 0:oa.mbb,Pa),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:ra}),!ra)){this.O0=S;this.Fq?(this.$G(Pa),this.RRa(Q)):this.Ta.empty && S && (S=this.Y.pF()) && (this.$G(Pa,S),this.RRa(Q));Q=this.SXa();try{this.Gf(!0);this.yub();this.jm={position:Pa,mbb:Pa,Ng:!1,jo:M};this.u_a=M?M.wa(this.E8a):k.N.Ia;this.Se.ZL();this.wc=d.am.jl;this.qm.start();}finally{Q.release();}}}else this.yf(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.J) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ua.reason),null === (Pa=Ca.L[Q.J]) || void 0 === Pa?void 0:Pa.K);};aa.prototype.$G=function(Q,M){var S,ra,oa;oa=this.navigator.Hd(null !== (S=null === M || void 0 === M?void 0:M.u.id) && void 0 !== S?S:this.zg.J);null === (ra=this.Y.$k) || void 0 === ra?void 0:ra.$G({u:oa,mX:oa.duration},Q.J,M?M.pe:this.zg.offset,!1);};aa.prototype.RRa=function(Q){var M,S;if((null === (M=this.Y.pF()) || void 0 === M?void 0:M.u.id) === Q.J){if((this.pg.zub(Q.J),!this.pg.get(Q.J) && this.Y.Dq)){Q=this.Y.Ta;S=this.Y.pF();S && (Q=(0,w.uc)(Q,function(ra){return ra.parent === S;})) && this.pg.set(S.u.id,null === Q || void 0 === Q?void 0:Q.u.id);}}else this.pg.mia();};aa.prototype.SXa=function(){var Q,M;Q=this;M=this.Ta.filter(function(S){return S.u.K !== h.gn;}).map(function(S){return Q.yu.Kp(S.u.K).vL;});return new x.Oba(function(){M.forEach(function(S){return S.release();});},this.console).Eu();};aa.prototype.Gf=function(Q){var M,S,ra;ra=this.MIb();this.Ta.reset();if(!Q && (this.pg.mia(),ra.length))try{for(var oa=l.__values(ra),Ca=oa.next();!Ca.done;Ca=oa.next()){Ca.value.n7a();}}catch(Pa){var Ua;Ua={error:Pa};}finally{try{Ca && !Ca.done && (M=oa.return) && M.call(oa);}finally{if(Ua)throw Ua.error;}}this.he.Mf();this.Y.reset();this.jm=void 0;this.V1.reset();null === (S=this.LQa) || void 0 === S?void 0:S.clear();this.wc === d.am.jl && (this.wc=d.am.OPEN);};aa.prototype.SS=function(Q){return this.Ta.zq(Q);};aa.prototype.ph=function(Q){this.Se.ph(Q);(0,v.assert)(this.Y.Nq,"Must have an appended branch on underflow");this.Y.PPa && this.Se.Zj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.On(this.Ed),this.Se.rm("complete",Q.AN,Q.BN));this.V1.Yva(this.Y.Nq,this.Ed);this.lj("onUnderflow");this.events.emit("underflow");};aa.prototype.bf=function(Q){this.Jy.bf(Q);};aa.prototype.Ou=function(Q){this.bf(new A.LJa(Q));return this.krb(Q);};aa.prototype.krb=function(Q){var M;M=this.Y;if(!this.Y.$va(Q))return (this.yf("player in use"),!1);this.Y=Q;this.he.fQa(this.Y.ta);this.Y.events.on("segmentPresenting",this.xv);this.Y.events.on("drmReady",this.eV);this.Y.Tq.addListener(this.ORb);this.events.emit("playerChanged",{type:"playerChanged",old:M,"new":this.Y});return !0;};aa.prototype.tT=function(Q){var M,S;M=Q.offset;S=this.navigator.Hd(Q.J);Q=S.K;M=S.Je.add(M);return {K:Q,pq:M};};aa.prototype.Mk=function(Q,M){var S,ra,oa,Ca;Ca=this.Y.Mk(Q);if(void 0 !== Ca)return Ca;if(null === (ra=null === (S=this.jm) || void 0 === S?void 0:S.jo) || void 0 === ra?0:ra.equal(Q))return null !== (oa=this.O0) && void 0 !== oa?oa:this.$e;S=this.Y.Nq;return (0,O.Mk)(Q,{Fa:this,OKb:S && ({id:S.u.id,QYb:S.$q})},M);};aa.prototype.$K=function(Q){var M;void 0 === M && (M=!1);Q=this.uT(Q,M).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.jo);};aa.prototype.uT=function(Q,M){var S,ra,oa,Ca,Ua,Pa,Ya,ob,pb,Db,Na,ab,fb;void 0 === M && (M=!1);return l.__generator(this,function(ib){switch(ib.label){case 0:(S=this.Y.uT(Q),ra=S.next(),ib.label=1);case 1:return ra.done?[3,3]:[4,ra.value];case 2:return (ib.cb(),ra=S.next(),[3,1]);case 3:if(!M)return [2];oa={};Ca=this.zg;this.Eq && this.Y.ae && (Ya=this.Y.Nq) && (Ca={offset:k.N.Ia,J:Ya.u.id},Ua=Ya.Kb.wa(this.Y.Ed),Pa=Ya.u);Ua || (Pa=this.navigator.Hd(Ca.J),Ua=Pa.Je.add(Ca.offset).wa(Pa.Ag));(0,v.assert)(Pa,"Current segment should be defined by here");ob=this.Ed;if(Pa.u.Hb && Pa.id !== Q.J)return [3,6];if(Pa.id !== Q.J)return [3,5];pb=Q.offset.wa(Ca.offset);return [4,{$J:pb,jo:ob.add(pb)}];case 4:(ib.cb(),ib.label=5);case 5:return [2];case 6:(Db=this.navigator.Hd(Pa.u.Hb),Na=this.navigator.M0a(Db),ab=Na.next(),ib.label=7);case 7:if(ab.done)return [3,11];fb=ab.value;if(oa[fb.id])return [3,11];oa[fb.id]=!0;if(fb.id !== Q.J)return [3,9];pb=Q.offset.add(Ua);return [4,{$J:pb,jo:ob.add(pb)}];case 8:return (ib.cb(),[2]);case 9:(Ua=Ua.add(fb.duration),ib.label=10);case 10:return (ab=Na.next(),[3,7]);case 11:return [2];}});};aa.prototype.u8a=function(Q){return (0,O.Tta)(this.fa,Q);};aa.prototype.wYb=function(Q,M,S){var ra,oa;ra=(0,O.Tta)(Q,M);oa=k.N.Na(1E4);if(!ra || !S || S.greaterThan(oa))return ra;Q=M.offset.add(k.N.Na(Q.L[M.J].sa));S=S.wa(Q);if(S.$h(k.N.Ia))return ra;oa=k.N.max(k.N.Ia,Q.wa(oa)).add(S);if(oa.$h(k.N.Ia))return ra;oa=ra.offset.add(oa);return {J:ra.J,offset:oa};};aa.prototype.Fs=function(Q,M){var S;Q="string" === typeof Q?{K:this.fa.L[Q].K,pq:k.N.Na(M)}:Q;if(Q.K !== h.gn){M=this.yu.Kp(Q.K);try{return null === (S=M.pa) || void 0 === S?void 0:S.Fs(this.config,Q.pq.G);}finally{M.vL.release();}}};aa.prototype.u4=function(){return (0,da.TWa)(this.Ta,this.s5.bind(this));};aa.prototype.s5=function(Q){Q=this.Ta.kT(Q);return void 0 === Q || Q.ij && this.s5(Q);};aa.prototype.t4=function(){return this.wR.fB;};aa.prototype.YFb=function(Q){return (0,ta.RYa)(this.Ta,Q);};aa.prototype.On=function(Q){var M,S,ra;M=this;this.Ta.bF(function(oa){var Ca,Ua;Ca=oa.VS(f.v.ga);Ua=oa.VS(f.v.Z);if(oa.u.bX || !M.Ta.Xma(oa) || !oa.ij){if(!S || Ca < S)S=Ca;if(!ra || Ua < ra)ra=Ua;}return oa.ij;});return {AN:S?Math.max(S - Q.G,0):0,BN:ra?Math.max(ra - Q.G,0):0};};aa.prototype.iF=function(){var Q,M,S,ra;S=this.Fq?this.On(this.Ed):{AN:0,BN:0};ra=G.default.instance().get();return {totalabuflmsecs:S.AN,totalvbuflmsecs:S.BN,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (M=Number(0 < ra.confidence) && (null === (Q=ra.ub) || void 0 === Q?void 0:Q.Da)) && void 0 !== M?M:0};};aa.prototype.XK=function(){var Q,M,S,ra,oa,Ca,Ua,Pa;Q=this;if(this.Vn())return (this.Yg.js({isStreamingFailureReported:!0}),[]);S=this.Ta.size;this.Yg.js({branchCount:S});if(!this.Fq || 0 === S)return [];ra=this.Ed;oa=this.zg;Ca=[];S=this.navigator.Hd(this.zg.J);Ua=S.duration;Pa=this.pg.get(S.id)?1:null !== (M=S.Ly) && void 0 !== M?M:1;M=this.Ta.reduce(function(Ya,ob,pb){var Db,Na,ib,kb,Ab;try{for(var ab=l.__values(ob.s4()),fb=ab.next();!fb.done;fb=ab.next()){ib=fb.value;if(!ib.Lq()){kb=("p").concat(Q.id,"-").concat(pb,"-").concat(null === (Na=ob.Bb) || void 0 === Na?void 0:Na.G);Ab=Q.PYa(ib);Ya.push(Q.iyb(ib,Ab.G,kb,Ua.G,Pa,ra.G,oa));}!ib.rB() && Q.Yg.enabled && Ca.push({segmentId:ib.J,isDoneStreaming:ib.Lq(),isNormalized:ib.Ng(),needsHeaderRequest:ib.track.V6});}}catch(Hb){var Bb;Bb={error:Hb};}finally{try{fb && !fb.done && (Db=ab.return) && Db.call(ab);}finally{if(Bb)throw Bb.error;}}return Ya;},[]);this.Yg.js({nonStreamables:Ca});return M;};aa.prototype.PYa=function(Q){var M;if(Q.ega)return Q.ega;M=this.QYa(Q);return !M || M.ij || this.config.m3 && this.navigator.oJb(M.mb.u,Q.J)?Q.oq:this.PYa(M);};aa.prototype.QYa=function(Q){var ra;if(!Q.mb.Uf){for(var M=Q.mb,S;!S;){ra=this.Ta.kT(M);if(!ra)break;M=ra;S=ra.rF(Q.mediaType);}return S;}};aa.prototype.jHb=function(Q){var M;if(!Q.mb.Uf){M=Q.mb.u.u.Hb;if(M)return (M=l.__read(this.Ta.zq(M),1)[0],null === M || void 0 === M?void 0:M.rF(Q.mediaType));}};aa.prototype.lSb=function(Q){var M,S;if(!this.M9.Vn()){M=void 0;S=this.Y.zg;S && (M=this.navigator.Hd(S.J).K);this.yf("BufferingStateTracker: Temporary failure while buffering",M,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Fh,null === Q || void 0 === Q?void 0:Q.Rx,null === Q || void 0 === Q?void 0:Q.dk);}};aa.prototype.yf=function(Q,M,S,ra,oa,Ca,Ua){void 0 === Ua && (Ua=!1);"string" === typeof Q?this.M9.yf(Q,S,{networkErrorCode:ra,httpCode:oa,nativeCode:Ca,viewableId:M,temporaryFailure:Ua}):this.M9.qXb(Q);return !0;};aa.prototype.fwa=function(Q,M){M=this.q4(M,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:M});};aa.prototype.q4=function(Q,M){void 0 !== Q && this.g6.bNb(Q);M=this.Jy.pj(Q,M);Q === z.pc.mj && (Q=this.iF(),M.vbuflmsec=Q.totalvbuflmsecs,M.abuflmsec=Q.totalabuflmsecs,M.vbuflbytes=Q.vbuflbytes,M.abuflbytes=Q.abuflbytes);return M;};aa.prototype.sbb=function(Q){this.wR=Q;this.lj("updateBudget");};aa.prototype.Vn=function(){return this.M9.Vn();};aa.prototype.Mbb=function(Q){Q !== this.weight && (this.MOa=Q,this.events.emit("weightUpdated"));};aa.prototype.Gt=function(Q){var M,S,ra,oa,Ca,Ua,ob,pb,Db,Na,ab,fb,ib,kb,Ab,Bb;ra=(0,J.dRa)(this.fa,Q);oa=ra.DM;Ca=ra.Utb;Ua=ra.f3b;if([ra.Aga,oa,Ca].every(function(Kb){return !Kb.length;}))return (this.Cua(Q),this.qm.start(),{ia:!0,reason:f.Pr.ijb});if(0 === Ca.length && 0 === Ua.length && this.Eq && this.Y.ae)return {ia:!1,reason:f.Pr.sib};if(this.Y.Ta.some(function(Kb){return -1 < oa.indexOf(Kb.u.id);}))return {ia:!1,reason:f.Pr.fkb};if(this.Fq && !this.Y.ae && -1 < oa.indexOf(this.$e.J))return {ia:!1,reason:f.Pr.Jhb};if(this.Fq)try{for(var Pa=l.__values(Ca),Ya=Pa.next();!Ya.done;Ya=Pa.next()){ob=Ya.value;pb=this.fa.L[ob];Db=pb.sa;Na=pb.qa;ab=pb.K;fb=Q.L[ob];ib=fb.qa;kb=fb.sa;Ab=fb.K;if(this.zg.J === ob && ib !== Na){if(!ib)return {ia:!1,reason:f.Pr.gkb};Bb=k.N.Na(ib - kb);if(null === (S=this.zg.offset) || void 0 === S?0:S.greaterThan(Bb))return {ia:!1,reason:f.Pr.hdb};}if(Db !== kb)return {ia:!1,reason:f.Pr.rgb};if(ab !== Ab)return {ia:!1,reason:f.Pr.sgb};}}catch(Kb){var Hb;Hb={error:Kb};}finally{try{Ya && !Ya.done && (M=Pa.return) && M.call(Pa);}finally{if(Hb)throw Hb.error;}}this.Cua(Q);this.qm.start();return {ia:!0,reason:f.Pr.hjb};};aa.prototype.TA=function(Q){Q=this.SS(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Ls()) && 0 !== Q.length)return k.N.min.apply(k.N,l.__spreadArray([],l.__read(Q.map(function(M){return M.TA();})),!1));};aa.prototype.Cua=function(Q){var M;M={type:"playgraphUpdating",tRb:this.dj,sQb:Q};this.dj=Q;this.navigator?this.navigator.update(Q):this.navigator=new N.TIa(Q);this.PIb=(0,J.CSa)(this.navigator);this.X3b();this.events.emit("playgraphUpdating",M);};aa.prototype.X3b=function(){var Q,M,S,ra,oa;S=this.Y && this.Eq && this.Y.ae?this.zg:void 0;if(S){ra=this.navigator.Hd(S.J);S=null === (Q=this.Y.$k) || void 0 === Q?void 0:Q.l3;if((Q=this.ema(ra)) && Q !== S && this.Y.Dq){oa=this.Y.Ay;null === (M=this.Y.$k) || void 0 === M?void 0:M.$G({u:oa.u,get mX() {return oa.Wa.wa(oa.u.Je);}},Q,this.zg.offset,!0,!1);}}};aa.prototype.lV=function(Q,M){this.B7a(Q);Q.sK.addListener("criticalNetworkError",this.q7);Q.sK.addListener("temporaryNetworkError",this.kV);Q.sK.addListener("updatingLastSuccessEvent",this.y7);Q.events.addListener("liveEventTimesUpdated",this.i7);Q.events.addListener("liveLoggingInfoUpdated",this.j7);Q.ha && Q.nVb();this.wc === d.am.jl && M && this.x8a();};aa.prototype.kra=function(Q){0 === this.Ta.filter(function(M){return M.Tn && M.pa === Q;}).length && this.B7a(Q);};aa.prototype.B7a=function(Q){Q.sK.removeListener("criticalNetworkError",this.q7);Q.sK.removeListener("temporaryNetworkError",this.kV);Q.sK.removeListener("updatingLastSuccessEvent",this.y7);Q.events.removeListener("liveEventTimesUpdated",this.i7);Q.events.removeListener("liveLoggingInfoUpdated",this.j7);};aa.prototype.WOa=function(Q){var M;(0,v.assert)(Q.Ng,"expected branch to be normalized on addBranchToPlayer");this.Y.Dq || (null === (M=this.jm) || void 0 === M?0:M.Ng) || this.MDb(Q);this.Se.wwa(Q.Od);this.Y.Dq && (M=this.Y.Nq) && this.pg.clear(M.u.id);this.Y.hka(Q);this.V1.Yva(Q,this.Ed);};aa.prototype.MDb=function(Q){(0,v.assert)(Q.La,"Normalized branch should have a defined content start timestamp");(0,v.assert)(this.jm,"AsePlaygraph should have a seek position on first branch normalization");(0,v.assert)(!this.jm.Ng,"Seek position should not already be normalized on first branch normalization");this.jm=l.__assign(l.__assign({},this.jm),{position:{J:Q.u.id,offset:Q.La.wa(Q.u.Je)},Ng:!0});this.Se.tZb(this.jm.position,Q.Od.filter(function(M){return M.mediaType === f.v.ga;})[0]);};aa.prototype.yub=function(){var Q;this.V1.reset();this.Y.uA();this.jm=void 0;null === (Q=this.LQa) || void 0 === Q?void 0:Q.clear();};aa.prototype.iyb=function(Q,M,S,ra,oa,Ca,Ua){var Pa,Ya,ob,pb;Pa=this;pb=null !== (ob=null === (Ya=Q.mb.Bb) || void 0 === Ya?void 0:Ya.G) && void 0 !== ob?ob:Q.mb.Xx.G;Ya=Q.wC.G;ob=this.pg.get(Q.J)?1:Q.mb.u.Ly;return {identifier:Q.J,mediaType:Q.mediaType,Rg:Q.Rg,Ff:this.Ff.value,uy:M,qr:Ya,sq:Ca,iWa:Q.xK.G,nsa:Ua.offset.G,msa:ra,JV:oa,Ly:ob,FA:Q.mb.Fd.G,F$a:Math.max(Ya - pb,0),rB:Q.rB(),Lq:Q.Lq(),groupId:S,A0a:function(Db,Na){Db=Pa.D$a.Ctb(Db,Q.mediaType,1 > Na || !Q.mb.Uf && !Pa.s5(Q.mb));1 === Na && "global" === (0,f.Rsa)(Db.reason) && Pa.Se.JRb(Q.mediaType,Pa.On(Pa.Ed));return Db;},F0a:function(){var Db,Na,ab,fb,ib,kb,Ab,Bb,Hb,Kb,Qb,Tb,Fb;fb=Q.mediaType;ib=Pa.Sma.WYb(Pa.Ff.value,Pa.Ed,Q.wC,Q.E$a,Pa.Y.playbackRate,Q,fb === f.v.ga?Pa.Frb:Pa.x$,Pa.B1);kb=ib.stream;Ab=ib.HW;Bb=ib.fL;Hb=ib.Ny;Kb=ib.sy;Qb=ib.reason;Tb=ib.nDb;ib=ib.XYb;if(!kb)return {ci:!1,reason:Qb || "selectLocationsAndStream"};if(Pa.Ff.value === f.yc.jl && Q.mb && Q.mb.pa.Cl && !Q.mb.pa.HU && !Pa.Y.IF(Q.mb.pa.K)){Qb=Q.wC.G - Pa.Ed.G;if(!Q.mb.pa.wq && Qb > Pa.config.r2a)return {ci:!1,reason:"maxBufferingCompleteBufferInMs"};if(!kb.ai && kb.mediaType === f.v.Z && Qb >= Pa.config.Ipa)return {ci:!1,reason:"maxFastPlayBufferInMs"};}Qb=f.v.Z;if(null === (Db=Q.mb) || void 0 === Db?0:Db.Od.every(function(Sb){return Sb.mediaType === f.v.ga;}))Qb=f.v.ga;Pa.Se.Zj && fb === Qb && Pa.Se.FZb(Q.Tk.ZYb,kb.bitrate,Bb);Pa.l9(Ab);Db=null === (Na=Q.mb.xr) || void 0 === Na?void 0:Na.G;Na=Q.$ab(kb,Kb,Hb);if(Na.ci){Pa.Oea && (Pa.ZI("firstDriveStreaming"),Pa.Oea=!1);if(0 < Pa.HA){Fb=null === (ab=Q.mb.xr) || void 0 === ab?void 0:ab.G;Db && Fb && (Pa.HA-=Db - Fb,0 >= Pa.HA && Pa.x8a());}Pa.events.emit("requestIssued",{type:"requestIssued",mediaType:fb,result:ib,streamList:Tb});}else "exceedsLiveEdge" === Na.reason && (null === (Fb=Pa.kfa) || void 0 === Fb?void 0:Fb.Ra(),Pa.kfa=Pa.Ar.SJ(u.yh.GC(kb.Qn().Fd),function(){Pa.kfa=void 0;Pa.lj("liveEdgeRetry");}));return Na;}};};aa.prototype.l9=function(Q){var M;M=this;Q.forEach(function(S){S.pa.zZb(S,function(){var ra,oa;(0,v.assert)(M.Fq,"Speculative header callback after streaming is cancelled");ra=M.Ed.G;oa=ra + M.config.I6;return {Rg:[],Ff:M.Se.state.value,uy:oa,qr:oa,sq:ra};});});};aa.prototype.x8a=function(){var Q;Q=this;this.qm.A$(Ta.$C.lw,function(){return Q.qm.start();});};aa.prototype.t8=function(){var Q,M,S,ra,oa;Q=this;if(this.wc === d.am.jl){M=this.zg;S=this.Y.Ta;ra=this.Ta.DIb();oa=l.__read(S,1)[0];M=oa?this.navigator.Hd(oa.u.id):this.navigator.Hd(M.J);S=S.map(function(Ca){return {id:Ca.u.id,duration:Ca.Kb.wa(Ca.Bb).G};});ra=(0,P.t8)(this.console,this.PIb,M,ra,this.pg,S,k.N.Na(this.config.qsb),this.config.kqa,k.N.Na(this.config.xha));S=ra.wta;this.HA=ra.HA || 0;ra=this.pka.reduce(function(Ca,Ua){return Ua(Ca);},S);this.Ta.t3b(ra,function(Ca,Ua){var Pa,Ya;Ya=Q.navigator.Hd(Ca);Ca=Ca === Q.$e.J?Q.$e.offset:Ca === (null === (Pa=Q.O0) || void 0 === Pa?void 0:Pa.J)?Q.O0.offset:k.N.Ia;Pa=Ya.Je.add(Ca);return Q.R2b(Ya,Pa,Ua);}).DM.forEach(function(Ca){Ca.Gf("aborted");});this.j7a();this.BRa();this.qm.A$(Ta.$C.lw,function(){var Ca;(null === (Ca=Q.Ta.root()) || void 0 === Ca?0:Ca.Tn) && Q.lj("reevaluateBranches");Q.qm.LU(Ta.$C.sP);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};aa.prototype.MIb=function(){return (0,w.hR)(this.Ta.filter(function(Q){return Q.Tn;}).map(function(Q){return Q.pa;}));};aa.prototype.j7a=function(){var Q,M;Q=this;if(this.wc === d.am.jl){if(!this.Y.Nq){M=l.__read(this.Ta.zq(this.$e.J),1)[0];(null === M || void 0 === M?0:M.Ng) && this.WOa(M);}if(this.Y.Nq)for(;;){M=this.IXa(this.Y.Nq.u);if(!M)break;M=l.__read(this.Ta.zq(M).filter(function(S){return S.parent === Q.Y.Nq;}),1)[0];if(!M)break;if(null === M || void 0 === M || !M.Ng)break;else if(this.Y.nZa(M))break;this.WOa(M);}}};aa.prototype.ema=function(Q){var M,S,ra,oa;if(this.Y.Dq){M=this.Y.Ay;S=!1;ra=this.Y.Ta.filter(function(Ca){S || (S=Ca === M);return S;});oa=(0,w.ks)(ra,function(Ca){return Ca.u.id === Q.id;});if(ra=ra[oa + 1])return ra.u.id;}return this.IXa(Q);};aa.prototype.IXa=function(Q){var M;M=this.pg.get(Q.id);if(void 0 !== M)return M;Q=this.navigator.QFb(Q);if(1 === Q.length)return Q[0].id;};aa.prototype.BRa=function(){var Q;Q=this.Ta.empty || 0 !== this.SEb();Q || this.L9?Q && this.L9 && (this.L9=!1):(this.Se.Zj && (Q=this.On(this.Ed),this.Se.rm("complete",Q.AN,Q.BN)),this.tnb(),this.L9=!0);};aa.prototype.SEb=function(){return this.Ta.filter(function(Q){return !Q.ij;}).length;};aa.prototype.PD=function(Q){this.s5(Q) && this.Se.fia(this.Ed,this.Y.playbackRate,Q,{eia:this.Sma.eia.bind(this.Sma,this.D$a)});};aa.prototype.BRb=function(Q,M){var S,ra;S=this;if(M.didNormalizeSegment){ra=la.kKa.LIb(Q);(0,v.assert)(ra,"Segment should be normalized");Promise.resolve().then(function(){return S.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.u.id,normalizedStart:M.segmentContentStart,normalizedEnd:M.branchContentEnd,viewableContentEnd:ra.wcb,viewableEarliestContentEnd:ra.xcb,media:c(Q.Od)});});}Promise.resolve().then(function(){S.j7a();});this.lj("branchNormalized");};aa.prototype.CRb=function(){this.BRa();};aa.prototype.ARb=function(){this.qm.start();};aa.prototype.uyb=function(Q,M){var S;S=this;return new n.Pya(Q.K,this.yu.Kp.bind(this.yu),function(ra,oa,Ca){S.state !== d.am.CLOSED && (S.lV(oa,Ca),S.qm.A$(Ta.$C.sP,function(){ra.Uf || S.snb(ra,oa,M);}));},this.kra.bind(this));};aa.prototype.R2b=function(Q,M,S){var ra,oa;if(this.vub(Q,M))throw Error("Not implemented");ra=this.uyb(Q,!S);oa=S?S.Kb.wa(M):this.u_a || k.N.Ia;Q=(0,m.BSa)({config:this.config,console:this.console,u:Q,events:this.events,QG:this.QG,Km:M,pe:oa,lp:this.Fyb.bind(this),Ff:this.Ff,he:this.he,FH:ra,PQa:this.nn,bsa:this.Ta});this.Y0b(Q,!!S);return Q;};aa.prototype.Fyb=function(){return this.Ed.G;};aa.prototype.Y0b=function(Q,M){var S,ra;S=this;ra=new g.Af();ra.addListener(Q.events,"needsRequest",function(){var oa;oa=S.Ta.root();oa && !oa.Tn || S.lj("branchNeedsHeader");});ra.addListener(Q.events,"branchNormalized",this.BRb.bind(this,Q));ra.addListener(Q.events,"lastRequestIssued",this.ARb.bind(this,Q));ra.addListener(Q.events,"branchStreamingComplete",this.CRb.bind(this,Q));ra.addListener(Q.events,"checkBufferingProgress",this.PD.bind(this,Q));ra.addListener(Q.events,"branchDestroyed",function(oa){ra.clear();S.Ta.contains(Q) && (S.Ta.ZWb(Q),S.qm.start());"aborted" === oa.reason && (S.Y.nZa(Q) || S.qm.A$(Ta.$C.lw,function(){return S.rnb(Q.u.id);}));});M || (this.ZI("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){S.ZI("createDlTracksEnd");}));};aa.prototype.xHb=function(Q){if(this.Y.ae)return this.Y.Ay.Ze(Q);};aa.prototype.QG=function(Q,M,S,ra){M=[[f.v.ga,null !== M && void 0 !== M?M:this.lE,"audio_tracks"],[f.v.Z,null !== S && void 0 !== S?S:this.IX,"video_tracks"]].map(function(oa){var Ca,Ua;Ca=l.__read(oa,3);Ua=Ca[0];oa=Ca[1];Ca=Ca[2];if(Q.X && ((0,v.assert)(oa,("Expected mediaType ").concat(Ua," track selector to be defined")),Ua=Q.X[Ca],oa=oa.VM(Q.X,Ua),void 0 !== oa))return Q.getTrackById(Ua[oa].EN);}).filter(w.e7);S=ra || this.qN;Q.X && S && (ra=Q.X.timedtexttracks,S=S.VM(Q.X,ra),void 0 !== S && 0 <= S && (ra=Q.getTrackById(ra[S].id)) && M.push(ra));return M;};aa.prototype.i7=function(Q){var M,S,ra,oa;M=this;S=Q.pa;ra=Q.startTime;oa=Q.endTime;this.Ta.filter(function(Ca){return Ca.Tn && Ca.pa === S;}).forEach(function(Ca){Ca={type:"liveEventTimesUpdated",J:Ca.u.id,startTime:ra,endTime:oa};M.events.emit(Ca.type,Ca);});};aa.prototype.j7=function(Q){var M,S,ra,oa;M=this;S=Q.pa;ra=Q.mediaType;oa=Q.info;this.Ta.filter(function(Ca){return Ca.Tn && Ca.pa === S;}).forEach(function(Ca){Ca={type:"liveLoggingInfoUpdated",J:Ca.u.id,mediaType:ra,info:oa};M.events.emit(Ca.type,Ca);});};aa.prototype.snb=function(Q,M,S){(0,v.assert)(Q.Od.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.u.id,contentOffset:Q.pe.G,maxBitrates:{audio:M.EL[f.v.ga],video:M.EL[f.v.Z]},media:c(Q.Od),initial:S};this.events.emit(Q.type,Q);};aa.prototype.rnb=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};aa.prototype.tnb=function(){var Q;Q={type:"streamerEnd",time:q.default.time.Ca()};this.events.emit(Q.type,Q);};aa.prototype.ZI=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.Ca()};this.events.emit(Q.type,Q);};l.__decorate([T.return.oh()],aa.prototype,"$e",null);l.__decorate([(0,E.Pb)({methodName:"checkCanSetTracks",return:!0})],aa.prototype,"Xtb",null);l.__decorate([(0,E.Pb)({methodName:"setTracks",return:!0})],aa.prototype,"Py",null);l.__decorate([(0,E.Pb)({methodName:"setNextSegment",iq:!0})],aa.prototype,"Ej",null);l.__decorate([(0,E.Pb)({methodName:"seekStreaming"}),l.__param(0,T.oh())],aa.prototype,"nC",null);l.__decorate([(0,E.Pb)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,T.oh()),l.__param(2,T.oh()),l.__param(2,T.k7)],aa.prototype,"Y8",null);l.__decorate([T.return.ESa(),l.__param(0,T.oh())],aa.prototype,"tT",null);l.__decorate([T.return.oh()],aa.prototype,"Mk",null);l.__decorate([l.__param(0,T.oh())],aa.prototype,"$K",null);l.__decorate([l.__param(0,T.oh())],aa.prototype,"uT",null);l.__decorate([T.return.oh(),l.__param(0,T.oh())],aa.prototype,"u8a",null);l.__decorate([l.__param(0,T.ESa()),l.__param(0,T.J())],aa.prototype,"Fs",null);l.__decorate([(0,E.Pb)({methodName:"getStreamables",Vj:!0})],aa.prototype,"XK",null);l.__decorate([(0,E.Pb)({methodName:"updatePlaygraphMap",return:!0})],aa.prototype,"Gt",null);return aa;})();b.iaa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pya=void 0;c=a(0);r=(function(){function l(g,h,d,f){this.K=g;this.Kp=h;this.lV=d;this.kra=f;}Object.defineProperties(l.prototype,{pa:{get:function(){var g;return null === (g=this.JX) || void 0 === g?void 0:g.pa;},enumerable:!1,configurable:!0}});l.prototype.Ra=function(){var g;this.pa && (this.pa.j3b(this.mb),this.kra(this.pa));null === (g=this.JX) || void 0 === g?void 0:g.vL.release();this.JX=void 0;};l.prototype.oa=function(g){return c.__awaiter(this,void 0,void 0,function(){var h,d,f,n,k;return c.__generator(this,function(m){switch(m.label){case 0:return (this.mb=g,h=this.Kp(this.K),d=h.FC,f=h.pa,n=h.vL,this.JX={vL:n,pa:f},f?(this.t_a(f,g,!1),[2,f]):[4,d]);case 1:return (k=m.cb(),this.t_a(k,g,!0),[2,k]);}});});};l.prototype.t_a=function(g,h,d){this.JX && (this.JX.pa=g,g.JWb(h),this.lV(h,g,d));};return l;})();b.Pya=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BSa=void 0;c=a(36);l=a(1009);g=a(10);h=a(1010);b.BSa=function(d){var f,n,k,m,p,q,v,t,w,u,y,x;f=d.config;n=d.console;k=d.bsa;m=d.u;p=d.events;q=d.QG;v=d.Km;t=d.pe;w=d.lp;u=d.Ff;y=d.he;x=d.FH;d=d.PQa;m.K === c.gn && f.UE?(p=new l.$Ga(m.K,f.tra),q=g.N.Ia,f=new (a(1046).ZGa)(n,m,q,k.kT.bind(k),p,f)):f=new h.Mya(f,n,p,m,q,v,t,w,k.kT.bind(k),u,y,x,d);return f;};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ga=void 0;r=a(0);c=a(36);l=r.__importDefault(a(5));a=(function(){function g(h,d){this.K=h;this.S4b=d;this.Su=!0;this.IZa=this.Cl=this.wq=!1;this.O=("").concat(c.gn);this.ha=this.HU=!1;this.console=new l.default.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(g.prototype,{qC:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return l.default.time.now();},enumerable:!1,configurable:!0}});g.prototype.getTrackById=function(){};g.prototype.ph=function(){};g.prototype.n7a=function(){};g.prototype.yf=function(){return !0;};return g;})();b.$Ga=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Mya=b.kz=void 0;c=a(0);l=a(148);g=a(7);h=a(10);d=a(21);r=a(90);f=a(49);n=a(4);k=a(256);m=a(420);p=a(9);q=a(127);v=a(1011);t=a(425);w=a(1033);(function(y){y[y.rO=0]="CREATED";y[y.jO=1]="CANCELLED";})(u=b.kz || (b.kz={}));a=(function(y){function x(z,A,B,C,D,E,G,F,H,K,O,I,P){A=y.call(this,C,H,G,E,A) || this;A.W=z;A.M7=B;A.OXa=D;A.Sea=F;A.NP=K;A.Xw=O;A.FH=I;A.nn=P;A.jv=new m.dP();A.qta=0;A.yb=void 0;A.Rv=void 0;A.fo=new h.oz();A.k5=new h.oz();A.Vqa=A.IKb();return A;}c.__extends(x,y);Object.defineProperties(x.prototype,{Od:{get:function(){var z;this.Tn && 0 === (null === (z=this.kJ) || void 0 === z?void 0:z.length) && this.OXa && (p.I && this.console.trace("Branch getting initial tracks"),this.kJ=this.OXa(this.pa).sort(t.DH),p.I && this.console.trace("Branch got initial tracks:",this.kJ));return this.kJ;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rJ:{get:function(){return this.ij?this.Ls().every(function(z){return z.Ic.rJ;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{GPa:{get:function(){return this.Ls().some(function(z){return z.Bqb;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{by:{get:function(){var z;return !(null === (z=this.fd) || void 0 === z || !z.by);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ij:{get:function(){var z;return !(null === (z=this.fd) || void 0 === z || !z.ij);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hA:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.hA) && void 0 !== A?A:0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ng:{get:function(){var z;return !(null === (z=this.fd) || void 0 === z || !z.Ng);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{QN:{get:function(){return this.fo.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Tn:{get:function(){var z;return !(null === (z=this.FH) || void 0 === z || !z.pa);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{R4:{get:function(){return !!this.Od.length && this.Od.every(function(z){return z.Yj;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pa:{get:function(){(0,n.assert)(this.FH.pa,"viewable should be available");return this.FH.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{T:{get:function(){var z;return (null === (z=this.fd) || void 0 === z?void 0:z.T) || this.Km.T;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{kb:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.kb) && void 0 !== A?A:this.Km.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nb:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.nb) && void 0 !== A?A:this.u.Ag.Nd(this.Km.T).xa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sm:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.Sm) && void 0 !== A?A:this.pe.Nd(this.T).xa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xx:{get:function(){var z,A,B;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.Xx) && void 0 !== A?A:null === (B=this.Km) || void 0 === B?void 0:B.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xK:{get:function(){var z,A;A=null === (z=this.u.u.vq) || void 0 === z?void 0:z[0];return A && this.La?d.N.Na(Math.max(0,A[0] - this.La.G - this.u.Je.G)):d.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$q:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.$q) && void 0 !== A?A:this.u.Je.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tG:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.tG) && void 0 !== A?A:this.u.Ag.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{W5:{get:function(){var z;return null === (z=this.fd) || void 0 === z?void 0:z.W5;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pe:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.pe) && void 0 !== A?A:this.ku;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xr:{get:function(){var z,A;return null !== (A=null === (z=this.fd) || void 0 === z?void 0:z.xr) && void 0 !== A?A:this.u.Ag.wa(this.Km || this.u.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{oq:{get:function(){var z;return null === (z=this.fd) || void 0 === z?void 0:z.oq;},enumerable:!1,configurable:!0}});x.prototype.oa=function(){return c.__awaiter(this,void 0,void 0,function(){var z,A,B;B=this;return c.__generator(this,function(C){switch(C.label){case 0:y.prototype.oa.call(this);if(this.Uf)return [2];p.I && this.console.log(("AseBranch {").concat(this.u.id,"} awaiting viewable"));return [4,this.FH.oa(this)];case 1:C.cb();p.I && this.console.log(("AseBranch {").concat(this.u.id,"} viewable available, branch ").concat(this.Uf?"cancelled":"active"));if(this.Uf)return [2];z=this.Od.map(function(D){var E;return null === (E=B.parent) || void 0 === E?void 0:E.WK(D.mediaType);});this.l9a(this.Km);this.Od.some(function(D){D.mediaType === g.v.Za && B.z9a(D);});return [4,this.MVa()];case 2:return (C.cb(),p.I && this.console.log(("AseBranch {").concat(this.u.id,"} have headers")),this.Uf?[2]:(A=this.parent)?[4,A.QN]:[3,4]);case 3:C.cb();if(this.Uf)return [2];this.Ixb(z);C.label=4;case 4:return (this.normalize(),[2]);}});});};x.prototype.Ixb=function(z){var A;A=this;this.jv.forEach(function(B){var C,D;D=null === (C=A.parent) || void 0 === C?void 0:C.WK(B.mediaType);(0,n.assert)(D,"Parent state should be defined");-1 === (null === z || void 0 === z?void 0:z.indexOf(D)) && (B.Tk.we.Ra(),C=new k.E_(function(){var E;return null === (E=A.parent) || void 0 === E?void 0:E.WK(B.mediaType);}),B.Tk.we=C);D=void 0;});z=void 0;};x.prototype.MVa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.R4?this.k5.resolve():(this.pa.events.on("onHeaderFragments",this.Vqa),this.events.emit("needsRequest"));return [2,this.k5.promise];});});};x.prototype.IKb=function(){var z;z=this;return function(){!z.Uf && z.R4 && (z.pa.events.Xq("onHeaderFragments",z.Vqa),z.k5.resolve());};};x.prototype.normalize=function(){this.Uf || (this.fd=new w.oGa(this,this.W,this.console,this.pa,this.M7,this.ej,this.Km,this.jv.items,this.ku,this.Sea,this.NP,this.events,this.Xw,this.nn),this.Yja(this.fd.EA),this.fo.resolve(this.fd));};x.prototype.update=function(z){var A;this.ej=z;(null === (A=this.fd) || void 0 === A?0:A.update(z)) && this.Yja(!0);};x.prototype.Vv=function(z,A){var B;void 0 === A && (A="unknown");y.prototype.Vv.call(this,z,A);null === (B=this.fd) || void 0 === B?void 0:B.Vv(z);};x.prototype.WA=function(z){return c.__awaiter(this,void 0,void 0,function(){var A;return c.__generator(this,function(B){switch(B.label){case 0:return [4,this.fo];case 1:return (A=B.cb(),[2,null === A || void 0 === A?void 0:A.WA(z)]);}});});};x.prototype.reset=function(){var z;null === (z=this.fd) || void 0 === z?void 0:z.reset();};x.prototype.Gf=function(z){var A;void 0 === z && (z="other");y.prototype.Gf.call(this,z);this.wc=u.jO;this.Tn && this.pa.events.Xq("onHeaderFragments",this.Vqa);null === (A=this.fd) || void 0 === A?void 0:A.Gf(z);this.jv.forEach(function(B){B.cancel();B.Tk.we.Ra();});this.FH.Ra();this.Rv && (this.Rv.removeAllListeners(),p.I && this.console.trace("AseBranch destroying textRequestQueue:",this.Rv),l.pz.instance.X2(this.Rv),this.Rv=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:z});this.events.removeAllListeners();};x.prototype.q5=function(z){var A;return !(null === (A=this.fd) || void 0 === A || !A.q5(z));};x.prototype.Ze=function(z){var A;return null === (A=this.fd) || void 0 === A?void 0:A.Ze(z);};x.prototype.S4=function(z){return this.Od.some(function(A){return A.mediaType === z;});};x.prototype.Ls=function(z){var A,B;void 0 === z && (z=t.DH);return null !== (B=null === (A=this.fd) || void 0 === A?void 0:A.Ls(z)) && void 0 !== B?B:[];};x.prototype.WK=function(z){var A,B;return (null === (A=this.Ze(z)) || void 0 === A?void 0:A.Tk.we) || (null === (B=this.jv.get(z)) || void 0 === B?void 0:B.Tk.we);};x.prototype.s4=function(){var z,A,B,C;z=this;if(!this.R4)return this.jv.items;C=null !== (B=null === (A=this.fd) || void 0 === A?void 0:A.s4()) && void 0 !== B?B:[];this.yb && C.some(function(D){if(D.mediaType === g.v.Z)return (D.Q1=z.yb,p.I && z.console.trace("Branch setting auxiliaryTrack:",z.yb),!0);});return C;};x.prototype.rF=function(z){var A;return (null === (A=this.fd) || void 0 === A?void 0:A.rF(z)) || this.jv.get(z);};x.prototype.On=function(z,A){var B;return (null === (B=this.fd) || void 0 === B?void 0:B.On(z,A)) || 0;};x.prototype.EK=function(){var z;return (null === (z=this.fd) || void 0 === z?void 0:z.EK()) || ({});};x.prototype.VS=function(z){var A;return (null === (A=this.fd) || void 0 === A?void 0:A.VS(z)) || this.Xx.G;};x.prototype.Py=function(z,A,B){return c.__awaiter(this,void 0,void 0,function(){var C,D,E,G,F;F=this;return c.__generator(this,function(H){switch(H.label){case 0:p.I && this.console.trace("Branch.setTracks:",z);this.kJ=z.sort(t.DH);this.l9a(A);if(!this.Ng)return [3,4];(0,n.assert)(this.fd);C=this.jv.filter(function(K){return K.track.Yj;}).items;D=this.fd.Cbb(C,A,B);E=D.$R;G=D.EA;E && this.Yja(G);if(this.R4)return [3,4];this.k5=new h.oz();this.fo=new h.oz();p.I && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks waiting for headers"));return [4,this.MVa()];case 1:return (H.cb(),this.Uf?[2]:this.parent?[4,this.parent.QN]:[3,3]);case 2:(H.cb(),H.label=3);case 3:(this.fd.Cbb(this.jv.items,A,B),p.I && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks pipelines updated")),this.fo.resolve(this.fd),this.events.emit("needsRequest"),H.label=4);case 4:return (z.some(function(K){if(K.mediaType === g.v.Za)return (F.z9a(K),!0);}),[2]);}});});};x.prototype.z9a=function(z){this.yb=z;this.Rv || (this.Rv=l.pz.instance.Bx(g.v.Za,this.pa.O,!0,!1,{Yu:this.W.Yu,ha:this.pa.ha},this.W),this.Rv.oa(),p.I && this.console.trace("AseBranch created textRequestQueue:",this.Rv));};x.prototype.YYa=function(){return this.yb;};x.prototype.l9a=function(z){var A;A=this;this.qta=0;this.jv=new m.dP(this.Od.filter(function(B){return B.mediaType !== g.v.Za;}).map(function(B){var C;C=A.jv.find(function(D){return D.track === B;});C || (++A.qta,C=new v.JCa(A,B,function(){var D;return null !== (D=null === z || void 0 === z?void 0:z.add(A.pe)) && void 0 !== D?D:d.N.Ia;},null !== z && void 0 !== z?z:d.N.Ia,A.W,A.console,function(){var D;return null === (D=A.parent) || void 0 === D?void 0:D.WK(B.mediaType);},A.M7,function(){0 === --A.qta && A.events.emit("requestQueuesCreated");}));return C;}));};x.prototype.Ym=function(z){var A;return (null === (A=this.fd) || void 0 === A?void 0:A.Ym(z)) || [];};x.prototype.NJ=function(z){var A;return !(null === (A=this.fd) || void 0 === A || !A.NJ(z));};x.prototype.h4=function(z){return this.fd?this.fd.h4(z):d.N.Ia;};x.prototype.d$=function(z){var A;return !(null === (A=this.fd) || void 0 === A || !A.d$(z));};x.prototype.Yja=function(z){z={type:"branchNormalized",segmentContentStart:this.u.Je,branchContentStart:this.La,branchContentEnd:this.Wa,didNormalizeSegment:z};this.events.emit(z.type,z);p.I && this.console.trace("branchNormalized:",z);};x.prototype.toJSON=function(){var z;return (null === (z=this.fd) || void 0 === z?void 0:z.toJSON()) || ({});};return x=c.__decorate([q.fF],x);})(t.uaa);b.Mya=a;(0,f.si)(r.Mt,a);},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JCa=void 0;c=a(421);l=a(148);g=a(7);h=a(256);d=a(422);f=a(4);r=(function(){function n(k,m,p,q,v,t,w,u,y){this.mb=k;this.track=m;this.t0b=p;this.n0b=q;this.config=v;this.console=t;this.events=u;this.cSb=y;this.QB=0;this.f6a=this.ij=!1;this.Tk=this.hyb(w);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{J:{get:function(){return this.mb.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Rg:{get:function(){return this.mb.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{E9:{get:function(){return this.t0b();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{oq:{get:function(){return this.E9;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wC:{get:function(){return this.E9;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{E$a:{get:function(){return this.n0b;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xK:{get:function(){return this.mb.xK;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xj:{get:function(){return this.me || (this.me=this.Bx());},enumerable:!1,configurable:!0}});n.prototype.rB=function(){return this.track.V6;};n.prototype.Lq=function(){return this.track.Yj;};n.prototype.Ng=function(){return !1;};n.prototype.HXa=function(){return {Ma:[],H7:0,Yq:0,CM:0};};n.prototype.A2b=function(){var k;(0,f.assert)(this.Lq());k=this.xj;this.me=void 0;return k;};n.prototype.$ab=function(k){return (k=k.yH(this.xj))?{ci:k,reason:"success"}:{ci:k,reason:"pipelineTryIssueHeaderRequest"};};n.prototype.cancel=function(){this.me && (this.mb.pa.PQ(this.mediaType,this.me),l.pz.instance.X2(this.me),this.me.removeAllListeners(),this.me=void 0);};n.prototype.k0a=function(){var k,m,p;p=this.config.io;if(null === (k=this.xj) || void 0 === k?0:k.track)p=null === (m=this.xj) || void 0 === m?void 0:m.track.io;return p;};n.prototype.hyb=function(k){var m,p,q;m=this.mediaType === g.v.ga?this.config.Grb:this.track.ha?this.config.FNb:this.config.C$a;k=new h.E_(k);k.b_b(this.track);p=this.config;q=this.mediaType;return new d.Jda(m,this.config,k,p.oS || q === g.v.ga && p.mS || q === g.v.Z && p.nS);};n.prototype.Bx=function(){var k,m;k=this;m=(0,c.Bx)(this.mediaType,this.track.pa,this.config,this.console,this.track.ha,function(p){return k.events.emit("transportReport",p);},function(p){return k.events.emit("mediaRequestComplete",p);},function(){});m.on("created",this.cSb);return m;};return n;})();b.JCa=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Jda=void 0;r=a(0);c=r.__importStar(a(24));l=r.__importDefault(a(53));g=r.__importDefault(a(5));h=a(19);d=a(7);f=a(1013);n=a(1014);k=new g.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");m=[d.rb[d.rb.Lj],d.rb[d.rb.ie],d.rb[d.rb.Kj],d.rb[d.rb.Td],d.rb[d.rb.Rh],"checkBuffering"];p=a(1016);q={first:function(){return a(1017);},random:function(){return a(1018);},optimized:function(){return a(183).default;},roundrobin:function(){return a(1023);},selectaudio:function(){return a(424);},selectaudioadaptive:function(){return a(1024);},"default":function(){return a(183).default;},lowest:function(){return a(1025);},highest:function(){return a(1026);},throughputthreshold:function(){return a(1027);},replay:function(){return a(1028).default;},checkdefault:function(){return a(1030);},livesimple:function(){return a(1031).default;},testscript:function(){return p;}};v={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var I6S;I6S=2;function t(w,u,y,x){var F2B,z,A;F2B=2;for(;F2B !== 6;){switch(F2B){case 7:x && (this.$4a=new n.XGa(u,null === (A=y.track) || void 0 === A?void 0:A.mediaType));F2B=6;break;case 4:var n$y="1S";n$y+="I";n$y+="YbZ";n$y+="r";n$y+="NJCp9";this.we=y;n$y;w=w || this.W.C$a;this.rMa=m.reduce(function(B,C){var z4_,D;z4_=2;for(;z4_ !== 4;){switch(z4_){case 2:D=(q[w] || q[v[C]])()[C] || q[v[C]]()[C];B[C]=D.bind(z);return B;break;}}},{});F2B=7;break;case 2:z=this;this.ZYb=w;this.W=u;F2B=4;break;}}}for(;I6S !== 6;){switch(I6S){case 7:return t;break;case 4:t.prototype.$5a=function(w,u,y,x){var G8q,z,A,B;G8q=2;for(;G8q !== 5;){switch(G8q){case 1:w.dla(function(C){var S8h;S8h=2;for(;S8h !== 1;){switch(S8h){case 2:z.O3(C,function(D){var L7z;L7z=2;for(;L7z !== 1;){switch(L7z){case 2:D.uB && D.Vb && D.Vb.confidence?(A !== D.Vb && (A=D.Vb,B=x(D.Vb,y,u,D.track.pa.EL[d.v.ga])),D.ub=Math.floor(B.lower) || 1,D.$1b=Math.floor(B.upper || 1) || 1):D.ub=void 0;L7z=1;break;}}});S8h=1;break;}}});G8q=5;break;case 2:z=this;G8q=1;break;}}};t.prototype.O3=function(w,u){var l26=R7xOY;var j92,y;j92=2;for(;j92 !== 3;){switch(j92){case 4:--y;j92=1;break;case 6:u(w[y],y,w);j92=1;break;case 5:u(w[y],y,w);j92=4;break;case 1:j92=0 <= y?5:3;break;case 8:l26.v$C(13);var b6U=l26.G5G(7,6,3);y=w.length / b6U;j92=8;break;case 2:l26.g6M(14);var K_G=l26.G5G(1,13,0,13);y=w.length - K_G;j92=1;break;}}};Object.defineProperties(t.prototype,{rL:{get:function(){var g6O;g6O=2;for(;g6O !== 1;){switch(g6O){case 2:return this.ffa;break;case 4:return this.ffa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Moa:{get:function(){var O54;O54=2;for(;O54 !== 1;){switch(O54){case 2:return this.jfa;break;}}},enumerable:!1,configurable:!0}});I6S=7;break;case 2:t.prototype.L8a=function(w,u,y,x,z,A,B){var q__,R,J,ka,N,P,i1y,C,D,E,G,F,H,K,O,I,L;q__=2;for(;q__ !== 61;){switch(q__){case 10:c.bi(O) && (O=this.we.f1a);w.state === d.rb.Lj && c.sb(O) && (w.state=d.rb.ie);q__=19;break;case 40:L.Uk=G.Uk;A=w && w.Ye;z=u.Ma;L.ep=z && void 0 !== A && !isNaN(A) && 0 <= A && A < z.length?z.Tl(A):G.Uk;L.gRb=R && R.ub && R.ub.Da || 0;L.TQa=G.wm - G.zd;q__=53;break;case 44:q__=R && A && 0 < A.length?43:40;break;case 65:q__=i1y === d.rb.Td?15:64;break;case 45:q__=i1y === d.rb.Kj?46:65;break;case 41:L.vUb=ka;q__=40;break;case 49:L.yC=g.default.time.Ca();q__=48;break;case 29:R=u.Vb;A=H.jOa;q__=44;break;case 46:this.we.k9a(l.default.oZ.Lj);q__=15;break;case 13:J=P[N - 1].Wb;O=(0,h.ks)(K,function(la){var h$o;h$o=2;for(;h$o !== 1;){switch(h$o){case 4:return la.Wb != J;break;case 2:return la.Wb === J;break;}}});q__=11;break;case 24:q__=!L || null === L.Mh?23:22;break;case 63:q__=62;break;case 62:var C5t="Strea";C5t+="m selector called ";C5t+="with inva";C5t+="lid player state ";return (k.error(C5t + d.rb[w.state]),null);break;case 16:this.we.k9a(l.default.oZ.Lj);q__=15;break;case 47:q__=i1y === d.rb.ie?46:45;break;case 43:ka=[];A.forEach(function(la){var L58,X;L58=2;for(;L58 !== 4;){switch(L58){case 2:X=la.stat;X=(la=R[la.filter]) && la[X];ka.push(isNaN(X)?-1:X);L58=4;break;}}});q__=41;break;case 22:var G93="min_frag";G93+="m";G93+="ent_vmaf";void 0 === L.JPb?this.we.AW(L.Mh):this.we.AW(L.JPb);u=K[L.Mh];L.GV=u.ub || 0;L.reason && (u.yt=L.reason,G93 !== L.reason && (u.TYb=L.Ps,u.h5=L.h5,u.cB=L.cB,u.dB=L.dB));q__=33;break;case 33:var J61="p";J61+="l";J61+="ay";J61+="in";J61+="g";this.$4a && (L.sy=this.$4a.uHb({pE:G.wm - G.zd,Bsb:G.Yk || 0,Asb:G.uE || 0,zd:G.zd,hOb:K[0],ag:u,f4b:K[L.Mh + 1] || u,u2b:K[K.length - 1],ue:w.state,playbackRate:w.playbackRate,Ye:w.Ye,U3:B,io:z}));c.sb(O) && u.bitrate < K[O].bitrate && (this.ffa=G.Uk);w.state !== d.rb.Td && w.state !== d.rb.Rh?(z=(0,f.L5a)(w.state),A=this.f2(w.buffer,z,w.playbackRate,u,A),(L.rm=A.complete)?L.ysb=A.reason:(L.rm=!1,L.KM=A.KM,L.spa=A.spa,L.progress=A.progress)):(L.rm=!0,L.ysb=J61);q__=30;break;case 25:L.ag && (L.KE=[],u.XDb(function(la,X){var q8c;q8c=2;for(;q8c !== 5;){switch(q8c){case 2:la === L.ag?L.Mh=X:(la.uva || H.fBb && (!la.Ma || !la.Ma.length)) && L.KE.push(la.Wb);la.uva=!1;q8c=5;break;}}}),!L.KE.length && H.Z_b && G.wm - G.zd > H.I6 && !L.ag.ha && (u=void 0,y=L.Mh + 1,y=y < K.length?K[y]:void 0,x=L.Mh - 1,x=0 <= x?K[x]:void 0,!y || y.Ma && y.Ma.length?!x || x.Ma && x.Ma.length || (u=x):u=y,u && L.KE.push(u.Wb)),L.KE.length || (L.KE=void 0));q__=24;break;case 7:P=G.Ma;N=P.length;q__=14;break;case 48:return L;break;case 3:P=this.we.Xn.zb;O=u.Cma(u.first,this.we.Xn.bitrate,P);q__=8;break;case 18:i1y=w.state;q__=i1y === d.rb.Lj?17:47;break;case 19:w.state !== d.rb.Lj && void 0 === O && (w.state=d.rb.Lj);q__=18;break;case 14:q__=0 < N?13:10;break;case 51:L.Sj=w && w.Sj;L.wr=F;q__=49;break;case 11:0 <= O || (O=P[N - 1].bitrate,P=P[N - 1].zb,O=u.Cma(u.first,O,P));q__=10;break;case 2:(G=null === w || void 0 === w?void 0:w.buffer,F=g.default.time.Ca(),H=this.W,K=u.first,O=this.we.f1a,I=!1);c.sb(O) && w.state === d.rb.Lj && (this.we.AW(void 0),O=void 0);c.sb(O) && O >= K.length && (this.we.AW(void 0),O=void 0);q__=4;break;case 53:L.Ksb=G.Yk;L.ZTb=null !== (E=null === (D=null === (C=g.default.scc) || void 0 === C?void 0:C.call(g.default)) || void 0 === D?void 0:D[w.mediaType === d.v.Z?1:0]) && void 0 !== E?E:-1;q__=51;break;case 64:q__=i1y === d.rb.Rh?15:63;break;case 15:void 0 !== x && this.$5a(u,w.state,w.buffer,x);L=this.rMa[d.rb[w.state]].call(this,H,w,u,O,x,!!z,I,y);L.ue=w.state;q__=25;break;case 4:q__=c.bi(O) && w.state === d.rb.Td && (I=!0,void 0 !== this.we.Xn)?3:7;break;case 17:this.jfa=this.ffa=void 0;q__=16;break;case 23:return null;break;case 30:q__=w.kS?29:48;break;case 8:this.we.AW(O);q__=7;break;}}};t.prototype.f2=function(w,u,y,x,z){var i8o;i8o=2;for(;i8o !== 1;){switch(i8o){case 2:return this.rMa.checkBuffering.call(this,w,u,y,x,z,this.W);break;}}};t.prototype.M0b=function(w,u,y){var u7o;u7o=2;for(;u7o !== 1;){switch(u7o){case 2:c.bi(u)?this.ffa=this.jfa=void 0:u.bitrate < y.bitrate && (this.jfa=w);u7o=1;break;}}};I6S=4;break;}}})();b.Jda=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.L5a=void 0;c=a(7);b.L5a=function(l){switch(l){case c.rb.ie:l=c.yc.ie;break;case c.rb.Kj:l=c.yc.Kj;break;case c.rb.Lj:case c.rb.zo:case c.rb.w_:l=c.yc.zo;break;default:l=c.yc.jl;}return l;};},function(r,b,a){var v,t,w;function c(u){return g(u.ag);}function l(u,y){var x,B,C;x=h(y.PWb,u.ue,u.ag.Vb.confidence);if(0 === x.length)return 0;a:switch(y.OSb){case "implicit":y=q(y,u.ag);y=u.pE / y;break a;case "capacityPercentage":y=Math.max(u.Bsb / u.Asb || 0,u.pE / y.YF);break a;default:y=0;}for(var z=-1,A=0;A < x.length;A++){if(x[A].W1 >= y){z=A;break;}}if(-1 === z)return d(u,x[x.length - 1].xia);if(0 === z)return d(u,x[0].xia);B=x[z - 1].W1;A=d(u,x[z - 1].xia);C=x[z].W1;u=d(u,x[z].xia);x=Math.min((y - B) / (C - B),1);return (1 - x) * A + x * u;}function g(u){var y,x;x=null === (y=null === u || void 0 === u?void 0:u.pa) || void 0 === y?void 0:y.EL;return x?x[u.mediaType] || 0:0;}function h(u,y,x){var A;function z(B,C){return void 0 !== B && 0 < B.filter(function(D){return D === C;}).length;}A=u.filter(function(B){return z(B.U7,y);});0 === A.length && (A=u.filter(function(B){return !B.U7 || 0 === B.U7.length;}));u=A.filter(function(B){return z(B.G3a,x);});0 === u.length && (u=A.filter(function(B){return !B.G3a || 0 === B.G3a.length;}));return u.sort(function(B,C){return B.W1 - C.W1;});}function d(u,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=u.ag;z=u.f4b;A=u.u2b;B={selectedFragmentBitrate:f(u.U3,x,u.Ye) * u.playbackRate,selectedPeakBitrate:(x.rv || n(x) || 0) * u.playbackRate,upswitchPeakBitrate:(z.rv || n(z) || 0) * u.playbackRate,maxPeakBitrate:(A.rv || n(A) || 0) * u.playbackRate,selectedAverageBitrate:n(x) * u.playbackRate,upswitchAverageBitrate:n(z) * u.playbackRate,maxAverageBitrate:g(x) * u.playbackRate,bufferLevelMs:u.pE,observedThroughput:k(u.ag) || 0,averagetp:m(u.ag) || 0,stddevtp:p(u.ag) || 0};u=y.offset || 0;return Object.keys(B).reduce(function(C,D){return C + (y[D] || 0) * B[D];},u);}function f(u,y,x){var z;return void 0 !== x && y.Ma?(void 0 === u?null === (z=y.Ma) || void 0 === z?void 0:z.get(x).uha:u.GXa(y,x).uha) || y.rv || 0:y.rv || 0;}function n(u){return (null === u || void 0 === u?void 0:u.bitrate) || 0;}function k(u){var y;u=u.Vb;return (null === (y=null === u || void 0 === u?void 0:u.ub) || void 0 === y?void 0:y.Da) || 0;}function m(u){var y;u=u.Vb;return (null === (y=null === u || void 0 === u?void 0:u.zm) || void 0 === y?void 0:y.vJ) || 0;}function p(u){var y;u=u.Vb;return Math.sqrt(null === (y=null === u || void 0 === u?void 0:u.zm) || void 0 === y?void 0:y.NN) || 0;}function q(u,y){var x,z;x=u.E1b;x=m(y) + x * p(y);y=y.ub || 0;z=0;0 < y && (z=x / y - 1);return u.NPb + u.D1b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.vGb=b.oHb=b.AFb=b.XGa=void 0;r=a(0).__importDefault(a(5));v=a(7);t=a(1015);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(u,y){return y.r$a;},none:function(){return 0;},regression:l,epsGreedy:function(u,y){return Math.min(l(u,y) || 0,k(u.ag));},"default":c};a=(function(){var f6H;f6H=2;for(;f6H !== 9;){switch(f6H){case 2:u.prototype.EWa=function(y,x){var c8D,B,z,A;c8D=2;for(;c8D !== 6;){switch(c8D){case 4:z=y;this.W.l2 && (z=this.k4(y,A.Msa[0],x));c8D=9;break;case 5:var G0S="H";G0S+="Y";G0S+="B";G0S+="RID";c8D=G0S === this.$s?4:7;break;case 9:B=new t.Hca(this.$s,void 0,{YJb:1,sy:z,Uha:Number(this.W.Uha),hPb:this.W.XOb,pta:Number(this.W.pta)});c8D=8;break;case 7:var x$8="C";x$8+="C";x$8+="S";x$8+="P";x$8 === this.$s && (B=new t.Hca(this.$s,A?{Ry:this.k4(y,A.Msa[0],x),wx:this.k4(y,A.Msa[1],x),Fy:this.k4(y,A.Msa[2],x)}:{Ry:0,wx:0,Fy:0},void 0));c8D=8;break;case 8:return B;break;case 2:A=this.W.l2;x=null === (z=x.hOb) || void 0 === z?void 0:z.rv;c8D=5;break;}}};u.prototype.tHb=function(y){var d9p,x,z;d9p=2;for(;d9p !== 5;){switch(d9p){case 2:var i9r="st";i9r+="a";i9r+="t";i9r+="ic";var K7c="C";K7c+="C";K7c+="S";K7c+="P";var g4S="HYBR";g4S+="I";g4S+="D";z=null === (x=y.ag) || void 0 === x?void 0:x.mediaType;return g4S !== this.$s || this.W.lBb?K7c === this.$s && (z === v.v.ga && !this.W.jBb || z === v.v.Z && !this.W.kBb)?0:i9r === this.W.MSb?this.W.r$a:g(y.ag):0;break;}}};u.prototype.k4=function(y,x,z){var y4g;y4g=2;for(;y4g !== 3;){switch(y4g){case 1:return 0;break;case 2:y4g=!x?1:5;break;case 5:R7xOY.v$C(15);y=Math.ceil(R7xOY.G5G(x,y));return y < (this.W.l2.kdc || 0) * (z || 0)?0:y;break;}}};u.prototype.uHb=function(y){var U_E,x,z,A;U_E=2;for(;U_E !== 7;){switch(U_E){case 2:(z=null === (x=y.ag) || void 0 === x?void 0:x.mediaType,A=this.W.oS || z === v.v.ga && this.W.mS || z === v.v.Z && this.W.nS);x=this.EWa(0,y);z=this.W.l2;U_E=4;break;case 4:U_E=!this.$s || !A || !z || (A=this.W.i3b) && y.Ye && 0 === y.Ye % A || y.pE < z.IB?3:9;break;case 3:return x;break;case 9:x=y.io?this.algorithm(y,this.W):this.tHb(y);return this.EWa(x,y);break;}}};return u;break;}}function u(y,x){var J92;J92=2;for(;J92 !== 7;){switch(J92){case 2:var g3w="d";g3w+="ef";g3w+="a";g3w+="ul";g3w+="t";var j6q="1S";j6q+="I";j6q+="YbZr";j6q+="NJCp9";this.W=y;j6q;this.algorithm=(w[x === v.v.ga?this.W.LSb:this.W.KSb] || w[g3w]).bind(this);J92=4;break;case 4:J92=y.oS?3:9;break;case 3:var p5m="HY";p5m+="BRI";p5m+="D";this.$s=p5m;J92=7;break;case 9:J92=y.nS || y.mS?8:7;break;case 8:var D_u="C";D_u+="C";D_u+="S";D_u+="P";this.$s=D_u;J92=7;break;}}}})();b.XGa=a;b.AFb=h;b.oHb=k;b.vGb=q;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hca=void 0;c=a(0);r=(function(){function l(g,h,d){var f,n,k;this.$s=g;"HYBRID" === g?this.CT=d:"CCSP" === g && (this.Ry=null !== (f=h.Ry) && void 0 !== f?f:0,this.wx=null !== (n=h.wx) && void 0 !== n?n:0,this.Fy=null !== (k=h.Fy) && void 0 !== k?k:0);}Object.defineProperties(l.prototype,{M6a:{get:function(){return [this.Ry,this.wx,this.Fy];},enumerable:!1,configurable:!0}});l.prototype.i3a=function(){return Math.min(this.Ry,this.wx,this.Fy);};l.prototype.C5=function(){return this.M6a.some(function(g){return 0 < g;});};l.prototype.Wta=function(g){return new l(this.$s,{Ry:g * this.Ry,wx:g * this.wx,Fy:g * this.Fy});};l.prototype.Gpa=function(g,h,d,f){var n;n=8 * g / Math.max(d - h,1);if(!this.C5())return !1;g=this.M6a.map(function(k){return Math.abs(n - k) / k;});return Math.min.apply(Math,c.__spreadArray([],c.__read(g),!1)) < f;};return l;})();b.Hca=r;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p){var q;q=p.first;f=q;n=q.map(function(v,t){return t;});if(null === d)return (k=g(q),d=q[k].bitrate,new h(k));if(!q.length)return null;k=n.filter(function(v){return q[v].bitrate == d;})[0];return void 0 === k?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new h(n[0])):new h(k);}b=a(33);a=a(5).default;l=b.console;g=b.Uka;h=b.kn;d=null;f=null;n=null;a.Rtb && (a.Rtb.Tk={oa:function(){n=f=d=null;},L8a:function(k){d=k;},ucc:function(){return {all:f,Rbb:n};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l,g,h,d;function c(f,n,k,m){f=k.first;if(l.bi(m))m=g(f);else if(!h(f[m]) && (m=g(f,m),0 > m))return null;return new d(m);}l=a(24);b=a(33);g=b.Uka;h=b.nL;d=b.kn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l;function c(g,h,d){g=d.first.map(function(f,n){return f.uB?n:null;}).filter(function(f){return null !== f;});return g.length?new l(g[Math.floor(Math.random() * g.length)]):null;}l=a(33).kn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.d9=void 0;r=a(0);c=r.__importStar(a(24));l=a(19);r=r.__importDefault(a(33));g=a(423);h=r.default.assert;d=r.default.kn;b.d9=f;(function(){var b3F;b3F=2;for(;b3F !== 5;){switch(b3F){case 2:var Y1Q="1";Y1Q+="S";Y1Q+="IYbZrNJCp9";b.d9=f=function(k,m,p,q,v,t,w){var f_7;f_7=2;for(;f_7 !== 1;){switch(f_7){case 2:var e1d="p";e1d+="la";e1d+="y";e1d+="ing";return e1d === k.Bha?g.Ql.call(this,k,m,p,q,v,t,w):n.call(this,k,m,p,q);break;}}};Y1Q;b3F=5;break;}}function n(k,m,p,q){function v(z){var r6g,A;r6g=2;for(;r6g !== 8;){switch(r6g){case 4:var M4P="buff_";M4P+="l";M4P+="t_hist";y=M4P;x=A;return !0;break;case 1:r6g=!A || (z.bitrate > u?k.e4b:1) * z.bitrate * m.playbackRate > A?5:4;break;case 2:A=z.ub;r6g=1;break;case 5:return !1;break;}}}var w2S,x,y,t,w,u;w2S=2;for(;w2S !== 19;){switch(w2S){case 14:x=null === w || void 0 === w?void 0:w.ub;w2S=12;break;case 6:var F$p="fa";F$p+="l";F$p+="lback_lowes";F$p+="t_acceptab";F$p+="le_stream";y=F$p;w2S=14;break;case 7:w=t[0];w2S=6;break;case 12:q=new d();q.ag=w;p !== w && (q.reason=y,q.Ps=x);w2S=20;break;case 8:w2S=void 0 === w?7:13;break;case 3:q=Math.min(q + (k.zqb?2:1),t.length);w=(0,l.uc)(t.slice(0,q).reverse(),v);w2S=8;break;case 13:var W3e="select_";W3e+="fe";W3e+="as";W3e+="ible_";W3e+="buffering";y=W3e;w2S=14;break;case 4:w2S=w.ub?3:12;break;case 1:(t=p.first,w=t[q],u=w.bitrate);p=w;w2S=4;break;case 2:var Y$e="Must ha";Y$e+="ve";Y$e+=" at lea";Y$e+="st";Y$e+=" one selected stream";h(!c.bi(q),Y$e);w2S=1;break;case 20:return q;break;}}}})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);c.__importStar(a(24));l=a(33);b.default=function(g){var y0x=R7xOY;var m0C,H,K,O,I,P,N,J,G,F,A,B,C,D,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,E;m0C=2;for(;m0C !== 50;){switch(m0C){case 54:n=Math.min(G,n);m0C=24;break;case 52:return (g && m.push(G / (A / 1E3)),c.__assign({result:!1,tU:Math.min(G,n) / (A / 1E3),av:!0},g && ({X1:m})));break;case 25:(H=G[1],K=h.mT(D),O=h.LK(D),I=0,P=h.mT(I),N=h.LK(I),J=B - q);m0C=24;break;case 35:m0C=w < q?34:53;break;case 23:J--;q=K[H];B=O[H];m0C=35;break;case 30:return (g && m.push(G / (A / 1E3)),c.__assign({result:!1,tU:G / (A / 1E3),av:!1},g && ({X1:m})));break;case 37:g && m.push(G / (A / 1E3));E=G;m0C=54;break;case 6:G=h.LK(0)[0];y0x.g6M(16);k=y0x.G5G(G,A,1E3,k);y0x.g6M(17);u=y0x.G5G(u,8,0);y0x.v$C(2);F=y0x.G5G(1E3,A);m0C=11;break;case 38:H >= K.length && ++D < h.length && (v-=K.length,K=h.mT(D),O=h.LK(D),H=0);m0C=37;break;case 5:var B1J="1SIYbZr";B1J+="N";B1J+="JCp9";B1J;(A=h.T,B=Math.min(h.pEb,d),C=n - f,D=8 * m / u | 0);m=[];m0C=9;break;case 42:m0C=k < f && d < H?41:40;break;case 33:m0C=w < E?32:31;break;case 32:(f=k,w+=P[d],++d,d >= P.length && ++I < h.length && (P=h.mT(I),N=h.LK(I),d=0),G=N[d],k+=G);m0C=33;break;case 41:(w+=P[d],++d,d >= P.length && ++I < h.length && (P=h.mT(I),N=h.LK(I),d=0));m0C=42;break;case 24:m0C=J?23:51;break;case 51:return c.__assign({result:!0,tU:n / (A / 1E3),av:!0},g && ({X1:m}));break;case 43:w-=q;m0C=42;break;case 28:y0x.v$C(18);f+=y0x.G5G(F,u,0,q);p+=B;m0C=43;break;case 11:var V7e=" >= fragm";V7e+="ent";V7e+="sLength:";V7e+=" ";var P24="Str";P24+="eami";P24+="ngInd";P24+="ex: ";q >= B && l.console.error(P24 + q + V7e + B);f+=D;0 === p && (f=0);y0x.g6M(2);f*=y0x.g1D(1E3,A);m0C=18;break;case 2:(h=g.oEb,d=g.blocks,f=g.zd,n=g.wm,k=g.W_b,m=g.Yq,p=g.Uk,q=g.Ye,v=g.ODb,t=g.g3,w=g.AWa,u=g.ub,y=g.HPb,x=g.IB,z=g.lMb);g=g.hBb;m0C=5;break;case 18:y0x.g6M(2);p*=y0x.G5G(1E3,A);y0x.v$C(2);x*=y0x.g1D(1E3,A);y0x.g6M(2);y*=y0x.G5G(1E3,A);m0C=15;break;case 29:y0x.g6M(1);G=y0x.G5G(f,p);m0C=28;break;case 15:y0x.g6M(2);C*=y0x.g1D(1E3,A);G=c.__read(h.pHb(q),2);D=G[0];m0C=25;break;case 34:E=Math.max(q,t);m0C=33;break;case 40:++H;m0C=39;break;case 53:m0C=(G=Math.max(p - f,0),G < y && G < E)?52:28;break;case 31:m0C=!z && (G=p - f,G < x)?30:29;break;case 39:m0C=H >= v && G > C?51:38;break;case 9:n=Infinity;E=0;d=0;m0C=6;break;}}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wKa=void 0;r=(function(){function a(c){this.kr=[];this.kr.push(c);}Object.defineProperties(a.prototype,{T:{get:function(){return this.kr[0].T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.kr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pEb:{get:function(){var c;return null !== (c=this.gmb) && void 0 !== c?c:this.gmb=this.kr.reduce(function(l,g){return l + g.length;},0);},enumerable:!1,configurable:!0}});a.prototype.LK=function(c){return this.kr[c].cf;};a.prototype.mT=function(c){return this.kr[c].sizes;};a.prototype.add=function(c){this.kr.push(c);};a.prototype.pHb=function(c){var g;for(var l=0;0 <= c;){g=this.kr[l];if(c < g.length)break;l++;c-=g.length;}return [l,c];};return a;})();b.wKa=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.BLb=b.J8a=void 0;c=a(0);l=c.__importDefault(a(257));g=c.__importStar(a(24));h=a(19);d=a(410);f=c.__importDefault(a(5));r=c.__importStar(a(101));a=c.__importDefault(a(33));n=a.default.eQb;k=a.default.Ssb;m=a.default.KJ;p=a.default.kn;q=r.R9a;a=(function(){function w(B,C){var I14,D,E;I14=2;for(;I14 !== 13;){switch(I14){case 8:R7xOY.v$C(1);B=D[R7xOY.g1D(1,E)];D=D[E];I14=6;break;case 3:I14=-1 === E?9:8;break;case 4:return D[0].d;break;case 9:return D[D.length - 1].d;break;case 5:I14=0 === E?4:3;break;case 1:(D=B.j5,E=(0,h.ks)(D,function(G){var E2y;E2y=2;for(;E2y !== 1;){switch(E2y){case 2:return C <= G.r;break;case 4:return C < G.r;break;}}}));I14=5;break;case 6:return Math.floor(B.d + (D.d - B.d) * (C - B.r) / (D.r - B.r));break;case 2:I14=B.j5?1:14;break;case 14:return B.Sq;break;}}}function z(B,C,D){var O2D,E,G;O2D=2;for(;O2D !== 4;){switch(O2D){case 2:(E=new p(),G=Math.max(B.Ws,B.G6));E.ag=(0,h.uc)(D.filter(function(F){var h7F;h7F=2;for(;h7F !== 1;){switch(h7F){case 4:return F.bitrate > B.ky;break;case 2:return F.bitrate <= B.ky;break;}}}).reverse(),function(F){var Y3S,H,K,O;Y3S=2;for(;Y3S !== 13;){switch(Y3S){case 1:Y3S=F.bitrate > G?5:14;break;case 6:H=!1;Y3S=7;break;case 2:H={ub:F.ub,rl:F.Vb && F.Vb.rl,Wg:F.Vb && F.Vb.Wg};Y3S=1;break;case 5:F=F.bitrate * C.playbackRate;K=H.ub;Y3S=3;break;case 7:return H;break;case 3:Y3S=K?9:6;break;case 9:O=w(B,F);Y3S=8;break;case 8:var M4g="hi";M4g+="st_buf";M4g+="ftime";t(F,K,B) <= O?(E.Ps=K,H && (E.cB=H.rl?H.rl:0,E.dB=H.rl && H.Wg),E.reason=M4g,H=!0):H=!1;Y3S=7;break;case 14:var a5C="no_historical_lte_minbitr";a5C+="a";a5C+="te";var w7B="hist_tput_";w7B+="lt_minbitra";w7B+="t";w7B+="e";var G$9="l";G$9+="t";G$9+="_hist_lte_m";G$9+="inbitra";G$9+="te";(K=H.ub,F.bitrate * C.playbackRate <= K?(E.Ps=K,H && (E.cB=H.rl?H.rl:0,E.dB=H.rl?H.Wg:void 0),E.reason=G$9,H=!0):K?(E.Ps=K,H && (E.cB=H.rl?H.rl:0,E.dB=H.rl?H.Wg:void 0),E.reason=w7B,H=!1):(E.reason=a5C,H=!0));Y3S=7;break;}}}) || D[0];return E;break;}}}function t(B,C,D){var m7A;m7A=2;for(;m7A !== 5;){switch(m7A){case 2:B=k(D.Uq,B * D.z6);return n(B,C);break;}}}function x(B,C,D,E,G,F){var n8D;n8D=2;for(;n8D !== 5;){switch(n8D){case 2:var G6R="no_val";G6R+="i";G6R+="d_B";G6R+="itrat";G6R+="e";var y0K="no_";y0K+="v";y0K+="alid_V";y0K+="M";y0K+="AF";var d6j="no_valid_Del";d6j+="ayTarge";d6j+="t";B=D?B.zb >= F.Xs && B.zb <= F.J2a:B.bitrate >= F.Ws && B.bitrate <= F.ky;return (E=E < G && B)?{D3:E}:{D3:E,reason:B?d6j:D?y0K:G6R};break;}}}var p3Q;p3Q=2;function v(B,C){var e$t,D,E;e$t=2;for(;e$t !== 12;){switch(e$t){case 14:var m2x="his";m2x+="t_thr";m2x+="o";m2x+="u";m2x+="ghput";var T8n="hi";T8n+="st_t";T8n+="digest";E?(C=B.ji(C.e9 / 100) || D.ag.ub,D.Ps=C,D.reason=T8n):D.ag.ub && (C=D.ag.ub,D.Ps=C,D.reason=m2x);return D;break;case 2:D=new p();D.ag=B;B=D.ag.Vb || ({});e$t=4;break;case 7:e$t=(E=g.sb(C.e9) && 0 <= C.e9 && 100 >= C.e9 && !g.bi(B) && !g.Tb(B))?6:14;break;case 4:D.dB=B.rl && B.Wg;D.cB=B.rl?B.rl:0;B=(0,l.default)(D.dB,{});e$t=7;break;case 6:(E=d.bLa.wHb(B),g.up(E)?(B.ji=E,E=!0):E=!1);e$t=14;break;}}}for(;p3Q !== 5;){switch(p3Q){case 2:var O27="1SI";O27+="YbZ";O27+="rN";O27+="J";O27+="Cp9";O27;return {pob:function(B,C,D,E){var v5D;v5D=2;for(;v5D !== 5;){switch(v5D){case 2:var U_y="h";U_y+="istoric";U_y+="a";U_y+="l";D=D.first;return D.some(function(G){var p7p;p7p=2;for(;p7p !== 1;){switch(p7p){case 2:return G.ha;break;}}})?z(B,C,D,E):U_y === B.Kna?A(B,C,D,E):B.UQ?y(B,C,D,E):z(B,C,D,E);break;}}},Fmb:x};break;}}function y(B,C,D){var P1g,H,K,O,E,G,F;P1g=2;for(;P1g !== 19;){switch(P1g){case 7:O=O.reason;G.h5=K;P1g=14;break;case 11:var E8s="fallback_";E8s+="no_acceptable_stre";E8s+="am";var G_C="below";G_C+="_mi";G_C+="nI";G_C+="nit";G_C+="VideoBitrate";g.Tb(G) && D[F].bitrate < B.Ws && (G=v(D[F],B),G.reason=G_C);g.Tb(G) && (G=v(D[0],B),G.reason=E8s);return G;break;case 13:G.reason=O;P1g=12;break;case 12:F--;P1g=1;break;case 9:O=x(H,G.Ps,E,K,O,B);H=O.D3;P1g=7;break;case 14:P1g=H?11:13;break;case 5:H=D[F];G=v(H,B);(K=t(H.bitrate * C.playbackRate,G.Ps,B),O=u(G.Ps,B));P1g=9;break;case 1:P1g=0 <= F && (E?D[F].zb >= B.Xs:D[F].bitrate >= B.Ws)?5:11;break;case 2:(E=!!B.Xs && !!B.J2a && D.every(function(I){var K6s;K6s=2;for(;K6s !== 1;){switch(K6s){case 4:return I.zb || 113 > I.zb;break;case 2:return I.zb && 110 >= I.zb;break;}}}),G=null,F=D.length - 1);P1g=1;break;}}}function u(B,C){var Z$x=R7xOY;var J2n,D;J2n=2;for(;J2n !== 9;){switch(J2n){case 2:Z$x.g6M(19);var G2e=Z$x.G5G(1399790,15,99986);Z$x.v$C(20);var a83=Z$x.G5G(1001,9,14,121,982);B=m(B,0,G2e) / a83;J2n=1;break;case 3:var x48="si";x48+="g";x48+="mo";x48+="id";return 0 === C.UM.lastIndexOf(x48,0)?(D=C.UM,(D=C.K8a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):C.Sq):C.Sq;break;case 5:D=C.UM;J2n=4;break;case 7:Z$x.v$C(21);var A7M=Z$x.g1D(3,36,108);Z$x.g6M(22);var j04=Z$x.g1D(7,9,3470,580);Z$x.g6M(23);var f6w=Z$x.G5G(2,16,2,193,6061);B=m(B,A7M,j04) * f6w;J2n=2;break;case 1:var b9u="l";b9u+="o";b9u+="g";J2n=0 === C.UM.lastIndexOf(b9u,0)?5:3;break;case 4:return (D=C.K8a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):C.Sq;break;}}}function A(B,C,D,E){var X3q,G;X3q=2;for(;X3q !== 7;){switch(X3q){case 1:var J$y="n";J$y+="um";J$y+="be";J$y+="r";X3q=J$y !== typeof G?5:4;break;case 2:var o4l="v";o4l+="b";G=f.default.storage.get(o4l);X3q=1;break;case 5:return B.UQ?y(B,C,D,E):z(B,C,D,E);break;case 4:var Z2J="hist_bitr";Z2J+="a";Z2J+="te";B=new p();B.ag=(0,h.uc)(D.slice().reverse(),function(F){var L8d;L8d=2;for(;L8d !== 1;){switch(L8d){case 2:return F.bitrate <= G;break;}}}) || D[0];B.reason=Z2J;return B;break;}}}})();r=a.Fmb;b.J8a=a.pob;b.BLb=r;},function(r,b,a){var l,g,h,d;function c(f,n,k){var m,p;m=k.first;k=this.hfa;n=n.buffer.Uk;p="forward" === f.hYb;if(l.bi(k))return (k=p?g(m):g(m,m.length),this.ifa=n,this.hfa=k,new d(k));h(m[k]) || (k=g(m,k),this.ifa=n,this.hfa=k);if(0 > k)return null;if(n > this.ifa + f.c2b){f=m.map(function(q,v){return q.uB?v:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?k=(f.indexOf(k) + 1) % f.length:(k=f.indexOf(k) - 1,0 > k && (k=f.length - 1));this.hfa=f[k];this.ifa=n;return new d(f[k]);}return new d(k);}l=a(24);b=a(33);g=b.Uka;h=b.nL;d=b.kn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function c(t,w){var Y0T,u;Y0T=2;for(;Y0T !== 4;){switch(Y0T){case 2:u=void 0;w.some(function(y){var W4Y,x;W4Y=2;for(;W4Y !== 4;){switch(W4Y){case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (u=y.override);return x;break;}}});return u;break;}}}var a5A,g,h,d,f,n,k,m,p,q,v;a5A=2;for(;a5A !== 4;){switch(a5A){case 2:var L7Q="1S";L7Q+="IYbZrNJ";L7Q+="Cp9";(g=a(24),h=a(33),d=h.console,f=h.debug,n=h.assert,k=a(257),m=h.nL,p=h.kn,q=a(424),v=a(7).rb);r.exports={STARTING:function(t,w,u,y){var w2q,x,z,A;w2q=2;for(;w2q !== 7;){switch(w2q){case 1:w2q=(A=t && t.XW && 0 <= t.XW.indexOf(A)?c(A,t.cab):c(A,t.Erb))?5:4;break;case 4:var N5Y=" kbps, ";N5Y+="profile ";N5Y+=":";var Q_7="selectAudioS";Q_7+="tre";Q_7+="amStarting: selected stream :";t=q[v[v.Lj]](x,w,u,y);z=z[t.Mh];f && d.log(Q_7 + z.bitrate + N5Y + z.Ue);return t;break;case 2:(x=t,z=u.first,A=z[y || 0].Ue);w2q=1;break;case 5:var w6z="sele";w6z+="ctAudio";w6z+="StreamStarting: overriding";w6z+=" config with";w6z+=" ";(x={minInitAudioBitrate:t.OU,minHCInitAudioBitrate:t.K6,maxInitAudioBitrate:t.CU,minRequiredAudioBuffer:t.M6},f && d.log(w6z + JSON.stringify(A)),k(A,x));w2q=4;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};L7Q;a5A=4;break;}}function l(t,w,u,y){var e9p,x,z,B,C,D,E,G,A,F,H,K;e9p=2;for(;e9p !== 30;){switch(e9p){case 2:var m9o="Must have";m9o+=" at least o";m9o+="ne selected stream";x=u.first;n(!g.bi(y),m9o);z=x[y].Ue;e9p=4;break;case 16:u=C;e9p=34;break;case 14:(B=x[y],C=B.bitrate,D=A.indexOf(y),E=B.ub,G=t.Hrb);e9p=13;break;case 23:e9p=++D < A.length?22:34;break;case 15:D--;e9p=20;break;case 4:e9p=!(t && t.XW && 0 <= t.XW.indexOf(z))?3:9;break;case 21:u=C;e9p=34;break;case 3:return new p(y);break;case 9:u=y;t.cab.some(function(O){var a1f,I,P,N,J,L,R;a1f=2;for(;a1f !== 9;){switch(a1f){case 6:a1f=P?0:1;break;case 2:(I=O.profiles,P=I && 0 <= I.indexOf(z));a1f=1;break;case 4:A=x.filter(function(ka){var L5Q,la;L5Q=2;for(;L5Q !== 5;){switch(L5Q){case 2:la=ka.bitrate;return la >= J && la <= L && 0 <= I.indexOf(ka.Ue) && la * N / 8 < R;break;}}}).map(function(ka){var A$e;A$e=2;for(;A$e !== 1;){switch(A$e){case 2:return ka.zt;break;}}});a1f=3;break;case 5:(N=(O=O.pV) && O.M6 || t.M6,J=O && O.Fdc || -Infinity,L=O && O.l6 || Infinity,R=w.buffer.uE);a1f=4;break;case 1:a1f=P?5:3;break;case 3:return P;break;}}});e9p=6;break;case 10:var d0l=" ";d0l+="k";d0l+="bps, try to downswi";d0l+="tch";var K_m=" ";K_m+="kb";K_m+="ps ";K_m+="< ";var X6R="throug";X6R+="h";X6R+="pu";X6R+="t for audi";X6R+="o ";(f && d.log(X6R + E + K_m + G.tUa + "*" + C + d0l),--D);e9p=20;break;case 11:e9p=D && E < G.tUa * C * w.playbackRate?10:27;break;case 35:var Q33="m";Q33+="s";var Z26=", buff";Z26+="er level =";Z26+=" ";var X_M=", la";X_M+="s";X_M+="tUpsw";X_M+="itchPts = ";var r8I="  Up";r8I+="switch";r8I+=" not allowed.";r8I+=" lastDownswitchPts = ";f && d.log(r8I + K + X_M + H + Z26 + F + Q33);e9p=34;break;case 12:u=0;e9p=34;break;case 20:e9p=0 <= D?19:34;break;case 25:e9p=w.qB && F > G.ey && (void 0 === K || Number(H) > K || C.Uk - K > G.rU)?24:35;break;case 27:var t1X=" k";t1X+="bp";t1X+="s";var p$s=" ";p$s+="kbps";p$s+=" > ";var v5u="throug";v5u+="hp";v5u+="ut";v5u+=" for audio ";e9p=D < A.length - 1 && E > G.pbb * C * w.playbackRate && (f && d.log(v5u + E + p$s + G.pbb + "*" + C + t1X),C=w.buffer,F=C.wm - C.zd,B.Ma && B.Ma.length)?26:34;break;case 24:var D9o=", streamingP";D9o+="t";D9o+="s = ";var x0d=", las";x0d+="tU";x0d+="pswitchPts =";x0d+=" ";var Z7D="  U";Z7D+="pswitch a";Z7D+="llowed. lastDownswitchPts = ";f && d.log(Z7D + K + x0d + H + D9o + C.Uk);e9p=23;break;case 34:var T1e="kbp";T1e+="s, streami";T1e+="n";T1e+="gPts :";var B5p=", audio";B5p+=" t";B5p+="hroughput:";var l86=" kbps";l86+=",";l86+=" pr";l86+="ofi";l86+="le :";var P9y="se";P9y+="lectAudioStream: ";P9y+="selec";P9y+="ted s";P9y+="tream :";var C4r=" kb";C4r+="p";C4r+="s";var m$g=" k";m$g+="b";m$g+="ps, t";m$g+="o ";var m7W="s";m7W+="w";m7W+="itching ";m7W+="audio fr";m7W+="om ";var O3I="d";O3I+="ow";O3I+="n";var J$n="u";J$n+="p";E=x[u];u !== y && f && d.log((u > y?J$n:O3I) + m7W + B.bitrate + m$g + E.bitrate + C4r);f && d.log(P9y + E.bitrate + l86 + z + B5p + E.ub + T1e + w.buffer.Uk);return new p(u);break;case 17:e9p=m(F) && (0 == D || F.bitrate * w.playbackRate * G.tUa < E)?16:15;break;case 22:e9p=(C=A[D],F=x[C],m(F) && E > G.pbb * F.bitrate * w.playbackRate)?21:23;break;case 6:e9p=A && 1 < A.length?14:34;break;case 19:C=A[D];F=x[C];e9p=17;break;case 26:(H=this.Moa,K=this.rL);e9p=25;break;case 13:e9p=0 > D?12:11;break;}}}})();},function(r,b,a){var l;function c(){return new l(0);}a(24);l=a(33).kn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l;function c(g,h,d){return new l(d.first.length - 1);}a(24);l=a(33).kn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function c(f,n,k,m){var U_8,p;U_8=2;for(;U_8 !== 11;){switch(U_8){case 2:var S6t="play";S6t+="e";S6t+="r missing fragmentIndex";var v$W="Mu";v$W+="st have at least one s";v$W+="elected st";v$W+="rea";v$W+="m";h(!l.bi(m),v$W);h(l.sb(n.Ye),S6t);n=d(m);k=k.first;U_8=3;break;case 13:n.Mh=0;return n;break;case 6:return (n.Mh=m,n);break;case 3:R7xOY.v$C(24);var a4N=R7xOY.g1D(18,19,0);m=k.length - a4N;U_8=9;break;case 14:--m;U_8=9;break;case 9:U_8=-1 < m?8:13;break;case 7:U_8=p.Vb && p.Vb.ub && p.bitrate < p.Vb.ub.Da - f.Y1b?6:14;break;case 8:p=k[m];U_8=7;break;}}}var X$Z,l,g,h,d;X$Z=2;for(;X$Z !== 6;){switch(X$Z){case 8:var S29="1S";S29+="IYb";S29+="Z";S29+="rNJCp9";r.exports={STARTING:g.STARTING,BUFFERING:g.BUFFERING,REBUFFERING:g.REBUFFERING,PLAYING:c,PAUSED:c};S29;X$Z=6;break;case 2:l=a(24);a(53);g=a(33);a(5);(h=g.assert,d=g.kn);g=a(183).default;X$Z=8;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1029);b.default={PLAYING:r.Ql,PAUSED:r.Ql};},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Ql=void 0;r=a(0);c=r.__importStar(a(24));l=r.__importDefault(a(33));g=r.__importDefault(a(183));h=a(89);d=r.__importDefault(a(5));f=l.default.assert;n=l.default.kn;b.Ql=k;(function(){var Q6r;Q6r=2;for(;Q6r !== 5;){switch(Q6r){case 2:var B2U="1SIYbZr";B2U+="NJCp";B2U+="9";b.Ql=k=function(m,p,q,v,t,w,u){var t7o,y,x,z,A,B,C,O,I,P,J,N,D,H,E,G,F,K;t7o=2;for(;t7o !== 90;){switch(t7o){case 47:N=p.Ye;t7o=46;break;case 55:C+=1;t7o=77;break;case 74:t7o=x[C].f > B?72:73;break;case 48:N++;t7o=51;break;case 56:t7o=D < B?55:71;break;case 66:C--;t7o=70;break;case 68:y=C;t7o=72;break;case 2:var H6t="play";H6t+="er mi";H6t+="s";H6t+="sing fragm";H6t+="entIndex";var m57="Mu";m57+="st have";m57+=" at least on";m57+="e selected stream";f(!c.bi(v),m57);f(c.sb(p.Ye),H6t);(x=m.N0b,z=q.first,A=new n(v),B=null !== (y=p.Ye) && void 0 !== y?y:-1);y=x[0].f;C=x[x.length - 1].f;t7o=8;break;case 8:t7o=B < y || B > C?7:6;break;case 18:A.ag=z[A.Mh];t7o=17;break;case 60:A.vac=q;t7o=59;break;case 73:C++;t7o=77;break;case 51:t7o=N < Math.min(N + m.Krb,I.length)?50:47;break;case 21:y=0;t7o=35;break;case 29:t7o=C.Vb && C.Vb.tdigest?28:37;break;case 7:return g.default.PLAYING.call(this,m,p,q,v,t,w,u);break;case 37:K=void 0;C.Vb && C.Vb.tputTrace && (K=C.Vb.tputTrace);(O=[],I=C.Ma,P=0);t7o=53;break;case 19:A.Mh=x[B].nYb;t7o=18;break;case 17:t7o=m.JBb?16:59;break;case 71:--C;t7o=70;break;case 67:t7o=x[C].f < B?72:66;break;case 43:H.push(K.ora);H.push(K.yp);H.push(K.Qm);H.push(K.zp);H.push(K.pra);t7o=38;break;case 65:N++;t7o=46;break;case 46:t7o=N < I.length?45:64;break;case 38:H.push(K.max);t7o=37;break;case 58:return g.default.PLAYING.call(this,m,p,q,v,t,w,u);break;case 34:C=z[y];B=y <= v?!0:!1;t7o=32;break;case 45:P+=I.get(N).Fd.G;t7o=65;break;case 59:return A;break;case 75:y=C;t7o=72;break;case 27:t=p.buffer;t=t.wm - t.zd;w=h.al.gTa(p.buffer.Ma);w=p.buffer.uE - w.va;u=z[v];x=z[v];t7o=21;break;case 6:R7xOY.v$C(1);C=R7xOY.G5G(y,B);0 > C && (C=0);t7o=13;break;case 72:B=y;t7o=20;break;case 69:t7o=x[C].f === B?68:67;break;case 50:J=I.get(N);O.push({d:J.Fd.G,b:J.va});t7o=48;break;case 70:t7o=0 <= C?69:72;break;case 52:N=p.Ye;t7o=51;break;case 77:t7o=C < x.length?76:72;break;case 13:C >= x.length && (C=x.length - 1);D=x[C].f;t7o=11;break;case 64:I=void 0;p.Hsb && (I=d.default.time.Ca() - p.Hsb);q.push({Ye:p.Ye,Efc:I,xdc:P,yac:D,Bfc:H,Dfc:K,TQa:t,AWa:w,Wac:O,cdc:u.bitrate,ddc:null !== (E=u.zb) && void 0 !== E?E:0,gbc:C.bitrate,hbc:null !== (G=C.zb) && void 0 !== G?G:0,$ec:x.bitrate,afc:null !== (F=x.zb) && void 0 !== F?F:0,w5:B});t7o=61;break;case 53:t7o=void 0 !== I?52:64;break;case 35:t7o=y < z.length?34:60;break;case 32:D=void 0;H=[];C.Vb && C.Vb.throughput && (D=C.Vb.throughput.Da);t7o=29;break;case 16:q=[];t7o=27;break;case 57:y=void 0;t7o=56;break;case 20:t7o=void 0 !== B?19:58;break;case 28:K=C.Vb.tdigest;H.push(K.min);t7o=43;break;case 10:B=C;t7o=20;break;case 76:t7o=x[C].f === B?75:74;break;case 11:t7o=D === B?10:57;break;case 61:y++;t7o=35;break;}}};B2U;Q6r=5;break;}}})();},function(r,b,a){(function(){var r6r,c;r6r=2;for(;r6r !== 8;){switch(r6r){case 2:a(24);a(53);a(33);c=a(7).yc;r.exports={checkBuffering:function(l,g,h,d,f,n){var a2R=R7xOY;var b4v,w,t,m,p,q,v,u;b4v=2;for(;b4v !== 54;){switch(b4v){case 23:var T0P="o";T0P+="ut";T0P+="o";T0P+="f";T0P+="range";return {complete:!0,reason:T0P};break;case 26:return (g < p && (q=Math.min(v,Math.max(n.RV * (p / g - 1),q))),{complete:!1,KM:q,progress:0});break;case 42:b4v=0 < u?41:40;break;case 39:--n;b4v=28;break;case 6:a2R.v$C(25);var W5J=a2R.G5G(14,33,19,9,9);q=n.Uq * (p?n.Ssa:W5J);!d.ha && n.EBb && d.Vb && d.Vb.Pk && d.Vb.Pk.Da > n.npa && (q+=n.Bga + d.Vb.Pk.Da * n.Era);f && !d.ha && (q+=f.Vu * n.Cga);b4v=12;break;case 24:b4v=-1 === f?23:22;break;case 8:b4v=g <= n.tpa && (0 < g || !n.wka)?7:6;break;case 22:w=d.Ma.ii(f);b4v=21;break;case 37:0 < g && g < p && (q=Math.min(v,Math.max(n.RV * (p / g - 1),q)));return {complete:!1,KM:q,progress:k(q)};break;case 28:b4v=n > f?44:38;break;case 41:return (q=Math.min(v,m + u),{complete:!1,KM:q,progress:k(q)});break;case 25:f=d.Ma.Lx(l.Uk);b4v=24;break;case 9:var s_U="max";s_U+="si";s_U+="ze";return {complete:!0,reason:s_U};break;case 16:b4v=d.ha?15:27;break;case 15:var A$8="lo";A$8+="wLi";A$8+="veBuff";A$8+="er";var j1$="liveBu";j1$+="fferLev";j1$+="e";j1$+="l";return g > p && m > q?{complete:!0,reason:j1$}:{complete:!1,KM:q,ub:g,bitrate:p,reason:A$8};break;case 44:p=d.Ma.get(n);a2R.v$C(26);var o21=a2R.G5G(17,26,14,5,80);u=o21 * u * h / g - p.gb - q;b4v=42;break;case 10:var A_R="n";A_R+="othrou";A_R+="g";A_R+="hpu";A_R+="t";return {complete:!1,KM:q,reason:A_R};break;case 34:var G$k="h";G$k+="igh";G$k+="tp";return {complete:!0,reason:G$k};break;case 3:b4v=m >= v?9:8;break;case 38:var F8C="n";F8C+="o";F8C+="reb";F8C+="uff";return {complete:!0,reason:F8C};break;case 20:t=0;l.Ma.forEach(function(y){var I5r;I5r=2;for(;I5r !== 1;){switch(I5r){case 2:t+=y.gb + y.duration > l.zd?y.va:0;I5r=1;break;}}});h=Math.max(h,1);p=h * d.bitrate;b4v=16;break;case 7:var s3Q="lo";s3Q+="wT";s3Q+="h";s3Q+="ro";s3Q+="ughput";return {complete:!1,spa:!0,reason:s3Q};break;case 27:b4v=!d.Ma || !d.Ma.length?26:25;break;case 11:b4v=!g?10:20;break;case 2:(m=l.wm - l.zd,p=g === c.Kj);g=d.ub || 0;(q=0,v=n.Ewa && !p?n.FB:n.Npa);v=Math.min(n.YF,v);b4v=3;break;case 12:q=v?Math.min(v,q):q;b4v=11;break;case 35:b4v=g > p * n.C3?34:33;break;case 21:b4v=m >= q?35:37;break;case 33:q=d.Ma.cf(f);n=Math.min(f + Math.floor(n.RV / q),d.Ma.length - 1);u=d.Ma.ii(n);a2R.v$C(27);var F2y=a2R.g1D(26,57,20,19);q=F2y * w * h / g - l.zd;b4v=29;break;case 40:u=p.offset;b4v=39;break;case 29:--n;b4v=28;break;}}function k(y){var t0Z;t0Z=2;for(;t0Z !== 5;){switch(t0Z){case 2:y=d.Ma.Lka(l.zd + y,void 0,!0);return (t - l.Yq) / (t + (y.offset + y.va) - w);break;}}}}};r6r=9;break;case 9:var m7z="1SI";m7z+="YbZrN";m7z+="JCp9";m7z;r6r=8;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1032);b.default={PLAYING:r.Ql,PAUSED:r.Ql};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ql=void 0;r=a(0).__importDefault(a(33));c=r.default.console;l=r.default.kn;b.Ql=g;(function(){var J59;J59=2;for(;J59 !== 5;){switch(J59){case 2:var F9M="1S";F9M+="IYbZrNJC";F9M+="p9";b.Ql=g=function(h,d,f,n){var d$M,k,m,p,q,v;d$M=2;for(;d$M !== 10;){switch(d$M){case 2:(m=new l(n),p=d.buffer.Uk);f=f.first;R7xOY.v$C(28);var C_X=R7xOY.G5G(14,9,1133,9);q=h.T1b * Math.pow(Math.min(C_X,(d.buffer.wm - d.buffer.zd) / h.nU),h.S1b);h=void 0 === this.rL || p - this.rL > h.rU?f.length - 1:n;d$M=3;break;case 13:--h;d$M=9;break;case 14:m.Mh=h;d$M=11;break;case 3:m.Mh=0;d$M=9;break;case 6:d$M=(n=v.Vb.ub.Da,p=v.bitrate,v=v.Csa(null !== (k=d.Ye) && void 0 !== k?k:-1),p * d.playbackRate < n * q && v)?14:13;break;case 12:var R1l="St";R1l+="ream h";R1l+="as no throughput statistics";c.warn(R1l);d$M=13;break;case 8:v=f[h];d$M=7;break;case 7:d$M=v.Vb && v.Vb.ub?6:12;break;case 11:return m;break;case 9:d$M=-1 < h?8:11;break;}}};F9M;J59=5;break;}}})();},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u;function c(y,x){return (y.mediaType === f.v.Z?0:1) - (x.mediaType === f.v.Z?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.oGa=b.Hjb=void 0;l=a(0);g=a(1034);h=a(114);d=a(145);f=a(7);n=a(1045);k=a(10);m=a(19);p=a(4);q=a(21);v=l.__importDefault(a(5));r=a(90);t=a(49);w=a(420);u=a(429);b.Hjb={DH:c};a=(function(y){function x(z,A,B,C,D,E,G,F,H,K,O,I,P,N){var J,L;L=y.call(this,C) || this;L.mb=z;L.W=A;L.pa=C;L.M7=D;L.ej=E;L.ku=H;L.Sea=K;L.NP=O;L.events=I;L.Xw=P;L.nn=N;L.cj=new w.dP([]);L.Tr=!1;L.kNa=0;L.xMa=L.DRb.bind(L);(0,p.assert)(C.K === L.u.K || isNaN(C.K) && isNaN(L.u.K));z=E.id && E.id.length?"{" + E.id + "}":"";L.console=(0,k.gi)(v.default,B,z);L.Km=null !== G && void 0 !== G?G:q.N.Na(L.u.gb);B=L.parent;L.RNa=null === B || void 0 === B?void 0:B.Kb;null === (J=L.NP) || void 0 === J?void 0:J.addListener(L.xMa);F=L.YSa(F,L.Km,!!B).EA;L.EA=F;return L;}l.__extends(x,y);Object.defineProperties(x.prototype,{Uf:{get:function(){return this.Tr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u:{get:function(){return this.ej;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{by:{get:function(){return this.cj.every(function(z){return z.by;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ij:{get:function(){return this.cj.every(function(z){return z.ij;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hA:{get:function(){return this.Ls().reduce(function(z,A){return z + A.hA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ng:{get:function(){return this.Ls().every(function(z){return z.Ng();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Od:{get:function(){return this.mb.Od;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{T:{get:function(){return this.yQ.T;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{kb:{get:function(){return this.yQ.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nb:{get:function(){return this.yQ.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sm:{get:function(){return this.pe.Nd(this.T).xa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xx:{get:function(){return this.Km.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$q:{get:function(){return this.u.Je.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tG:{get:function(){return this.u.Ag.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{W5:{get:function(){return this.cj.reduce(function(z,A){return z && A.Kb?q.N.max(z,A.Kb):A.Kb?A.Kb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{oq:{get:function(){return this.cj.reduce(function(z,A){A=A.oq;return z && A?q.N.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vR:{get:function(){return this.pe.G;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xr:{get:function(){return this.yQ.xr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pe:{get:function(){return this.ku;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.mb.parent;},enumerable:!1,configurable:!0}});x.prototype.Cbb=function(z,A,B){var C;void 0 === A && (A=null !== (C=this.La) && void 0 !== C?C:this.Km);return this.YSa(z,A,B);};x.prototype.update=function(z){var A,B,C;C=z.Ag.Eqa(this.ej.Ag);this.ej=z;return C && this.bJ?(C=l.__read(this.bJ.jXb(z,z.Ag),2),z=C[0],C=C[1],(0,p.assert)(z && C,"branch.update: lastFragment should be defined"),null === (A=this.Ze(f.v.ga)) || void 0 === A?void 0:A.truncate(z),null === (B=this.Ze(f.v.Z)) || void 0 === B?void 0:B.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};x.prototype.Vv=function(z){this.pe.equal(z) || (this.ku=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.WA=function(z){return l.__awaiter(this,void 0,void 0,function(){var A;return l.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.cb(),(A=this.Ze(z))?[2,A.WA()]:[2,d.AsyncIterator.$Fb()]);}});});};x.prototype.QQ=function(){this.cj.forEach(function(z){return z.QQ();});};x.prototype.reset=function(){this.cj.forEach(function(z){z.reset();});};x.prototype.Gf=function(z){var A,B;this.Tr || (this.Tr=!0,null === (A=this.bJ) || void 0 === A?void 0:A.Te(),this.bJ=void 0,this.cj.forEach(function(C){C.Gf("aborted" === z);}),null === (B=this.NP) || void 0 === B?void 0:B.removeListener(this.xMa));};x.prototype.q5=function(){return !0;};x.prototype.Ze=function(z){return this.cj.get(z);};x.prototype.Ls=function(z){void 0 === z && (z=c);return this.cj.items.slice().sort(z);};x.prototype.s4=function(){return this.cj.items;};x.prototype.rF=function(z){return this.Ze(z);};x.prototype.On=function(z,A){z=this.Ze(z);if(!z)return 0;if(A)return z.D8;A=z.JR;if(void 0 === A)return 0;z=this.Sea();return A - z;};x.prototype.EK=function(){var z,A,B,C,D,E,G;G=null === (z=this.Ze(f.v.ga)) || void 0 === z?void 0:z.r2;z=null === (A=this.Ze(f.v.Z)) || void 0 === A?void 0:A.r2;return {r$:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,h1:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,AX:null !== (D=null === z || void 0 === z?void 0:z.va) && void 0 !== D?D:0,TQ:null !== (E=null === G || void 0 === G?void 0:G.va) && void 0 !== E?E:0};};x.prototype.VS=function(z){var A;return (z=this.Ze(z))?null !== (A=z.JR) && void 0 !== A?A:0:0;};x.prototype.Ym=function(z){z=this.Ze(z);return (null === z || void 0 === z?void 0:z.Ym()) || [];};x.prototype.DRb=function(z){z=z.newValue;(0,f.Kq)(z) && this.PD();};x.prototype.NJ=function(z){return this.cj.every(function(A){return A.NJ(z);});};x.prototype.h4=function(z){var A,B;return null !== (B=null === (A=this.cj.get(z)) || void 0 === A?void 0:A.Eyb) && void 0 !== B?B:q.N.Ia;};x.prototype.d$=function(z){var A,B,C;A=this.yQ.KMb;if(!A)return !1;z=(0,m.uc)(z,function(D){return A.G <= D.La.G;});if(!z)return !1;B=z.La;z=!1;C=l.__read((0,u.hta)(this.W,this.cj,B),2);B=C[0];if(C=C[1])(this.Ze(f.v.Z).truncate(C),z=!0);B && (this.Ze(f.v.ga).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.Kl=function(z){this.Tr || (z.yPa || (0,p.assert)(!z.Ad),this.PD(),this.events.emit("requestComplete",{type:"requestComplete",mb:this.mb}),this.ij && this.Fnb());this.PA(z);};x.prototype.dM=function(z){this.W.eVa && this.PD(!0);this.BK(z);};x.prototype.SB=function(z){this.W.eVa && this.PD(!0);this.AK(z);};x.prototype.YSa=function(z,A,B){var C,D,E;C=this;D=new w.dP();E=!1;z.forEach(function(G){var F;F=C.cj.find(function(H){return H.track === G.track;});void 0 === F?(E=!0,F=new g.UHa(C,C.W,C.console,C.M7,C.mb,G.track,A,G.Tk,!0,void 0,G.A2b(),C.Xw,C.nn),C.TKb(F)):(C.cj.remove(F),F.QQ());D.add(F);});this.cj.forEach(function(G){return G.Gf();});this.cj=D;return E?this.normalize(A,B):{$R:!1,EA:!1};};x.prototype.TKb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.by && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};x.prototype.normalize=function(z,A){var B,C;null === (B=this.bJ) || void 0 === B?void 0:B.Te();this.bJ=new n.VHa({console:this.console,config:this.W,pa:this.pa,u:this.u,WB:this.cj,La:z,Wa:null !== (C=this.u.Ag) && void 0 !== C?C:void 0 !== this.u.Vf?q.N.Na(this.u.Vf):void 0,splice:A});this.yQ=this.cj.qsa;A=this.bJ.normalize();z=A.$R;A=A.EA;z && this.RNa && (this.ku=this.RNa.wa(this.La));return {$R:z,EA:A};};x.prototype.u_b=function(z){var A;return (0,f.Kq)((null === (A=this.NP) || void 0 === A?void 0:A.value) || f.yc.jl) && (!z || this.kNa + this.W.gqa < v.default.time.Ca());};x.prototype.PD=function(z){void 0 === z && (z=!1);this.u_b(z) && (this.kNa=v.default.time.Ca(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Fnb=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A;return {segment:this.u.id,branchOffset:this.vR,viewableId:this.ej.K,contentStartPts:null === (z=this.La) || void 0 === z?void 0:z.G,contentEndPts:null === (A=this.Wa) || void 0 === A?void 0:A.G};};return x;})(h.hz);b.oGa=a;(0,t.si)(r.Mt,a);},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.UHa=void 0;c=a(0);l=a(13);g=a(1035);h=a(114);d=a(1036);f=a(7);n=a(1038);k=a(1044);m=a(256);p=a(422);q=a(10);v=a(4);t=a(21);w=c.__importDefault(a(5));r=a(90);u=a(49);y=a(421);x=a(148);z=a(127);a=(function(A){function B(C,D,E,G,F,H,K,O,I,P,N,J,L){var R;R=A.call(this,C) || this;R.W=D;R.Qr=F;R.yn=H;R.Cmb=K;R.Xw=J;R.nn=L;R.events=new l.EventEmitter();R.connected=!1;R.Yma=!1;R.Tr=!1;R.U3=new d.nGa(R.mediaType,D,E,R);C="[" + R.mediaType + "]";R.S=(0,q.gi)(w.default,E,C);R.DD=R.S.error.bind(R.S);R.gs=R.S.warn.bind(R.S);R.Bu=R.S.trace.bind(R.S);R.U0=K.G;"string" === typeof O || void 0 === O?(E=D.oS || R.mediaType === f.v.ga && D.mS || R.mediaType === f.v.Z && D.nS,R.Nfa=new p.Jda(O,D,new m.E_(P),E)):R.Nfa=O;R.sn=new g.WHa(R,G,R.W,R.S,R.mediaType);R.fq=new n.MJa(R,D,R.S,R.sn,R.Qr,R.mediaType,R.Xw,function(){return R.Sm;});D.Rk && (R.Rk=new k.EKa(D.Rk,R.S));I && (R.xj=null !== N && void 0 !== N?N:(0,y.Bx)(R.mediaType,R.track.pa,R.W,R.S,R.track.ha,R.sn.lEb.bind(R.sn),R.sn.kEb.bind(R.sn),function(){}),R.xj.on("created",function(){return R.events.emit("requestQueueCreated");}));return R;}c.__extends(B,A);Object.defineProperties(B.prototype,{mediaType:{get:function(){return this.yn.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{track:{get:function(){return this.yn;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mb:{get:function(){return this.Qr;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{J:{get:function(){return this.Qr.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ic:{get:function(){return this.fq;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ug:{get:function(){return this.yn.Ug;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{r2:{get:function(){return this.fq.r2;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{D8:{get:function(){return this.fq.D8;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Uk:{get:function(){return this.U0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{E9:{get:function(){var C;return null !== (C=this.Bb) && void 0 !== C?C:this.Xx;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{oq:{get:function(){var C;return null !== (C=this.Ic.oq) && void 0 !== C?C:this.E9;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ega:{get:function(){return this.Ic.oq;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{JR:{get:function(){return this.Ic.JR;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Dia:{get:function(){return this.Ic.Dia;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{KMb:{get:function(){var C;C=this.Ic.X0a;return null === C || void 0 === C?void 0:C.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{by:{get:function(){return !!this.ef && (this.QB > this.ef.index || this.U0 >= this.ef.Wa.G);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ij:{get:function(){return this.by && 0 === this.fq.iTb;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Bqb:{get:function(){return !!this.Ic.X0a;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{hA:{get:function(){return this.Ic.hA;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{xr:{get:function(){return this.Kb?t.N.max(this.Kb.wa(this.wC),t.N.Ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{xK:{get:function(){return this.mb.xK;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Eyb:{get:function(){return this.Ic.Ma.Fd;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Tk:{get:function(){return this.Nfa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{we:{get:function(){return this.Tk.we;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Xn:{get:function(){return this.Tk.we.Xn;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{T:{get:function(){var C,D;return null !== (D=null === (C=this.Xe) || void 0 === C?void 0:C.T) && void 0 !== D?D:1;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{kb:{get:function(){var C;return null === (C=this.Xe) || void 0 === C?void 0:C.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{nb:{get:function(){var C;return null === (C=this.ef) || void 0 === C?void 0:C.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Sm:{get:function(){return this.mb.pe.Nd(this.T).xa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{$ma:{get:function(){return this.Ic.$ma;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Pv:{get:function(){return this.Ic.Pv;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{lva:{get:function(){return this.Ic.lva;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Xx:{get:function(){return this.Cmb.add(this.mb.pe);},enumerable:!1,configurable:!0}});B.prototype.QQ=function(){var C;C=this;this.fq.QQ(function(D){var E,G;G=D[0];D=null === (E=G.La) || void 0 === E?void 0:E.G;E=G.index;E < C.QB && C.XM(D,E);});};B.prototype.reset=function(){this.Ic.reset();this.Xe && this.XM(this.Xe.La.G,this.Xe.index);this.xj && this.mb.pa.PQ(this.mediaType,this.xj);};B.prototype.Gf=function(C){var D;this.Tr=!0;this.fq.Gf(C);null === (D=this.Nfa) || void 0 === D?void 0:D.we.Ra();this.xj && (this.mb.pa.PQ(this.mediaType,this.xj),x.pz.instance.X2(this.xj),this.xj.removeAllListeners(),this.xj=void 0);};B.prototype.toJSON=function(){return {started:this.Pv,startOfSequence:this.lva,segmentId:this.J,requestedBufferLevel:this.D8,viewableId:this.Qr.pa.K,hasFragments:this.$ma};};B.prototype.Ym=function(C){return this.Ic.Ym(C);};B.prototype.XM=function(C,D){this.U0=C;this.QB=D;};B.prototype.WA=function(){return this.Ic.WA();};B.prototype.NJ=function(C){return (C=this.Ic.CDb(C.G))?C.complete:!1;};Object.defineProperties(B.prototype,{Rg:{get:function(){return this.Qr.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{wC:{get:function(){var C,D,E,G;return null !== (G=null !== (C=this.Ic.wC) && void 0 !== C?C:null === (E=null === (D=this.Xe) || void 0 === D?void 0:D.La) || void 0 === E?void 0:E.add(this.mb.pe)) && void 0 !== G?G:this.Xx;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{E$a:{get:function(){return t.N.Na(this.U0);},enumerable:!1,configurable:!0}});B.prototype.$ab=function(C,D,E){var G;(0,v.assert)(this.xj);(0,v.assert)(!this.Tr,"pipeline.tryIssueRequest on disabled pipeline");if(!C.Yj)return (C=C.yH(this.xj))?{ci:C,reason:"success"}:{ci:C,reason:"pipelineTryIssueHeaderRequest"};if(C.ha)((0,v.assert)(this.track.ha,"Unexpected live stream."),C=this.V2b(C,this.xj,E));else {G=C.rGb();(0,v.assert)(G,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(C.Yj,", headerFragments:").concat(G));C=this.W2b(C,G,this.xj,D,E);}this.yRa();return C;};B.prototype.o5=function(C,D){C && (this.Xe=C);D && (this.ef=D);(0,v.assert)(this.Xe);(0,v.assert)(this.ef);(0,v.assert)(void 0 === this.QB);this.XM(this.Xe.La.G,this.Xe.index);};B.prototype.truncate=function(C){var D;D=this;(0,v.assert)(this.Xe,"expected first fragment to exist on updateStreaming");this.ef=C;this.by && (C=c.__read(this.fq.cpb(C),2),this.XM(C[0],C[1]),this.Lq() && (this.Ic.Z8a(),this.Ic.zRa(),Promise.resolve(function(){D.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:D.mediaType});})));};B.prototype.rB=function(){return this.Lq()?!1:this.Ng()?!0:this.track.V6;};B.prototype.Ng=function(){return void 0 !== this.Xe && void 0 !== this.ef;};B.prototype.Lq=function(){return this.Tr || this.by;};B.prototype.k0a=function(){var C,D,E;E=this.W.io;if(null === (C=this.xj) || void 0 === C?0:C.track)E=null === (D=this.xj) || void 0 === D?void 0:D.track.io;return E;};Object.defineProperties(B.prototype,{f6a:{get:function(){var C;C=!0;this.W.vta && (C=this.connected);this.W.uta && (C=C && this.Yma);return C;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{FSb:{get:function(){return void 0 !== this.Rk;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Q4a:{get:function(){var C;return (null === (C=this.Rk) || void 0 === C?0:C.f2())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});B.prototype.Kl=function(C){this.sn.PQb(C);"oncomplete" === this.W.m_a && (this.Yma=!0);this.PA(C);};B.prototype.cM=function(C){var D,E;C.Ad || this.sn.SQb(C.stream,null === (D=C.Bb) || void 0 === D?void 0:D.G,null === (E=C.La) || void 0 === E?void 0:E.G);this.sn.MQb(this.J,C.stream,C.Ad);this.LS(C);};B.prototype.SB=function(C){C.yPa || (this.connected=!0);"onfirstbyte" === this.W.m_a && (this.Yma=!0);this.AK(C);};B.prototype.HXa=function(C){var D,E;D=this.Ic.Ma;if(0 === D.length)return {Ma:[],H7:0,Yq:0,CM:0};E=D.DS(C.G);0 > E && (E=void 0 === D.Bb || C.G <= D.Bb.G?0:D.length);return {Ma:D.UYb(E),H7:Math.max(0,D.pSa - E),Yq:D.Yq,CM:D.CM};};B.prototype.TA=function(){return this.track.TA();};B.prototype.G3b=function(){this.Ym(!0);};B.prototype.W2b=function(C,D,E,G,F){var H,K,O,I,P,N,J,L,R,ka,la;H=!1;void 0 === H && (H=!0);L=this.Qr;R=L.pa;ka=this.mediaType;la=this.QB;if(la >= D.length)return (this.gs("makeRequest nextFragmentIndex:",la,"past fragments length:",D.length),{ci:!1,reason:"insufficientFragments"});if(!this.Xe || !this.ef)return (this.gs("makeRequest delayed, first or last fragment not set","first:",!!this.Xe,"last:",!!this.ef),{ci:!1,reason:"noFirstOrLastFragment"});D=ka === f.v.ga && !!this.W.My && (null === (K=this.mb.u.u) || void 0 === K?void 0:K.Cs) && this.Xe.Fd.G < this.W.My && void 0 !== this.Xe.Ga;K=ka === f.v.ga && !!this.W.My && (null === (O=this.mb.u.u) || void 0 === O?void 0:O.Kn) && this.ef.Fd.G < this.W.My && void 0 !== this.ef.Ga;O=this.U3.GXa(C,la,D,K);if(ka === f.v.ga && this.W.My){if(null === (I=this.mb.u.u) || void 0 === I?0:I.Cs)O.Gs?O.h9a():O.index === this.Xe.index + 1 && this.Xe.Fd.G < this.W.My && void 0 !== this.Xe.Ga && O.h9a(this.Xe.Ga.end - this.Xe.Ga.start);if(null === (P=this.mb.u.u) || void 0 === P?0:P.Kn)O.Fk?O.i9a():O.index === this.ef.index - 1 && this.ef.Fd.G < this.W.My && void 0 !== this.ef.Ga && O.i9a(this.ef.Ga.end - this.ef.Ga.start);}if(this.nn && !this.nn.bub(this.mediaType,O.va))return {ci:!1,reason:this.mediaType === f.v.Z?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Goa=O.region;O.Ny=F;null === (N=this.Rk) || void 0 === N?void 0:N.yKb(O,C);O.Fk && ka === f.v.Z && this.sn.onb(L.u,O.Kb.G);this.W.GL && (O.GL=this.W.GL);void 0 !== C && (O.location=C.location,O.Rc=C.bc,O.uua=C.yt);(F=L.pa.t9) && "OPEN_CONNECT_APPLIANCE" === C.hr && (I=this.W.HBb && this.mediaType === f.v.Z && this.W.io,O.iW=this.W.oS || ka === f.v.ga && this.W.mS || ka === f.v.Z && this.W.nS?G:void 0,O.u9=F.ss({pE:L.On(this.mediaType),c7:this.W.BBb?this.W.c7:void 0,Bab:String(w.default.time.Ca()),Z4a:G,wha:I?{start:O.offset,size:O.va}:void 0}));w.default.time.Ca();E=this.Ic.dTa(O,E,C);if(!E.eM()){this.gs("MediaRequest.open error: " + E.Fh + " native: " + E.dk);if(7 === E.readyState)return {ci:!1,reason:"requestAborted"};this.gs("makeRequest caught:",E.Fh);R.yf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {ci:!1,reason:"openAseMediaRequest"};}null === (J=this.Rk) || void 0 === J?void 0:J.bCb(E,O,C);this.sn.QQb(E);this.XM(E.Wa.G,O.VU);H && this.yRa();return {ci:!0,reason:"success"};};B.prototype.V2b=function(C,D,E){var G,F,H,K,O,I,P,N,J,L;H=this.Qr;K=H.pa;O=this.QB;I=C.T;P=C.Qn();N=P.hN;J=P.Fd.Nd(I);N=J.uv(O - N);J=N.add(J);if(J.G > P.yTa)return {ci:!1,reason:"exceedsLiveEdge"};if((P=O === (null === (G=this.ef) || void 0 === G?void 0:G.index)) && this.mediaType === f.v.ga && (G=this.mb.Ze(f.v.Z)) && G.ef)L=G.ef.Wa.G;E={Jh:O,index:O,kb:N.xa,nb:J.xa,T:I,offset:0,va:0,Ny:E,Gs:O === (null === (F=this.Xe) || void 0 === F?void 0:F.index),Fk:P,oC:{Pd:H.u.pXa(),YT:H.u.bX},Qv:L};C=this.Ic.dTa(E,D,C);if(!C.eM()){this.gs("MediaRequest.open error: " + C.Fh + " native: " + C.dk);if(7 === C.readyState)return {ci:!1,reason:"requestAborted"};this.gs("makeRequest caught:",C.Fh);K.yf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {ci:!1,reason:"openAseMediaRequest"};}this.XM(J.G,this.QB + 1);return {ci:!0,reason:"success"};};B.prototype.yRa=function(){this.Lq() && (this.Ic.Z8a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return B=c.__decorate([z.fF],B);})(h.hz);b.UHa=a;(0,u.si)(r.Mt,a);},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.WHa=void 0;r=a(0);c=r.__importDefault(a(53));l=c.default.cn;g=c.default.du;h=a(7);d=a(10);f=a(21);n=r.__importDefault(a(147));k=r.__importDefault(a(5));a=(function(){function m(p,q,v,t,w){this.ft=p;this.As=q;this.W=v;this.S=t;this.mf=w;}m.prototype.QQb=function(p){p={type:"requestCreated",request:p};(0,d.$o)(this.As,p.type,p);};m.prototype.PQb=function(p){var q;q=p.Ic.mb.u;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{J:q.id,offset:f.N.Na(this.ft.Dia - q.gb)},completePlayerStreamingTimestamp:f.N.Na(this.ft.JR),trackIndex:p.stream.track.cE};(0,d.$o)(this.As,p.type,p);};m.prototype.SQb=function(p,q,v){var t,w,u;w=this.mf;u=this.ft.Tk.we;u.w9a(p);w === h.v.Z && this.W.W8 && (void 0 === u.Joa?u.x9a(k.default.time.Ca()):k.default.time.Ca() - u.Joa > this.W.W8 && (p.bitrate !== u.h1a && (k.default.storage.set("vb",p.bitrate),u.WZb(p.bitrate)),u.x9a(k.default.time.Ca())));u.S5 && u.S5 === p || (this.ft.Tk.M0b(q,u.S5,p),u.KZb(p),q=0,p.Vb && p.Vb.confidence && p.Vb.ub && (q=p.Vb.ub.Da),v={J:this.ft.mb.u.id,offset:f.N.Na(v - this.ft.mb.u.gb)},p={type:"streamSelected",nativetime:k.default.time.Ca(),mediaType:w,streamId:p.id,trackIndex:p.track.cE,streamIndex:p.zt,bandwidth:q,longtermBw:q,rebuffer:0,position:v,stream:p,manifest:null === (t=p.pa) || void 0 === t?void 0:t.X},(0,d.$o)(this.As,p.type,p));};m.prototype.MQb=function(p,q,v){var t,w,u,y;t=q.pa;w=t.Hl;u=this.ft.Tk.we;y=t.jMb(q);t=y.woa;y=y.kMb;v && q.bc && !u.dU?(y=g.eu,q.yt=g.name[y],this.e4a(p,q.bc,q.yt,q.location,q.bitrate),u.dU=q.bc):!v && q.bc && q.bc !== u.dU && (y=y?void 0 === u.dU?g.eu:w.WM === g.Eca?g.ikb:g.oaa:g.hkb,q.yt=g.name[y],this.e4a(p,q.bc,q.yt,q.location,q.bitrate),u.dU=q.bc);u.sL || (y={type:"logdata",target:"startplay",fields:{}},this.mf === l.ga?y.fields.alocid=q.location:this.mf === l.Z && (y.fields.locid=q.location),(0,d.$o)(this.As,y.type,y));v && q.location && !u.sL?(y=g.eu,q.yt=g.name[y],this.d4a(p,q.location,q.dpa,q.bc,q.wW,q.yt,q.Dv),u.sL=q.location):!v && q.location && q.location !== u.sL && (y=t?void 0 === u.sL?g.eu:w.WM === g.Eca?g.Hhb:g.oaa:g.Ghb,q.yt=g.name[y],this.d4a(p,q.location,q.dpa,q.bc,q.wW,q.yt,q.Dv),q.Dv=void 0,u.sL=q.location);this.W.AG || (q.b1a=q.location,q.g1a=q.bc);};m.prototype.Kqa=function(p){p={type:"requestsPruned",requests:p};(0,d.$o)(this.As,p.type,p);};m.prototype.e4a=function(p,q,v,t,w){var u,y;if(this.mf === l.Za)this.S.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(u={},u[h.v.ga]="audio",u[h.v.Z]="video",u[h.v.Za]="subtitle",u)[this.mf];u=n.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:v,location:t,bitrate:w,confidence:u.confidence};u.confidence && (p.throughput=u.ub.Da);this.ft.Tk.we.dU && (p.oldserver=q);(0,d.$o)(this.As,p.type,p);}};m.prototype.d4a=function(p,q,v,t,w,u,y){var x,z;if(this.mf === l.Za)this.S.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[h.v.ga]="audio",x[h.v.Z]="video",x[h.v.Za]="subtitle",x)[this.mf];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:v,serverid:t,servername:w,selreason:u,seldetail:y};(0,d.$o)(this.As,"locationSelected",p);}};m.prototype.onb=function(p,q){q={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};p.gUb || (0,d.$o)(this.As,q.type,q);};m.prototype.lEb=function(p){(0,d.$o)(this.As,"transportReport",p);};m.prototype.kEb=function(p){(0,d.$o)(this.As,"mediaRequestComplete",p);};return m;})();b.WHa=a;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nGa=b.zgb=void 0;c=a(0);l=c.__importDefault(a(5));g=a(113);h=a(9);d=a(1037);f=a(10);r=(function(){return function(n,k,m,p){this.W=k;this.ft=p;p="[" + n + "]";m=(0,f.gi)(l.default,m,p);this.h3a=n === g.v.Z?k.jqa:k.fqa;p=l.default.cT()[n];this.DU=n === g.v.Z?k.dPb:k.IOb;this.DU=Math.min(k.QOb * p,this.DU);h.I && m.trace("This pipeline's buffer size ",p,this.DU);this.L6=(n === g.v.Z?k.ny:k.tv) || k.L6;this.p6=(n === g.v.Z?k.cPb:k.HOb) || k.p6;this.Hga=k.Hga;};})();b.zgb=r;r=(function(n){function k(m,p,q,v){return n.call(this,m,p,q,v) || this;}c.__extends(k,n);k.prototype.GXa=function(m,p,q,v){var t,w,u,y,x,z,A,B,C;void 0 === q && (q=!1);void 0 === v && (v=!1);u=this.ft;y=m.pa.Xna();x=u.Xe.index;z=u.ef.index;A=p === x;B=p === z;if(!B || A && u.Xe.Ga){if(A){C=m.zXa(u.Xe);C.ZM(u.Xe.Qv);B && (u.Xe.Ga || u.ef.Ga) && C.mi({start:null === (t=C.Ga) || void 0 === t?void 0:t.start,end:null === (w=u.ef.Ga) || void 0 === w?void 0:w.end});}else C=m.Pn(p);}else (C=m.zXa(u.ef),C.ZM(u.ef.Qv));C.VU=p + 1;if(t=(0,d.DYa)(u,u.Uk))(h.I && u.Bu("getFragmentForRequest pts:",u.Uk,"in region:",t,"previous region:",u.Goa),w=void 0 === u.Goa || u.Goa !== t.region,(0,d.KUa)(u.S,C,t,{CLb:A,JLb:B,RLb:w}));B && (C.j2a(),C.TZb(u.mb.u));A && C.Dpa(!0);A=m.Ma.kr;if(!(C.VU === p || null !== A && void 0 !== A && A.b0a(p) || y || !this.Hga && C.Ga || q && !(p > x + 1) || v && !(p < z - 2)))for((q=v?z - 1:z,++p);p < m.Ma.length && p < q && (C.va < this.h3a || C.Fd.G < this.L6) && (1 === C.stream.Ih.length || this.ytb(m,p));++p){v=m.Pn(p);if(null === A || void 0 === A?0:A.b0a(p))break;if((0,d.a0a)(u,v))break;if(C.Fd.add(v.Fd).G > this.p6)break;if(C.va + v.va > this.DU)break;C.Ega(v);C.VU=p + 1;h.I && u.Bu("getFragmentForRequest: extended fragment startPts:",C.La.G,"to duration:",C.Fd.G,"size:",C.va,"min request size:",this.h3a,"max request size:",this.DU,"min request duration:",this.L6,"max request duration:",this.p6,"edit:",C.Ga);}h.I && u.Bu("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.ala,"lastRequestInRegion:",C.Ts,"nextIndex:",C.VU);return C;};k.prototype.ytb=function(m,p){return !m.Ih.some(function(q){return p === q.Ye;});};return k;})(r);b.nGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KUa=b.ELb=b.a0a=b.DYa=void 0;c=a(19);b.DYa=function(l,g){if((l=l.mb.u.Iv) && 0 !== l.length)return (0,c.uc)(l,function(h){return h.La.G <= g && g < h.Wa.G;});};b.a0a=function(l,g){return g.index === l.Xe.index?!0:(l=l.mb.u.Iv) && 0 !== l.length?l.some(function(h){h=h.La;return g.La.yB(h) && h.lessThan(g.Wa);}):!1;};b.ELb=function(l,g){return g.index === l.ef.index?!0:(l=l.mb.u.Iv) && 0 !== l.length?l.some(function(h){h=h.Wa;return g.La.lessThan(h) && h.yB(g.Wa);}):!1;};b.KUa=function(l,g,h,d){var f,n,k,m,p,q,v,t;l=null === (f=g.Ga) || void 0 === f?void 0:f.start;f=null === (n=g.Ga) || void 0 === n?void 0:n.end;t=n=!1;if((null === d || void 0 === d?0:d.RLb) || (null === d || void 0 === d || !d.CLb) && g.La.lessThan(h.La)){if(v=g.Qka(h.La.G))(v=(null !== (m=null === (k=g.Ga) || void 0 === k?void 0:k.start) && void 0 !== m?m:0) + v.Aj,l=Math.max(null !== l && void 0 !== l?l:0,v));v=h.La.G;n=!0;}if((null === d || void 0 === d || !d.JLb) && g.Wa.greaterThan(h.Wa)){if(v=g.Qka(h.Wa.G))(v=(null !== (q=null === (p=g.Ga) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + v.Aj,f=Math.min(null !== f && void 0 !== f?f:Infinity,v),g.VU=g.index);v=h.Wa.G;t=!0;}if(void 0 !== l || void 0 !== f)(g.mi({start:l,end:f}),void 0 !== v && (!g.Qv || v > g.Qv) && g.ZM(v));g.PZb(h.region,n,t);};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.MJa=void 0;c=a(0);l=c.__importStar(a(24));g=a(258);h=a(1040);d=a(426);f=a(1043);r=a(114);n=a(7);k=a(4);m=a(259);p=a(10);q=a(60);v=a(127);a=(function(t){function w(u,y,x,z,A,B,C,D){var E;E=t.call(this,u) || this;E.W=y;E.S=x;E.sn=z;E.Qr=A;E.mf=B;E.v4=D;E.me=new m.OH(E.S);E.DD=E.S.error.bind(E.S);E.gs=E.S.warn.bind(E.S);E.Bu=E.S.trace.bind(E.S);E.lOa();E.Jo=null === C || void 0 === C?void 0:C.Ax(function(){return E.zXb();},"pruner");return E;}c.__extends(w,t);Object.defineProperties(w.prototype,{console:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.mf;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mb:{get:function(){return this.Qr;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pv:{get:function(){return 0 < this.ota;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{lva:{get:function(){return !this.bQ;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ota:{get:function(){return this.Ja.length;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{AH:{get:function(){return this.Ja.AH;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rJ:{get:function(){return this.me.Yx;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{oq:{get:function(){return this.Ja.complete.Kb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{JR:{get:function(){return this.Ja.nSa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Dia:{get:function(){return this.Ja.cvb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wC:{get:function(){return this.Ja.Kb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{D8:{get:function(){return void 0 === this.Ja.Bb?0:this.Ja.Kb.G - this.Ja.Bb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{r2:{get:function(){return {va:this.Ja.s2,G:this.Ja.empty?0:Math.max(this.Ja.nSa - this.Ja.Bb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{s2:{get:function(){return this.Ja.s2;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{hA:{get:function(){return this.Ja.va;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{iTb:{get:function(){return this.nmb();},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{$ma:{get:function(){return this.Ja.length > this.Ja.AH;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Sj:{get:function(){return this.Ja.Sj;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{RMb:{get:function(){return this.Ja.jTb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{X0a:{get:function(){return this.jNa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ma:{get:function(){return this.Ja;},enumerable:!1,configurable:!0}});w.prototype.Gf=function(u){var x,z;function y(){return z.forEach(function(A){A.abort();A.Te();});}z=this.Ja;u?setTimeout(y,1):y();this.lOa();this.me.mK();null === (x=this.Jo) || void 0 === x?void 0:x.Ra();};w.prototype.reset=function(){this.Gf();this.me.Y7a();};w.prototype.close=function(){this.me.mK();};w.prototype.Z8a=function(){this.sMa=!0;};w.prototype.CYa=function(){return {endMarked:void 0 !== this.me.count,queueCount:this.me.count,isComplete:this.me.Yx,itemCount:this.me.oSa,continuousEndPts:this.me.ur().reduce(function(u,y){return y && !y.done && (y=y.value,100 > Math.abs(y.CK.G - u) || -1 === u)?y.mla.G:u;},-1),sentinelItemCount:this.me.ur().filter(function(u){return u && u.done;}).length,processedCount:this.me.Nzb,rc:this.ota};};w.prototype.dTa=function(u,y,x){var z,A,B,C;z=this.W;(0,k.assert)(!u.header);if(x.ha){B=this.Qr;C=B.YYa();B=B.Rv;this.W.T$a?x.mediaType === n.v.Z && void 0 !== C && (A=new d.daa(x,z,y.track,u,this.Ja,this.S,C,B)):A=new f.$xa(x,z,y.track,u,this.Ja,this.S,C,B);}A || (A=g.cY.create(x,z,y.track,u,this.Ja,!1,this.S,this.v4));A.oa(this);this.Ju(A);return A;};w.prototype.Ju=function(u){var y,x;this.Ja.Qs(u);(null === (y=this.Jo) || void 0 === y?void 0:y.state) === q.tk.complete && (null === (x=this.Jo) || void 0 === x?void 0:x.Mf());this.xlb(u);u.Fk && (this.bQ=!1);};w.prototype.WA=function(){return this.me.wla();};w.prototype.zRa=function(){this.wu === this.Ja.length && this.sMa && this.me.mK();};w.prototype.abb=function(){var u,y,x;u=this;Promise.resolve();if(this.Qr.q5(this.mf) && this.wu !== this.Ja.length){for(var z=this.W.UOb,A=0,B=[];this.wu < this.Ja.length;){if(x=this.Ja.get(this.wu)){if(this.Ja.lWa && this.Ja.lWa.kb < x.kb)break;if(!x.qj())break;B.push(x);++A;l.sb(this.Yra) || (this.Yra=null === (y=x.Bb) || void 0 === y?void 0:y.G);}++this.wu;if(!l.bi(z) && A >= z)break;}B.length && (void 0 !== this.me.count && (this.DD("tryToAtach() but requestQueue has sentinel:",this.me.count),this.me.Y7a()),Promise.all(B.map(function(C){return u.me.enqueue(C).then(function(){return u.RIb(C);});})),this.zRa());}};w.prototype.RIb=function(u){this.jNa=u;};w.prototype.QQ=function(u){var y,x,z;y=this;x=[];if(0 !== this.Ja.AH){z=this.Ja.l5a;this.Ja.k3b.fva(function(A){var B;if(A.Fk || z > (null === (B=A.Bb) || void 0 === B?void 0:B.G))return !0;A.Gs && (y.bQ=!1);if(!y.eea(A))return (y.gs("request abort failed:",A.toString()),!0);x.unshift(A);});this.zfa();x.length && "function" === typeof u && u(x);}};w.prototype.J7a=function(){this.zfa();};w.prototype.zXb=function(){var u,y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.Ja.length)return [3,3];u=this.Ja.get(0);y=p.N.Na(null !== (B=null === (A=this.W.bN) || void 0 === A?void 0:A.G) && void 0 !== B?B:0);x=y.add(u.Kb);return [4,q.yh.bz(x)];case 2:C.cb();if(1 >= this.Ja.complete.length && !u.Fk)return [3,3];(0,k.assert)(u === this.Ja.get(0));u.kd || this.eea(u);z=this.Ja.splice(0,1);0 < this.wu && this.wu--;this.sn.Kqa(z);z=void 0;return [3,1];case 3:return [2];}});};w.prototype.CDb=function(u){if(this.Ja.length && (u=this.Ja.UVa(u)))return u;};w.prototype.cpb=function(u){var y,x,z,A,B,C,D;C=u.Wa;u=this.Ja.Mka(u.La.G);D=this.Ja.get(u);(0,k.assert)(D && void 0 !== (null === (y=D.La) || void 0 === y?void 0:y.G) && void 0 !== (null === (x=D.Wa) || void 0 === x?void 0:x.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (z=D.Wa) || void 0 === z?0:z.equal(C))return (this.QOa(u),[null === (A=D.Wa) || void 0 === A?void 0:A.G,D.index + 1]);this.QOa(u - 1);return [null === (B=D.La) || void 0 === B?void 0:B.G,D.index];};w.prototype.Ym=function(u){var y,x;y=this;x=[];this.Ja.forEach(function(z){var A;A=z.xwa(u);1 === A?x.push(z):2 === A && y.mb.pa.yf("swapUrl failure");});return x;};w.prototype.SB=function(u){u.oB && u.qj() && this.abb();this.AK(u);};w.prototype.Kl=function(u){var y,x;u.oB && !u.kd && this.abb();(null === (y=this.Jo) || void 0 === y?void 0:y.state) === q.tk.complete && (null === (x=this.Jo) || void 0 === x?void 0:x.Mf());this.PA(u);};w.prototype.nmb=function(){return this.Ja.Sj + this.Ja.AH;};w.prototype.lOa=function(){var u,y,x;y=void 0 !== this.Ja && 0 < this.Ja.length;x=this.Ja;this.Ja=new h.Uxa(this.S,this);this.wu=0;this.me.clear();this.jNa=void 0;this.Yra=null;null === (u=this.Jo) || void 0 === u?void 0:u.Mf();this.sMa=this.bQ=!1;y && (u=x.map(function(z){return z;}),this.sn.Kqa(u));};w.prototype.xlb=function(u){this.bQ?u.Gs && u.Dpa(!1):(u.Gs || u.Dpa(!0),this.bQ=!0);};w.prototype.QOa=function(u){var y;for(u+=1;u < this.ota;u++){y=this.Ja.get(u);(0,k.assert)(y,"expected request to exist");this.me.remove(y);y.aborted || (this.eea(y),y.Te());}this.zfa();};w.prototype.eea=function(u){return u.abort()?!0:!1;};w.prototype.zfa=function(){var u,y,x,z;u=this;if(0 !== this.Ja.length){x=[];z=0;this.Ja.HVb(function(A,B){B < u.wu && ++z;x.push(A);});this.wu-=z;null === (y=this.Jo) || void 0 === y?void 0:y.Mf();this.sn.Kqa(x);}};return w=c.__decorate([v.fF],w);})(r.hz);b.MJa=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Sxa=void 0;c=a(0);l=a(75);g=c.__importDefault(a(53));r=c.__importDefault(a(5));h=a(10);d=a(4);f=a(184);n=a(89);k=a(246);m=a(91);p=r.default.Wt;a=(function(q){function v(t,w,u,y,x,z,A,B){var C;y=q.call(this,t,u,y,z,A,B) || this;x=n.al.prototype.toString.call(y) + (x?"(cache)":"");B={offset:u.offset,va:u.oqa + 8,responseType:0};y.push(new k.dO(t,w,x + "(moof)",B,y,z,A));B={offset:u.offset + B.va,va:u.va - B.va,responseType:p.re && !p.re.kW.vP?0:1};if(y.mediaType === g.default.cn.Z && y.Ga){if(0 < y.Ga.start){C=y.aWa(y.Ga.start);C && (B.offset=u.offset + C,B.va=u.va - C);}y.Ga.end < y.Hs && (C=y.aWa(y.Ga.end)) && (B.va-=u.va - C);}y.push(new k.dO(t,w,x + "(mdat)",B,y,z,A));return y;}c.__extends(v,q);v.prototype.qj=function(){return !this.kd && !!this.Ja.length && this.Ja.every(function(t){return t.qj();});};v.prototype.hq=function(t,w){var u,y,x,z,A,B,C;if(this.kd)return {status:m.kf.Zm};if(!this.qj())return {status:m.kf.wh};t=!1;u=this.Ja[0].response;y=u.slice(0,u.byteLength - 8);x=new DataView(u);u=x.getUint32(y.byteLength);(0,d.assert)("mdat" === (0,l.II)(x.getUint32(y.byteLength + 4)));z=this.Ga && 0 < this.Ga.start;x=this.Ga && this.Ga.end < this.Hs;if(this.Ga && (z || x)){if(z)(A=new l.xw(this.S,this.stream,y),B=A.t7a(this.Ga.start,this.T));if(x && !1 !== B){A=new l.xw(this.S,this.stream,B?(0,h.BE)(B.ka):y);C=A.A7a(this.Ga.end - this.Ga.start,this.T);}if(A=x?C:B)(t=w.appendBuffer((0,h.BE)(A.ka),(0,h.iy)(this)),B && ((0,d.assert)(void 0 !== B.Jp),(0,d.assert)(void 0 !== B.EM),u-=B.Jp),C && ((0,d.assert)(void 0 !== C.Jp),(0,d.assert)(void 0 !== C.EM),u-=C.Jp,B && (0,d.assert)(void 0 !== B.Jp)));A=this.lta();}else t=w.appendBuffer(y,(0,h.iy)(this));t && (t=w.appendBuffer((0,l.CL)(u - 8),(0,h.iy)(this))) && (t=w.appendBuffer(this.Ja[1].response,(0,h.iy)(this)));this.kd=t;this.TWb();return {status:t?m.kf.Zm:m.kf.wh,Ik:A};};v.prototype.toString=function(){return "ID: " + this.Hh() + ":" + q.prototype.toString.call(this);};return v;})(f.Dr);b.Sxa=a;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Uxa=void 0;c=a(0);a(4);l=a(1041);r=a(49);g=a(1042);h=a(90);d=a(114);f=a(244);a=(function(n){function k(m,p){var q,v;q=this;v=[new g.bY(m),new g.bY(m),new g.bY(m)];q=n.call(this,v,function(t){return t.complete?q.empty || t.kb <= q.dvb?0:1:t.active?1:2;}) || this;v=c.__read(v,3);q.Sh=v[0];q.ke=v[1];q.fs=v[2];q.Ko=0;q.fea=0;q.S=m;q.Ne=p;return q;}c.__extends(k,n);Object.defineProperties(k.prototype,{va:{get:function(){return this.Sh.va + this.ke.va + this.fs.va;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{k3b:{get:function(){return this.fs;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.ke;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Sh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fWb:{get:function(){return this.Ko;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{s2:{get:function(){return this.Sh.va;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Yq:{get:function(){return this.Sh.va + this.ke.va - this.Ko;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{l3b:{get:function(){return this.fs.va;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CM:{get:function(){return this.va - this.Ko;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.EEb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Zf:{get:function(){return this.Srb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wja:{get:function(){return !this.Sh.empty || this.fs.empty || this.ke.empty?this.first:this.ke.kb < this.fs.kb?this.ke.first:this.fs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{n1a:{get:function(){return this.fs.empty || this.ke.empty?this.Zf:this.ke.nb < this.fs.nb?this.fs.Zf:this.ke.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lWa:{get:function(){return this.fs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{T:{get:function(){return this.first && this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kb:{get:function(){return this.Wja && this.Wja.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nb:{get:function(){return this.n1a && this.n1a.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Sm:{get:function(){return this.first && this.first.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dvb:{get:function(){return this.Sh.empty?this.kb:this.Sh.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cvb:{get:function(){var m;return this.Sh.empty?null === (m=this.La) || void 0 === m?void 0:m.G:this.Sh.Wa.G;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nSa:{get:function(){var m;return this.Sh.empty?null === (m=this.Bb) || void 0 === m?void 0:m.G:this.Sh.Kb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jTb:{get:function(){return this.ke.Zf || this.Sh.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{l5a:{get:function(){var m,p;return (null === (m=this.ke.Kb) || void 0 === m?void 0:m.G) || (null === (p=this.Sh.Kb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{AH:{get:function(){return this.fs.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Sj:{get:function(){return this.ke.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pSa:{get:function(){return this.Sh.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cb:{get:function(){return this.Sh.concat(this.ke);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qq:{get:function(){return this.hg;},enumerable:!1,configurable:!0}});k.prototype.AI=function(m){var p;m.aborted?++this.fea:this.Ko+=m.bytesReceived || 0;if(this.empty)this.hg=new f.iz(this,{});else if(m.kb !== this.nb)if(m.kb > this.hg.nb)this.hg.zW(this.hg.nb);else if(m.kb < this.kb || m.kb === this.hg.nb){p=m.nb;this.WDb(function(q,v){return q.kb - v.kb;},function(q){p=q.kb === p?q.nb:p;});p === Math.max(this.nb,m.nb)?this.hg.oia():this.hg.zW(p);}m.RZb(this);};k.prototype.Zw=function(m){m.aborted?--this.fea:this.Ko-=m.bytesReceived;this.empty?this.hg=void 0:m.kb !== this.nb && m.nb <= this.hg.nb && m.kb > this.hg.kb && this.hg.zW(m.kb);m.Dub();};k.prototype.push=function(m){this.AI(m);return n.prototype.push.call(this,m);};k.prototype.shift=function(){var m;m=n.prototype.shift.call(this);m && this.Zw(m);return m;};k.prototype.pop=function(){var m;m=n.prototype.pop.call(this);m && this.Zw(m);return m;};k.prototype.unshift=function(m){this.AI(m);return n.prototype.unshift.call(this,m);};k.prototype.Qs=function(m){this.AI(m);n.prototype.Qs.call(this,m);};k.prototype.remove=function(m){if(!n.prototype.remove.call(this,m))return !1;this.Zw(m);return !0;};k.prototype.splice=function(m,p){for(var q=[],v=2;v < arguments.length;v++){q[v - 2]=arguments[v];}v=n.prototype.splice.apply(this,c.__spreadArray([m,p],c.__read(q),!1));q.forEach(this.AI.bind(this));v.forEach(this.Zw.bind(this));return v;};k.prototype.HVb=function(m){var p;p=this;this.reduce(function(q,v,t){v.aborted && (m && m(v,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.Mka=function(m){return this.VVa(function(p){return p.Mka(m);});};k.prototype.DS=function(m){return this.VVa(function(p){return p.DS(m);});};k.prototype.UVa=function(m){m=this.DS(m);return -1 !== m?this.get(m):void 0;};k.prototype.UYb=function(m){var q;for(var p=[];m < this.length;){q=this.get(m);q && p.push(q);m++;}return p;};k.prototype.cM=function(m){this.move(m);this.LS(m);};k.prototype.dM=function(m){this.Ko+=m.bytesReceived - m.cr;this.BK(m);};k.prototype.Kl=function(m){for(this.Ko+=m.bytesReceived - m.cr;this.ke.first && this.ke.first.complete && (this.Sh.empty?this.ke.first === this.Wja:this.ke.first.kb === this.Sh.nb);){this.p_b();}this.PA(m);};k.prototype.nV=function(m,p,q){this.Ko-=m.bytesReceived;++this.fea;this.zK(m,p,q);};k.prototype.ry=function(m,p,q){this.ke.v3b(p - q);this.S3(m,p,q);};return k;})(l.Jza);b.Uxa=a;(0,r.si)(d.hz,a,!1);(0,r.si)(h.Mt,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Jza=void 0;c=a(0);a(4);r=(function(){function l(g,h){this.Tc=g;this.FI=h;this.Tw();}Object.defineProperties(l.prototype,{length:{get:function(){return this.Oz;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.Oz;},enumerable:!1,configurable:!0}});l.prototype.EEb=function(){return this.SI && this.SI.get(0);};l.prototype.Srb=function(){return this.DI && this.DI.get(this.DI.length - 1);};l.prototype.get=function(g){0 > g && (g+=this.length);for(var h=0;h < this.Tc.length;++h){if(this.Bh[h + 1] > g)return this.Tc[h].get(g - this.Bh[h]);}};l.prototype.push=function(g){this.Tc[this.FI(g)].push(g);this.Tw();return this.Oz;};l.prototype.shift=function(){var g;if(this.SI){g=this.SI.shift();this.Tw();return g;}};l.prototype.pop=function(){var g;if(this.DI){g=this.DI.pop();this.Tw();return g;}};l.prototype.unshift=function(g){this.Tc[this.FI(g)].unshift(g);this.Tw();return this.Oz;};l.prototype.Qs=function(g){var h;h=this.FI(g);this.Tc[h].Qs(g);this.Tw();};l.prototype.remove=function(g){var h;h=this.Tc.some(function(d){return d.remove(g);});h && this.Tw();return h;};l.prototype.splice=function(g,h){var q,v,t,w;for(var d,f=[],n=2;n < arguments.length;n++){f[n - 2]=arguments[n];}n=[];for(var k,m=g + Math.max(0,h),p=0;p < this.Tc.length;++p){q=this.Tc[p];v=this.Bh[p];t=this.Bh[p + 1];if(g < t){w=g - v;v=Math.min(m - v,q.length);void 0 === k && 0 < w && v < q.length?Array.prototype.push.apply(n,q.splice.apply(q,c.__spreadArray([w,v - w],c.__read(f),!1))):(Array.prototype.push.apply(n,q.splice(w,v - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));g=t;if(g >= m)break;}}if(f.length && void 0 !== k){for(m=this.FI(f[0]);0 < k && m < k && this.Tc[k].empty;){--k;}for(;f.length && m === k;){this.Tc[k].push(f.shift());if(!f.length)break;m=this.FI(f[0]);}for(;f.length && ++k < this.Tc.length && this.Tc[k].empty;){for(;f.length && m === k;){this.Tc[k].push(f.shift());if(!f.length)break;m=this.FI(f[0]);}}f.length && (d=this.Tc[k]).splice.apply(d,c.__spreadArray([0,0],c.__read(f),!1));}this.Tw();return n;};l.prototype.find=function(g){var h,d;h=this;return this.Tc.some(function(f,n){d=f.find(h.bA(g,n));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(g){var d;for(var h=0;h < this.Tc.length;++h){d=this.Tc[h].findIndex(this.bA(g,h));if(-1 !== d)return d + this.Bh[h];}return -1;};l.prototype.indexOf=function(g){var d;for(var h=0;h < this.Tc.length;++h){d=this.Tc[h].indexOf(g);if(-1 !== d)return d + this.Bh[h];}return -1;};l.prototype.map=function(g){var h,d;h=this;d=this.Tc.map(function(f,n){return f.map(h.bA(g,n));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(g,h){var d;d=this;return this.Tc.reduce(function(f,n,k){return n.reduce(d.Yob(g,k),f);},h);};l.prototype.forEach=function(g){var h;h=this;this.Tc.forEach(function(d,f){d.forEach(h.bA(g,f));});};l.prototype.O3=function(g){for(var h=this.Tc.length - 1;0 <= h;--h){this.Tc[h].O3(this.bA(g,h));}};l.prototype.some=function(g){var h;h=this;return this.Tc.some(function(d,f){return d.some(h.bA(g,f));});};l.prototype.fva=function(g){for(var h=this.Tc.length - 1;0 <= h;--h){if(this.Tc[h].fva(this.bA(g,h)))return !0;}return !1;};l.prototype.every=function(g){var h;h=this;return this.Tc.every(function(d,f){return d.every(h.bA(g,f));});};l.prototype.WDb=function(g,h){var m,p;function d(q){return q.reduce(function(v,t,w,u){return void 0 === t?v:void 0 === v?w:0 > g(t,u[v])?w:v;},void 0);}for(var f=this,n=this.Tc.map(function(){return 0;}),k=this.Tc.filter(function(q){return q.empty;}).length;k < this.Tc.length;){m=n.map(function(q,v){return q < f.Tc[v].length?f.Tc[v].get(q):void 0;});p=d(m);h(m[p],this.Bh[p] + n[p],this);++n[p];n[p] === this.Tc[p].length && ++k;}};l.prototype.move=function(g){return this.remove(g)?(this.Qs(g),!0):!1;};l.prototype.p_b=function(){var g;if(this.Tc[1].length){g=this.Tc[1].shift();this.Tc[0].push(g);this.Tw();}};l.prototype.VVa=function(g){for(var h=-1,d=0;d < this.Tc.length;++d){if((h=g(this.Tc[d]),-1 !== h)){h+=this.Bh[d];break;}}return h;};l.prototype.toJSON=function(){return this.map(function(g){return g.toJSON();});};l.prototype.Tw=function(){var h;this.Oz=0;this.Bh=[0];this.DI=this.SI=void 0;for(var g=0;g < this.Tc.length;++g){h=this.Tc[g];this.Oz+=h.length;this.Bh.push(this.Bh[this.Bh.length - 1] + h.length);!this.SI && h.length && (this.SI=h);h.length && (this.DI=h);}};l.prototype.bA=function(g,h){var d,f;d=this;f=this.Bh[h];return function(n,k){return g(n,f + k,d);};};l.prototype.Yob=function(g,h){var d,f;d=this;f=this.Bh[h];return function(n,k,m){return g(n,k,f + m,d);};};return l;})();b.Jza=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bY=void 0;c=a(0);l=a(4);r=a(49);g=a(244);a=a(90);h=(function(){function d(f,n){this.Qa=[];this.hg=void 0;this.Hc=0;this.S=f;n && n.length && (Array.isArray(n)?(this.Qa=n.slice(),this.IP(0,this.Qa.length)):n instanceof d && (this.Qa=n.Qa.slice(),this.IP(0,this.Qa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Qa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zf:{get:function(){return this.Qa[this.Qa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kb:{get:function(){return this.first && this.first.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nb:{get:function(){return this.Zf && this.Zf.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qq:{get:function(){return this.hg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{va:{get:function(){return this.Hc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{T:{get:function(){return this.first && this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sm:{get:function(){return this.first && this.first.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ma:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});d.prototype.v3b=function(f){this.Hc+=f;};d.prototype.Jrb=function(){var f;if(0 === this.Qa.length)((0,l.assert)(void 0 === this.hg),(0,l.assert)(0 === this.Hc));else {(0,l.assert)(this.hg instanceof g.iz);(0,l.assert)("number" === typeof this.Hc);(0,l.assert)(void 0 !== this.qq && this.qq.kb === this.kb);f=this.Qa.reduce(function(n,k,m){return 0 === m || k.kb === n?k.nb:n;},0);(0,l.assert)(this.qq.nb === f);(0,l.assert)(this.Qa.reduce(function(n,k,m){return 0 === m || k.kb === n?k.nb:n;},0) === this.qq.nb);(0,l.assert)(this.Qa.reduce(function(n,k){return n + k.va;},0) === this.Hc);}};d.prototype.get=function(f){0 > f && (f+=this.Qa.length);return this.Qa[f];};d.prototype.push=function(f){this.Qa.push(f);this.IP(this.Qa.length - 1);return this.length;};d.prototype.unshift=function(f){this.Qa.unshift(f);this.IP(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Qa.length)return (this.Cfa(this.Qa.length - 1),this.Qa.pop());};d.prototype.shift=function(){if(0 !== this.Qa.length)return (this.Cfa(0),this.Qa.shift());};d.prototype.splice=function(f,n){for(var k,m=[],p=2;p < arguments.length;p++){m[p - 2]=arguments[p];}0 > f && (f+=this.Qa.length);0 > f && (f=0);f > this.Qa.length && (f=this.Qa.length);if(void 0 === n || 0 > n)n=0;n=Math.min(n,this.Qa.length - f);0 < n && this.Cfa(f,f + n);p=(k=this.Qa).splice.apply(k,c.__spreadArray([f,n],c.__read(m),!1));0 < m.length && this.IP(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,n){void 0 === f && (f=0);void 0 === n && (n=this.Qa.length);0 > f && (f+=this.Qa.length);if(f >= this.Qa.length)return new d(this.S);n > this.Qa.length && (n=this.Qa.length);0 > n && (n+=this.Qa.length);return new d(this.S,this.Qa.slice(f,n));};d.prototype.Qs=function(f){if(0 === this.Qa.length || f.kb >= this.nb)this.push(f);else if(f.nb <= this.kb)this.unshift(f);else {for(var n=0,k=this.Qa.length - 1,m;n < k - 1;){m=Math.floor((k + n) / 2);(0,l.assert)(m !== k && m !== n);f.kb >= this.Qa[m].nb?n=m:k=m;}(0,l.assert)(n !== k);(0,l.assert)(this.Qa[n].nb <= f.kb && this.Qa[k].kb >= f.nb);this.splice(k,0,f);}};d.prototype.remove=function(f){f=this.Qa.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],n=0;n < arguments.length;n++){f[n]=arguments[n];}f=f.map(function(k){return k.Qa;});return new d(this.S,Array.prototype.concat.apply(this.Qa,f));};d.prototype.forEach=function(f){var n;n=this;this.Qa.forEach(function(k,m){return f(k,m,n);});};d.prototype.some=function(f){var n;n=this;return this.Qa.some(function(k,m){return f(k,m,n);});};d.prototype.every=function(f){var n;n=this;return this.Qa.every(function(k,m){return f(k,m,n);});};d.prototype.map=function(f){var n;n=this;return this.Qa.map(function(k,m){return f(k,m,n);});};d.prototype.reduce=function(f,n){var k;k=this;return this.Qa.reduce(function(m,p,q){return f(m,p,q,k);},n);};d.prototype.indexOf=function(f){return this.Qa.indexOf(f);};d.prototype.find=function(f){var n,k;n=this;return this.Qa.some(function(m,p){k=p;return f(m,p,n);})?this.Qa[k]:void 0;};d.prototype.findIndex=function(f){var n,k;n=this;return this.Qa.some(function(m,p){k=p;return f(m,p,n);})?k:-1;};d.prototype.filter=function(f){var n;n=this;return new d(this.S,this.Qa.filter(function(k,m){return f(k,m,n);}));};d.prototype.O3=function(f){for(var n=this.Qa.length - 1;0 <= n;--n){f(this.Qa[n],n,this);}};d.prototype.fva=function(f){for(var n=this.Qa.length - 1;0 <= n;--n){if(f(this.Qa[n],n,this))return !0;}return !1;};d.prototype.Mka=function(f){if(this.empty || f < this.La.G || f >= this.Wa.G)return -1;for(var n=0,k=this.Qa.length - 1,m;k > n;){m=Math.floor((k + n) / 2);if(f >= this.Qa[m].La.G && f < this.Qa[m].Wa.G){k=m;break;}f < this.Qa[m].Wa.G?k=m - 1:n=m + 1;}return k;};d.prototype.DS=function(f){if(this.empty || f < this.Bb.G || f >= this.Kb.G)return -1;for(var n=0,k=this.Qa.length - 1,m;k > n;){m=Math.floor((k + n) / 2);if(f >= this.Qa[m].Bb.G && f < this.Qa[m].Kb.G){k=m;break;}f < this.Qa[m].Kb.G?k=m - 1:n=m + 1;}return k;};d.prototype.UVa=function(f){f=this.DS(f);return 0 <= f?this.Qa[f]:void 0;};d.prototype.b1=function(f){var n;n=this.Qa[f].nb;for(f+=1;f < this.Qa.length && n === this.Qa[f].kb;++f){n=this.Qa[f].nb;}f < this.Qa.length?void 0 === this.hg?this.hg=new g.iz(this,{nb:n}):this.hg.zW(n):void 0 === this.hg?this.hg=new g.iz(this,{}):this.hg.oia();};d.prototype.AI=function(f,n){for(var k=f;k < n;++k){this.Hc+=this.Qa[k].va;}void 0 === this.hg || 0 === f?this.b1(0):this.hg.nb === this.nb?this.b1(f - 1):this.Qa[f].kb === this.hg.nb && this.b1(f);};d.prototype.Zw=function(f,n){var k;if(0 === f)(this.hg=void 0,n < this.length && this.b1(n));else {k=this.hg;k.nb > this.Qa[f - 1].nb && (n < this.length?k.zW(this.Qa[f - 1].nb):k.oia());}for(;f < n;++f){this.Hc-=this.Qa[f].va;}};d.prototype.IP=function(f,n){void 0 === n && (n=f + 1);this.AI(f,n);};d.prototype.Cfa=function(f,n){void 0 === n && (n=f + 1);this.Zw(f,n);};return d;})();b.bY=h;(0,r.si)(a.Mt,h);},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.$xa=void 0;c=a(0);c.__importDefault(a(5));l=a(7);g=a(10);h=a(4);d=a(184);f=a(89);n=a(427);k=a(246);m=a(91);(function(q){q[q.INIT=0]="INIT";q[q.uJa=1]="READY";q[q.DONE=2]="DONE";})(p || (p={}));r=(function(q){function v(t,w,u,y,x,z,A,B){var C,D;x=q.call(this,t,y,x,w,z) || this;x.bmb=0;x.Pfa=p.INIT;x.Fea=u;x.$$b=y.offset;(0,h.assert)(y.Jh);x.lQ=y.Jh;x.kQ=f.al.prototype.toString.call(x) + " multiple";x.Amb=("AseMultiFragmentMediaRequest(").concat(null === (C=x.La) || void 0 === C?void 0:C.G,"-").concat(null === (D=x.Wa) || void 0 === D?void 0:D.G,")");x.Jh=y.Jh;w=w.xNb;x.N0=w;x.XD(x.kQ,y.offset,w,1,x.Fea,x.sd);A && B && t.mediaType === l.v.Z?(x.Cob=A.Ug[0],x.COa=B.track,x.XD("TEXT",0,0,0,x.COa,x.Cob)):x.Pfa=p.DONE;return x;}c.__extends(v,q);Object.defineProperties(v.prototype,{va:{get:function(){return this.N0;},enumerable:!1,configurable:!0}});v.prototype.hH=function(){var t;t=this;this.Ata();return this.Ja.every(function(w){var u;if(5 === w.readyState || 7 === w.readyState)return !0;u=w.stream.TK(t.Ad,t.lQ);return w.hH(u);});};v.prototype.SB=function(t){var w,u;if(0 === t.offset){w=this.slb(t);if(void 0 === w)1 > this.bmb++?(this.Ip(t),t.abort(),this.XD(this.kQ,0,t.va,t.responseType,t.mediaType === l.v.Za?this.COa:this.Fea,t.stream)):this.S.error("Missing content-range from url: " + t.url);else {u=0 === t.va?0:w - (t.offset + t.va);0 < u && (this.XD(this.kQ,t.offset + t.va,u,1,this.Fea,this.sd),u=this.N0,this.N0=w,d.Dr.prototype.ry.call(this,this,this.N0,u));}}d.Dr.prototype.SB.call(this,t);};v.prototype.Kl=function(t){d.Dr.prototype.Kl.call(this,t);};v.prototype.ry=function(t,w,u){t.mediaType !== l.v.Za && d.Dr.prototype.ry.call(this,t,w,u);};v.prototype.qj=function(){return this.Fk?!this.kd && !!this.Ja.length && this.Ja.every(function(t){return t.qj();}):q.prototype.qj.call(this);};v.prototype.hq=function(t,w,u){var y,x;if(this.kd)return {status:m.kf.Zm};if(!this.qj())return {status:m.kf.wh};if(void 0 !== this.EOa){y=this.Ja[this.EOa];y.qj() && (y.hq(t,w,u),this.Pfa=p.DONE);}x=m.kf.cGa;(this.kd=this.Ja.every(function(z){if(1 !== z.responseType || z.kd)return !0;if(!z.qj())return !1;x=z.hq(t,w,u,(0,g.iy)(z)).status;return x === m.kf.Zm;}) && this.Pfa === p.DONE) || (x=m.kf.b_);return {status:x};};v.prototype.XD=function(t,w,u,y,x,z){w={O:this.O,mediaType:z.mediaType,Wb:z.id,bitrate:this.bitrate,index:this.Jh,offset:w,va:u,location:this.location,Rc:this.Rc,responseType:y,Jh:this.Jh};w.kb=this.La.Nd(z.T).xa;w.nb=this.Wa.Nd(z.T).xa;w.T=z.T;z.mediaType === l.v.Za?(t=new n.eaa(z,x,w,this,this.Yd,this.S),this.EOa=this.Ja.length):t=new k.dO(z,x,t + " (" + this.Ja.length + ")",w,this,this.Yd,this.S);this.push(t);};v.prototype.slb=function(t){var w;w=t.getResponseHeader("content-range",!1);if(w)return (t=w.indexOf("/"),(0,h.assert)(-1 !== t,"unable to parse content-range: " + w),t=w.slice(t + 1),t=parseInt(t),(0,h.assert)(0 < t,"unable to parse content-range: " + w),t);if(w=t.getResponseHeader("content-length",!1))return parseInt(w);};return v;})(d.Dr);b.$xa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.EKa=void 0;c=a(428);l=a(7);g=a(21);r=(function(){function h(d,f){this.Rk=d;this.console=f;this.G0=Infinity;this.zMa=0;this.Job=!1;}h.prototype.sDb=function(d,f,n,k,m){var p;if(this.Rk){p=d.Ma;if(p){if(n === l.v.Z)(n=p.Lx(Math.ceil(this.Rk * d.ba.yy),void 0,!0),p=d.Pn(n),d=p.Fd.Ii(d.ba),p.mi({start:0,end:this.Rk - n * d}),this.G0=this.Rk);else {void 0 !== k.f$a?(f=k.f$a,n=f * d.ba.G):(n=(0,c.dma)(k,m) + Math.ceil(k.Crb * d.ba.yy),g.N.Na(n).Ii(d.ba),n=f + n,f=Math.ceil(n / d.ba.yy));n=p.Lx(n,void 0,!0);for(m=k=0;m < n;++m){p=d.Pn(m);k+=p.Fd.Ii(d.ba);}k=f - k;p=d.Pn(n);p.mi({end:k});this.G0=f;}p.j2a();return p;}}};h.prototype.nJb=function(){return this.zMa >= this.G0;};h.prototype.yKb=function(d,f){this.dv(d,f);};h.prototype.bCb=function(d,f,n){d.Dec=this.dv(f,n);};h.prototype.dv=function(d,f){return d.Fd.Ii(f.ba);};h.prototype.f2=function(){if(!this.nJb())return !1;if(this.Job)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.zMa," >= ").concat(this.G0));return !0;};return h;})();b.EKa=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.VHa=void 0;c=a(0);l=a(7);g=a(429);h=a(4);r=(function(){function d(f){var n,k,m,p,q,v,t;n=f.console;k=f.config;m=f.pa;p=f.WB;q=f.u;v=f.La;t=f.Wa;f=f.splice;this.IT=this.LJ=!1;this.console=n;this.config=k;this.WB=p;this.pa=m;this.u=q;this.La=v;this.Wa=t;this.splice=f;this.EKb();}d.prototype.oa=function(f){if(this.LJ)throw Error("Cannot call init() after cleanup");if(this.IT)throw Error("Cannot call init() twice");this.IT=!0;this.y4a=f;this.pa.events.addListener("onHeaderFragments",this.xRa);this.Gga() && this.Dqa();};d.prototype.normalize=function(){if(this.LJ)throw Error("Cannot call normalize() after cleanup");if(this.IT)throw Error("Cannot call init() / normalize() twice");this.IT=!0;(0,h.assert)(this.Gga());return this.Dqa();};d.prototype.jXb=function(f,n){(0,h.assert)(this.IT,"expected to be called init() before renormalize");this.u=f;this.Wa=n;f=(0,g.hta)(this.config,this.WB,this.Wa);this.Y3a();return f;};d.prototype.Te=function(){this.LJ || (this.LJ=!0,this.y4a=void 0,this.pa.events.removeListener("onHeaderFragments",this.xRa));};d.prototype.EKb=function(){var f;f=this;this.xRa=function(){f.LJ || f.Gga() && f.Dqa();};};d.prototype.Dqa=function(){var f,n,k;if(this.LJ)return {$R:!1,EA:!1};n=this.EQb();k=!1;this.u && !this.u.fo && (k=this.Y3a());null === (f=this.y4a) || void 0 === f?void 0:f.call(this,n,k);this.Te();return {$R:n,EA:k};};d.prototype.Gga=function(){return this.WB.every(function(f){return f.track.Yj;});};d.prototype.EQb=function(){var f,n;f=c.__read((0,g.W3a)(this.config,this.WB,this.La,this.Wa,this.splice),2);n=f[0];return f[1] || void 0 === this.WB.get(l.v.Z) && n;};d.prototype.Y3a=function(){var f,n,k;(0,h.assert)(this.u);(0,h.assert)(!this.u.fo);f=this.WB.qsa;n=(0,g.Z3a)(this.config,f,this.u.Je);if(void 0 === n || void 0 === f.Wa)return !1;f=f.Wa;k=this.config.Cwa && "lazy" === this.u.Pd?(0,g.k2a)(this.console,this.u,this.WB):[];this.u.normalize(n,f,k);return !0;};return d;})();b.VHa=r;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A;function c(B){return function(){return ("[").concat(B,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.ZGa=b.kz=void 0;l=a(0);g=a(75);h=a(36);d=a(398);f=a(7);n=a(21);r=a(90);k=a(1047);m=a(49);p=a(259);q=a(4);v=a(414);t=a(10);w=l.__importDefault(a(5));u=a(245);y=a(402);x=a(9);z=a(127);a=a(425);(function(B){B[B.rO=0]="CREATED";B[B.jO=1]="CANCELLED";})(A=b.kz || (b.kz={}));a=(function(B){function C(D,E,G,F,H,K){D=B.call(this,E,F,G,n.N.Ia,(0,t.gi)(w.default,D,"AsePadding")) || this;D.pa=H;D.config=K;D.EH=new p.OH(D.console);D.mA=new p.OH(D.console);D.fo=new t.oz();D.console.trace(("PaddingBranch {").concat(E.id,"}: created"));return D;}l.__extends(C,B);C.prototype.lxb=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q,M,S;return l.__generator(this,function(ra){switch(ra.label){case 0:return [4,this.YUb()];case 1:E=ra.cb();G=E.Lf;F=E.md;H=E.bitrate;K=E.Vq;O=v.D_.instance();I=O.hIb(F,H,K);P=new n.N(I.duration);N=new n.N(I.ba);J=N.T;L=I.profile;R=I.bitrate;ka=I.channels;la={Q_a:!0,mediaType:f.v.ga,Ue:L,profile:L,T:J,Ih:[{Ye:0,data:I.oa}],ba:N,Lf:G,pa:this.pa,bitrate:R,Wb:("").concat(h.gn),track:{trackId:"1",mediaType:f.v.ga,Cl:!1,ba:N,pa:this.pa,channels:ka,sampleRate:48E3,profile:L,Ug:[],Vq:K,toString:c(f.v.ga)},toJSON:function(){return {mediaType:la.mediaType,Wb:la.Wb,bitrate:la.bitrate};}};la.Hm=la.track.Hm=d.NH.prototype.Hm.bind(la.track);la.track.Ug.push(la);X=(0,t.gi)(w.default,this.console,"[0]");this.mA=new p.OH(X);da=new n.N(I.ba);ta=this.config.pm?G:n.N.Ia;Ba=ta.add(P);x.I && X.trace(("PaddingBranch: audio target duration is ").concat(D.ob()));Ja=n.N.Ia;Va=this.config.pm?-Math.ceil(G.Ii(N)):0;T=ta;for(aa=!0;T.lessThan(D);){T=T.add(P);T.greaterThan(D) && (Ta=P.Ii(da) - Math.floor(T.wa(D).Ii(da)));Q=T.$h(D);M=aa?0:Q?D.G:void 0;S=new k.gaa(I.oa,I.ka,la,J,ta.Nd(J).xa,Ba.Nd(J).xa,da,X,this,this.UWa.bind(this,J,Ja),M,aa,Q);S.mi({start:Va,end:Ta});x.I && X.log(("PaddingBranch: enqueing request ").concat(S,", edit: ").concat(JSON.stringify({start:Va,end:Ta}),", ") + ("offset ").concat(Ja.ob()));this.mA.enqueue(S);Ja=Ja.add(P);Va=void 0;aa=!1;}this.mA.mK();return [2];}});});};C.prototype.syb=function(){var D,E,G;return l.__awaiter(this,void 0,void 0,function(){var F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q,M,S,ra,oa,Ca,Ua,Pa;return l.__generator(this,function(Ya){switch(Ya.label){case 0:return [4,this.$Ub()];case 1:F=Ya.cb();H=F.profile;K=F.Lu;O=F.Vq;I=v.D_.instance();P=null === (G=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.Ze(f.v.Z)) || void 0 === E?void 0:E.track.ba) || void 0 === G?void 0:G.f7a();(0,q.assert)(P,"padding branches should always have a frameRate");N=I.iIb(this.pa.S4b,H,P,K,O);J=new n.N(N.duration);L=N.profile;R=N.bitrate;ka=N.width;la=N.height;X=N.Pc;da=N.Qc;ta=N.ba.T;Ba=new n.N(N.ba);Ja=new u.xI(ta,N.ba.xa);Va={Q_a:!0,mediaType:f.v.Z,Ue:L,profile:L,T:ta,Ih:[{Ye:0,data:N.oa}],Wb:("").concat(h.gn),ba:Ba,pa:this.pa,bitrate:R,track:{trackId:"1",mediaType:f.v.Z,Cl:!1,ba:Ba,frameRate:Ja,o6:Ja,hk:new y.Xda({w:ka,op:la},{w:X,op:da}),pa:this.pa,profile:L,Ug:[],Vq:O,toString:c(f.v.Z)},toJSON:function(){return {mediaType:Va.mediaType,Wb:Va.Wb,bitrate:Va.bitrate};}};Va.Hm=Va.track.Hm=d.NH.prototype.Hm.bind(Va.track);Ta=new g.Mr(this.console,Va,N.oa,["moov"],!0,{h8a:!0,xra:!0});T={ba:Ba};aa=Ta.parse(T);(0,q.assert)(aa.dt,"Failed to parse padding fragment header");(0,q.assert)(aa.Ih,"Failed to get initialization segments from padding fragment header");Va.Ih=aa.Ih;x.I && this.console.trace(("PaddingBranch {").concat(this.u.id,"}: video queue"),Va);Va.track.Ug.push(Va);Q=(0,t.gi)(w.default,this.console,"[1]");M=Math.ceil(this.Tpa.Ii(J));S=J.uv(M);ra=this.u.Je;oa=ra.add(S).Nd(this.T);x.I && Q.trace(("PaddingBranch: ").concat(M," fragments of ").concat(J.ob(),", ") + ("duration ").concat(S.ob(),", ") + ("c: ").concat(ra.ob(),"-").concat(oa.ob(),", "));this.u.normalize(ra,oa,[]);for(Ca=n.N.Ia;Ca.lessThan(S);){Ua=Ca.add(J);Pa=new k.gaa(N.oa,N.ka,Va,ta,0,J.Nd(ta).xa,Ba,Q,this,this.UWa.bind(this,ta,Ca),void 0,Ca.equal(n.N.Ia),Ua.$h(S));x.I && Q.trace(("PaddingBranch: appended ").concat(Pa));this.EH.enqueue(Pa);Ca=Ua;}this.EH.mK();this.y4b=S;return [2,{duration:S}];}});});};Object.defineProperties(C.prototype,{by:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ij:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{hA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ng:{get:function(){return this.fo.Fta;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{QN:{get:function(){return this.fo.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Tn:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{T:{get:function(){return this.u.Je.T;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{kb:{get:function(){return this.u.Je.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nb:{get:function(){return this.u.Ag.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Sm:{get:function(){return this.pe.Nd(this.T).xa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Xx:{get:function(){return this.u.Je.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{xK:{get:function(){(0,q.assert)(!this.u.u.vq,"exit zone not supported for padding segments");return n.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{rJ:{get:function(){return this.mA && this.EH?this.mA.Yx && this.EH.Yx:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{GPa:{get:function(){return !(!this.mA && !this.EH);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{$q:{get:function(){return this.u.Je.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{tG:{get:function(){return this.u.Ag.add(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{W5:{get:function(){return this.Kb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{oq:{get:function(){return this.Kb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{pe:{get:function(){return this.ku;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Tpa:{get:function(){var D;return null !== (D=this.CNa) && void 0 !== D?D:this.u.Ag.wa(this.u.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{xr:{get:function(){return n.N.Ia;},enumerable:!1,configurable:!0}});C.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var D;return l.__generator(this,function(E){switch(E.label){case 0:(B.prototype.oa.call(this),E.label=1);case 1:return (E.Wm.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.u.id,"}: init")),this.parent?[4,this.parent.QN]:[3,3]);case 2:(E.cb(),E.label=3);case 3:return (this.CNa=this.u.Ag.wa(this.u.Je),[4,this.eTa([f.v.ga,f.v.Z])]);case 4:return (E.cb(),this.fo.resolve(),[3,6]);case 5:D=E.cb();if(!this.Uf)throw D;return [3,6];case 6:return [2];}});});};C.prototype.update=function(D){this.ej=D;};C.prototype.WA=function(D){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.u.id,"}: getRequestIterator(").concat(D,")"));return D === f.v.ga?[2,this.mA.wla()]:[2,this.EH.wla()];});});};C.prototype.reset=function(){};C.prototype.Gf=function(D){void 0 === D && (D="other");B.prototype.Gf.call(this,D);this.wc=A.jO;this.CNa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};C.prototype.q5=function(){return !0;};C.prototype.Ze=function(){};C.prototype.S4=function(D){return [f.v.ga,f.v.Z].some(function(E){return E === D;});};C.prototype.Ls=function(){return [];};C.prototype.WK=function(D){var E;return null === (E=this.parent) || void 0 === E?void 0:E.WK(D);};C.prototype.s4=function(){return [];};C.prototype.rF=function(){};C.prototype.On=function(){return this.Tpa.G;};C.prototype.EK=function(){return {};};C.prototype.VS=function(){return this.u.Ag.G;};C.prototype.Py=function(D,E,G,F){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(H){switch(H.label){case 0:return [4,this.fo.promise];case 1:return (H.cb(),this.parent?[4,this.parent.QN]:[3,3]);case 2:(H.cb(),H.label=3);case 3:return [4,this.eTa(F)];case 4:return (H.cb(),[2]);}});});};C.prototype.eTa=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G;return l.__generator(this,function(F){switch(F.label){case 0:E=n.N.Ia;if(-1 === D.indexOf(f.v.Z))return [3,2];this.EH.clear();return [4,this.syb()];case 1:(G=F.cb(),E=G.duration,F.label=2);case 2:if(-1 === D.indexOf(f.v.ga))return [3,4];this.mA.clear();this.console.trace(("AsePaddingBranch {").concat(this.u.id,"}: video duration ").concat(E.ob()));return [4,this.lxb(this.y4b)];case 3:(F.cb(),F.label=4);case 4:return [2];}});});};C.prototype.YYa=function(){};C.prototype.Ym=function(){return [];};C.prototype.NJ=function(D){var E,G;return !!((null === (E=this.Kb) || void 0 === E?0:E.greaterThan(D)) && (null === (G=this.Bb) || void 0 === G?0:G.lessThan(D)));};C.prototype.h4=function(){return this.Tpa;};C.prototype.d$=function(){return !1;};C.prototype.toJSON=function(){var D,E;return {segment:this.u.id,viewableId:this.ej.K,contentStartPts:null === (D=this.La) || void 0 === D?void 0:D.G,contentEndPts:null === (E=this.Wa) || void 0 === E?void 0:E.G};};C.prototype.$Ub=function(){var D,E,G,F,H,K,O;return l.__awaiter(this,void 0,void 0,function(){var I,P,N,J;return l.__generator(this,function(L){switch(L.label){case 0:return (I=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.Ze(f.v.Z)) || void 0 === E?void 0:E.we.Xn)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.Ze(f.v.Z)) || void 0 === F?void 0:F.we.Gcb];case 1:L.cb();if(this.Uf)return [2,Promise.reject()];L.label=2;case 2:return (I=null === (K=null === (H=this.parent) || void 0 === H?void 0:H.Ze(f.v.Z)) || void 0 === K?void 0:K.we.Xn,(0,q.assert)(I,"Parent of padding branch must have last selected video stream"),P=null === (O=I.track.hk) || void 0 === O?void 0:O.Lu,N=I.track.Vq,J=I.Ue,[2,{profile:J,Lu:P,Vq:N}]);}});});};C.prototype.YUb=function(){var D,E,G,F,H,K;return l.__awaiter(this,void 0,void 0,function(){var O,I,P,N,J;return l.__generator(this,function(L){switch(L.label){case 0:return (O=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.Ze(f.v.ga)) || void 0 === E?void 0:E.we.Xn)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.Ze(f.v.ga)) || void 0 === F?void 0:F.we.Gcb];case 1:L.cb();if(this.Uf)return [2,Promise.reject()];L.label=2;case 2:return (O=null === (K=null === (H=this.parent) || void 0 === H?void 0:H.Ze(f.v.ga)) || void 0 === K?void 0:K.we.Xn,(0,q.assert)(O,"Parent of padding branch must have last selected audio stream"),I=O.Lf || n.N.Ia,P=-1 !== O.profile.indexOf("heaac")?"heaac":"ddp",N=O.bitrate,J=O.track.Vq,[2,{Lf:I,md:P,bitrate:N,Vq:J}]);}});});};C.prototype.UWa=function(D,E){return this.ku.add(E).Nd(D).xa;};return C=l.__decorate([z.fF],C);})(a.uaa);b.ZGa=a;(0,m.si)(r.Mt,a);},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gaa=void 0;c=a(0);l=a(36);g=a(10);r=a(49);h=a(9);d=a(250);f=a(90);n=a(91);a=(function(k){function m(p,q,v,t,w,u,y,x,z,A,B,C,D){void 0 === C && (C=!0);void 0 === D && (D=!0);p=k.call(this,v,{index:0,offset:0,va:0,kb:w,nb:u,T:t,Gs:C,Fk:D,Qv:B},A) || this;p.response=q;p.c5a=v;p.S=x;p.Ic={mb:z,console:x,RMb:void 0,mediaType:v.mediaType,J7a:function(){}};h.I && p.S.log(("AsePaddingRequest [").concat(p.mediaType,"], constructed ").concat(p.toString()) + (", ").concat(p.response.byteLength," bytes") + (", ").concat(p.Hs," samples"));return p;}c.__extends(m,k);Object.defineProperties(m.prototype,{profile:{get:function(){return this.c5a.profile;},enumerable:!1,configurable:!0}});m.prototype.oa=function(){};m.prototype.qj=function(){return !this.kd;};m.prototype.hq=function(p,q,v,t,w){h.I && this.S.log(("AsePaddingRequest [").concat(this.mediaType,"], appending ").concat(this.toString()) + (", ").concat(w || this.response.byteLength," bytes") + (", ").concat(w?"":"not ","edited"));this.kd=q.appendBuffer(w?(0,g.BE)(w):this.response,t || (0,g.iy)(this));return {status:this.kd?n.kf.Zm:n.kf.wh};};m.prototype.abort=function(){return !1;};m.prototype.Te=function(){};m.prototype.WV=function(){this.response=void 0;};m.prototype.toJSON=function(){var p,q,v,t,w;return {viewableId:l.gn,startPts:null === (p=this.Bb) || void 0 === p?void 0:p.G,endPts:(null === (q=this.Bb) || void 0 === q?void 0:q.G) + (null === (v=this.Fd) || void 0 === v?void 0:v.G),"contentStartTicks:":this.kb,contentEndTicks:this.nb,contentStartPts:null === (t=this.La) || void 0 === t?void 0:t.G,contentEndPts:null === (w=this.Wa) || void 0 === w?void 0:w.G};};Object.defineProperties(m.prototype,{Wb:{get:function(){return this.c5a.Wb;},enumerable:!1,configurable:!0}});m.prototype.toString=function(){return ("[padding c:").concat(this.La.G,"-").concat(this.Wa.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Kb.G,",") + ("d:").concat(this.Wa.G - this.La.G,"]");};return m;})(a(89).al);b.gaa=a;(0,r.si)(d.MH,a,!1);(0,r.si)(f.Mt,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SKa=void 0;c=a(0);r=(function(){function l(g,h){this.S=g;this.Rf=h;this.xva=!1;}l.prototype.qXb=function(g){this.yf(g.message,void 0,c.__assign(c.__assign({},g.tVa),{err:g.toString()}));};l.prototype.yf=function(g,h,d){void 0 === h && (h=void 0);void 0 === d && (d={});this.xva || (d.temporaryFailure || (this.xva=!0),g=c.__assign({type:"error",error:null !== h && void 0 !== h?h:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},d),this.S.error("notifyStreamingError:",g),this.Rf.emit("error",g));};l.prototype.Vn=function(){return this.xva;};return l;})();b.SKa=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Pca=void 0;c=a(0);l=a(4);g=a(10);h=a(9);d=a(253);r=(function(f){function n(k){var m;m=f.call(this) || this;m.Fa=k;m.yfa=new Map();m.Ta=[];m.PP=new d.C_({Li:!1,currentTime:function(){return m.ae?m.Ed:g.N.Iq;},speed:1});return m;}c.__extends(n,f);Object.defineProperties(n.prototype,{ta:{get:function(){return this.PP;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{he:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$k:{get:function(){return this.MQ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aC:{get:function(){return this.yfa;},enumerable:!1,configurable:!0}});n.prototype.H1=function(k,m){var p;p=!this.Fa;p && (this.Fa=k,this.wea=(null === m || void 0 === m?0:m.ae)?m.Ed:void 0,this.MQ=null === m || void 0 === m?void 0:m.$k,this.yfa=m?m.aC:new Map(),null === m || void 0 === m?void 0:m.bM());return p;};n.prototype.bM=function(){this.yfa=this.MQ=void 0;};n.prototype.uA=function(){this.Ta=[];this.wea=void 0;};n.prototype.Dja=function(k){h.I && (0,l.assert)(this.Fa === k);this.Fa=void 0;this.uA();};n.prototype.hka=function(){for(var k,m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}(k=this.Ta).push.apply(k,c.__spreadArray([],c.__read(m),!1));};n.prototype.lF=function(){return this.wea?this.wea:f.prototype.lF.call(this);};n.prototype.IF=function(){return !1;};n.prototype.sC=function(){};n.prototype.cH=function(){};n.prototype.i8=function(){this.Ta=this.Ta.filter(function(k){return k.rJ?(k.Gf("pruned"),!1):!0;});};n.prototype.Ra=function(){f.prototype.Ra.call(this);this.aC.forEach(function(k){return k.close();});};return n;})(a(431).cda);b.Pca=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WQa=void 0;c=a(260);l=a(1052);b.WQa=function(){return function(g){var f,n,k,m;function h(p){m[p]=function(q){return n({rules:[{zj:p,config:q}]},!0);};}function d(p){f[p]=function(q){return n({rules:[{zj:p,config:q}]});};}f={};n=(0,c.map)(g.i2a);for(k in g.NM){d(k);}f.k7=n({rules:[],Jga:!0});f.Ul=n({rules:[],Ul:!0});m={};for(k in g.NM){h(k);}m.k7=n({rules:[],Jga:!0},!0);m.Ul=n({rules:[],Ul:!0},!0);f.return=m;return {vja:f,Kta:g,Dsa:function(p,q,v,t){return (0,l.bTa)(p,q,v,g.NM,g.i2a,t);}};};};},function(r,b,a){(function(c,l){var g;(function(h){(function(d){var n,k;function f(m,p){return function(q,v){"function" !== typeof m[q] && Object.defineProperty(m,q,{configurable:!0,writable:!0,value:v});p && p(q,v);};}n="object" === typeof l?l:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();k=f(h);"undefined" === typeof n.Reflect?n.Reflect=h:k=f(n.Reflect,k);d(k);})(function(d){var H,K,O,I,P,N,J,L,R,ka,la;function f(X,da,ta){var Ba;Ba=la.get(X);if(w(Ba)){if(!ta)return;Ba=new R();la.set(X,Ba);}X=Ba.get(da);if(w(X)){if(!ta)return;X=new R();Ba.set(da,X);}return X;}function n(X,da,ta){if(k(X,da,ta))return !0;da=C(da);return null === da?!1:n(X,da,ta);}function k(X,da,ta){da=f(da,ta,!1);return w(da)?!1:!!da.has(X);}function m(X,da,ta){if(k(X,da,ta))return p(X,da,ta);da=C(da);if(null !== da)return m(X,da,ta);}function p(X,da,ta){da=f(da,ta,!1);if(!w(da))return da.get(X);}function q(X,da){var ta,Va,Ta;ta=v(X,da);X=C(X);if(null === X)return ta;da=q(X,da);if(0 >= da.length)return ta;if(0 >= ta.length)return da;X=new ka();for(var Ba=[],Ja=0;Ja < ta.length;Ja++){Va=ta[Ja];Ta=X.has(Va);Ta || (X.add(Va),Ba.push(Va));}for(ta=0;ta < da.length;ta++){Va=da[ta];(Ta=X.has(Va)) || (X.add(Va),Ba.push(Va));}return Ba;}function v(X,da){var ta,Ba;ta=[];X=f(X,da,!1);if(w(X))return ta;X=X.keys();da=B(X,I);if(!A(da))throw new TypeError();X=da.call(X);if(!u(X))throw new TypeError();for(da=0;;){Ba=X.next();Ba=Ba.done?!1:Ba;if(!Ba)return (ta.length=da,ta);Ba=Ba.value;try{ta[da]=Ba;}catch(Va){var Ja;try{Ja=X["return"];Ja && Ja.call(X);}finally{throw Va;}}da++;}}function t(X){if(null === X)return 1;switch(typeof X){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === X?1:6;default:return 6;}}function w(X){return void 0 === X;}function u(X){return "object" === typeof X?null !== X:"function" === typeof X;}function y(X,da){var ta;switch(t(X)){case 0:return X;case 1:return X;case 2:return X;case 3:return X;case 4:return X;case 5:return X;}da=3 === da?"string":5 === da?"number":"default";ta=B(X,O);if(void 0 !== ta){X=ta.call(X,da);if(u(X))throw new TypeError();return X;}a:{if("string" === ("default" === da?"number":da)){da=X.toString;if(A(da) && (da=da.call(X),!u(da)))break a;da=X.valueOf;}else {da=X.valueOf;if(A(da) && (da=da.call(X),!u(da)))break a;da=X.toString;}if(!A(da) || (da=da.call(X),u(da)))throw new TypeError();}return da;}function x(X){X=y(X,3);return "symbol" === typeof X?X:"" + X;}function z(X){return Array.isArray?Array.isArray(X):X instanceof Object?X instanceof Array:"[object Array]" === Object.prototype.toString.call(X);}function A(X){return "function" === typeof X;}function B(X,da){X=X[da];if(void 0 !== X && null !== X){if(!A(X))throw new TypeError();return X;}}function C(X){var da,ta;da=Object.getPrototypeOf(X);if("function" !== typeof X || X === L || da !== L)return da;ta=X.prototype;ta=ta && Object.getPrototypeOf(ta);if(null == ta || ta === Object.prototype)return da;ta=ta.constructor;return "function" !== typeof ta || ta === X?da:ta;}function D(){var Ba,Ja,Va;function X(Ta){return Ta;}function da(Ta,T){return T;}function ta(Ta,T){return [Ta,T];}Ba={};Ja=[];Va=(function(){function Ta(T,aa,Q){this.Ud=0;this.Oe=T;this.nf=aa;this.rob=Q;}Ta.prototype["@@iterator"]=function(){return this;};Ta.prototype[I]=function(){return this;};Ta.prototype.next=function(){var T,aa;T=this.Ud;if(0 <= T && T < this.Oe.length){aa=this.rob(this.Oe[T],this.nf[T]);T + 1 >= this.Oe.length?(this.Ud=-1,this.nf=this.Oe=Ja):this.Ud++;return {value:aa,done:!1};}return {value:void 0,done:!0};};Ta.prototype.throw=function(T){0 <= this.Ud && (this.Ud=-1,this.nf=this.Oe=Ja);throw T;};Ta.prototype.return=function(T){0 <= this.Ud && (this.Ud=-1,this.nf=this.Oe=Ja);return {value:T,done:!0};};return Ta;})();return (function(){function Ta(){this.Oe=[];this.nf=[];this.ou=Ba;this.Sr=-2;}Object.defineProperty(Ta.prototype,"size",{get:function(){return this.Oe.length;},enumerable:!0,configurable:!0});Ta.prototype.has=function(T){return 0 <= this.Ow(T,!1);};Ta.prototype.get=function(T){T=this.Ow(T,!1);return 0 <= T?this.nf[T]:void 0;};Ta.prototype.set=function(T,aa){T=this.Ow(T,!0);this.nf[T]=aa;return this;};Ta.prototype.delete=function(T){var aa,Q;aa=this.Ow(T,!1);if(0 <= aa){Q=this.Oe.length;for(aa+=1;aa < Q;aa++){this.Oe[aa - 1]=this.Oe[aa];this.nf[aa - 1]=this.nf[aa];}this.Oe.length--;this.nf.length--;T === this.ou && (this.ou=Ba,this.Sr=-2);return !0;}return !1;};Ta.prototype.clear=function(){this.Oe.length=0;this.nf.length=0;this.ou=Ba;this.Sr=-2;};Ta.prototype.keys=function(){return new Va(this.Oe,this.nf,X);};Ta.prototype.values=function(){return new Va(this.Oe,this.nf,da);};Ta.prototype.entries=function(){return new Va(this.Oe,this.nf,ta);};Ta.prototype["@@iterator"]=function(){return this.entries();};Ta.prototype[I]=function(){return this.entries();};Ta.prototype.Ow=function(T,aa){this.ou !== T && (this.Sr=this.Oe.indexOf(this.ou=T));0 > this.Sr && aa && (this.Sr=this.Oe.length,this.Oe.push(T),this.nf.push(void 0));return this.Sr;};return Ta;})();}function E(){return (function(){function X(){this.Cf=new R();}Object.defineProperty(X.prototype,"size",{get:function(){return this.Cf.size;},enumerable:!0,configurable:!0});X.prototype.has=function(da){return this.Cf.has(da);};X.prototype.add=function(da){return (this.Cf.set(da,da),this);};X.prototype.delete=function(da){return this.Cf.delete(da);};X.prototype.clear=function(){this.Cf.clear();};X.prototype.keys=function(){return this.Cf.keys();};X.prototype.values=function(){return this.Cf.values();};X.prototype.entries=function(){return this.Cf.entries();};X.prototype["@@iterator"]=function(){return this.keys();};X.prototype[I]=function(){return this.keys();};return X;})();}function G(){var Ba,Ja;function X(){var Va,aa;do {Va="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ta(new Uint8Array(16),16):ta(Array(16),16);Va[6]=Va[6] & 79 | 64;Va[8]=Va[8] & 191 | 128;for(var Ta="",T=0;16 > T;++T){aa=Va[T];if(4 === T || 6 === T || 8 === T)Ta+="-";16 > aa && (Ta+="0");Ta+=aa.toString(16).toLowerCase();}Va="@@WeakMap@@" + Ta;}while(J.has(Ba,Va));Ba[Va]=!0;return Va;}function da(Va,Ta){if(!H.call(Va,Ja)){if(!Ta)return;Object.defineProperty(Va,Ja,{value:J.create()});}return Va[Ja];}function ta(Va,Ta){for(var T=0;T < Ta;++T){Va[T]=255 * Math.random() | 0;}return Va;}Ba=J.create();Ja=X();return (function(){function Va(){this.cs=X();}Va.prototype.has=function(Ta){Ta=da(Ta,!1);return void 0 !== Ta?J.has(Ta,this.cs):!1;};Va.prototype.get=function(Ta){Ta=da(Ta,!1);return void 0 !== Ta?J.get(Ta,this.cs):void 0;};Va.prototype.set=function(Ta,T){da(Ta,!0)[this.cs]=T;return this;};Va.prototype.delete=function(Ta){Ta=da(Ta,!1);return void 0 !== Ta?delete Ta[this.cs]:!1;};Va.prototype.clear=function(){this.cs=X();};return Va;})();}function F(X){X.elb=void 0;delete X.elb;return X;}H=Object.prototype.hasOwnProperty;K="function" === typeof Symbol;O=K && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=K && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";K="function" === typeof Object.create;P=({__proto__:[]}) instanceof Array;N=!K && !P;J={create:K?function(){return F(Object.create(null));}:P?function(){return F({__proto__:null});}:function(){return F({});},has:N?function(X,da){return H.call(X,da);}:function(X,da){return (da in X);},get:N?function(X,da){return H.call(X,da)?X[da]:void 0;}:function(X,da){return X[da];}};L=Object.getPrototypeOf(Function);R=(K="object" === typeof c && c.q3 && "true" === c.q3.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;ka=K || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?E():Set;la=new (K || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(X,da,ta,Ba){var Va;if(w(ta)){if(!z(X))throw new TypeError();if("function" !== typeof da)throw new TypeError();for(ta=X.length - 1;0 <= ta;--ta){if((Ba=(0,X[ta])(da),!w(Ba) && null !== Ba)){if("function" !== typeof Ba)throw new TypeError();da=Ba;}}return da;}if(!z(X))throw new TypeError();if(!u(da))throw new TypeError();if(!u(Ba) && !w(Ba) && null !== Ba)throw new TypeError();null === Ba && (Ba=void 0);ta=x(ta);for(var Ja=X.length - 1;0 <= Ja;--Ja){Va=(0,X[Ja])(da,ta,Ba);if(!w(Va) && null !== Va){if(!u(Va))throw new TypeError();Ba=Va;}}return Ba;});d("metadata",function(X,da){return function(ta,Ba){var Ja;if(!u(ta))throw new TypeError();if(Ja=!w(Ba)){a:switch(t(Ba)){case 3:Ja=!0;break a;case 4:Ja=!0;break a;default:Ja=!1;}Ja=!Ja;}if(Ja)throw new TypeError();f(ta,Ba,!0).set(X,da);};});d("defineMetadata",function(X,da,ta,Ba){if(!u(ta))throw new TypeError();w(Ba) || (Ba=x(Ba));f(ta,Ba,!0).set(X,da);});d("hasMetadata",function(X,da,ta){if(!u(da))throw new TypeError();w(ta) || (ta=x(ta));return n(X,da,ta);});d("hasOwnMetadata",function(X,da,ta){if(!u(da))throw new TypeError();w(ta) || (ta=x(ta));return k(X,da,ta);});d("getMetadata",function(X,da,ta){if(!u(da))throw new TypeError();w(ta) || (ta=x(ta));return m(X,da,ta);});d("getOwnMetadata",function(X,da,ta){if(!u(da))throw new TypeError();w(ta) || (ta=x(ta));return p(X,da,ta);});d("getMetadataKeys",function(X,da){if(!u(X))throw new TypeError();w(da) || (da=x(da));return q(X,da);});d("getOwnMetadataKeys",function(X,da){if(!u(X))throw new TypeError();w(da) || (da=x(da));return v(X,da);});d("deleteMetadata",function(X,da,ta){var Ba;if(!u(da))throw new TypeError();w(ta) || (ta=x(ta));Ba=f(da,ta,!1);if(w(Ba) || !Ba.delete(X))return !1;if(0 < Ba.size)return !0;X=la.get(da);X.delete(ta);if(0 < X.size)return !0;la.delete(da);return !0;});});})(g || (g={}));}).call(this,a(178),a(298));},function(r,b,a){var d,f,n,k,m;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function g(p,q){var w;for(var v=Object.getPrototypeOf(p),t=[];v !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(v));v=Object.getPrototypeOf(v);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(u){Object.getOwnPropertyDescriptor(q,u) || Object.getOwnPropertyDescriptor(w,u) || q[u] || Object.defineProperty(q,u,{get:function(){},configurable:!0,enumerable:!0});});}function h(p,q,v,t){var y;for(var w=[],u=4;u < arguments.length;u++){w[u - 4]=arguments[u];}y=t();if((null === y || void 0 === y?0:y.aqa) || (null === y || void 0 === y?0:y.qb))w=w.map(function(x,z){var A;z=(0,m.U2a)(y.aqa,null === (A=y.qb) || void 0 === A?void 0:A[z]);return (0,k.N8)(q,x,v,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === y || void 0 === y?0:y.return)?(0,k.N8)(q,w,v,y.return,n.Vt.pwa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.HEb=b.Bzb=b.bTa=void 0;d=a(0);f=a(260);n=a(185);k=a(432);m=a(1053);b.bTa=function(p,q,v,t,w,u){var y,x;void 0 === u && (u=[]);y={};x=(0,f.$Xa)(w);g(q,p);u.forEach(function(z){return g(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,E;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){E=q[A];return "function" === typeof E?E.bind(q):E;}B=y[A];if(!B && !l(y,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (E=c(B,A)) && void 0 !== E?E:c(B.__proxyCtor,A);E=l(B,A);if(null === E || void 0 === E?0:E.get)return (E=E.get,C=x.bind(null,C,A),z=h.bind(z,E.bind(z),v,t,C),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());E=z[A];return "function" === typeof E?(C=x.bind(null,z,A),z=h.bind(z,E.bind(z),v,t,C),y[A]=z):E;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.Bzb=g;b.HEb=h;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.U2a=void 0;c=a(0);l=a(19);b.U2a=function(g,h){var d;if(g || h){d=(null === g || void 0 === g?0:g.rules) && (null === h || void 0 === h?0:h.rules)?(0,l.z1)(g.rules,h.rules):(null === g || void 0 === g?void 0:g.rules) || (null === h || void 0 === h?void 0:h.rules);return c.__assign(c.__assign(c.__assign({},g),h),{rules:d});}};},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Pxa=b.faa=b.Qxa=void 0;c=a(10);l=a(392);g=a(434);r=(function(){function d(f,n){var k,m;this.Zp=f;this.yk=n;this.bNa=this.cNa=this.Uea=!1;this.wD=null !== (m=null === (k=f.xe) || void 0 === k?void 0:k.map(function(p){return new g.Z$(p);})) && void 0 !== m?m:[];}Object.defineProperties(d.prototype,{Gl:{get:function(){return this.Zp.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Et:{get:function(){return this.Zp.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{N1:{get:function(){return this.Zp.N1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bga:{get:function(){return this.Zp.bga;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xe:{get:function(){return this.wD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.wD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.xe.reduce(function(f,n){return f.add(n.endTime.wa(n.startTime));},c.N.Ia);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ILb:{get:function(){return this.pp || !this.kRa && !this.bNa?this.wD.every(function(f){return f.pp;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pp:{get:function(){return this.wD.length?this.wD.every(function(f){return f.pp;}):this.Uea;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kRa:{get:function(){return !this.Bg && !!this.Zp.Tj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bg:{get:function(){return !!this.Zp.xe;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bna:{get:function(){return this.cNa;},set:function(f){f && (this.cNa=!0);},enumerable:!1,configurable:!0}});d.prototype.NZb=function(){this.xe.length || (this.Uea=!0);};d.prototype.ZJb=function(f){var n,k;this.Zp=f;this.wD=null !== (k=null === (n=this.Zp.xe) || void 0 === n?void 0:n.map(function(m){return new g.Z$(m);})) && void 0 !== k?k:[];this.bNa=!0;};d.prototype.Czb=function(){this.Zp.Tj && (this.Uea=this.pp,this.Zp.xe=void 0,this.wD=[]);};return d;})();b.Qxa=r;h=(function(){function d(f,n){this.ura=f;this.Slb=n;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.N.Na(this.Slb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{Mqa:{get:function(){return this.vnb || (this.vnb=new d(l.LH.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{XQb:{get:function(){return this.unb || (this.unb=new d(l.LH.end,0));},enumerable:!1,configurable:!0}});return d;})();b.faa=h;r=(function(){function d(f,n,k){this.XQ=f;this.wOa=n || h.Mqa;this.Ulb=k || h.Mqa;}Object.defineProperties(d.prototype,{D9:{get:function(){return this.wOa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rS:{get:function(){return this.Ulb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tJb:{get:function(){return this.wOa !== h.Mqa || this.rS !== h.XQb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.XQ.duration.add(this.D9.duration).add(this.rS.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{E7:{get:function(){return this.D9.duration.add(this.rS.duration);},enumerable:!1,configurable:!0}});return d;})();b.Pxa=r;},function(r,b,a){var l;function c(g,h){var d,f;d=l.__assign({},g);f=l.__read(null !== h && void 0 !== h?h:[],1)[0];f && g[f] && (g=g[f],"object" === typeof g?(h=h.concat(),h.shift(),d[f]=c(g,h)):d[f]=g);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.j9a=b.o2=b.o4=b.U_a=b.X_a=b.t0a=b.AZa=b.o0a=b.ae=void 0;l=a(0);b.ae=function(g){return !(null === g || void 0 === g || !g.position);};b.o0a=function(g){return !(null === g || void 0 === g || !g.J) && !(null === g || void 0 === g || !g.offset);};b.AZa=function(g){return !(null === g || void 0 === g || !g.J) || !(null === g || void 0 === g || !g.segmentId);};b.t0a=function(g,h){return "string" === typeof g && !(!h.Ac.fa.L[g] && !h.Xa.fa.L[g]);};b.X_a=function(g){return !(null === g || void 0 === g || !g.K) && !(null === g || void 0 === g || !g.pq);};b.U_a=function(g){return !(null === g || void 0 === g || !g.pe);};b.o4=function(g,h){var d;d=g;h.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.o2=c;b.j9a=function(g,h,d){for(var f=0;f < h.length - 1 && g;f++){g=g[h[f]];}return g?(g[h[h.length - 1]]=d,!0):!1;};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XHa=void 0;c=a(7);l=a(28);r=(function(){function g(h){this.Ze=h;}Object.defineProperties(g.prototype,{nd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.pj=function(h){var d,f;h=h.rj;if(h === l.pc.Zl || h === l.pc.mj){h={};d=this.Ze(c.v.Z);f=this.Ze(c.v.ga);d && (h.videoPipelineSummary=this.S$a(d));f && (h.audioPipelineSummary=this.S$a(f));return h;}};g.prototype.S$a=function(h){var d,f,n,k,m;m=h.Ic.Ma;return {actualStartPlayerTimestamp:null === (d=m.Bb) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:m.l5a,actualCompletePlayerTimestamp:null === (f=h.ega) || void 0 === f?void 0:f.G,segmentId:h.J,contentStartMs:null === (n=h.La) || void 0 === n?void 0:n.G,contentEndMs:null === (k=h.Wa) || void 0 === k?void 0:k.G,streamingPlayerMs:h.wC.G,isStreamable:h.rB(),isNormalized:h.Ng(),isDoneStreaming:h.Lq(),trackNeedsHeaderRequest:h.track.V6,completedRequests:m.pSa,activeRequests:h.Ic.Sj,unsentRequests:h.Ic.AH,bytes:{current:m.va,received:m.fWb,partial:m.Yq,completed:m.s2,unsent:m.l3b}};};return g;})();b.XHa=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.JIa=void 0;c=a(0);l=a(9);g=a(10);h=a(28);d=a(435);r=(function(){function f(n,k){var m;m=this;this.bsa=n;this.Fa=k;this.N5a=new g.oD();k.events.on("branchesReevaluated",function(){m.N5a.push(n.size);});}Object.defineProperties(f.prototype,{nd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Wq:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return l.I;},enumerable:!1,configurable:!0}});f.prototype.pj=function(n){var k;n=n.rj;if(n === h.pc.Zl || n === h.pc.mj){k={branchCountStats:this.N5a.toJSON(),decisions:this.Fa.pg.toJSON(),player:this.Fa.Y.Dq?this.Fa.Y.Ta.map(function(m){return m.u.id;}):[]};this.bsa.forEach(function(m,p){var q,v;v=(0,d.Ala)(m);k[p]=c.__assign({probabilities:m.Rg.map(function(t){return {duration:t.duration,immediate:t.eB,seamless:t.jf};}),parent:null === (q=m.parent) || void 0 === q?void 0:q.u.id,normalized:m.Ng,hasViewable:m.Tn,headerRequested:m.Tn && m.pa.IZa},v);});return k;}};return f;})();b.JIa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mEa=void 0;c=a(47);l=a(28);r=(function(){function g(h){this.Fa=h;this.enabled=!0;}Object.defineProperties(g.prototype,{nd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});g.prototype.pj=function(h){var d,f,n,k;h=h.DB;if(h === l.Qh.pr || h === l.Qh.OT || h === l.Qh.Hx || h === l.Qh.vt || h === l.Qh.NW || h === l.Qh.px || h === l.Qh.$V){f=this.Fa.Y;if(f.ae){n=f.Ay;k=n.pa;n=null === (d=n.Ze(c.v.Z)) || void 0 === d?void 0:d.Xn;if(k.ha && n){d=n.Qn();f={encodingpipelinetime:k.qC,devicepts:d.lha + f.Ed.G};h === l.Qh.pr && (f.presentationtimeoffset=d.c8.G);if(h === l.Qh.pr || h === l.Qh.vt)f.targetbufferduration=this.Fa.config.nU;return f;}}}};return g;})();b.mEa=r;},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ba=void 0;r=a(0);c=a(7);l=r.__importDefault(a(33)).default.nL;g=r.__importDefault(a(147));h=r.__importDefault(a(5));d=a(1060);f=a(19);n=a(4);k=a(1064);a=(function(){function m(p,q,v,t,w){this.config=p;this.V_b=q;this.navigator=v;this.events=t;this.console=w;p=(0,d.yYa)(this.config);this.i9=p.i9.bind(p);this.Pua=p.Pua.bind(p);this.ula=p.ula.bind(p);this.Oma=p.Oma.bind(p);this.a6a=[p.gsa.bind(p),p.FV.bind(p)];}m.prototype.WYb=function(p,q,v,t,w,u,y,x){var z,A,B,C,D,E,G,F,H;A=[];if(!this.Jra(u.track,u.track.ha?u.track.XXa(t):void 0))return {stream:D,HW:A,reason:"locationSelectionFailure"};u.Q1 && this.Jra(u.Q1,u.Q1.ha?u.Q1.XXa(t):void 0);B=u.Tk;t=B.we;C=u.U3;D=t.Xn;E=this.mIb(u,q,p,v,y);G=E.first;if(0 === G.length && (null === y || void 0 === y?0:y.Btb))return {stream:void 0,HW:A,reason:"allStreamsFiltered"};D && !D.track.equals(u.track) && (D=this.zDb(D,G));F=u.mediaType;if((y=F === c.v.ga) && D && !this.z_b(t,D))return (this.config.iZa && this.i9(D.bitrate),{stream:D,HW:A});p=(0,c.Zra)(p);q=this.ayb(p,q,w,u,!!x);w=this.a6a[F];x=y?this.Oma():this.ula();u=B.L8a(q,E,x,w,u.k0a(),u.track.pa.Zu,C);if(!u)return {stream:D,HW:A,reason:"streamSelectionFailure"};B={ue:u.ue,GV:u.GV};if(u.reason){H={reason:u.reason,TYb:u.Ps,h5:u.h5,cB:u.cB,dB:u.dB};this.cub(F,G,v);}this.aBb(F,u,G);D=G[u.Mh];v=D.bitrate;y?this.config.iZa && this.i9(v):this.Pua(v);t.w9a(D);if(null === (z=u.KE) || void 0 === z?0:z.length)A=u.KE.map(function(K){return (0,f.uc)(G,function(O){return O.id === K;});}).filter(f.e7);return {stream:D,HW:A,fL:H,Ny:B,sy:u.sy,nDb:G,XYb:u};};m.prototype.eia=function(p,q,v,t,w,u,y){var x,z,A;if(!(0,c.Kq)(q))return {complete:!0,reason:"playing"};if(!u.f6a)return {complete:!1,reason:"unknown"};if(u.FSb)return ((0,n.assert)(u.Q4a),u.Q4a);x=u.Tk;z=x.we;v=this.WWa(u,v);A=z.Xn;z=v.wm - v.zd;if(z < this.config.Uq || void 0 === A)return {complete:!1,pA:z,reason:"preBuf"};if(u.mediaType === c.v.ga)return {complete:!0,pA:z,reason:"audio"};if(p=p.DRa(u.mediaType))return {complete:!0,pA:z,reason:p};this.Jra(u.track);p=new k.Kda();p.yga([A]);x.$5a(p,(0,c.Zra)(q),v,this.a6a[u.mediaType]);q=x.f2(v,q,w,A,{Vu:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",pA:z};q.pA=z;return q;};m.prototype.Xj=function(p,q,v,t){return t?t.Xj(p.track.Ug,q,v.wa(p.mb.pe),p.Ng()):p.track.Ug;};m.prototype.mIb=function(p,q,v,t,w){var u;u=new k.Kda();u.yga(this.Xj(p,v,t,w));q=p.mb.Kb.wa(q);for(q=this.config.Opa - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Ng)break;u.yga(this.Xj(p,v,t,w));q-=p.mb.u.duration.G;}return u;};m.prototype.aBb=function(p,q,v){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:v});};m.prototype.$Ab=function(p,q,v,t){p={type:"maxVideoBitrateChanged",time:h.default.time.Ca(),streaming:t,maxvb_old:p,maxvb:q,reason:v};this.events.emit(p.type,p);};m.prototype.zDb=function(p,q){var v;v=q[0];q.filter(function(t){return t.uB;}).every(function(t){return t.bitrate <= p.bitrate?v=t:!1;});return v;};m.prototype.z_b=function(p,q){return 0 < this.config.XW.length?!0:(p=p.sL) && p === q.location?!1:!0;};m.prototype.Jra=function(p,q){return p.pa.Hl.Hbb(p.pa.K,p.Ug,q);};m.prototype.WWa=function(p,q){var D;for(var v,t=q.wa(this.V_b),w=[],u=p,y=q,x,z,A=0,B=0,C=!0;u;){D=u.HXa(t);if(!C && !u.ij)break;0 < D.Ma.length && (y=D.Ma[0].Bb,void 0 === x && (x=D.Ma[D.Ma.length - 1].Kb,z=D.H7 >= D.Ma.length?x:D.Ma[D.H7].Bb),w=D.Ma.concat(w),A+=0 < D.Yq?D.Yq:0,B+=D.CM);u=this.navigator.parent(u);C=!1;}return {uE:h.default.cT()[p.mediaType],gb:Math.floor(y.G),zd:q.G,Uk:Math.floor(null !== (v=null === x || void 0 === x?void 0:x.G) && void 0 !== v?v:q.G),wm:Math.floor(z?z.G:q.G),Yk:w.reduce(function(E,G){return E + G.va;},0),Yq:A,CM:B,gcc:w.length,Ma:w};};m.prototype.ayb=function(p,q,v,t,w){var u,y,x;u=this.WWa(t,q);y=t.mediaType === c.v.Z?this.config.Jwa:this.config.dha;x=g.default.instance();return {state:p,qB:p === c.rb.Td,Ye:t.QB,playbackRate:v,buffer:u,g3:y,kS:w,Sj:null === x || void 0 === x?void 0:x.Sj,mediaType:t.mediaType,zd:q.G,Tsa:0};};m.prototype.cub=function(p,q,v){var u,y;if(p === c.v.Z){p="manifest";for(var t=0,w=q.length - 1;0 <= w;--w){u=q[w];y=u.bitrate;if(l(u)){t=Math.max(t,y);break;}else this.config.N9 && !u.av?p="bc":u.Jq?u.bB && (p="hf"):p="av";}this.K2a !== t && (this.$Ab(this.K2a,t,p,v),this.K2a=t);}};return m;})();b.$Ba=a;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yYa=b.jz=void 0;c=a(437);l=a(1061);g=a(1062);h=a(1063);d=a(154);Object.defineProperties(b,{jz:{enumerable:!0,get:function(){return d.jz;}}});b.yYa=function(f,n){switch(f.Cpa){case "manifold":return new c.fca(f,n);case "stddev":return new g.KKa(f,n);case "ci":return new h.Lza(f,n);default:return new l.uKa(f,n);}};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uKa=void 0;c=a(0);r=c.__importDefault(a(5));l=a(154);g=a(438);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var g5X;g5X=2;for(;g5X !== 3;){switch(g5X){case 2:c.__extends(d,h);d.prototype.jFb=function(f,n){var J7S,k,m;J7S=2;for(;J7S !== 3;){switch(J7S){case 2:(k=this.config,m=n?k.Kia:k.oha);n=n?k.Lia:k.qha;Array.isArray(n) && (m=(0,g.vVa)(n,f.wm - f.zd,k.pha));J7S=4;break;case 4:return m;break;case 14:return m;break;}}};g5X=5;break;case 5:d.prototype.H_b=function(f,n){var I5Z;I5Z=2;for(;I5Z !== 5;){switch(I5Z){case 1:return this.config.Gva && f < this.config.Mia;break;case 3:f=this.Im(f,n);I5Z=2;break;case 2:f=this.Im(f,n);I5Z=1;break;}}};return d;break;}}function d(f,n){var l2s,k;l2s=2;for(;l2s !== 3;){switch(l2s){case 2:k=h.call(this,f,n) || this;l2s=1;break;case 1:var h2C="1SIYb";h2C+="ZrN";h2C+="JCp9";k.FV=function(m,p,q,v){var U4i,t;U4i=2;for(;U4i !== 8;){switch(U4i){case 4:p=t?t * (100 - k.jFb(p,m)) / 100 | 0:0;p=k.mUa(p,v);return {lower:p,upper:p * k.config.Awa};break;case 2:v=null !== v && void 0 !== v?v:k.l6;t=k.Im(m,q);m=k.H_b(m,q);U4i=4;break;}}};h2C;return k;break;}}}})(l.jz);b.uKa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KKa=void 0;c=a(0);r=a(154);r=(function(l){var P2B;P2B=2;for(;P2B !== 5;){switch(P2B){case 2:c.__extends(g,l);return g;break;}}function g(h,d){var X_O,f;X_O=2;for(;X_O !== 3;){switch(X_O){case 2:var W6D="1";W6D+="SIYbZ";W6D+="rNJCp9";f=l.call(this,h,d) || this;f.FV=function(n){var U02,A01,k;U02=2;for(;U02 !== 10;){switch(U02){case 14:U02=n.zm && n.zm.NN?13:4;break;case 11:var N6H="e";N6H+="w";N6H+="m";N6H+="a";U02=A01 === N6H?14:4;break;case 8:U02=!n.zm || !n.zm.vJ?4:7;break;case 12:var d4w="a";d4w+="v";d4w+="er";d4w+="aget";d4w+="p";U02=A01 === d4w?8:11;break;case 13:return (k=Math.sqrt(n.zm.NN || 0),{lower:n.ub.Da + f.config.qva * k,upper:n.ub.Da + f.config.rva * k});break;case 1:var X6o="deliv";X6o+="e";X6o+="r";X6o+="yt";X6o+="ime";A01=f.config.B0b;U02=A01 === X6o?5:12;break;case 2:k={lower:n.ub.Da,upper:void 0};U02=1;break;case 4:return k;break;case 5:U02=!n.zm || !n.zm.Da?4:3;break;case 6:return {lower:n.zm.vJ + f.config.qva * k,upper:n.zm.vJ + f.config.rva * k};break;case 3:k=Math.sqrt(n.zm.Rd || 0);U02=9;break;case 7:k=Math.sqrt(n.zm.NN || 0);U02=6;break;case 9:return {lower:8 / (n.zm.Da + f.config.qva * k),upper:8 / (n.zm.Da - f.config.rva * k)};break;}}};W6D;return f;break;}}}})(r.jz);b.KKa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Lza=void 0;c=a(0);l=a(7);r=a(154);g=a(437);a=(function(h){var X9Z;X9Z=2;for(;X9Z !== 5;){switch(X9Z){case 2:c.__extends(d,h);return d;break;case 3:c.__extends(d,h);return d;break;}}function d(f,n){var w9t,k;w9t=2;for(;w9t !== 9;){switch(w9t){case 3:return k;break;case 2:var q_r="1SIYbZrN";q_r+="JCp";q_r+="9";k=h.call(this,f,n) || this;k.FV=function(m,p,q,v){var W$J,D$p;W$J=2;for(;W$J !== 11;){switch(W$J){case 9:W$J=q === l.rb.Lj?8:6;break;case 8:return {lower:(null === p || void 0 === p?void 0:p.initial) || m.ub.Da,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 5:var y8B="del";y8B+="ive";y8B+="ryti";y8B+="m";y8B+="e-ci";D$p=k.config.kia;W$J=D$p === y8B?4:13;break;case 4:var o6E="delivery";o6E+="ti";o6E+="m";o6E+="e-c";o6E+="i";p=m[o6E];W$J=3;break;case 7:return {lower:(null === p || void 0 === p?void 0:p.low) || m.ub.Da,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 13:W$J=12;break;case 6:W$J=q === l.rb.ie?8:14;break;case 1:return k.xOb.FV(m,p,q,v);break;case 3:v=k.config.Awa * m.ub.Da;W$J=9;break;case 12:var B90="throughput-";B90+="c";B90+="i";p=m[B90];W$J=3;break;case 2:W$J=k.Tua(q)?1:5;break;case 14:W$J=7;break;}}};k.xOb=new g.fca(f,n);q_r;w9t=3;break;}}}})(r.jz);b.Lza=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kda=void 0;c=a(19);l=a(33);r=(function(){function g(){this.R0=[];}Object.defineProperties(g.prototype,{first:{get:function(){var h;return null === (h=this.R0[0]) || void 0 === h?void 0:h.Ug;},enumerable:!1,configurable:!0}});g.prototype.yga=function(h){this.R0.push({Ug:h});};g.prototype.dla=function(h){this.R0.forEach(function(d,f){return h(d.Ug,f);});};g.prototype.XDb=function(h){this.dla(function(d){d.forEach(function(f,n){return h(f,n);});});};g.prototype.OYa=function(h,d,f){var n,k,m,p,q,v,t;n=this;k=f;m=d;p=0;q=[];d=this.first[h];v=d.zb;t=d.bitrate;this.R0.forEach(function(w,u){var y,x;w=w.Ug;0 >= k || (u=(0,l.KJ)(0 === u?h:n.Cma(w,t,v),0,w.length - 1),u=w[u],w=null === (y=u.Ma) || void 0 === y?void 0:y.Wia(m,k),y=null !== (x=null === w || void 0 === w?void 0:w.blocks) && void 0 !== x?x:0,p+=y,q.push({stream:u,blocks:y,Ye:m}),null === w || void 0 === w?!0:!w.ata) || (m=0,k-=w.ata);});return {A$a:q,Iab:p};};g.prototype.Cma=function(h,d,f){var n;n=(0,c.ks)(h,function(k){return f && k.zb?k.zb > f:k.bitrate > d;});return 0 < n?n - 1:0 === n?0:h.length - 1;};return g;})();b.Kda=r;},function(r,b,a){var l,g,h;function c(d,f,n,k,m){var p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J;y=d.console;x=d.m3b;z=d.pg;A=d.HXb;B=d.oAb;C=d.kqa;D=d.xha;d=d.CSb;E=m || ({complete:!0,xr:0});G=E.root;F=E.complete;H=E.lpb;K=E.S7a;K=void 0 === K?0:K;E=E.xr;O=K < A.length && A[K].id === f.id;I=K < A.length?A[K].id:k && z.get(k.id);P=m && k && I !== f.id?void 0 !== I?{jf:0}:k.ltb(f.id):{jf:1};z=P.jf;P=P.eB;N=void 0 === P?0:P;P=(z + N) * (null !== (p=null === m || void 0 === m?void 0:m.fVb) && void 0 !== p?p:1);h && y.trace(("reevaluateBranches: visiting ").concat(f.id,", ") + ("distance: ").concat(n,", ") + ("probability: ").concat(P,", ") + ("predecessor: ").concat(null === k || void 0 === k?void 0:k.id,", ") + ("decision: ").concat(I,", ") + ("predecessorComplete: ").concat(F,", ") + ("isOnRequiredPath: ").concat(O,", ") + ("requiredPathIndex: ").concat(K,", ") + ("activeDistance: ").concat(H,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(N,", ") + ("predecessor sum of: successor weights=").concat(null === k || void 0 === k?void 0:k.Bva,", ") + ("immediate weights= ").concat(null === k || void 0 === k?void 0:k.O9));p=null !== (v=null === (q=x[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== v?v:f.duration.G;q=0 === p;if(!O){if(0 === P)return {y$:!1,r1:!0};if(!F && 0 === N && E > D)return (d.HA=Math.min(d.HA || Infinity,E - D),{y$:!1,r1:!0});if(!q && n >= B && 1 > P || !1 === G && P < C)return {y$:!1,r1:!0};}if(K < A.length){(0,l.assert)(A[K].id === f.id,"");J={duration:A[K].duration};}m=null !== (t=null === m || void 0 === m?void 0:m.Rg) && void 0 !== t?t:[];k && 1 > z && (0 === N?m=m.concat([{jf:z}]):(t=(null === (u=null === (w=k.u.vq) || void 0 === w?void 0:w[0]) || void 0 === u?void 0:u[0]) || 0,w=Math.max(0,k.duration.G - t),h && y.trace(("reevaluateBranches: immediate: ").concat(k.duration.G,", ").concat(t,", ").concat(w)),m=m.concat([{jf:z,eB:N,duration:w}])));w=d.wta.$Va(function(L){return L.u === k;});d.wta.add({u:f,Rg:m,mb:J},w);n=F?n + f.duration.G:H;h && y.trace(("reevaluateBranches: added ").concat(f.id,", visiting successors, ") + ("active distance: ").concat(n," ") + ("probabilities: ").concat(JSON.stringify(m)));return {y$:!0,r1:O,state:{root:!k,complete:q,fVb:P,Rg:m,lpb:n,S7a:K + 1,xr:E + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.x2b=b.Z4b=b.t8=void 0;l=a(4);r=a(9);g=a(439);h=r.I && !1;b.t8=function(d,f,n,k,m,p,q,v,t){var w,u,y,x;u={wta:new g.L_()};y=(null === (w=n.Ag) || void 0 === w?void 0:w.wa(n.Je).G) || 0;0 < p.length && (0,l.assert)(n.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");h && d.trace(("reevaluateBranches: starting at ").concat(n.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,m3b:k,pg:m,HXb:p,oAb:q.G + y,kqa:v,xha:t.G,CSb:u};f.Y4b(n,function(z,A,B,C){return c(x,z,A,B,C);});return u;};b.Z4b=c;b.x2b=function(d,f,n){var k;k=(0,g.h6a)(f,function(m){return ("").concat(m.u.id);});n(("requiredBranches(").concat(d,")"),k.replace(/\n/g,"<>"));n(("requiredBranches(").concat(d,")"),f.values.map(function(m){var p;return ("").concat(m.u.id,"::").concat(null === (p=f.parent(m)) || void 0 === p?void 0:p.u.id);}).join(", "));};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TIa=void 0;c=a(0);l=a(430);r=(function(){function g(h){this.dj=h;this.L={};}Object.defineProperties(g.prototype,{fa:{get:function(){return this.dj;},enumerable:!1,configurable:!0}});g.prototype.zZa=function(h){return !!this.fa.L[h];};g.prototype.Hd=function(h){var d;d=this.L[h];if(void 0 === d){d=this.fa.L[h];if(void 0 === d)throw Error(("Segment not found (").concat(h,")"));d=new l.YIa(h,d,this.fa.Pd);this.L[h]=d;}return d;};g.prototype.kJb=function(h){return !(!h.u.next || !Object.keys(h.u.next).length);};g.prototype.QFb=function(h){var d;d=this;return h.u.next?Object.keys(h.u.next).map(function(f){return d.Hd(f);}):[];};g.prototype.M0a=function(h){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,h];case 1:(f.cb(),d=h,f.label=2);case 2:if(!d.u.Hb)return [3,4];d=this.Hd(d.u.Hb);return [4,d];case 3:return (f.cb(),[3,2]);case 4:return [2];}});};g.prototype.oJb=function(h,d){return (0,l.c0a)(h.F4(d));};g.prototype.Ti=function(h){var d;d=this;Object.keys(h).forEach(function(f){var n;return null === (n=d.Hd(f)) || void 0 === n?void 0:n.Ti(h[f]);});};g.prototype.update=function(h){var d;d=this;this.dj=h;Object.keys(this.L).forEach(function(f){var n;n=d.dj.L[f];n && d.L[f].update(n) || delete d.L[f];});};return g;})();b.TIa=r;},function(r,b,a){var g,h,d;function c(f,n){var k,m;k=Object.keys(f);if(k.some(function(p){var q,v,t,w;return (null === (q=f[p]) || void 0 === q?void 0:q.Pd) !== (null === (v=n[p]) || void 0 === v?void 0:v.Pd) || (null === (t=f[p]) || void 0 === t?void 0:t.weight) !== (null === (w=n[p]) || void 0 === w?void 0:w.weight);}))return !0;m=Object.keys(n);return 0 !== g.__spreadArray(g.__spreadArray([],g.__read((0,h.ex)(k,m)),!1),g.__read((0,h.ex)(m,k)),!1).length?!0:!1;}function l(f,n){return f.some(function(k,m){var p;return 0 !== (0,h.ex)(k,null !== (p=n[m]) && void 0 !== p?p:[]).length;}) || f.length !== n.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.dRa=b.CSa=void 0;g=a(0);h=a(19);d=a(1068);b.CSa=function(f){return new d.DAa(function(n){return Object.keys(n.u.next || ({})).map(function(k){var m,p,q;k=f.Hd(k);q=null !== (p=null === (m=n.Ag) || void 0 === m?void 0:m.wa(n.Je).G) && void 0 !== p?p:Infinity;return {I4b:k,weight:q};});});};b.dRa=function(f,n){var k,m,p,q,v,t;k=Object.keys(f.L);m=Object.keys(n.L);p=m.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === m.indexOf(w);});v=k.filter(function(w){var u,y,x,z,A;if(-1 === m.indexOf(w))u=!1;else {u=f.L[w];w=n.L[w];u=u.Hb !== w.Hb || u.qa !== w.qa || u.sa !== w.sa || u.Pd !== w.Pd || u.K !== w.K || l(null !== (y=u.vq) && void 0 !== y?y:[],null !== (x=w.vq) && void 0 !== x?x:[]) || c(null !== (z=u.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return u;});t=(0,h.ex)(k,g.__spreadArray(g.__spreadArray(g.__spreadArray([],g.__read(v),!1),g.__read(p),!1),g.__read(q),!1));return {Aga:p,DM:q,Utb:v,f3b:t};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DAa=void 0;c=a(4);l=a(242);g=a(1069);r=(function(){function h(d){this.QAb=d;this.Pwa=!1;this.z$=new g.tJa();}h.prototype.Y4b=function(d,f){var k,m;function n(){var v,t,w,u,y,x;v=p.pop();t=v.node;w=v.u1;v=w.uUb;u=w.NE;w=w.state;if(!q.z$.has(t)){v=f(t,u,v,w);y=v.y$;x=v.state;v.r1 || q.z$.add(t);m(t).forEach(function(z){var A;A=z.I4b;k.z$.has(A) || (z=u + z.weight,y && p.push({node:A,u1:{NE:z,uUb:t,state:x}}));});}}k=this;m=this.QAb;(0,c.assert)(!this.Pwa);this.Pwa=!0;this.z$.clear();for(var p=new l.RZ([{node:d,u1:{NE:0,state:{root:!1,complete:!0,S7a:0,xr:0}}}],function(v,t){return v.u1.NE - t.u1.NE;}),q=this;!p.empty;){n();}this.Pwa=!1;};return h;})();b.DAa=r;},function(r,b){var l,g,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.nMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{nMa:{value:{},configurable:!1,enumerable:!1}})).nMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.tJa=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;h=Date.now() % g;r=(function(){function d(){this.g9=0;this.id=h=(h + 1) % g;}d.prototype.add=function(f){c(f)[this.id]=this.g9;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.g9;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.g9=(this.g9 + 1) % g;return this;};return d;})();b.tJa=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.KIa=void 0;c=a(10);l=a(19);g=a(4);h=a(439);r=(function(){function d(){this.Ta=new c.ZFa();this.Yl=new h.L_();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Ta.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Ta.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f;f=this.Ta.values();this.Ta.clear();this.Yl.clear();f.forEach(function(n){return n.Gf();});};d.prototype.zq=function(f){return this.Ta.get(f);};d.prototype.has=function(f){return this.Ta.has(f);};d.prototype.root=function(){return this.Yl.root;};d.prototype.contains=function(f){var n;n=f.u.id;if(this.has(n))return -1 !== this.zq(n).indexOf(f);};d.prototype.bF=function(f){this.Yl.bF(f);};d.prototype.kT=function(f){return this.Yl.parent(f);};d.prototype.zFb=function(f){return this.Yl.children(f);};d.prototype.Xma=function(f){return this.Yl.Xma(f);};d.prototype.ZWb=function(f){var n;if(this.Ta.delete(f.u.id,f)){n=this.Yl.children(f);this.Yl.root === f?0 === n.length?this.Yl.clear():((0,g.assert)(1 === n.length,"cannot remove the root branch with multiple successors"),this.Yl.lXb(n[0])):((0,g.assert)(0 === n.length,"cannot remove non-root branch with successors"),this.Yl.remove(f));}};d.prototype.forEach=function(f){var n;n=this;this.Ta.forEach(function(k,m){return f(k,m,n);});};d.prototype.reduce=function(f,n){var k;k=this;return this.Ta.reduce(function(m,p,q){return f(m,p,q,k);},n);};d.prototype.map=function(f){var n;n=this;return this.Ta.map(function(k,m){return f(k,m,n);});};d.prototype.filter=function(f){var n;n=this;return this.Ta.filter(function(k,m){return f(k,m,n);});};d.prototype.DIb=function(){var f;f={};this.forEach(function(n,k){var m;(n=n.xr) && (null !== (m=f[k]) && void 0 !== m?m:f[k]=[]).push(n.G);});return f;};d.prototype.t3b=function(f,n){var k,m,p;k=this;f=this.Yxb(f,n);m=f.bAb(this.Yl);n=m.Aga;p=m.DM;m=m.F7a;this.Yl.clear();this.Yl=f;n.forEach(function(q){return k.Ta.set(q.u.id,q);});n.forEach(function(q){return q.oa();});p.forEach(function(q){return k.Ta.delete(q.u.id,q);});return {DM:p,F7a:m};};d.prototype.Yxb=function(f,n){var k,m,p;k=this;m=new Map();p=new h.L_();f.bF(function(q,v){var t,w;if(v){t=m.get(v);if(!t)return !0;}w=(0,l.uc)(k.zq(q.u.id),function(u){return k.Yl.parent(u) === t || !v;});w=null !== w && void 0 !== w?w:n(q.u.id,t);w.Rg=q.Rg;m.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Tn) && w.update(q.u);return !0;});return p;};return d;})();b.KIa=r;},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Wya=void 0;c=a(0);l=c.__importDefault(a(5));g=a(7);h=a(10);d=a(21);f=a(4);n=a(72);k=a(60);r=(function(){function m(p,q,v,t,w,u,y){var x;void 0 === y && (y=500);x=this;this.S=p;this.config=q;this.Kd=v;this.events=t;this.kka=w;this.Bd=u;this.Isb=y;this.osa=this.Cha=0;this.D6=[];this.tK={Vu:0};this.state=new h.Cw(g.yc.zo);this.ue=new h.Cw(g.rb.Lj);this.Yg=new n.gu({$n:10,Pm:this,source:"BufferStateTracker",tPa:function(){return {isBuffering:x.Zj,alwaysRunUnderflowTimer:x.config.sJ};}});}Object.defineProperties(m.prototype,{Vu:{get:function(){return this.tK.Vu;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zj:{get:function(){return (0,g.Kq)(this.state.value);},enumerable:!1,configurable:!0}});m.prototype.wwa=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(v){v.mediaType === g.v.ga && (q.RQa=c.__assign(c.__assign({},q.RQa),{audio:{trackId:v.trackId,trackIndex:v.uH}}));});};m.prototype.ZL=function(p){this.set(g.yc.zo);this.hva(p,g.yc.ie);};m.prototype.q7=function(){this.tK.Vu++;};m.prototype.kV=function(p){this.config.sJ || void 0 === this.ay && this.Zj && this.bja();this.ay={Rx:p.httpCode,Fh:p.errorCode,dk:p.nativeCode};};m.prototype.y7=function(){this.ay=void 0;this.config.sJ || this.Y2();};m.prototype.ph=function(p){this.Zj || (this.hva(p,g.yc.Kj),this.Zj && (this.ay || this.config.sJ) && this.bja());};m.prototype.kSb=function(p,q){this.state.value !== g.yc.ie && this.hva(p,g.yc.xP);this.wwa(q);};m.prototype.JRb=function(p,q){var v;v=this;this.config.Gsb && this.Zj && (-1 === this.D6.indexOf(p) && this.D6.push(p),2 === this.D6.length && Promise.resolve().then(function(){v.Zj && void 0 !== v.Ov && v.rm("memoryLimit",q.AN,q.BN);}));};m.prototype.tZb=function(p,q){(0,f.assert)(this.state.value === g.yc.ie && void 0 === this.Ov);this.Ov=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.uH}),this.wwa(q));};m.prototype.FZb=function(p,q,v){(0,f.assert)(this.Zj);this.Nna=null !== p && void 0 !== p?p:this.Nna;this.JT=null !== q && void 0 !== q?q:this.JT;void 0 === this.fL?this.fL=v:void 0 !== (null === v || void 0 === v?void 0:v.reason) && (this.fL.reason=v.reason);};m.prototype.rm=function(p,q,v){var t;(0,f.assert)(this.Zj && void 0 !== this.Ov && void 0 === this.Z1 && void 0 === this.q$ && void 0 === this.f1);this.Z1=p;this.q$=q;this.f1=v;this.Zo=100;this.qia();this.Y2();null === (t=this.gia) || void 0 === t?void 0:t.Ra();this.state.value === g.yc.Kj && (this.osa=l.default.time.Ca());this.XAb();this.set(g.yc.jl);this.f1=this.q$=this.Z1=this.fL=this.JT=this.Nna=this.Ov=void 0;};m.prototype.stop=function(){var p;this.set(g.yc.zo);this.qia();this.Y2();null === (p=this.gia) || void 0 === p?void 0:p.Ra();};m.prototype.fia=function(p,q,v,t){var w,u,y,x,z,A,B,C,D,E;w=this;(0,f.assert)(this.Zj);null === (u=this.gia) || void 0 === u?void 0:u.Ra();if(this.state.value === g.yc.Kj && l.default.time.Ca() < this.osa + this.config.m3a){z=this.config.m3a - (l.default.time.Ca() - this.osa);this.gia=this.Bd.SJ(k.yh.GC(d.N.Na(z)),function(){w.fia(p,q,v,t);});}else {u=v.rF(g.v.ga);A=v.rF(g.v.Z);B=l.default.time.Ca() - this.Cha;if(u || A){C=function(G){return G?G.rB() || G.Lq()?t.eia(w.state.value,p,B >= w.config.DV,q,G,w.Vu):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(u);C=C(A);E=function(G){var F;return {reason:G.reason,complete:G.complete,bl:null !== (F=G.pA) && void 0 !== F?F:0};};this.Yg.js({as:E(D),vs:E(C),bt:B});E=A?C:D;E.M4b=A && C.pA || 0;E.qrb=u && D.pA || 0;D.complete && C.complete?(E.complete=!0,this.rm(null !== (z=E.reason) && void 0 !== z?z:"unknown",null !== (y=E.M4b) && void 0 !== y?y:0,null !== (x=E.qrb) && void 0 !== x?x:0)):(E.complete=!1,this.etb(E),this.Yg.js({bp:this.Zo}));}}};m.prototype.etb=function(p){var q,v,t;t=p.progress;p.spa?t=(l.default.time.Ca() - this.Cha) / this.config.DV:t || (t=(null !== (q=p.pA) && void 0 !== q?q:0) / this.config.Uq);p=Math.min(Math.max(Math.round(100 * t),null !== (v=this.Zo) && void 0 !== v?v:0),99);p != this.Zo && (this.Zo=p);};m.prototype.hva=function(p,q){(0,f.assert)(q === g.yc.ie || void 0 !== p);this.Ov=p;this.Zo=0;this.f7=void 0;this.tK.Vu=0;this.D6=[];p=this.state.value === g.yc.ie || this.state.value === g.yc.Kj;this.Cha=l.default.time.Ca();this.set(q);p || (this.ZAb(),this.c_b());};m.prototype.set=function(p){this.state.set(p);switch(p){case g.yc.zo:this.ue.set(g.rb.zo);break;case g.yc.ie:case g.yc.xP:this.ue.set(g.rb.ie);break;case g.yc.Kj:this.ue.set(g.rb.Kj);break;case g.yc.jl:this.ue.set(g.rb.Td);}};m.prototype.ZAb=function(){(0,f.assert)(this.events && void 0 !== this.Zo);this.f7=this.Zo;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:l.default.time.Ca(),percentage:this.Zo});};m.prototype.c_b=function(){var p;p=this;this.qia();this.FQb=this.Bd.VSa(function(){return p.YAb();},d.N.Na(this.Isb),"buffering-notification");};m.prototype.qia=function(){var p;null === (p=this.FQb) || void 0 === p?void 0:p.Ra();};m.prototype.YAb=function(){this.Zj && this.events && void 0 !== this.Zo && this.Zo !== this.f7 && this.events.emit("buffering",{type:"buffering",time:l.default.time.Ca(),percentage:this.Zo}) && (this.f7=this.Zo);};m.prototype.XAb=function(){var p;(0,f.assert)(this.events && this.Ov && void 0 !== this.Z1 && void 0 !== this.f1 && void 0 !== this.q$);this.f7=this.Zo;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:l.default.time.Ca(),actualStartPosition:this.Ov,reason:this.Z1,aBufferLevelMs:this.f1,vBufferLevelMs:this.q$,selector:this.Nna,initBitrate:this.JT,initSelReason:null === (p=this.fL) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.jfc},this.RQa));};m.prototype.bja=function(){var p;p=this;this.config.Sbb && (!this.Xy || this.Xy.state !== k.tk.complete && this.Xy.state !== k.tk.LE?void 0 === this.Xy && (this.Xy=this.Bd.Ax(function(){return p.ibb();},"underflow")):this.Xy.Mf());};m.prototype.Y2=function(){this.Xy && (this.Xy.state !== k.tk.LE && this.Xy.Ra(),this.Xy=void 0);};m.prototype.ibb=function(){var p,q,v;return c.__generator(this,function(t){switch(t.label){case 0:return (p=this.config.m6,this.S.trace(("BufferingStateTracker: starting underflow timer: ").concat(p,"ms")),[4,k.yh.GC(d.N.Na(p))]);case 1:(t.cb(),t.label=2);case 2:if(!this.Zj)return [3,4];q=this.Kd.NMb || 0;v=l.default.time.Ca() - q;if(v >= p)return (this.S.trace(("Forcing streaming failure, ").concat(v,"ms since data received")),this.kka.lSb(this.ay),[2]);this.S.trace(("BufferingStateTracker: network activity, wait ").concat(p - v,"ms"));return [4,k.yh.GC(d.N.Na(p - v))];case 3:return (t.cb(),[3,2]);case 4:return [2];}});};c.__decorate([(0,n.Pb)({methodName:"onTemporaryNetworkError",Vj:!0})],m.prototype,"kV",null);c.__decorate([(0,n.Pb)({methodName:"onUnderflow",Vj:!0})],m.prototype,"ph",null);c.__decorate([(0,n.Pb)({methodName:"bufferingComplete",Vj:!0})],m.prototype,"rm",null);c.__decorate([(0,n.Pb)({methodName:"stop",Vj:!0})],m.prototype,"stop",null);c.__decorate([(0,n.Pb)({methodName:"checkStreamingBufferingComplete",Vj:!0})],m.prototype,"fia",null);c.__decorate([(0,n.Pb)({methodName:"createUnderflowTask",Vj:!0})],m.prototype,"bja",null);c.__decorate([(0,n.Pb)({methodName:"destroyUnderflowTask",Vj:!0})],m.prototype,"Y2",null);c.__decorate([(0,n.Pb)({methodName:"onUnderflowTimeout",Vj:!0})],m.prototype,"ibb",null);return m;})();b.Wya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oka=void 0;c=a(19);b.oka=function(l,g,h,d,f){var n;n=[];l=l.Yl.values.filter(function(k){return k.Tn;}).map(function(k){var m,p;m=g(k.pa,h,d,f);p=(0,c.ex)(m,k.Od).map(function(q){return q.mediaType;});n=(0,c.z1)(n,p);return {mb:k,Od:m};});return {wRa:n,ssb:l};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kKa=void 0;c=a(0);l=a(21);g=a(4);b.kKa=(function(){function h(){}h.LIb=function(d){var f,n,k;if(d.Ng){k=c.__read(d.Od,2);d=k[0];k=k[1];if(d.ha || (null === k || void 0 === k?0:k.ha))return {wcb:l.N.Iq,xcb:l.N.Iq};d=null === (f=d.qo) || void 0 === f?void 0:f.Ag;f=null === (n=null === k || void 0 === k?void 0:k.qo) || void 0 === n?void 0:n.Ag;(0,g.assert)(d);n=f?l.N.min(d,f):d;return {wcb:d,xcb:n};}};return h;})();},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Nya=void 0;r=a(0);c=a(13);l=a(10);g=a(60);h=a(9);d=a(7);f=r.__importDefault(a(5));a=(function(){function n(k,m,p,q,v,t){this.Bd=k;this.Ar=m;this.config=p;this.yRb=q;this.Ff=v;this.console=t;this.Iea=new c.Af();this.console=(0,l.gi)(f.default,t,"BranchDecisionMaker");}n.qFb=function(k){var m;return null !== (m=k.Kb) && void 0 !== m?m:k.tG;};n.jGb=function(k){var m,p;m=k.u;p=k.UL;return m.Hb?m.Hb:p.length?p[0]:k.py[0];};n.prototype.Yva=function(k,m){var p,q,v,t;p=this;v=k.u;h.I && this.console.trace(("tracking ").concat(k.u.id));this.reset();if(v.bX || 1 >= v.py.length && (null === (q=v.Iv) || void 0 === q || !q.length))h.I && this.console.trace(("").concat(k.u.id," does not need tracking"));else {t=this.ftb(k);q=t.bua;m=m.lessThan(t.nKb);h.I && this.console.trace(("tracking ").concat(k.u.id),{J:v.id,mbc:m,Sec:null === q || void 0 === q?void 0:q.G});this.BYb(v,m?q:void 0);if(m)this.Iea.on(k.events,"branchEdited",function(){p.Yva(k,p.Bd.ta.currentTime);});}};n.prototype.QRa=function(){var k;null === (k=this.GTa) || void 0 === k?void 0:k.Ra();this.GTa=void 0;};n.prototype.reset=function(){this.QRa();this.Iea.clear();};n.prototype.ftb=function(k){var m,p;k=n.qFb(k);m=l.N.Na(this.config.P6);p=l.N.Na(this.config.RPb + this.config.O6);m=k.wa(m);return {nKb:(0,d.Kq)(this.Ff.value)?k.wa(p):m,bua:m};};n.prototype.BYb=function(k,m){var p;p=this;this.QRa();this.GTa=m?this.Bd.SJ(g.yh.bz(m),function(){return p.Y1a(k);},"scheduled branch decision"):this.Ar.SJ(g.yh.d5b,function(){return p.Y1a(k);},"immediate branch decision");};n.prototype.Y1a=function(k){var m;this.Iea.clear();m=n.jGb(k);h.I && this.console.trace(("BranchDecisionMaker making decision for ").concat(k.id,", decision is ").concat(m));this.yRb(k.id,m,!0);};return n;})();b.Nya=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TWa=void 0;c=a(1076);b.TWa=function(l,g){return l.reduce(function(h,d){var f;f=g(d);d.Ls().forEach(function(n){return h.pga(n.mediaType,n.hA,!f);});return h;},new c.SIa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SIa=void 0;c=a(416);r=(function(){function l(){this.qq=new c.eP();this.aS=new c.eP();}Object.defineProperties(l.prototype,{total:{get:function(){var g;g=new c.eP();g.add(this.qq);g.add(this.aS);return g;},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this.qq.add(g.qq);this.aS.add(g.aS);};l.prototype.pga=function(g,h,d){(d?this.aS:this.qq).pga(g,h);};return l;})();b.SIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RYa=void 0;b.RYa=function(a,c){return a.reduce(function(l,g){return l + g.h4(c).G;},0);};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PSa=void 0;c=a(0);l=a(7);b.PSa=function(g){var n,k;function h(m){(0,l.Kq)(m.newValue) && !(0,l.Kq)(m.oldValue)?(null === k || void 0 === k?void 0:k.Ra(),k=n.SJ.apply(n,c.__spreadArray([],c.__read(d),!1))):null === k || void 0 === k?void 0:k.Ra();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=g.Se;n=g.Ar;f.state.addListener(h);h({oldValue:l.yc.zo,newValue:f.state.value});};},function(r,b,a){var l,g;function c(h,d){return Object.keys(h.uG).map(function(f){return h.uG[f];}).filter(function(f){return void 0 === f.wF || 1 === f.wF;}).reduce(function(f,n){return f + n.qq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.RKa=void 0;l=a(7);g=a(9);r=(function(){function h(d,f,n){this.fa=d;this.console=f;this.Pla=n;}h.prototype.Ctb=function(d,f,n){var k,m,p,q;k=n && this.fa.config.q4b;m=this.fa.config.k$ || k;p=this.Pla();if(k){k=d.global;k=(q={},q[l.v.ga]=k[l.v.ga] - c(d,l.v.ga),q[l.v.Z]=k[l.v.Z] - c(d,l.v.Z),q[l.v.Za]=k[l.v.Za] - c(d,l.v.Za),q);}q=k;p=this.DRa(f) || this.hub(d) || this.fub(d,p,q) || this.gub(d,p,q,f);q=(0,l.Rsa)(p);if(p && (!q || m))return (g.I && this.console.log(("canIssueRequest ").concat(this.fa.id," [").concat(f,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});g.I && this.console.log(("canIssueRequest ").concat(this.fa.id," [").concat(f,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};h.prototype.DRa=function(d){var f;f=this.fa.config.YF;if(this.fa.YFb(d) >= (f || Infinity))return "mediaDurationLimit";};h.prototype.hub=function(d){return d.uG[this.fa.id].total.total > (this.fa.t4() || Infinity)?"playgraphMemoryLimit":void 0;};h.prototype.fub=function(d,f,n){d=d.global;return n?n[l.v.ga] + n[l.v.Z] > (f.pva.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};h.prototype.gub=function(d,f,n,k){var m;m=d.global;return n?(g.I && this.console.log(("checkRequestByMediaTypeMemory [").concat(k,"]:") + (" using static limit ").concat(f.pva[k],", usage: ").concat(n) + (" (global: ").concat(m[k]," ") + (" - certain contiguous: ").concat(c(d,k),")")),n[k] > (f.pva[k] || Infinity)?k === l.v.Z?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):m[k] > (f.total[k] || Infinity)?k === l.v.Z?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return h;})();b.RKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MIa=void 0;r=(function(){function a(c){this.console=c;this.mia();}a.prototype.get=function(c){return this.YJ[c] || this.pg[c];};a.prototype.set=function(c,l){void 0 === this.pg[c] && (this.pg[c]=l);};a.prototype.yZb=function(c,l){void 0 === this.get(c) && (this.YJ[c]=l);};a.prototype.clear=function(c){this.YJ[c]=void 0;this.pg[c]=void 0;};a.prototype.zub=function(c){var l;this.pg=(l={},l[c]=this.pg[c],l);this.YJ={};};a.prototype.mia=function(){this.pg={};this.YJ={};};a.prototype.toJSON=function(){return {pg:this.pg,YJ:this.YJ};};return a;})();b.MIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OIa=b.$C=void 0;c=a(0);l=a(4);(function(h){h[h.rO=0]="CREATED";h[h.xda=1]="STARTED";h[h.sP=2]="REQUEST_ISSUED";h[h.lw=3]="EVALUATED";h[h.$za=4]="DESTRUCTED";})(g=b.$C || (b.$C={}));r=(function(){function h(d){this.lC=d;this.wc=g.rO;this.uC={};this.MW={};}Object.defineProperties(h.prototype,{state:{get:function(){return this.wc;},enumerable:!1,configurable:!0}});h.prototype.start=function(){var d;d=this;this.wc !== g.xda && (this.LU(g.xda),[g.lw,g.sP].forEach(function(f){var n;n=new Promise(function(k){(0,l.assert)(d.MW && d.uC,"state promises should be defined");d.MW[f]=k;d.uC[f]=n;});}),this.lC(),this.LU(g.lw));};h.prototype.LU=function(d){this.wc=d;this.MW && (d=this.MW[d],null === d || void 0 === d?void 0:d());};h.prototype.Ra=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.wc !== g.xda)return [3,2];(0,l.assert)(this.uC,"state resolves should be defined");return [4,this.uC[g.lw]];case 1:(d.cb(),d.label=2);case 2:return (this.MW=this.uC=void 0,this.wc=g.$za,[2]);}});});};h.prototype.A$=function(d,f){c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(k){switch(k.label){case 0:if(this.wc === g.$za)return [2];if(this.wc === g.lw)return [3,6];(0,l.assert)(this.uC,"state promises should be defined");n=d;switch(n){case g.lw:return [3,1];case g.sP:return [3,3];}return [3,5];case 1:return [4,this.uC[g.lw]];case 2:return (k.cb(),[3,6]);case 3:return [4,this.uC[g.sP]];case 4:return (k.cb(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return h;})();b.OIa=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.KR=void 0;c=a(0);l=a(441);g=a(442);h=a(128);d=a(444);b.KR=function(f,n,k){var m,p,q,v,t;m=n.CV;p=n.Lga;f=c.__assign({nba:g.mba},f).nba;q=m[5];m=(0,d.dra)(function(){return t;});q.bPa(m.Kp);k=k(n);q=new l.sca();q.oa(k);v={Mg:void 0,Ac:void 0,Xa:k,Tna:q,o1a:"content"};v.Mg=new f(function(){return v.Ac.fa;},q,n.CV[2]);t=new d.Qza(v,m.N$a,h.Av.Kta.NM);v.Ac=h.Av.Dsa(k,t,function(){return v;},p);return v.Ac;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.a1a=void 0;b.a1a=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rza=void 0;c=a(28);r=(function(){function l(g){this.xm=g;this.nd="content-playgraph";this.enabled=!0;}l.prototype.pj=function(g){var h,d;h=g.rj;g=g.DB;if(h === c.pc.Fj || h === c.pc.Zl || h === c.pc.mj || void 0 === h && void 0 === g){g=this.xm.Xa;d=g.Y;h=void 0;(d.ae?d.zg:g.Fq && g.$e) && this.xm.xm && (d=d.zg,g=this.xm.Mg.Ft(d),d=this.xm.Xa.fa.L[d.J].K,this.xm.fa.L[g.J].K != d && (h=d));return {contentPlaygraph:this.xm.xm,auxMid:h};}};return l;})();b.Rza=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oza=void 0;c=a(443);l=a(9);g=a(28);r=(function(){function h(d,f){this.h0b=d;this.Pm=f;}Object.defineProperties(h.prototype,{Wq:{get:function(){return ("cache-").concat(this.h0b);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nd:{get:function(){return this.Wq;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return l.I;},enumerable:!1,configurable:!0}});h.prototype.pj=function(d){var f,n,k;f=d.rj;d=d.DB;if(f === g.pc.Fj || f === g.pc.Zl || f === g.pc.mj || void 0 === f && void 0 === d){n=(0,c.ZWa)(this.Pm);f=Object.keys(n).filter(function(m){return n[m].isEnabled;});if(f.length){k={};f.forEach(function(m){k[m]={hit:n[m].Jha,idx:n[m].$Qa};});return {Jac:k};}}};return h;})();b.oza=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M5a=void 0;b.M5a={"*":{xVa:["logdata"],rules:[{zj:function(a){return a.Xwa;}}]},locationSelected:[{zj:function(a){return a.qW;}}],segmentComplete:[{zj:function(a){return a.qW;}}],segmentStarting:[{zj:function(a){return a.qW;}}],serverSwitch:[{zj:function(a){return a.qW;}}],streamSelected:[{zj:function(a){return a.ae;}}]};},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.KR=void 0;c=a(0);l=a(441);g=a(442);h=a(444);d=a(128);f=a(1088);b.KR=function(n,k,m){var p,q,v,t,w;p=c.__assign({nba:g.mba},n).nba;q=k.CV[5];v=(0,h.dra)(function(){return w;});q.bPa(v.Kp);n=new l.sca();t={Mg:void 0,Ac:void 0,Xa:void 0,Tna:n,o1a:"ads"};t.Mg=new p(function(){return t.Ac.fa;},n,k.CV[2],"Ads:");w=new f.yxa(t,v.N$a,d.Av.Kta.NM,q);p=k.Lga;k.Lga=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[w],!1);t.Xa=m(k);t.Ac=d.Av.Dsa(t.Xa,w,function(){return t;},p);w.oa();n.oa(t.Xa);n.s8();return t.Ac;};},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yxa=void 0;c=a(0);l=a(9);g=a(1089);h=a(72);d=a(4);r=a(445);f=a(1090);a=(function(n){function k(m,p,q,v){m=n.call(this,m,p,q,"AdsPlaygraphHost",!1) || this;m.yu=v;m.Nw=void 0;return m;}c.__extends(k,n);Object.defineProperties(k.prototype,{Ac:{get:function(){return this.Ok.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hs:{get:function(){var m;m=this.yA(this.Ac.fa);if(m !== this.Ac.fa)return m;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dd:{get:function(){return this.Nw;},enumerable:!1,configurable:!0}});k.prototype.oa=function(){var m;m=this;n.prototype.oa.call(this);this.Ok.Xa.bf(new g.zxa(this.Ok));this.Nw=new f.txa(this.S,this.W,this.Xa,this.Ac,function(p,q,v,t){return m.UV(p,q,v,t);},this.yu);this.Ok.Xa.Dd=this.Nw;this.Dd.i1.events.on("adBreakHydrated",function(p){return m.k6a(p);});};k.prototype.dC=function(m){var p;p=n.prototype.dC.call(this,m);p && ((0,d.assert)(this.Dd,"missing manager"),this.Dd.Df.lV(m,this.r0));return p;};k.prototype.k6a=function(m){var p;p=m.$ga;m=p.$Jb(m.fga,m.Tj);(0,d.assert)(this.Dd,"missing manager");m && this.Dd.Df.Rqa(p,m,this.r0);};k.prototype.yf=function(m,p,q,v,t,w,u){var y,x;void 0 === u && (u=!1);y=!1;x=!1;p && !u && (y=this.Dd.upb.Vma(p));y || (x=this.Ok.Xa.yf(m,p,q,v,t,w,u));return x;};k.prototype.nC=function(m,p){var v,t;function q(){v.r0=void 0;v.Ac.Y.events.Xq("segmentPresenting",q);}v=this;this.Gua(m,p);this.Ac.Y.events.on("segmentPresenting",q);if(this.Dd.Df.yZa(m)){l.I && this.S.trace(("ads::seekStreaming: ").concat(JSON.stringify(m)));t=void 0;t=this.Dd.Df.ZL(m);m=t.$e;t=t.pK;l.I && this.S.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(m),", ") + ("playerTimestamp: ").concat(p,", ") + ("entryPoint: ").concat(JSON.stringify(t)));this.Xa.Y8(m,p,t);}else this.Xa.nC(m,p);};k.prototype.yA=function(m){return this.Dd.Df.yA(m);};k.prototype.Gf=function(m){n.prototype.Gf.call(this,m);this.r0=void 0;};k.prototype.Gua=function(m,p){this.r0={$e:m,jo:p};};c.__decorate([(0,h.Pb)({methodName:"ads::processViewableResponse"})],k.prototype,"dC",null);c.__decorate([(0,h.Pb)({methodName:"ads::processAdBreakHydrationResponse"})],k.prototype,"k6a",null);c.__decorate([(0,h.Pb)({methodName:"ads::reportStreamingFailure"})],k.prototype,"yf",null);c.__decorate([(0,h.Pb)({methodName:"ads::seekStreaming"})],k.prototype,"nC",null);c.__decorate([(0,h.Pb)({methodName:"ads::cancelStreaming"})],k.prototype,"Gf",null);return k;})(r.eda);b.yxa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zxa=void 0;c=a(36);l=a(186);g=a(28);r=(function(){function h(d){this.context=d;this.nd="ad-playgraph";this.enabled=!0;}h.prototype.pj=function(d){var f,n,k,m,p,q,v;f=d.rj;d=d.DB;if(f === g.pc.Fj || f === g.pc.Zl || f === g.pc.mj || d === g.Qh.vt || void 0 === f && void 0 === d){d=this.context;f=d.Ac;n=d.Xa;d=n.Y;k=d.ae?d.zg:n.Fq?n.$e:void 0;m=f.hs;p=void 0;q="content";d=void 0;if(k){n=n.fa.L[k.J];v=n.Qb;v && (f=f.fa.L[v],f.K != n.K && (p=n.K,q=n.type,d=this.XEb(k.J,f.K)));}f={adPlaygraph:m?c.dda.decode(m):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!m};void 0 !== d && (f.adBreakLocationMs=d);return f;}};h.prototype.XEb=function(d,f){var n,k,m,p;if(d=(0,l.hF)(d))p=null === (m=null === (k=null === (n=this.context.Ac.Dd) || void 0 === n?void 0:n.Df.Xd[f]) || void 0 === k?void 0:k[d.yk]) || void 0 === m?void 0:m.Et;return p;};return h;})();b.zxa=r;},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.txa=void 0;c=a(1091);l=a(186);g=a(1094);h=a(1095);d=a(1098);f=a(1099);n=a(1100);r=(function(){function k(m,p,q,v,t,w){this.oMa=new c.mxa(p,m,q,v,t);this.Snb=new l.Bxa(q,v,this.Df);this.vQ=new g.AIa(this,q,m);this.Zea=new h.sxa(this.vQ,q,q.he,m);this.flb=new n.kxa(w);q.Jy.bf(new f.pxa(this.vQ,this.Df,this.Zea));this.oMa.oa(this.Zea.events,this.vQ.events,this.i1);this.glb=new d.nxa(q,this.Df);}Object.defineProperties(k.prototype,{Df:{get:function(){return this.oMa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pM:{get:function(){return this.Snb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{I5a:{get:function(){return this.vQ;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wna:{get:function(){return this.Zea;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{upb:{get:function(){return this.glb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{i1:{get:function(){return this.flb;},enumerable:!1,configurable:!0}});k.prototype.Wh=function(m){return this.vQ.Wh(m);};return k;})();b.txa=r;},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q){return null === q || void 0 === q?void 0:q.Xd.map(function(v){return v.xe;}).map(function(v){return null === v || void 0 === v?void 0:v.map(function(t){return t.id;});}).reduce(function(v,t){return null === t || void 0 === t?void 0:t.concat(v);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.mxa=void 0;l=a(0);g=a(13);h=a(36);d=a(9);f=a(177);n=a(4);k=a(19);m=a(1092);p=a(1093);r=(function(){function q(v,t,w,u,y){this.config=v;this.console=t;this.Xa=w;this.Ac=u;this.UV=y;this.Hu={};this.uNa=new f.rda();this.T5=!1;this.events=new g.EventEmitter();this.Xa.Epb(this.tCb.bind(this));}Object.defineProperties(q.prototype,{WKb:{get:function(){return this.Xa.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Xd:{get:function(){return this.Qo.WQ;},enumerable:!1,configurable:!0}});q.prototype.oa=function(v,t,w){this.Qo=new m.Dxa(v,t);this.eE=new p.Axa(this.Qo,this.config,this.console,this.Xa,this.Ac);this.i1=w;};q.prototype.vT=function(){var v;v=this;return !!(0,k.uc)(Object.keys(this.Xd),function(t){return 0 < v.Xd[t].length;});};q.prototype.ZL=function(v){var t,w,u;t=this.Ac.Mg;(0,n.assert)(t,"Could not get graph location service");this.eE.ZL(v);if(0 < this.Qo.vX){d.I && this.console.trace("ads::seekStreaming: recreating inner playgraph");w=this.yA(this.Ac.fa);t=t.icb(this.Ac.fa,w);this.Qo.reset();this.process(v);}t=this.eE.VPa(v,t,w);v=t.$e;t=t.pK;d.I && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(v)));u=(w || this.Xa.fa).L[v.J];this.T5=!!u.type && -1 < ["ad","padding"].indexOf(u.type);return {$e:v,pK:t,Zdc:w};};q.prototype.lV=function(v,t){var w,u;w=this.KWa(v);u=this.Hu[v.O];this.Hu[v.O]=w;if(u !== w && (null === u || void 0 === u?void 0:u.Xd.length) !== (null === w || void 0 === w?void 0:w.Xd.length)){if(null === w || void 0 === w?0:w.Xd)(this.Qo.pZb(v.O,w.Xd),this.eE.t9a(v),d.I && this.console.trace("Received ad metadata for",{pa:v.O,wpb:c(w)}));if(t && this.yZa(t.$e)){if(this.M9a(t.$e))return this.m6a(t);d.I && this.console.trace(("ads::seekStreaming: Ignoring delayed seek request ").concat(JSON.stringify(t),", didAppendData ").concat(this.Xa.WP,",\n                        enablePrerollForInitialSeek ").concat(this.Xa.config.bka,"\n                        offset ").concat(t.$e.offset));}this.process(null === t || void 0 === t?void 0:t.$e,null === t || void 0 === t?void 0:t.jo);}};q.prototype.Rqa=function(v,t,w){var u;u=this.KWa(v);(0,n.assert)(u,("adMetadata for viewable ").concat(v.K," should exist if an adBreak hydration was requested"));this.Hu[v.O]=u;this.Qo.Rqa(v.O,t);this.eE.t9a(v);d.I && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{pa:v.O,wpb:c(u)});w?this.m6a(w,this.s0a() && !this.Xa.WP):this.process();};q.prototype.s0a=function(){return !this.Xa.Y.Dq && this.Xa.Zj;};q.prototype.m6a=function(v,t){var w,u,y,x;void 0 === t && (t=!0);d.I && this.console.trace(("ads::processDelayedSeekRequest: seek request ").concat(JSON.stringify(v),", is initial ").concat(t));w=this.Ac.Mg;(0,n.assert)(w,"Could not get graph location service");u=v.$e;y=v.jo;x=this.yA(this.Ac.fa);w=w.icb(this.Ac.fa,x);t=t?this.eE.EHb(v.$e,w,x):this.eE.VPa(v.$e,w,x);this.T5=!1;t && ((x=x.L[t.$e.J]) || (x=this.Xa.fa.L[t.$e.J]),this.T5=!!x.type && -1 < ["ad","padding"].indexOf(x.type));if(t)return (v=t.$e,u=t.pK,d.I && this.console.trace(("ads::processDelayedSeekRequest: executing delayed seek to\n            ").concat(JSON.stringify(v),", playerTimestamp ").concat(y,",\n                entryPoint ").concat(JSON.stringify(u))),w=null === w || void 0 === w?void 0:w.Ft(v),this.process(w,y,u));this.process(u,null === v || void 0 === v?void 0:v.jo);};q.prototype.process=function(v,t,w){var u;u=this;this.uNa.Nga || this.uNa.Ncb(function(){u.UV(u.Ac.fa,v,t,w);u.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};q.prototype.yA=function(v){var t,w,u;t=this;w=v;u=Object.keys(v.L).map(function(y){return ("").concat(v.L[y].K);});Object.keys(this.Hu).forEach(function(y){var x,z;if(-1 !== u.indexOf(y)){x=t.Hu[y];if(x){z=x.Xd.map(function(A,B){A=t.Xd[y][B];return A.pp || A.xe.reduce(function(C,D,E){return D.TT?l.__spreadArray(l.__spreadArray([],l.__read(C),!1),[E],!1):C;},[]);});x=(0,h.NSa)(parseInt(y),x,z,t.config.sra);w=(0,h.Ypa)(w,x);}}});return w;};q.prototype.yZa=function(v){return !!this.Hu[this.Ac.fa.L[v.J].K];};q.prototype.KWa=function(v){if(v.om && (v=v.om,v.Xd.length))return v;};q.prototype.Rja=function(v){this.Qo.Rja(v);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:v});this.process();};q.prototype.Qua=function(v,t,w){var u;return this.eE.Qua(v,t,w,null === (u=this.WKb) || void 0 === u?void 0:u.ce);};q.prototype.tCb=function(v){var t,w,u,y,x;t=this;if(!this.vT())return v;w=!0;u=[];y=[];v.bF(function(z,A){var B,C,D,E;if(!(A || !z.u.f0a || t.s0a() && t.M9a(t.Xa.$e)))return (t.console.trace("Hydration: Not checking root segment"),!0);C=t.Xa.XKb.fa.L[z.u.id];(0,n.assert)(C,"Hydration: Segment must be present in innermost playgraph");D=C.K;if(C.type && -1 < ["ad","padding"].indexOf(C.type))w=!1;else if(C.Qb){E=t.Xa.fa.L[C.Qb];E && E.K !== C.K && (t.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(C.K,", ") + ("main content viewableId: ").concat(E.K)),D=E.K);}if((C=t.Qo.VEb(D,C.sa)) && !C.pp)if(C.kRa && !C.Bg){if((E=null === (B=null === A || void 0 === A?void 0:A.mb) || void 0 === B?void 0:B.duration,t.T5 && E && 5E3 > E))t.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {u.push(z);if(w && 0 === y.length || x === A)(y.push({K:D,Wd:C}),x=A);return !1;}}else w=!1;return !0;});u.forEach(function(z){return v.remove(z);});y.forEach(function(z){var A;A=z.K;z=z.Wd.Zp.Tj;(0,n.assert)(z,"If an adBreak can be hydrated it needs to have an adBreakToken");t.i1.PVb(z,A);});return v;};q.prototype.M9a=function(v){return this.Xa.WP || this.Xa.config.bka || 0 === v.offset.G;};return q;})();b.mxa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Dxa=void 0;c=a(4);l=a(19);g=a(433);r=(function(){function h(d,f){var n;n=this;this.vX=0;this.hu={};d.on("adEvent",function(k){return n.vRb(k);});f.on("adBreakPresenting",function(k){return n.o7(k);});}Object.defineProperties(h.prototype,{WQ:{get:function(){return this.hu;},enumerable:!1,configurable:!0}});h.prototype.pZb=function(d,f){this.hu[d]=f.map(function(n,k){return new g.Qxa(n,k);});};h.prototype.Rqa=function(d,f){this.hu[d].some(function(n){if(n.Zp.Tj === f.Tj)return (n.ZJb(f),!0);});};h.prototype.reset=function(){this.vX=0;};h.prototype.vRb=function(d){var f;f=this;"adComplete" === d.event && Object.keys(this.hu).some(function(n){var k,m,p;n=null !== (k=(p=f.hu)[n]) && void 0 !== k?k:p[n]=[];(0,c.assert)(void 0 !== d.yk,"complete event should have an adBreakIndex");return null === (m=n[d.yk].xe) || void 0 === m?void 0:m.some(function(q){return q.id == d.X.O?(q.pp=!0,f.vX++,!0):!1;});});};h.prototype.o7=function(d){var f;f=this;Object.keys(this.hu).forEach(function(n){var k,m;(null !== (k=(m=f.hu)[n]) && void 0 !== k?k:m[n]=[]).forEach(function(p){p !== d.Fm.Wd && p.Czb();});});};h.prototype.Rja=function(d){var f;f=this;Object.keys(this.hu).forEach(function(n){f.hu[n].forEach(function(k){k.xe.forEach(function(m){m.id == d && (m.TT=!0);});});});};h.prototype.HAb=function(d){var f,n;d=this.hu[d];0 === (null === (f=null === d || void 0 === d?void 0:d[0]) || void 0 === f?void 0:f.Gl) && (d[0].xe.forEach(function(k){return k.pp=!0;}),this.vX+=(null === (n=null === d || void 0 === d?void 0:d[0]) || void 0 === n?void 0:n.xe.length) || 0);};h.prototype.VEb=function(d,f){return (d=this.WQ[d]) && (0,l.uc)(d,function(n){return n.Gl === f;});};return h;})();b.Dxa=r;},function(r,b,a){var l,g,h,d,f;function c(n,k){var m;m=k && n.L[k];if(m)return "content" !== m.type?c(n,m.Hb):k;}Object.defineProperties(b,{__esModule:{value:!0}});b.Axa=void 0;l=a(66);g=a(9);h=a(7);d=a(4);f=a(186);r=(function(){function n(k,m,p,q,v){this.Qo=k;this.config=m;this.console=p;this.Xa=q;this.Ac=v;this.MI=!0;}n.prototype.t9a=function(k){this.uQ=void 0;this.MI && (this.MI=!this.config.kUa || !k.getTracks(h.v.Z).map(function(m){var p;return null === (p=m.hk) || void 0 === p?void 0:p.Lu;}).some(function(m){return m && 3 === m.op && 4 === m.w;}));g.I && this.console.trace(("ads::policiesManager: enablePrerollOnSeek for ").concat(k.O,"} is ").concat(this.MI));};n.prototype.ZL=function(k){var m;if(k.offset.equal(l.N.Ia) && !this.MI){m=this.Ac.fa;m.ce === k.J && (k=m.L[k.J].K,g.I && this.console.trace("ads::seekStreaming: dropping preroll for viewable " + k),this.Qo.HAb(k));}};n.prototype.VPa=function(k,m,p){var q,v,t;m=k=m.Fx(k);q=null !== p && void 0 !== p?p:this.Xa.fa;p=q.L[k.J];"padding" === p.type && (k={J:p.Hb,offset:l.N.Ia});v=this.Xa.Y.pF();if(v && (v=v.u.id,g.I && this.console.trace(("ads::seekStreaming: seek from segment ").concat(v)),q=this.AYa(v,k,q)))if(q.J){g.I && this.console.trace(("ads::seekStreaming: prerollSegment ").concat(q.J));m={J:q.J,offset:l.N.Ia};t=k;}else this.uQ=q.Wd;return t || "ad" !== p.type?{$e:m,pK:t}:{$e:k,pK:k};};n.prototype.EHb=function(k,m,p){var q,v,t,w;q=this.Qo.WQ[this.Ac.fa.L[k.J].K];v=m.Fx(k);if(0 === v.offset.G)t=this.nma(p,q,v);else {w=c(p,p.ce);if(w === v.J)t=this.nma(p,q,m.Fx({J:k.J,offset:l.N.Ia}));else if(w){k=w;if(m=this.Xa.Y.pF())k=m.u.id;t=this.AYa(k,v,p);}}if(t){if(t.J)return {$e:{J:t.J,offset:l.N.Ia},pK:v};this.uQ=t.Wd;}};n.prototype.Qua=function(k,m,p,q){if(this.uQ)return (m=this.uQ,this.uQ=void 0,m);if((k=this.Qo.WQ[k]) && k.length)if(p && m.J === q && m.offset.equal(l.N.Ia)){if((m=k[0],0 === m.Gl && 0 === m.xe.length && !m.pp && !m.bna))return m;}else if(!p)return this.Lla(m.J,k);};n.prototype.AYa=function(k,m,p){var q,w,u;g.I && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(k," to ").concat(JSON.stringify(m)," ").concat(this.MI));if(this.MI){if(p){q=this.Qo.WQ[this.Ac.fa.L[p.L[m.J].Qb].K];p=p.L;k=p[k].Hb;for(var v=void 0,t=void 0;k;){w=p[k];if("content" === w.type && ("content" === v || void 0 === v) && q){u=this.Lla(k,q);u && (t={Wd:u});}if(k === m.J)return (m=t && !t.J || v && "content" !== v?t:void 0,g.I && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(m)),m);"ad" === w.type && "ad" !== v && (g.I && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(k)),v=(0,f.hF)(k),(0,d.assert)(v,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),t={J:k,Wd:q[null === v || void 0 === v?void 0:v.yk]});v=w.type;k=w.Hb;}}g.I && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");}};n.prototype.nma=function(k,m,p){var q,v;q=k.L;p=p.J;v=q[p].type;if("padding" === v)return this.nma(k,m,{J:q[p].Hb,offset:l.N.Ia});g.I && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",p);if("ad" === v)return (k=(0,f.hF)(p),(0,d.assert)(k,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{J:p,Wd:m[null === k || void 0 === k?void 0:k.yk]});if("content" === v){if(m=this.Lla(p,m))return {Wd:m};}else g.I && (0,d.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};n.prototype.Lla=function(k,m){k=(0,f.kXa)(k);(0,d.assert)(k,"Should have contentInfo from segment name");if(0 < k.FSa && (m=m[k.FSa - 1],0 === m.xe.length && !m.pp && !m.bna))return m;};return n;})();b.Axa=r;},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.AIa=void 0;c=a(0);l=a(13);g=a(9);h=c.__importDefault(a(5));d=a(10);f=a(19);n=a(4);r=(function(){function k(m,p,q){var v;v=this;this.Nw=m;this.Xa=p;this.Jea=new l.Af();this.$ea=!1;this.S=(0,d.gi)(h.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Xa.events.on("playerChanged",this.J5a.bind(this));this.J5a();this.Df.events.on("adPlaygraphUpdated",function(t){return v.events.emit("adPlaygraphUpdated",t);});this.Df.events.on("adSegmentDropped",function(t){v.wRb(t);});}Object.defineProperties(k.prototype,{GT:{get:function(){return this.$ea;},enumerable:!1,configurable:!0}});k.prototype.Wh=function(m){var p;if(!this.Xa.Eq)return (g.I && this.S.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Xa.Y;if(!p.RS(m))return (g.I && this.S.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",m),!1);g.I && this.S.trace(("PlayerAdManager.canSkip(): ").concat(p.Ed.ob()," -> ").concat(m.ob()));m=m.greaterThan(p.Ed)?(0,d.Kka)(p.Ta,p.Ed,m):(0,d.Kka)(p.Ta,m,p.Ed);p=!m.some(function(q){return "content" !== q.u.u.type;});g.I && this.S.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(m.map(function(q){return ("").concat(q.u.id," ").concat(q.u.u.type," ").concat(q.Bb.G,"..").concat(q.Bb.G);})));return p;};Object.defineProperties(k.prototype,{Df:{get:function(){return this.Nw.Df;},enumerable:!1,configurable:!0}});k.prototype.J5a=function(){var m,p;m=this;this.S.trace("Player changed",this.Xa.Eq);this.Jea.clear();if(this.Xa.Eq){p=this.Xa.Y;this.Jea.addListener(p.events,"segmentPresenting",function(q){return m.xv(q);});this.Jea.addListener(p.events,"playbackEnding",function(q){return m.ara(q);});}};k.prototype.xv=function(m){var p,q,v,t,w;p=this.pM.YEb(m.position,!!m.seek);if(p){q=p.Wd;v=p.af;g.I && this.S.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(v));t=this.pM.zy;w={jo:m.playerTimestamp,position:m.position,Wd:q};this.GT || (q.xe.length?this.qpb(t,w):this.eA(m.playerTimestamp,m.position,q));v && this.ql(t,w,v);}!this.GT || p && "end" !== p.sV || this.eA(m.playerTimestamp,m.position);this.GT && !p && this.SOa(m.position);};k.prototype.ara=function(m){this.GT && this.yLb(m.position) && (this.eA(m.playerTimestamp,m.position),this.SOa(m.position));};k.prototype.qpb=function(m,p){(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");g.I && this.S.trace("Emitting adBreakPresenting");this.$ea=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:m,Fm:p});};k.prototype.ql=function(m,p,q){g.I && this.S.trace("Emitting adPresenting");(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:m,Fm:c.__assign(c.__assign({},p),{af:q})});};k.prototype.eA=function(m,p,q){g.I && this.S.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Fm:{jo:m,position:p,Wd:q}});};k.prototype.SOa=function(m){this.$ea=!1;g.I && this.S.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:m}});};k.prototype.rla=function(m){var p,q,v,t;p=this;q={Kqb:[],result:{}};v=this.Df.Hu;t=Object.keys(v).filter(function(w){return v[w];});if(null === m || void 0 === m?0:m.zcb)t=t.filter(function(w){var u;return -1 !== (null === (u=m.zcb) || void 0 === u?void 0:u.indexOf(w));});q.Kqb=t;t.forEach(function(w){var u,y,x;y=null === (u=v[w]) || void 0 === u?void 0:u.Xd;if(y){u=p.hDb(w,y);x=p.Df.Xd[w];q.result[("").concat(w)]=u.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].ILb});});}});return q;};Object.defineProperties(k.prototype,{pM:{get:function(){return this.Nw.pM;},enumerable:!1,configurable:!0}});k.prototype.hDb=function(m,p){var q,v;q=[];v=[];this.Df.Xd[m].forEach(function(t){return t.xe.forEach(function(w){w.TT && -1 === v.indexOf(w.id) && v.push(w.id);});});p.forEach(function(t){var w,u;t=c.__assign({},t);u=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(y){return -1 === v.indexOf(y.id);});t.ads=u;q.push(t);});return q;};k.prototype.wRb=function(m){var p,q,v,t;p=this;q=m.adId;v=this.Df.Hu;m=Object.keys(v).filter(function(w){return v[w];});t=this.Xa.fa.L;m.forEach(function(w){var u,y;null === (y=null === (u=v[w]) || void 0 === u?void 0:u.Xd) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.xe) || void 0 === A?void 0:A.forEach(function(B,C){B.id === q && (B=(0,f.uc)(Object.keys(t),function(D){D=p.pM.hF(D);return !D || D.MF?!1:C === D.j1 && z === D.yk;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.Et,reason:"network_error",sev:"error",segmentId:B});});});});};k.prototype.yLb=function(m){var p;p=this.Xa.navigator;return (m=p.Hd(m.J)) && !p.kJb(m);};return k;})();b.AIa=r;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sxa=void 0;r=a(0);c=a(13);l=r.__importDefault(a(5));g=a(10);h=a(4);d=a(9);f=a(1096);a=(function(){function n(k,m,p,q){this.Xa=m;this.he=p;this.Oo=0;this.events=new c.EventEmitter();this.console=(0,g.gi)(l.default,q,"IMPRESSION");k.events.addListener("adBreakPresenting",this.o7.bind(this));k.events.addListener("adBreakComplete",this.n7.bind(this));k.events.addListener("adPresenting",this.Sqa.bind(this));}Object.defineProperties(n.prototype,{GT:{get:function(){return !!this.pl;},enumerable:!1,configurable:!0}});n.prototype.o7=function(k){this.pl && (d.I && this.console.warn("Unexpected back-to-back ad breaks"),this.pl.n7(k.Fm.position),this.Oo+=this.pl.mwa,this.pl=void 0);(0,h.assert)(k.Fm.Wd,"Ad break must be defined for ad break presenting");this.pl=new f.lxa(this.Xa,this.he,this.events,k.Fm.Wd,this.console);};n.prototype.n7=function(k){var m,p,q;q=k.Fm.Wd || (null === (m=this.pl) || void 0 === m?void 0:m.Wd);d.I && this.console.trace(("adBreakComplete event, ").concat(this.pl?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.yk," is ") + ("").concat(q.xe.length?"not ":"","empty, ") + ("has ").concat(q.pp?"":"not ","played"):"no ad break"));if(0 === (null === (p=k.Fm.Wd) || void 0 === p?void 0:p.xe.length))((0,h.assert)(!this.pl,"Received ad break complete for empty ad break during ad break"),k.Fm.Wd.NZb(),this.o7(k));else if(!this.pl)return;this.pl.n7(k.Fm.position);this.Oo+=this.pl.mwa;this.pl=void 0;};n.prototype.Sqa=function(k){var m,p,q;(0,h.assert)(this.pl,"Expect to be in ad break when ad presenting is received");(0,h.assert)(this.pl.Wd === k.Fm.Wd,"Expect to be in correct ad break when ad presenting is received");p=this.Xa.SS(k.Fm.position.J)[0];q=k.Fm.jo;this.pl.Sqa(k.Fm.af,null === p || void 0 === p?void 0:p.pa,k.Fm.position.J,q,null !== (m=null === p || void 0 === p?void 0:p.Bb) && void 0 !== m?m:q);};n.prototype.bv=function(){var k;return {"break":null === (k=this.pl) || void 0 === k?void 0:k.bv(),errors:this.Oo};};return n;})();b.sxa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.lxa=void 0;c=a(0);l=c.__importDefault(a(5));g=a(1097);r=(function(){function h(d,f,n,k,m){this.Fa=d;this.he=f;this.events=n;this.Wd=k;this.console=m;this.Oo=0;k.N1 && l.default.ping && l.default.ping(k.N1);}Object.defineProperties(h.prototype,{mwa:{get:function(){return this.Oo;},enumerable:!1,configurable:!0}});h.prototype.Sqa=function(d,f,n,k,m){this.Gu && (this.Gu.Ra(),this.Gu=void 0);this.Gu=new g.xKa(this.Fa,this.he,this.events,this.Wd,d,f,n,k,m,this.console);};h.prototype.n7=function(d){this.Gu && (this.Gu.Ra(),this.Gu=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Wd.bga.complete),{oh:d,dE:this.Wd.Et,yk:this.Wd.yk}));this.Wd.bna=!0;}catch(f){this.console.error("Impression error event",f);this.Oo++;}};h.prototype.bv=function(){var d;return {ad:null === (d=this.Gu) || void 0 === d?void 0:d.bv(),errors:this.Oo};};return h;})();b.lxa=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.xKa=void 0;c=a(0);l=a(66);g=a(7);h=a(9);d=a(447);f=a(10);n=a(19);k=a(4);m=a(60);r=(function(){function p(q,v,t,w,u,y,x,z,A,B){var C;C=this;this.Fa=q;this.he=v;this.events=t;this.Wd=w;this.af=u;this.iga=y;this.k1=x;this.npb=z;this.ZQ=A;this.console=B;this.Sl=l.platform.time.now();this.xH=new Map();this.Oo=0;(0,k.assert)(y.X,"Presenting ad should have a manifest");this.VOa=v.Ax(function(){return C.z2b();},"impressionLogging");this.Fa.Y.aC.forEach(function(D,E){(D=D.EDb(d.Gaa)) && C.xH.set(E,D);});}Object.defineProperties(p.prototype,{mwa:{get:function(){return this.Oo;},enumerable:!1,configurable:!0}});p.prototype.Ra=function(){this.VOa.Ra();};p.prototype.z2b=function(){var q,v,t,w,u,y,x,z,A,B,C,D,E,G,F;return c.__generator(this,function(H){switch(H.label){case 0:(h.I && this.console.trace("AdImpressionLogger: starting at",this.ZQ.ob()),q=this.af,this.SRa(),v=0,t=this.ZQ,w=this.ZQ.add(q.endTime),u=this.npb,H.label=1);case 1:(H.Wm.push([1,,12,13]),(0,k.assert)(null === (E=q.dA) || void 0 === E?void 0:E.start,"Start event info should be defined"),this.emit(q.dA.start,v,t,!1),(0,k.assert)(q.V9,"Timed event info should be defined"),H.label=2);case 2:(H.Wm.push([2,7,8,9]),y=c.__values(q.V9),x=y.next(),H.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.ZQ.add(f.N.Na(z.Ova));h.I && this.console.trace(("AdImpressionLogger[").concat(this.k1,"]: waiting for ").concat(z.Ova,"ms timed event") + (" at ").concat(t.ob()));return [4,m.yh.bz(t)];case 4:(H.cb(),u=t,this.emit(z,z.Ova,t,!1),H.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=H.cb(),C={error:A},[3,9]);case 8:try{x && !x.done && (D=y.return) && D.call(y);}finally{if(C)throw C.error;}return [7];case 9:if(!w.greaterThan(t))return [3,11];t=w;h.I && this.console.trace(("AdImpressionLogger[").concat(this.k1,"]: waiting for end of ad at ").concat(t.ob()));return [4,m.yh.bz(t)];case 10:(H.cb(),u=t,H.label=11);case 11:return [3,13];case 12:this.Fa.Y.ae && (u=this.Fa.Y.Ed);if(u.$h(w))((0,k.assert)(null === (G=q.dA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.dA.complete,q.endTime.G,w,!0));else if(null === (F=q.dA) || void 0 === F?0:F.stop)(B=u.wa(this.ZQ).G,this.emit(q.dA.stop,B,u,!0));this.SRa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,v,t,w){h.I && this.console.trace(("AdImpressionLogger[").concat(this.k1,"]: emitting ").concat(q.event," event at ").concat(v,"ms") + (" for player time ").concat(t.ob()));v={J:this.k1,offset:f.N.Na(v)};t=this.ima(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{oh:v,zv:t,X:this.iga.X,Sl:this.Sl,efc:w?l.platform.time.now():-1,dE:this.Wd.Et,yk:this.Wd.yk,rN:this.af.rN,Rs:this.af.Rs}));}catch(u){this.console.error("Impression error event",u);this.Oo++;}};p.prototype.ima=function(q){var v,t,w;v=this.iga.X.O;t=c.__read(this.vYa(q,this.xH.get(g.v.ga),v),2);w=t[0];t=t[1];q=c.__read(this.vYa(q,this.xH.get(g.v.Z),v),2);return {audio:w,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.vYa=function(q,v,t){q=(null === v || void 0 === v?void 0:v.b0b(q,t)) || [];q=(0,n.flatten)(q.map(function(w){return Object.keys(w.QE).map(function(u){u=w.QE[u];return {Sb:u.Sb,duration:u.totalTime,sm:w.sm};});}));v=q.reduce(function(w,u){return w + u.duration;},0);h.I && this.console.trace("Getting playtime journal",{O:t,pec:q.length,totalTime:v});return [q,v];};p.prototype.SRa=function(){var q,v,t;t=this.iga.X.O;null === (q=this.xH.get(g.v.ga)) || void 0 === q?void 0:q.p7a(t);null === (v=this.xH.get(g.v.Z)) || void 0 === v?void 0:v.p7a(t);};p.prototype.bv=function(){return {ad:this.VOa.bv(),errors:this.Oo};};return p;})();b.xKa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nxa=void 0;c=a(19);r=(function(){function l(g,h){this.hs=g;this.Df=h;}l.prototype.Vma=function(g){var h;h=this;return this.hs.Y.Ta.some(function(d){return d.u.u.K === g && d.GPa;})?!1:(0,c.uc)(Object.keys(this.Df.Hu),function(d){if(d=h.Df.Hu[d])return (0,c.uc)(d.Xd,function(f){return f.xe && (0,c.uc)(f.xe,function(n){return n.id === g;});});})?(this.Df.Rja(g),!0):!1;};return l;})();b.nxa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pxa=void 0;c=a(13);l=a(28);r=(function(){function g(h,d,f){var k;function n(m){var p,q;(p=k.state.gga)[q=m.event] || (p[q]=0);k.state.gga[m.event]++;}k=this;this.Df=d;this.wna=f;this.Jz=new c.Af();this.Wq="adImpressionAudit";this.nd="adImpressionAuditor";this.enabled=!0;this.Jz.on(h.events,"adPresenting",function(){return k.state.zPa++;});this.Jz.on(h.events,"adBreakPresenting",function(){return k.state.TOa++;});this.Jz.on(f.events,"adEvent",n);this.Jz.on(f.events,"adBreakEvent",n);this.state={TOa:0,gga:{},zPa:0};}g.prototype.pj=function(h){h=h.rj;if(this.Df.vT() && h === l.pc.mj)return {presented:{breaks:this.state.TOa,ads:this.state.zPa},events:this.state.gga,logger:this.wna.bv()};};g.prototype.Ra=function(){this.Jz.clear();};return g;})();b.pxa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kxa=void 0;c=a(0);l=a(13);r=(function(){function g(h){this.yu=h;this.Foa={};this.events=new l.EventEmitter();}g.prototype.PVb=function(h,d){c.__awaiter(this,void 0,void 0,function(){var f,n,k,m;return c.__generator(this,function(p){switch(p.label){case 0:(this.Foa[d]=h,f=this.yu.Kp(d).vL,p.label=1);case 1:return (p.Wm.push([1,,3,4]),[4,this.yu.Jv({Tj:h,K:d})]);case 2:return ((n=p.cb()) && h === this.Foa[d] && (this.Foa={},k=n.fga,m=n.$ga,this.events.emit("adBreakHydrated",{type:"adBreakHydrated",Tj:h,fga:k,$ga:m})),[3,4]);case 3:return (f.release(),[7]);case 4:return [2];}});});};return g;})();b.kxa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.RJ=void 0;c=a(0);l=a(1102);g=a(181);b.RJ=function(h,d){var f,n,k;f=[function(m){return new (l.haa.bind.apply(l.haa,c.__spreadArray([void 0],c.__read(m.RTb),!1)))();}];if(h.lS){n=a(449).Pia;f.unshift(function(m,p){return n(m,p);});}if(h.UE){k=a(449).Pia;f.unshift(function(m,p){return k(m,p);});}return g.sO.p5({RTb:d},f);};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.haa=void 0;c=a(0);l=a(13);g=a(10);h=a(4);d=a(60);f=a(19);r=a(128);n=a(1103);k=a(127);m=a(1104);p=a(431);q=a(1127);v=a(1128);t=r.Av.vja;a=(function(w){function u(y,x,z){var A,B;B=w.call(this) || this;B.Y=y;B.$f=x;B.bq=z;B.gS=[];B.ye=void 0;B.aQ=new l.Af();B.Nz=void 0;B.Sz=void 0;B.gfa=void 0;B.aQ.on(B.Y,"underflow",B.ph.bind(B));B.PP=new q.BIa(y);B.aQ.on(B.Y,"skipped",B.jV.bind(B));B.aQ.on(B.Y,"playing",B.bra.bind(B));B.aQ.on(B.Y,"playbackEnding",B.ara.bind(B));B.Xw=new d.yP(B.PP,B.S,"player");B.Twa=new g.oD();y.mRa && y.Mf && (B.Ky=new v.eKa(B,y,B.S,null === (A=B.Fa) || void 0 === A?void 0:A.config));return B;}c.__extends(u,w);Object.defineProperties(u.prototype,{$k:{get:function(){var y;return null === (y=this.ye) || void 0 === y?void 0:y.$k;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aC:{get:function(){var y;return (null === (y=this.ye) || void 0 === y?void 0:y.aC) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ta:{get:function(){var y,x;return null !== (x=null === (y=this.ye) || void 0 === y?void 0:y.zq()) && void 0 !== x?x:[];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{d1a:{get:function(){return this.gfa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fa:{get:function(){var y;return null === (y=this.ye) || void 0 === y?void 0:y.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ta:{get:function(){return this.PP;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{PPa:{get:function(){var y,x;return !!((null === (y=this.ye) || void 0 === y?0:y.WG) && (null === (x=this.Nq) || void 0 === x?0:x.ij));},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{WG:{get:function(){var y,x;return null !== (x=null === (y=this.ye) || void 0 === y?void 0:y.WG) && void 0 !== x?x:!1;},enumerable:!1,configurable:!0}});u.prototype.bra=function(y){var x;this.gfa=this.Mk(null !== (x=y.hf) && void 0 !== x?x:this.Y.zd);(0,h.assert)(this.gfa,"Should have a location");};u.prototype.ara=function(y){var x;y=this.Mk(y.hf || this.Y.zd,!0);(0,h.assert)(y,"Playback ending at position outside playgraph");x=this.$K(y);(0,h.assert)(x,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:x,position:y});};u.prototype.f9a=function(y){-1 === this.gS.indexOf(y) && this.gS.push(y);this.ye && this.ye.eV(y);this.events.emit("drmReady",{viewableId:y});};u.prototype.e9a=function(y){y=this.gS.indexOf(y);-1 !== y && this.gS.splice(y,1);};u.prototype.IF=function(y){var x;return -1 !== this.gS.indexOf(y) || !(null === (x=(0,f.uc)(this.Ta,function(z){return z.Tn && z.pa.K === y;})) || void 0 === x || !x.pa.Su);};u.prototype.sC=function(y){var x;null === (x=this.ye) || void 0 === x?void 0:x.sC(y);};u.prototype.reset=function(){var y,x;this.Twa=new g.oD();w.prototype.reset.call(this);this.Sz=void 0;null === (y=this.ye) || void 0 === y?void 0:y.reset();null === (x=this.Ky) || void 0 === x?void 0:x.reset();};u.prototype.Bta=function(y){this.LM([y]);};u.prototype.LM=function(y){var x,z;x=this;y.forEach(function(A){var B;w.prototype.Bta.call(x,A);null === (B=x.Ky) || void 0 === B?void 0:B.LXb(A);});null === (z=this.ye) || void 0 === z?void 0:z.LM(y);};u.prototype.uA=function(){var y;null === (y=this.ye) || void 0 === y?void 0:y.uA();};u.prototype.pause=function(y){this.cH(y);w.prototype.pause.call(this,null !== y && void 0 !== y?y:this.$f);};u.prototype.resume=function(y){var x;null === (x=this.ye) || void 0 === x?void 0:x.resume(y);w.prototype.resume.call(this,null !== y && void 0 !== y?y:this.$f);};u.prototype.Ra=function(){this.Nz=this.V4()?this.Rn():void 0;this.ye && this.Dja(this.ye.Fa);this.PP.Ra();this.Xw.Ra();this.aQ.clear();w.prototype.Ra.call(this);};u.prototype.lF=function(){var y,x;if(null === (y=this.ye) || void 0 === y?0:y.cVb){y=this.Y.zd;if(this.ta.Li){if(this.Sz){if(this.Sz.greaterThan(y))return (y=this.Sz.wa(y),this.Twa.push(y.G),this.Sz);if(this.Ta.length){x=this.ye.WMb;if(x && x.lessThan(y))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Fc:{clockdrift:{type:"count"}}}),this.Sz);}}this.Sz=y;}return y;}return w.prototype.lF.call(this);};u.prototype.RK=function(){var y;y=this.Y.playbackRate;void 0 === y && (y=w.prototype.RK.call(this));return y;};u.prototype.V4=function(){return !!this.Nz || w.prototype.V4.call(this);};u.prototype.Rn=function(){return this.Nz?this.Nz:w.prototype.Rn.call(this);};u.prototype.pF=function(){var y;return null === (y=this.ye) || void 0 === y?void 0:y.PMb;};u.prototype.Dja=function(y){var x;(0,h.assert)(y === this.Fa);null === (x=this.ye) || void 0 === x?void 0:x.Ra();this.ye=void 0;};u.prototype.H1=function(y,x){var z,A;this.Nz=void 0;z=w.prototype.H1.call(this,y,x);if(z){A=new m.pya(y,this,this.S,y.config,this.bq,this.events,this.$f,this.Xw,this.Ky,this.Pz,this.Mz,this.Y_,null === x || void 0 === x?void 0:x.$k,null === x || void 0 === x?void 0:x.aC);null === x || void 0 === x?void 0:x.bM();this.ye=A;this.cH(this.hM);this.Ky && (x=y.Jy.RHb(n.zda),x || (x=new n.zda(),y.bf(x)),this.Ky.MWb(x));}return z;};u.prototype.bM=function(){var y;null === (y=this.ye) || void 0 === y?void 0:y.bM();};u.prototype.hka=function(){var z;for(var y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}z=this.ye;(0,h.assert)(z);y.forEach(function(A){return z.aCb(A);});};u.prototype.Yua=function(){var y;null === (y=this.ye) || void 0 === y?void 0:y.Yua();};u.prototype.Wh=function(y){var x,z,A;if(!this.ye)return !1;x=this.RS(y);if(!x)return !1;z=x.u;A=g.N.Na(this.bq.P6);return z.Ag.wa(A).lessThan(y) || !x.NJ(y)?!1:this.ye.Wh(y);};u.prototype.ph=function(){var y,x,z;if(null === (y=this.Fa) || void 0 === y?0:y.Zj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {z=this.Ed;(0,h.assert)(this.Fa);y=this.Mk(z,!0);(0,h.assert)(y);null === (x=this.ye) || void 0 === x?void 0:x.ph();x=this.RS(z);null === x || void 0 === x?void 0:x.pa.ph();this.Fa.ph(y);}};u.prototype.jV=function(){this.Sz=void 0;};u.prototype.vla=function(){var y;return null === (y=this.ye) || void 0 === y?void 0:y.vla();};u.prototype.cH=function(y){var x;null === (x=this.ye) || void 0 === x?void 0:x.cH(y);};u.prototype.$va=function(y){(0,h.assert)(this.Fa && this.ye);return w.prototype.$va.call(this,y);};u.prototype.i8=function(){(0,h.assert)(this.ye);this.ye.i8();};c.__decorate([t.return.yha(),t.return.Ul],u.prototype,"Rn",null);c.__decorate([t.return.yha(),t.return.k7],u.prototype,"pF",null);return u=c.__decorate([k.fF],u);})(p.cda);b.haa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zda=void 0;c=a(28);r=(function(){function l(){this.Wq=this.nd=l.nd;this.enabled=!0;this.lW=[];this.e8a=0;}l.prototype.Xpb=function(g){this.lW.push(g);5 < this.lW.length && this.lW.shift();};l.prototype.Ypb=function(){this.e8a++;};l.prototype.pj=function(g){var h;h=g.rj;g=g.DB;if((h === c.pc.Fj || h === c.pc.Zl || h === c.pc.mj || void 0 === h && void 0 === g) && this.lW.length)return {restarts:this.lW.map(function(d){return {s:d.i0b,d:d.Xzb,r:d.reason,atMs:d.YTb.G};}),restartsCompleted:this.e8a};};l.nd="seamlessManager";return l;})();b.zda=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.pya=void 0;c=a(0);l=a(13);g=a(1105);h=c.__importDefault(a(5));d=a(259);f=a(7);n=a(448);k=a(10);m=a(19);p=a(60);q=a(241);v=a(4);t=a(1125);w=a(1126);u=a(447);r=(function(){function y(x,z,A,B,C,D,E,G,F,H,K,O,I,P){var N;N=this;this.Fa=x;this.Y=z;this.S=A;this.W=B;this.bq=C;this.Rf=D;this.$f=E;this.he=G;this.Ky=F;this.Pz=H;this.Mz=K;this.Y_=O;this.V_=!1;this.OMa=new k.tKa();this.rfa=this.zRb.bind(this);this.ufa=this.bSb.bind(this);this.Rr=new d.OH(this.S);this.MQ=I || new w.Tda(this.S,x);this.$xb(P);this.Mj && (this.Vnb=this.tla(this.GHb()),this.Xmb=k.Cw.h5b(this.Mj.map(function(J){return J.Tq;}),function(J){return J.every(function(L){return L;});},function(J){return N.Pz.set(J);}),this.rlb=new q.vca(this.Mj.map(function(J){return J.P5;}),function(J){return k.N.min.apply(k.N,c.__spreadArray([],c.__read(J),!1));},function(J){N.Mz.set(J);},k.N.Na(-Infinity)));this.Jo=G.Ax(function(){return N.rsb();},"branchPruner");this.Jz=new l.Af();this.Jz.on(this.Rf,"segmentPresenting",function(){return c.__awaiter(N,void 0,void 0,function(){var J;return c.__generator(this,function(L){switch(L.label){case 0:return (this.Lmb=this.Y.Rn(),null !== (J=this.W.eQa) && void 0 !== J && J.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(L.cb(),this.Rf.emit("requestGarbageCollection",{time:h.default.time.Ca(),type:"requestGarbageCollection"}),L.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{$k:{get:function(){return this.MQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{aC:{get:function(){var x;x=new Map();this.Mj.forEach(function(z){x.set(z.mediaType,z.rM);});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{PMb:{get:function(){return this.Lmb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{WG:{get:function(){return this.Mj.every(function(x){return x.WG;});},enumerable:!1,configurable:!0}});y.prototype.rsb=function(){var x,z,A,B,C,D;return c.__generator(this,function(E){switch(E.label){case 0:if(!this.Rr.oSa)return [3,2];x=c.__read(this.Rr.lX(),1);z=x[0];A=z.u.f0a && (null === (D=this.bq.bN) || void 0 === D?void 0:D.G) || 0;B=z.W5 || z.Kb;C=B.add(k.N.Na(A + 1E3));return [4,p.yh.bz(C)];case 1:return (E.cb(),this.C6a(z),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{cVb:{get:function(){var x;return !(null === (x=this.Vnb) || void 0 === x || !x.Tq.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{WMb:{get:function(){return this.V_?k.N.max.apply(k.N,c.__spreadArray([],c.__read(this.Mj.map(function(x){var z;return null === (z=x.nrb) || void 0 === z?void 0:z.c1a;}).filter(m.e7)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.sC=function(x){this.Mj.forEach(function(z){z.sC(x);});};y.prototype.zRb=function(){var x;this.Jo.Mf();x=this.Mj.filter(function(z){return z.mLb;}).map(function(z){return z.mediaType;});this.cH(x);this.resume(x);};y.prototype.bSb=function(x){var z,A;x=x.mb;z=this.zq();A=z.indexOf(x);-1 === A || z.slice(0,A).some(function(B){return !B.ij;}) || (x=x.oq) && this.Y_.set(x);};y.prototype.aCb=function(x){(0,v.assert)(-1 === this.Rr.lX().indexOf(x),("Branch ").concat(x.u.id," is already in the collection, cannot re-queue"));x.events.on("branchEdited",this.rfa);x.events.on("requestComplete",this.ufa);this.Rr.enqueue(x);this.Jo.state === p.tk.complete && this.Jo.Mf();x.u.bX && this.Rr.mK();this.V_ || this.NDb(x);};y.prototype.eV=function(x){this.Mj.forEach(function(z){z.eV(x);});};y.prototype.reset=function(){this.Mj.forEach(function(x){x.reset();});this.V_=!1;this.OMa.removeAllListeners();this.uA();};y.prototype.Bta=function(x){this.LM([x]);};y.prototype.LM=function(x){var z;z=this;x.forEach(function(A){A=z.tla(A);null === A || void 0 === A?void 0:A.reset(!1,x);});};y.prototype.uA=function(){var x;x=this;this.Rr.lX().forEach(function(z){z.events.Xq("branchEdited",x.rfa);z.events.Xq("requestComplete",x.ufa);});this.Rr.clear();this.Jo.Mf();};y.prototype.i8=function(){var x;x=this;this.Rr.lX().filter(function(z){return z.rJ;}).forEach(function(z){return x.C6a(z);});};y.prototype.resume=function(x){this.Mj.forEach(function(z){void 0 !== x && -1 === x.indexOf(z.mediaType) || z.resume();});};y.prototype.cH=function(x){this.Mj.forEach(function(z){return (void 0 === x || -1 !== x.indexOf(z.mediaType)) && z.stop();});};y.prototype.Yua=function(){this.Mj.forEach(function(x){return x.N_b();});};y.prototype.ph=function(){this.S.trace("attached-player: onUnderflow");};y.prototype.$Hb=function(){return this.Rr.getIterator();};y.prototype.wGb=function(){return this.zq()[0];};y.prototype.zq=function(){return this.Rr.lX();};y.prototype.$xb=function(x){var z,A,B;z=this;this.ZI("createMediaSourceStart");if(this.bq.bma)A=this.bq.bma();else (A=new h.default.MediaSource(this.Y.Y),A.re || (A.re=h.default.MediaSource.re));if(1 !== A.readyState)this.gJ("exception in init","NFErr_MC_StreamingInitFailure");else {this.ZI("createMediaSourceEnd");this.zi=A;if(!A.xga(this.$f))throw (this.S.trace("Error:",A.error),this.gJ("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);B={};this.Fa.bf(new t.wza(B,this.W));this.Mj=A.sourceBuffers.filter(function(C){return 0 <= z.$f.indexOf(C.mediaType);}).map(function(C){var D,E,G,F;E=new n.Uya(C.mediaType,A,C,z.W,!0,{lp:function(){return z.Y.Ed.G;},IF:function(H){return z.Y.IF(H.K);}},z.he);E.addListener("error",function(H){return z.gJ(H.errorstr);});E.addListener("logdata",function(H){return z.Rf.emit("logdata",H);});E.addListener("managerdebugevent",function(H){z.Rf.emit("managerdebugevent",H);});G=null === x || void 0 === x?void 0:x.get(C.mediaType);F=new g.aya(E,C.mediaType,z,z.W,z.S,z.Y,z.bq,z.he,z.$k,z.Ky,G);if(C.mediaType === f.v.Z)F.on("drmNeeded",function(H){return z.Rf.emit("drmNeeded",H);});G || (null === (D=F.rM) || void 0 === D?void 0:D.aqb(new u.Gaa(B[C.mediaType]={},z.S,z.Y,E,z.Y.events,z.bq,z.he)));return F;});}};y.prototype.C6a=function(x){var z;(0,v.assert)(x.rJ,"Attempted to prune branch that has not been fully appended");this.Rr.remove(x);x.events.removeListener("branchEdited",this.rfa);x.events.removeListener("requestComplete",this.ufa);x.Gf("pruned");(null === (z=this.W.eQa) || void 0 === z?0:z.branchPruned) && this.Rf.emit("requestGarbageCollection",{time:h.default.time.Ca(),type:"requestGarbageCollection"});};y.prototype.Ra=function(){this.Xmb.clear();this.rlb.clear();this.Mj.forEach(function(x){return x.Ra();});this.bq.bma || this.zi.ys();this.uA();this.Jo.Ra();this.Jz.clear();};y.prototype.Wh=function(x){return this.Mj.every(function(z){return z.Wh(x);});};y.prototype.bM=function(){this.Mj.forEach(function(x){return x.WSa();});this.MQ=new w.Tda(this.S,this.Fa);};y.prototype.vla=function(){return {SVb:this.zq(),QTb:this.Mj};};y.prototype.NDb=function(x){var z;z=this;this.V_=!0;x.Od.forEach(function(A){var B;B=z.tla(A.mediaType);if(void 0 !== B)z.OMa.once(A.Zka,function(C){return B.PDb(C);});});if(x.La)this.PUa();else x.events.once("branchNormalized",function(){return z.PUa();});};y.prototype.PUa=function(){var x;x=this.wGb();x && ((0,v.assert)(x.Bb),this.Rf.emit("ptsChanged",{initialTimestamp:x.Bb,forcedTimestamp:void 0}));};y.prototype.tla=function(x){return (0,m.uc)(this.Mj,function(z){return z.mediaType === x;});};y.prototype.GHb=function(){return -1 !== this.$f.indexOf(f.v.Z)?f.v.Z:f.v.ga;};y.prototype.ZI=function(x){x={type:"startEvent",event:x,time:h.default.time.Ca()};this.Rf.emit(x.type,x);};y.prototype.gJ=function(x,z){this.Fa.yf(x,void 0,z);};return y;})();b.pya=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.aya=void 0;c=a(0);r=a(13);l=a(9);g=c.__importDefault(a(5));h=a(10);d=a(1106);f=a(145);n=a(1107);k=a(21);m=a(1110);p=a(1111);q=a(1112);v=a(4);t=a(1113);a=(function(w){function u(){var y;y=null !== w && w.apply(this,arguments) || this;y.kOa=0;y.Dfa=0;y.$_=0;y.sea=0;return y;}c.__extends(u,w);u.prototype.rta=function(y){var x,z,A,B;w.prototype.rta.call(this,y);this.kOa++;this.Dfa++;this.GOa=g.default.time.Ca();this.OI || (this.OI={vvb:null === (x=y.Wa) || void 0 === x?void 0:x.G,x2:null === (z=y.La) || void 0 === z?void 0:z.G,index:y.index},this.n0 || (this.n0=this.OI));x=this.B0;z=!1;x && 100 > Math.abs(x.Kb.G - (null === (A=y.Bb) || void 0 === A?NaN:A.G)) && (this.$_+=y.Kb.G - x.Kb.G,this.sea++,z=!0);z || (this.$_=null === (B=y.Fd) || void 0 === B?void 0:B.G,this.sea=1);this.B0=y;};u.prototype.stop=function(){w.prototype.stop.call(this);this.Dfa=0;this.OI=void 0;};u.prototype.PXa=function(){var y,x,z,A,B;x=this.ds;z=x.K2;if(z){B=z.Ze(this.mf);B && B.Ic && (A=B.Ic.CYa());return {RM:A,currentBranch:{sId:z.u && z.u.id,cancelled:z.Uf},currentReceivedCount:x && x.Cyb,totalReceivedCount:this.kOa,currentState:x && x.vTa || "Uninitialized",lastRequestPushed:this.B0 && ({contentEndPts:null === (y=this.B0.Wa) || void 0 === y?void 0:y.G,fragmentIndex:this.B0.index}),tslp:this.GOa && g.default.time.Ca() - this.GOa,cpts:this.$_,crq:this.sea,rslp:this.Dfa,firstRequestSSPushed:this.OI && ({contentStartPts:this.OI.x2,fragmentIndex:this.OI.index}),firstRequestPushed:this.n0 && ({contentStartPts:this.n0.x2,fragmentIndex:this.n0.index})};}};return u;})((function(w){function u(y,x,z,A,B,C,D,E,G,F,H){var K;K=w.call(this) || this;K.gg=y;K.mf=x;K.W=A;K.S=B;K.Y=C;K.Vra=D;K.he=E;K.$k=G;K.Pz=new h.Cw(!1);K.Mz=new h.Cw(k.N.Na(-Infinity));K.S=(0,h.gi)(g.default,K.S,("AsePlayerBuffer [").concat(x,"]:"));K.ds=new d.Oya(K.S,z,x);K.resume();C && D && E && (H?(K.rM=H,H.Ou(C,E,K.gg)):K.WSa(),y=new m.GBa(null === C || void 0 === C?void 0:C.he,k.N.Na(K.W.O6),B),K.ds.n1(y),K.W.OPa && (C=new p.YGa(null === C || void 0 === C?void 0:C.he,K.W.OPa,k.N.Na(K.W.Iqb),B),K.ds.n1(C)),F && (K.rOa=new q.fKa(F,K.mediaType,B),K.ds.n1(K.rOa)),l.I && K.W.vBb && (B=new t.nEa(B),K.ds.n1(B)));K.gg.on("requestAppended",function(O){K.Pz.set(!0);O.request.Kb && K.Mz.set(O.request.Kb);K.emit("requestAppended");});return K;}c.__extends(u,w);Object.defineProperties(u.prototype,{Tq:{get:function(){return this.Pz;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{P5:{get:function(){return this.Mz;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mLb:{get:function(){return this.ds.Li;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{WG:{get:function(){return this.gg.endOfStream;},enumerable:!1,configurable:!0}});u.prototype.WSa=function(){(0,v.assert)(this.Y && this.Vra && this.he,"Player should be defined");this.rM=new n.nJa(this.mf,this.S,this.Y,this.gg,this.Y.events,this.Vra,this.he,this.$k);};Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.mf;},enumerable:!1,configurable:!0}});u.prototype.PXa=function(){};u.prototype.resume=function(){l.I && this.S.trace("resume");this.i$a();};Object.defineProperties(u.prototype,{nrb:{get:function(){return this.CI;},enumerable:!1,configurable:!0}});u.prototype.N_b=function(){this.gg.h7(!0);};u.prototype.reset=function(y,x){var z,A,B;void 0 === y && (y=!1);l.I && this.S.trace("reset");this.stop();this.gg.reset(y);this.Pz.set(!1);this.Mz.set(k.N.Na(-Infinity));y || (this.CI=void 0,null === (z=this.rM) || void 0 === z?void 0:z.reset(),y=null === (A=this.Y) || void 0 === A?void 0:A.$f,null === (B=this.rOa) || void 0 === B?void 0:B.PRb(y,null !== x && void 0 !== x?x:y));};u.prototype.Mf=function(y){void 0 === y && (y=!1);l.I && this.S.trace("restart");this.reset(y);this.i$a(!0);};u.prototype.stop=function(){l.I && this.S.trace("stop");this.ds.s$a();};u.prototype.close=function(){var y;l.I && this.S.trace("start");null === (y=this.rM) || void 0 === y?void 0:y.close();};u.prototype.Ra=function(){this.stop();this.close();};u.prototype.eV=function(){this.W.ela && this.gg.ZDb();this.gg.j3();};u.prototype.sC=function(y){this.gg.sC(y);};u.prototype.PDb=function(y){this.gg.IQb(y);};u.prototype.Wh=function(y){var x;return !(null === (x=this.rM) || void 0 === x || !x.Wh(y));};u.prototype.i$a=function(y){if(!this.ds.Li || y)(this.ds.WXb(),f.AsyncIterator.sMb(this.ds,this.uMb.bind(this)));};u.prototype.uMb=function(y){y.done || this.rta(y.value);};u.prototype.rta=function(y){var x,z,A,B,C,D,E,G;l.I && this.S.trace(("requestReceived: ").concat(null === (x=this.ds.K2) || void 0 === x?void 0:x.u.id) + (" ").concat(y.toString(),", edit: ").concat(JSON.stringify(y.Ga)));this.gg.endOfStream?l.I && this.S.error("Buffer manager has declared EOS, ignoring request",y.toString()):(this.CI?(this.CI.MMb=null === (D=y.Wa) || void 0 === D?void 0:D.G,this.CI.OMb=null === (E=y.Kb) || void 0 === E?void 0:E.G,this.CI.c1a=y.Kb):this.CI={acc:null === (z=y.La) || void 0 === z?void 0:z.G,bcc:null === (A=y.Bb) || void 0 === A?void 0:A.G,MMb:null === (B=y.Wa) || void 0 === B?void 0:B.G,OMb:null === (C=y.Kb) || void 0 === C?void 0:C.G,c1a:y.Kb},y.Gs && y.stream.track.Cl && (null === (G=this.Y) || void 0 === G || !G.IF(y.pa.K)) && this.emit("drmNeeded",{K:y.pa.K,jo:y.Bb}),this.gg.mrb(y));};return u;})(r.EventEmitter));b.aya=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Oya=void 0;c=a(0);l=a(145);g=a(9);r=(function(){function h(d,f,n){this.S=d;this.plb=f;this.mf=n;this.e0=0;this.z0=!1;this.JP=[];this.BD=void 0;g.I && d.trace(("BranchRequestIterator [").concat(this.mf,"]: created"));}Object.defineProperties(h.prototype,{Cyb:{get:function(){return this.e0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{K2:{get:function(){return this.BMa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Li:{get:function(){return this.z0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vTa:{get:function(){return this.vk?this.vk.Yx?"Complete":this.vk.Asa?"WaitingForBranch":void 0 !== this.BD && 0 !== this.BD?("In Policy ").concat(this.JP[this.BD].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.rNa);},enumerable:!1,configurable:!0}});h.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,n,k;return c.__generator(this,function(m){switch(m.label){case 0:d=this.vk;if(!d)return [3,6];this.BD=void 0;return [4,d.next()];case 1:(f=m.cb(),n=0,m.label=2);case 2:if(!(n < this.JP.length))return [3,5];this.BD=n;k=this.JP[n];return [4,k.process(f)];case 3:(f=m.cb(),m.label=4);case 4:return (n++,[3,2]);case 5:this.BD=void 0;if(f.done || this.vk !== d)return [2,{done:!0}];this.e0++;f.value.ROa();return [2,{done:!1,value:f.value.value}];case 6:return [2,l.AsyncIterator.Gma()];}});});};h.prototype.WXb=function(){this.s$a();this.lWb();};h.prototype.s$a=function(){var d;if(this.vk){this.rNa=this.vTa;d=this.vk;d && d.jh();this.JP.forEach(function(f){return f.reset();});d && g.I && this.S.trace(("BranchRequestIterator [").concat(this.mf,"]: Disposing iterator that was on branch "),this.K2 && this.K2.u.id);this.z0=!1;this.BD=this.vk=void 0;}};h.prototype.n1=function(d){this.JP.push(d);};h.prototype.lWb=function(){var d,f,n,k;d=this;if(!this.z0){f=this.S;n=this.plb;k=this.mf;this.e0=0;this.rNa=this.BMa=void 0;this.vk=(0,l.flatten)((0,l.map)(n.$Hb(),function(m){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.BMa=m,this.e0=0,g.I && f.trace(("BranchRequestIterator [").concat(this.mf,"]: new branch ").concat(m.u.id)),[4,m.WA(k)]);case 1:if(p=q.cb())return [2,{value:p}];g.I && f.error(("BranchRequestIterator [").concat(this.mf,"]: skipping branch ").concat(m.u.id));return [2,{value:[]}];}});});},f),f);this.z0=!0;}};return h;})();b.Oya=r;},function(r,b,a){var c,l,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.nJa=void 0;c=a(0);l=a(7);g=a(19);h=a(1108);d=a(1109);r=(function(){function f(n,k,m,p,q,v,t,w){this.mediaType=n;this.console=k;this.xb=m;this.w1=p;this.In=q;this.Vra=v;this.Bd=t;this.$z=[];this.mediaType === l.v.Z && this.$z.push(new d.pKa(n,k,m,p,q,v,t,w,2));this.$z.push(new h.QKa(n,k,m,p,q,v,t,"stream",1,null === w || void 0 === w?void 0:w.$Za()));}f.prototype.Ou=function(n,k,m){this.xb=n;this.Bd=k;this.w1=m;this.xH.forEach(function(p){return p.Ou(n,k,m);});};f.prototype.aqb=function(n){this.$z.push(n);};f.prototype.EDb=function(n){return (0,g.uc)(this.$z,function(k){return k instanceof n;});};f.prototype.reset=function(){this.$z.forEach(function(n){return n.reset();});};f.prototype.close=function(){this.$z.forEach(function(n){return n.close();});};f.prototype.Wh=function(n){return c.__read(this.$z,1)[0].Wh(n);};Object.defineProperties(f.prototype,{xH:{get:function(){return this.$z;},enumerable:!1,configurable:!0}});return f;})();b.nJa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QKa=void 0;c=a(0);l=a(9);g=a(4);r=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.Tq=function(f){var n,k,m;n=f.stream;k=f.Bb;m=f.Kb;f=f.La;(0,g.assert)(void 0 !== k,"playerStartTimestamp undefined at media append");(0,g.assert)(void 0 !== f,"contentStartTimestamp undefined at media append");this.qga({stream:n,La:f},k,m) && l.I && this.trace(("stream ").concat(n.id,", ").concat(n.bitrate,"kbit/s @ ").concat(k.G,"ms"));};d.prototype.I5=function(f,n){return f.stream === n.stream;};d.prototype.Zja=function(f,n){var k,m,p,q;p=f.vr.stream;q=this.xb.Mk(n);(0,g.assert)(void 0 !== q);l.I && this.trace(("emitStreamPresentingEvent @ ").concat(f.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:n,position:q,trackIndex:null === (k=null === p || void 0 === p?void 0:p.track) || void 0 === k?void 0:k.cE,streamIndex:null === p || void 0 === p?void 0:p.zt,stream:p,manifest:null === (m=p.pa) || void 0 === m?void 0:m.X,contentStartTimestamp:f.vr.La});};d.prototype.J5=function(f){return ("").concat(f.stream.Wb,"@").concat(f.La.ob());};return d;})(a(261).i_);b.QKa=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.pKa=void 0;c=a(0);l=a(9);g=a(4);h=a(10);r=(function(d){function f(n,k,m,p,q,v,t,w,u){n=d.call(this,n,k,m,p,q,v,t,"segment",u,null === w || void 0 === w?void 0:w.$Za()) || this;n.$k=w;return n;}c.__extends(f,d);f.prototype.Tq=function(n){var k,m,p,q,v,t,w,u,y;q=n.Bb;v=n.Kb;t=n.La;w=n.bitrate;u=n.zb;(0,g.assert)(void 0 !== q);y=null === (k=this.xb.Mk(q)) || void 0 === k?void 0:k.J;(0,g.assert)(void 0 !== y);this.U5=n={J:y,QDb:n.Gs,La:t,lcb:w,zb:u,aVb:null === (m=this.U5) || void 0 === m?void 0:m.lcb,bVb:null === (p=this.U5) || void 0 === p?void 0:p.zb};this.qga(n,q,v) && l.I && this.trace(("segment ").concat(y," @ ").concat(q.G,"ms"));};f.prototype.I5=function(n,k){return n.J === k.J && !k.QDb;};f.prototype.Zja=function(n,k,m){var p,q,v,t,w,u;p=n.vr;q=p.J;v=p.lcb;t=p.aVb;w=p.zb;p=p.bVb;u=this.xb.Mk(k);(0,g.assert)(void 0 !== u);l.I && this.trace(("emitSegmentPresentingEvent @ ").concat(n.timestamp.G,"ms for segment ").concat(q));u.J !== q && (l.I && this.console.warn("player position:",u,"not equal to trackedElement:",q),u={J:q,offset:h.N.Ia});n={type:"segmentPresenting",playerTimestamp:k,position:u,seek:m};if(this.$k){if(q=this.$k.cma(q))(q.destvbitrate=v,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);n.metrics=q;}l.I && this.trace(("segmentPresenting: ").concat(JSON.stringify(n)));this.events.emit(n.type,n);};f.prototype.reset=function(){d.prototype.reset.call(this);this.U5=void 0;};f.prototype.close=function(){d.prototype.close.call(this);this.U5=void 0;};f.prototype.J5=function(n){return n.J;};return f;})(a(261).i_);b.pKa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GBa=void 0;c=a(0);l=a(9);g=a(60);r=(function(){function h(d,f,n){this.Bd=d;this.FPb=f;this.S=n;}Object.defineProperties(h.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});h.prototype.waitUntil=function(d){var f;d=(0,g.B$)(this.Bd,d,!0);f=d.promise;this.Xob=d.mk;return f;};h.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,n;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.ala)return [3,2];n=f.Bb.wa(this.FPb);l.I && this.S.trace(("[").concat(f.mediaType,"] JIT: waiting until playertime >= ").concat(n.G),("to append next request ").concat(f.toString()));return [4,this.waitUntil(n)];case 1:(k.cb(),l.I && this.S.trace(("[").concat(f.mediaType,"] JIT: now appending request ").concat(f.toString())),k.label=2);case 2:return [2,d];}});});};h.prototype.reset=function(){var d;null === (d=this.Xob) || void 0 === d?void 0:d.Ra();};return h;})();b.GBa=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.YGa=void 0;c=a(0);l=a(9);g=a(4);h=a(60);r=(function(){function d(f,n,k,m){var p;p=this;this.Bd=f;this.NSb=n;this.rra=k;this.S=m;f.ta.on("stopStart",function(){return p.Nub();});l.I && this.S.trace(("PacingThrottler: pacingFactory=").concat(n,", pacingThreshold=").concat(k.ob()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.Nub=function(){var f,n;n=this.Bd.ta;this.MJ=n.Li?n.currentTime:void 0;this.fR=this.GS=void 0;l.I && this.S.trace(("PacingThrottler: clock reset ").concat(null === (f=this.MJ) || void 0 === f?void 0:f.G));};d.prototype.waitUntil=function(f){var n;f=(0,h.B$)(this.Bd,f,!0);n=f.promise;this.b5b=f.mk;return n;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var n,k,m,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];n=f.value.value;(0,g.assert)(n.Bb);k=this.Bd.ta;if(!this.GS || !this.fR)return [3,10];if(!this.fR.greaterThan(this.rra))return [3,8];if(!this.MJ)return [3,5];m=n.Bb.wa(this.MJ).wa(this.rra);p=this.MJ.add(m.Ii(this.NSb));if(!p.lessThan(n.Bb))return [3,3];if(!p.greaterThan(k.currentTime))return [3,2];l.I && this.S.trace(("PacingThrottler: waiting until ").concat(p.ob()," for mediaRequest @") + ("").concat(n.Bb.ob(),", ") + ("current time ").concat(k.currentTime.ob(),", ") + ("clock start time ").concat(this.MJ.ob(),", ") + ("distance ").concat(m.ob()));return [4,this.waitUntil(p)];case 1:(q.cb(),q.label=2);case 2:return [3,4];case 3:(l.I && this.S.warn("PacingThrottler: invalid schedule time " + ("").concat(p.ob()," for mediaRequest ") + ("@").concat(n.Bb.ob(),", ") + ("current time ").concat(k.currentTime.ob(),", ") + ("clock start time ").concat(this.MJ.ob(),", ") + ("distance ").concat(m.ob())),q.label=4);case 4:return [3,7];case 5:m=n.Bb.wa(this.GS);if(!m.greaterThan(this.rra))return [3,7];l.I && this.S.trace(("PacingThrottler: (buffering) waiting until ").concat(this.GS.G,"ms") + (" for mediaRequest @").concat(n.Bb.G,"ms, ") + ("current time ").concat(k.currentTime.G));return [4,this.waitUntil(this.GS)];case 6:(q.cb(),q.label=7);case 7:return [3,9];case 8:(this.fR=this.fR.add(n.Fd),q.label=9);case 9:return [3,11];case 10:(this.GS=n.Bb,this.fR=n.Fd,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.b5b) || void 0 === f?void 0:f.Ra();};return d;})();b.YGa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;c=a(0);l=a(9);r=(function(){function g(h,d,f){this.Ky=h;this.mf=d;this.S=f;this.y0=!0;}Object.defineProperties(g.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});g.prototype.process=function(h){var d,f,n,k;return c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(p){switch(p.label){case 0:if(h.done)return [3,3];m=h.value.value;if(!this.cq || !m.Gs || m.stream.pa === this.cq.stream.pa || this.cq.Bb === m.Bb && this.cq.yXb === m.index)return [3,2];l.I && this.S.trace(("Seamless Throttler: Waiting on request [").concat(m.mediaType,"]"),m.index,"in",null === (d=m.Ic) || void 0 === d?void 0:d.mb.u.id);return [4,this.Ky.c5b({mediaType:m.mediaType,hWa:this.y0,to:{stream:m.stream,J:null === (f=m.Ic) || void 0 === f?void 0:f.mb.u.id},from:{stream:this.cq.stream,J:this.cq.J},timestamp:m.Bb,dVb:null === (n=this.cq) || void 0 === n?void 0:n.Bb})];case 1:(p.cb(),p.label=2);case 2:(this.y0=!1,this.cq={yXb:m.index,stream:m.stream,Bb:m.Bb,J:null === (k=m.Ic) || void 0 === k?void 0:k.mb.u.id},p.label=3);case 3:return [2,h];}});});};g.prototype.PRb=function(h,d){void 0 === h && (h=[]);void 0 === d && (d=[]);l.I && this.S.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.y0 || (this.y0=-1 !== d.indexOf(this.mf));(null === h || void 0 === h?0:h.length) && h.length !== d.length && (this.cq=void 0);};g.prototype.reset=function(){};return g;})();b.fKa=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nEa=void 0;c=a(0);l=a(75);g=a(426);h=a(10);r=(function(){function d(f){this.S=f;}Object.defineProperties(d.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});d.prototype.process=function(f){var n;return c.__awaiter(this,void 0,void 0,function(){var k,m,p,q,v,t,w,u,y,x,z,A,B,C,D;return c.__generator(this,function(){f.done || (m=k=f.value.value,p=null !== (n=k.response) && void 0 !== n?n:this.MLb(m)?m.VXb()[0]:void 0,p instanceof ArrayBuffer && (q=new l.Mr(this.S,k.stream,p,["moof"],!0,{zra:!0}),v=q.parse(),v.dt && (t=q.Ln("moof"),w=t.Ln("traf"),u=w.Ln("trun"),y=w.Ln("tfdt"),x=k.stream.Qn().c8,z=u.gd,A=y.oE,B=v.Ma.T,C=new h.N(A,B),D=this.cq?C.wa(this.cq.bsb):void 0,this.S.trace(("Live Request Logger: processing request [").concat(k.mediaType,"]"),{baseMediaDecodeTime:A,timescale:B,baseMediaDecodeMs:C.G,ptsOffsetMs:x.G,mediaTimestampMs:C.wa(x).G,offsetFromPriorMs:null === D || void 0 === D?void 0:D.G,sampleCount:z,url:k.url}),this.cq={bsb:C})));return [2,f];});});};d.prototype.MLb=function(f){return f instanceof g.daa;};d.prototype.reset=function(){this.cq=void 0;};return d;})();b.nEa=r;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.IFa=void 0;c=a(7);l=a(21);g=a(4);h=a(1115);d=a(1116);f=a(1117);n=a(1118);k=a(1119);m=a(1120);p=a(1121);q=a(1122);v=a(1123);t=a(1124);r=(function(){function w(u,y,x,z){this.config=u;this.mediaType=y;this.re=x;this.console=z;}w.prototype.append=function(u,y){var x,z,A,B,C,D,E;void 0 === this.track?this.Qna(u.stream):this.track !== u.stream.track && ((0,g.assert)(this.track.ba),(0,g.assert)(u.stream.track.ba),this.track=u.stream.track);(0,g.assert)(void 0 !== this.cp);C={ka:u,offset:null !== (x=u.Fsa) && void 0 !== x?x:l.N.Ia,jf:this.config.SM,Xh:!1};C=this.cp.reduce(function(G,F){return F.append(G,y);},C);D=C.ka;x=C.offset;E=C.Xh;C=C.fi;C=void 0 === C?[]:C;D.Ga && ((0,g.assert)(u.Ga,"Fragments must be marked for edit at request time"),u.mi(D.Ga));if(E || !this.O2a)return {offset:x,Xh:E};u=this.O2a.Ga(u,!(null === (B=null === (A=null === (z=u.Ic) || void 0 === z?void 0:z.mb.u) || void 0 === A?void 0:A.u) || void 0 === B || !B.Kn));z=u.ia;A=u.fi;B=u.response;Array.prototype.push.apply(C,void 0 === A?[]:A);return {offset:x,Xh:!z,fi:C,response:B};};w.prototype.reset=function(){this.cp=this.track=void 0;};w.prototype.Qna=function(u){var y,x;this.track=u.track;this.O2a=new v.uFa(this.console,this.config,this.mediaType,u.profile);this.cp=[];if(this.mediaType === c.v.ga){this.config.SM && this.cp.push(new f.dKa(this.config,u.track,this.console));x=this.Pha(u);x.equal(l.N.Ia)?this.config.pm && u.Lf && this.Una(u.pa.K) && this.cp.push(new m.IDa(this.config)):this.cp.push(new h.lda(x));this.config.B6 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(x.ob(),", ") + ("").concat(null === (y=u.Lf) || void 0 === y?void 0:y.ob())),this.cp.push(new n.eGa(this.config,u,this.console)));this.SLb()?(this.config.Rk || this.cp.push(new p.qya(u,this.config,this.re,this.console)),this.config.SM && this.cp.push(new t.kaa(this.console)),this.cp.push(new d.pGa(this.config,u,this.console)),this.G_b(u) && ((0,g.assert)(u.ba),this.cp.push(this.uvb(u.Lf || l.N.Ia,u.ba,x)))):(this.cp.push(new q.rya(this.console)),this.config.SM && this.cp.push(new t.kaa(this.console)));}};w.prototype.Una=function(u){return this.config.Una || this.config.G_a && -1 !== this.config.G_a.indexOf(u);};w.prototype.Pha=function(u){return h.lda.Pha(this.config,u.Lf,this.re,this.console);};w.prototype.SLb=function(){return !this.config.JM;};w.prototype.G_b=function(u){return this.config.P2b && this.config.pm && !!u.Lf;};w.prototype.uvb=function(u,y,x){return new k.CLa(u.wa(x),y,this.console);};return w;})();b.IFa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lda=void 0;c=a(21);l=a(9);r=(function(){function g(h){this.Lf=h;}g.Pha=function(h,d,f,n){var k;k=c.N.Ia;d && (f=null === f || void 0 === f?void 0:f.wbc,h.h4b && void 0 !== f && 0 <= f?(h=new c.N(f,48E3),k=d.add(h),l.I && n.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(h) + (" for ASE applied offset of ").concat(k,"."))):h.gR && (k=d));return k;};g.prototype.append=function(h){var d,f,n;d=h.jf;f=h.Xh;n=h.fi;return {ka:h.ka,offset:h.offset.add(this.Lf),jf:d,Xh:f,fi:n};};return g;})();b.lda=r;},function(r,b,a){var l,g,h,d;function c(f){return ("").concat(f.toString()," (nrdp: ").concat(f.KG,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.pGa=void 0;l=a(21);g=a(448);h=a(9);d=a(4);r=(function(){function f(n,k,m){this.console=m;this.offset=l.N.Ia;this.Lf=n.pm?k.Lf:void 0;(0,d.assert)(k.ba);this.ba=k.ba;}f.prototype.append=function(n){var k,m,p,q;if(n.Xh)return n;k=n.ka;m=n.offset;p=n.jf;q=n.fi;void 0 !== this.Z0a && ((0,d.assert)(void 0 !== this.Eoa),k.La.add(n.offset).equal(this.Z0a)?(n=this.ntb(k,m.add(this.offset)).G - this.Eoa,0 > n?this.offset=this.offset.add(l.N.qy):0 === n?this.offset.lessThan(l.N.Ia) && (this.offset=this.offset.add(l.N.qy)):1 === n?this.offset.greaterThan(l.N.Ia) && (this.offset=this.offset.wa(l.N.qy)):this.offset=this.offset.wa(l.N.qy)):this.offset=l.N.Ia);this.Eoa=this.mtb(k,m.add(this.offset)).G;this.Z0a=k.Wa.add(m);return {ka:k,offset:m.add(this.offset),jf:p,Xh:!1,fi:q};};f.prototype.ntb=function(n,k){var m,p;n=this.wPa(n.La);m=(0,g.Ys)(n).add((0,g.Ys)(k));p=n.add(k).wa(m);h.I && this.console.trace("NrdpRounding: content start " + c(n) + ", timestamp offset: " + c(k) + ", start rounding error: " + (0,g.Ys)(n).toString() + ", offset rounding error: " + (0,g.Ys)(k).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.ob() + ", (" + n.KG + k.KG + "ms), last fragment end nrdp: " + this.Eoa);return p;};f.prototype.mtb=function(n,k){var m,p,q;m=this.ba;n=this.wPa(n.Wa);p=(0,g.Ys)(n.wa(m)).add((0,g.Ys)(m)).add((0,g.Ys)(k));q=n.add(k).wa(p);h.I && this.console.trace("NrdpRounding: content end: start of last frame:" + c(n.wa(m)) + ", frame duration: " + c(m) + ", offset: " + c(k) + ", timestamp rounding error: " + (0,g.Ys)(n.wa(m)).toString() + ", frame duration rouding error: " + (0,g.Ys)(m).toString() + ", offset rounding error: " + (0,g.Ys)(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.ob() + ", (" + n.wa(m).KG + m.KG + k.KG + "ms)");return q;};f.prototype.wPa=function(n){return this.Lf?n.wa(this.Lf):n;};return f;})();b.pGa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=void 0;c=a(21);l=a(4);g=a(9);r=(function(){function h(d,f,n){this.config=d;this.console=n;this.Pu=c.N.Ia;(0,l.assert)(f.ba);this.ba=f.ba;f=f.Ug[0].profile;this.N6=this.$Gb(f,this.ba);this.t6=this.VGb(f,this.ba);this.T4=-1 !== d.nQa.indexOf(f);}h.prototype.append=function(d,f){var n,k,m,p,q;if(d.Xh)return d;n=d.ka;k=d.offset;m=d.fi;m=void 0 === m?[]:m;d=d.jf;p=f.LL;f=f.wqa;if(this.Gra){q=this.XPb(n,this.Gra);n.Ga && !this.T4 && this.kha(q)?(g.I && this.console.trace("SeamlessAudio: dropping first frame"),n.Sja(1),this.Pu=q):(this.Pu=q.add(this.ba),this.vQa(this.Pu) || (g.I && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + n.Bb.ob() + " error would be " + this.Pu.ob() + " (editing " + (n.Ga?"":"not ") + "allowed)"),m.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:n.Wb,pts:n.La.G}}}}),this.Pu=c.N.Ia,d=!1));this.Gra=void 0;}if(n.Fk || n.Ts)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!n.Ga || !f && n.Ts || (q=this.YPb(n,p,f),f && this.T4 && q.$h(this.ba)?(g.I && this.console.trace("SeamlessAudio: dropping last two frames"),n.k3(2)):q.$h(c.N.Ia) && (g.I && this.console.trace("SeamlessAudio: dropping last frame"),n.k3(1))),this.Gra=p);(0,l.assert)(this.vQa(this.Pu));this.tL=n.Kb;return {ka:n,offset:k.add(this.Pu),jf:d,Xh:0 === n.oYb,fi:m.length?m:void 0};};h.prototype.YPb=function(d,f,n){var k;if(n)k=this.Pu.add(d.Kb.wa(n)).wa(this.ba);else (k=d.Kb.wa(f),k=this.Pu.add(k).wa(this.ba));g.I && this.console.trace("SeamlessAudio: fragment end: " + d.Kb.ob() + ", splice " + f.ob() + ", next start " + (null === n || void 0 === n?void 0:n.ob()) + ", error " + k.add(this.ba).ob() + ", error with frame drop " + k.ob() + ", is" + (this.kha(k)?"":" not") + " within bounds of [" + this.N6.ob() + " and " + this.t6.ob() + ")");return k;};h.prototype.XPb=function(d,f){var n;(0,l.assert)(this.tL);n=this.Pu.add(this.tL.wa(d.Bb)).wa(this.ba);g.I && this.console.trace("SeamlessAudio: fragment start: " + d.Bb.ob() + ", splice " + f.ob() + ", last fragment end: " + this.tL.ob() + ", error " + n.add(this.ba).ob() + ", error with frame drop " + n.ob() + ", is" + (this.kha(n)?"":" not") + " within bounds of [" + this.N6.ob() + " and " + this.t6.ob() + ")");return n;};h.prototype.kha=function(d){return d.lessThan(this.t6) && d.$h(this.N6);};h.prototype.vQa=function(d){return d.lessThan(this.t6.add(c.N.qy)) && d.$h(this.N6.wa(c.N.qy));};h.prototype.VGb=function(d,f){return "object" === typeof this.config.eua && void 0 !== this.config.eua[d]?(d=new c.N(this.config.eua[d],1E3).Nd(f.T).add(new c.N(1,f.T)),c.N.min(f,d)):f;};h.prototype.$Gb=function(d,f){var n;if("object" === typeof this.config.fua && void 0 !== this.config.fua[d]){n=f.Ii(-2);d=new c.N(this.config.fua[d],1E3).Nd(f.T).wa(new c.N(1,f.T));return c.N.max(n,d);}return new c.N(-12,1E3);};return h;})();b.dKa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eGa=void 0;c=a(21);l=a(4);g=a(9);r=(function(){function h(d,f,n){var k;this.console=n;this.gW=!1;(0,l.assert)(f.ba,"NegativePtsGuard: stream.frameDuration must exist.");this.ba=f.ba;this.pm=d.pm;this.Lf=null !== (k=f.Lf) && void 0 !== k?k:c.N.Ia;}h.prototype.append=function(d){var f,n,k,m,p;if(this.gW || d.Xh)return d;f=d.ka;n=d.offset;k=d.jf;d=d.fi;if(f.Ga){m=f.La.wa(this.pm?this.Lf:c.N.Ia).add(n);if(m.lessThan(c.N.Ia)){p=Math.ceil(m.uv(-1).Ii(this.ba));g.I && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Lf.ob(),", ") + ("request content start ").concat(f.La.ob(),", ") + ("current timestamp offset ").concat(n.ob()," => ") + ("firstPlatformTimestamp ").concat(m.ob(),"."));f.Sja(p);}}this.gW=!0;return {ka:f,offset:n,jf:k,Xh:!1,fi:d};};return h;})();b.eGa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CLa=void 0;c=a(21);l=a(9);r=(function(){function g(h,d,f){this.Lf=h;this.ba=d;this.console=f;}g.prototype.append=function(h,d){var f,n,k,m,p,q;f=h.ka;n=h.offset;k=h.jf;m=h.fi;h=h.Xh;if(!h){p=d.endOfStream;d=d.LL;if(p && d){p=f.La.wa(this.Lf).add(n);q=f.Wa.wa(this.Lf).add(n);d=d.wa(c.N.qy);l.I && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.ob() + "-" + q.ob() + " vs media splice point at " + d.ob());p.add(this.ba).$h(d)?(l.I && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),h=!0):q.$h(d) && (d=Math.ceil(q.wa(d).Ii(this.ba)),f.Ga?(l.I && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),f.k3(d)):(l.I && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),h=!0));}else p && l.I && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {ka:f,offset:n,jf:k,Xh:h,fi:m};};return g;})();b.CLa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IDa=void 0;r=(function(){function a(c){this.gW=!1;this.O_b=c.YKb;}a.prototype.append=function(c){c.ka.Ga && (c.ka.UZb(this.gW?0:this.O_b),this.gW=!0);return c;};return a;})();b.IDa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qya=void 0;c=a(428);l=a(10);r=(function(){function g(h,d,f,n){this.config=d;this.re=f;this.console=n;this.ba=h.ba;}g.prototype.append=function(h,d){var f,n,k,m,p,q,v,t,w,u,y,x,z;if(h.Xh)return h;n=!1;k=(0,c.dma)(this.config,this.re);m=h.ka;p=h.offset;q=h.jf;v=h.fi;t=m.Kb;w=m.Bb;u=m.Ts;u=m.Fk || u;if(!h.ka.Ga || !u || q)return h;y=m.Wa.wa(m.La);u=Math.floor(y.Ii(this.ba));x=null !== (f=d.wqa) && void 0 !== f?f:t.wa(this.ba.uv(2));t=x.wa(w);f=u;z=!1;d.wqa && (d=this.fRa(y,t,t),f=d.Bj,z=d.R3a);k=x.wa(l.N.Na(k));w=l.N.max(k.wa(w),l.N.Ia);z || (w=this.fRa(y,w,t),f=w.Bj,w.R3a && (--f,this.ba.uv(f)));f < (this.config.SPb || 1)?n=!0:0 < u - f && h.ka.k3(u - f);return {ka:m,offset:p,jf:q,Xh:n,fi:v};};g.prototype.fRa=function(h,d,f){var n;h=l.N.min(h,d);h=Math.floor(h.Ii(this.ba));d=this.ba.uv(h);f=f.wa(d);n=0 < h && f.lessThan(l.N.qy);return {Bj:h,Rec:d,kcc:f,R3a:n};};return g;})();b.qya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rya=void 0;c=a(9);r=(function(){function l(g){this.console=g;}l.prototype.append=function(g,h){var d,f,n,k,m,p,q;if(g.Xh)return g;d=!1;f=g.ka;n=g.offset;k=g.jf;g=g.fi;h=h.LL;m=f.Kb;if(this.Ol && m.lessThan(this.Ol.Kb)){p=this.Ol.LL.wa(f.Bb);q=f.Kb.wa(this.Ol.LL);q.lessThan(p) && (c.I && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(f) + (", current error: ").concat(p.ob()) + (", discard error: ").concat(q.ob())),d=!0);}this.Ol=(f.Fk || f.Ts) && h?{LL:h,Kb:m}:void 0;return {ka:f,offset:n,jf:k,Xh:d,fi:g};};return l;})();b.rya=r;},function(r,b,a){var g,h,d,f,n;function c(k,m,p,q,v,t){var w,u,y,x,z,A,B;if(void 0 !== k.x9 || void 0 !== k.Zua || k.Cs || k.Kn){w=k.end - k.start;u=Array(w);y=k.Cs;x=k.EVa?k.EVa - 1:0;z=k.FVa?k.FVa - 1:0;A=Math.min(w,Math.max(k.x9 || 0,t && y && !x?1:0));k=Math.min(w - A,Math.max(k.Zua || 0,t && m && !z?1:0));t=Math.floor(q.Ii(p));p=Math.max(0,Math.min(w - A - k,y?Math.max(0,t - x):0));B=Math.max(0,Math.min(w - A - k - p,m?Math.max(0,t - z):0));p=A + p;q=w - k - B;z=z?0:Math.max(0,t + 1 - B);t=(1 - v) / (t + 1);for(B=0;B < w;++B){u[B]=B < A?-Infinity:B >= w - k?-Infinity:y && B < p?l(v + (B - A + x) * t):m && B >= q?l(1 - (B - q + z + 1) * t):0;}return u;}}function l(k){return 20 * Math.log(k) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.uFa=void 0;r=a(0);g=a(75);h=a(10);d=a(4);f=a(7);n=r.__importDefault(a(5));a=(function(){var g7O;g7O=2;for(;g7O !== 3;){switch(g7O){case 2:k.prototype.Ga=function(m,p){var e20,q,v,t,w;e20=2;for(;e20 !== 22;){switch(e20){case 2:void 0 === p && (p=!0);q=[];e20=5;break;case 19:e20=m.Ga.end !== m.Hs || m.Ga.Zua || m.Ga.Kn?18:23;break;case 4:e20=!(m.Ga && m.response instanceof ArrayBuffer)?3:9;break;case 6:(v=this.TAb(m,m.response,p),t=v.ia,w=v.Ik);v=v.data;e20=13;break;case 27:e20=!t?26:25;break;case 24:t=v;e20=23;break;case 12:return {ia:t};break;case 26:return {ia:t};break;case 20:w=m.Ga.start;e20=19;break;case 11:w && q.push(w);t=v;e20=20;break;case 3:return {ia:!0};break;case 5:var C0f="Me";C0f+="diaFragmentEditor [${fragment.";C0f+="mediaType}";C0f+="]: Attempt to edit app";C0f+="ended fragment";(0,d.assert)(!m.kd,C0f);e20=4;break;case 13:e20=!t?12:11;break;case 25:w && q.push(w);e20=24;break;case 23:return {ia:!0,fi:q,response:t};break;case 9:e20=0 >= m.Fd.xa?8:7;break;case 8:return {ia:!1};break;case 18:m=this.UAb(m,t?(0,h.BE)(t):m.response,w,p);t=m.ia;w=m.Ik;v=m.data;e20=27;break;case 7:e20=0 < m.Ga.start || m.Ga.x9 || m.Ga.Cs?6:19;break;}}};k.prototype.TAb=function(m,p,q){var x_3,v;x_3=2;for(;x_3 !== 6;){switch(x_3){case 8:var w10=" edit";w10+=" ";w10+="f";w10+="a";w10+="iled";var q45="]";q45+=":";q45+=" ";var C8C="Med";C8C+="iaFragmentEditor";C8C+=" [";q=c(m.Ga,q,m.ba,this.a9,this.HL,this.config.E_a);return (p=new g.xw(this.x3a,m.stream,p).t7a({Aj:m.Ga.start,T:m.dG,gx:q,Cta:!1,JG:this.config.J8,WF:l(this.HL)}))?{ia:!0,Ik:m.lta(v),data:p.ka}:(this.console.error(C8C.concat(m.mediaType,q45).concat(m.toString(),w10)),{ia:!1});break;case 3:x_3=!(m.Ga.start || v || m.Ga.Cs || q)?9:8;break;case 2:void 0 === q && (q=!0);(0,d.assert)(m.Ga);v=m.Ga.x9;q=!(!m.Ga.Kn || !q);x_3=3;break;case 9:return {ia:!0};break;}}};k.prototype.UAb=function(m,p,q,v){var I7X,t;I7X=2;for(;I7X !== 14;){switch(I7X){case 9:I7X=m.Ga.end === m.Hs && !t && !m.Ga.Cs && !v?8:7;break;case 8:return {ia:!0};break;case 4:t=m.Ga.Zua;v=!(!m.Ga.Kn || !v);I7X=9;break;case 7:var K4m=" edi";K4m+="t ";K4m+="f";K4m+="ailed";var O4A="]";O4A+=":";O4A+=" ";var Y_I="Media";Y_I+="Fr";Y_I+="agm";Y_I+="entEdito";Y_I+="r [";v=c(m.Ga,v,m.ba,this.b9,this.HL,this.config.E_a);return (p=new g.xw(this.x3a,m.stream,p).A7a({Aj:m.Ga.end - q,T:m.dG,gx:v,Cta:!1,JG:this.config.J8,WF:l(this.HL)}))?{ia:!0,Ik:m.lta(t),data:p.ka}:(this.console.error(Y_I.concat(m.mediaType,O4A).concat(m.toString(),K4m)),{ia:!1});break;case 2:void 0 === q && (q=0);void 0 === v && (v=!0);(0,d.assert)(m.Ga);I7X=4;break;}}};return k;break;}}function k(m,p,q,v){var R4s;R4s=2;for(;R4s !== 9;){switch(R4s){case 2:var F0E="media";F0E+="|";F0E+="asejs";var t9x="M";t9x+="P";t9x+="4";var x_G="1SI";x_G+="YbZrNJC";x_G+="p9";this.console=m;this.config=p;x_G;this.x3a=new n.default.Console(t9x,F0E);q === f.v.ga && (this.a9=h.N.Na(0 <= p.a9?p.a9:p.My),this.b9=h.N.Na(0 <= p.b9?p.b9:p.My),this.HL=Math.pow(10,(p.HL[v] || -44) / 20));R4s=9;break;}}}})();b.uFa=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kaa=void 0;c=a(9);l=a(21);r=(function(){function g(h){this.console=h;}g.prototype.append=function(h){var d,f,n,k,m,p;if(h.Xh)return h;d=h.ka;f=h.offset;n=h.fi;k=d.La;m=d.Wa;p=k.add(f);f=m.add(f);p=this.tL && p.wa(this.tL);this.tL=f;if(void 0 === p || p.equal(l.N.Ia))return h;h.fi=n || [];d={stream:d.Wb,pts:k.G,gap:p.G};h.fi.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});c.I && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return h;};return g;})();b.kaa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wza=void 0;c=a(7);l=a(19);g=a(28);r=(function(){function h(d,f){this.ng=d;this.config=f;this.nd="CdnListTracker";}Object.defineProperties(h.prototype,{enabled:{get:function(){return this.config.Ptb;},enumerable:!1,configurable:!0}});h.prototype.pj=function(d){var f;f=this;if(d.rj === g.pc.mj)return {cdndldist:JSON.stringify((0,l.YPa)(Object.keys(this.ng).map(function(n){var k;k=f.ng[n];return Object.keys(k).map(function(m){var p;p=k[m];return {cdnid:p.sm,pbcid:p.Ap,dls:Object.keys(p.QE).map(function(q){var v,t;q=p.QE[q];t=q.mediaType === c.v.ga?"adlid":"dlid";return (v={tm:q.totalTime,bitrate:q.bitrate},v[t]=q.Sb,v.vf=q.zb,v);})};});})))};};return h;})();b.wza=r;},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Tda=void 0;c=a(0).__importDefault(a(5));l=a(7);g=a(21);h=a(33);r=(function(){function d(f,n){this.S=f;this.dj=n;}d.prototype.$G=function(f,n,k,m,p){var q,v;void 0 === p && (p=!1);q=f.u;v=this.imb(q);this.$D={startTime:c.default.time.Ca(),k0b:f,j0b:k.G,l3:n,Pd:this.IGb(m,n),F2b:this.yIb(m,p),zzb:p,jf:m,HRa:v,vQb:this.gHb(q,k)};};d.prototype.$Za=function(){return !!this.$D;};Object.defineProperties(d.prototype,{l3:{get:function(){var f;return null === (f=this.$D) || void 0 === f?void 0:f.l3;},enumerable:!1,configurable:!0}});d.prototype.cma=function(f){var n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K;if(this.$D && 0 !== Object.keys(this.$D.HRa).length && f === this.$D.l3){u=this.$D;y=u.HRa;x=u.vQb;z=u.zzb;A=u.jf;B=u.k0b;C=u.j0b;D=u.startTime;E=u.Pd;u=u.F2b;this.$D=void 0;G=this.Rea(f).zha;F=this.cFb(B.u.id,f,y);G=this.vNa(F.weight,G);H={};for(K in y){K !== f && (H[K]=y[K].details);}y=c.default.time.Ca() - D;D=A?0:y;K={offset:g.N.Na(this.eIb(B,C,A,z)),J:B.u.id};C={offset:g.N.Na(C),J:B.u.id};x={segment:f,destPosition:{J:f,offset:g.N.Ia},srcsegment:B.u.id,srcTransitionPosition:K,srcStartPosition:C,srcsegmentduration:B.mX.G,srcoffset:K.offset.G,seamlessRequested:A,atRequest:F,atTransition:G,discard:H,transitionType:E,transitionTypeAtRequest:u,delayToTransition:this.KFb(y,A,z),durationOfTransition:D,nextExitPositionAtRequest:x};z=null !== (k=null === (n=this.dj.fa.L[f]) || void 0 === n?void 0:n.type) && void 0 !== k?k:"content";n=null !== (p=null === (m=this.dj.fa.L[B.u.id]) || void 0 === m?void 0:m.type) && void 0 !== p?p:"content";f=null !== (v=null === (q=this.dj.fa.L[f]) || void 0 === q?void 0:q.K) && void 0 !== v?v:void 0;q=null !== (w=null === (t=this.dj.fa.L[B.u.id]) || void 0 === t?void 0:t.K) && void 0 !== w?w:void 0;f && q && f !== q && (x.auxMidType=z,x.auxSrcmidType=n,x.auxMid=f,x.auxSrcmid=q);return x;}};d.prototype.cFb=function(f,n,k){var m,p,q;q={};(k=k[n])?q=k.details:((0,h.assert)(this.dj),q.weight=null === (p=null === (m=this.dj.fa.L[f].next) || void 0 === m?void 0:m[n]) || void 0 === p?void 0:p.weight);return q;};d.prototype.KFb=function(f,n,k){var m;k || (m=n?f:0);return m;};d.prototype.gHb=function(f,n){var k,m,p;m=f.Je.add(n);null === (k=f.Iv) || void 0 === k?void 0:k.some(function(q){m.lessThan(q.La) && (p=q.La.G);});return p;};d.prototype.eIb=function(f,n,k,m){return k || m?f.mX.G:n;};d.prototype.IGb=function(f,n){return f?"seamless":this.Rea(n).oZa?"reset":"long";};d.prototype.yIb=function(f,n){return f || n?"lazy":"immediate";};d.prototype.imb=function(f){var n,k;n=this;k={};f.py.forEach(function(m){var p,q;p=f.yQb[m];q=n.Rea(m).zha;k[m]={details:n.vNa(p,q)};});return k;};d.prototype.Rea=function(f){var n,k;f=this.dj.SS(f);n=0 < f.length?f[0]:void 0;f=null === n || void 0 === n?void 0:n.EK();if(!n || !f)return {oZa:!1,zha:{r$:0,h1:0,AX:0,TQ:0}};k=n.S4(l.v.ga) && !f.h1;n=n.S4(l.v.Z) && !f.r$;return {oZa:!k && !n,zha:f};};d.prototype.vNa=function(f,n){return {weight:f,vbuflmsec:n.r$,abuflmsec:n.h1,vbuflbytes:n.AX,abuflbytes:n.TQ};};return d;})();b.Tda=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BIa=void 0;c=a(13);l=a(7);g=a(10);r=a(49);a=(function(){function h(d){this.Y=d;this.efa=!1;this.HNa=new c.Af();this.KWb();}h.prototype.KWb=function(){var d,f;d=this;f=this.HNa;f.on(this.Y,"paused",function(){return d.x7();});f.on(this.Y,"playing",function(){return d.x7(!0);});f.on(this.Y,"underflow",function(){return d.x7();});f.on(this.Y,"skipped",function(){return d.jV();});f.on(this.Y,"clockAdjusted",function(){return d.dV();});f.on(this.Y,"playbackRateChanged",function(){return d.VRb();});};Object.defineProperties(h.prototype,{currentTime:{get:function(){return this.xOa || this.Y.zd || g.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Li:{get:function(){return this.efa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{speed:{get:function(){var d;return null !== (d=this.Y.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});h.prototype.x7=function(d){void 0 === d && (d=!1);d !== this.efa && (this.xOa=(this.efa=d)?void 0:this.Y.zd);this.emit("stopStart",{type:"stopStart"});};h.prototype.jV=function(){this.xOa=void 0;this.dV(l.mz.ZG);};h.prototype.dV=function(d){void 0 === d && (d=l.mz.oqb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};h.prototype.VRb=function(){this.emit("speedChanged",{type:"speedChanged"});};h.prototype.Ra=function(){this.x7();this.HNa.clear();};return h;})();b.BIa=a;(0,r.si)(c.EventEmitter,a);},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperties(b,{__esModule:{value:!0}});b.eKa=void 0;c=a(0);l=a(13);g=a(9);h=a(7);d=c.__importDefault(a(5));f=a(10);n=a(4);r=(function(){function k(m,p,q,v){var t;t=this;this.xb=m;this.Y=p;this.config=v;this.pending=new Map();this.listeners=new l.Af();this.Cqa=!1;this.bJb=function(w){t.d8a(function(){g.I && t.S.debug("cancelling playback ending");w.cancel();});};this.d8a=function(w){var u,y,x,z,C,D,E;if(t.pending.size){g.I && t.S.trace("playback ending, restarting player");x={};z=(u={},u[h.v.ga]=void 0,u[h.v.Z]=void 0,u[h.v.Za]=void 0,u);try{for(var A=c.__values(t.pending.entries()),B=A.next();!B.done;B=A.next()){C=c.__read(B.value,2);D=C[0];E=C[1];x[D]=E.to.stream.Hm();E.from.J && (z[D]=E.from.J);}}catch(F){var G;G={error:F};}finally{try{B && !B.done && (y=A.return) && y.call(A);}finally{if(G)throw G.error;}}null === w || void 0 === w?void 0:w();g.I && t.S.debug("Restarting player",x);t.Y.Mf(x,z).then(function(){var F,H;null === (F=t.IE) || void 0 === F?void 0:F.resolve();g.I && t.S.debug("Restart completed");null === (H=t.A8a) || void 0 === H?void 0:H.Ypb();t.reset();});}};this.listeners.addListener(p,"playbackEnding",this.bJb);this.S=(0,f.gi)(d.default,q,"SEAMLESSMANAGER");g.I && this.S.debug("construct");}k.prototype.Ra=function(){g.I && this.S.debug("destruct");this.pending.clear();this.listeners.clear();};k.prototype.MWb=function(m){this.A8a=m;};k.prototype.c5b=function(m){var p,q;0 === this.pending.size && ((0,n.assert)(void 0 === this.IE,"SeamlessManager: No pending transitions, but a wait is deferred"),this.IE=new f.oz());(0,n.assert)(this.IE,"SeamlessManager: deferred is undefined");(0,n.assert)(!this.pending.has(m.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + m.mediaType);this.pending.set(m.mediaType,m);g.I && this.S.trace(("got new transition [").concat(m.mediaType,"] --\x3e ").concat(m.to.stream.id));if(this.pending.size === this.xb.$f.length && !this.Cqa){q=this.$Lb();if(q.T5a)return (g.I && this.S.trace(("seamless transition possible at ").concat(m.timestamp.ob())),this.IE.resolve(),this.reset(),Promise.resolve());g.I && this.S.trace(("starting non-seamless transition at ").concat(m.timestamp.ob()));null === (p=this.A8a) || void 0 === p?void 0:p.Xpb(q.info);if(!this.s0b())return (g.I && this.S.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.IE.resolve(),this.reset(),Promise.resolve());}return this.IE.promise;};k.prototype.LXb=function(m){g.I && this.S.trace(("reset media [").concat(m,"]"));this.pending.delete(m);0 === this.pending.size && this.reset();};k.prototype.reset=function(){g.I && this.S.debug("resetting");this.Cqa=!1;this.IE=void 0;this.pending.clear();};k.prototype.$Lb=function(){var m,p,q,w,u,y,x,z,A,B,C,D,E,G;try{for(var v=c.__values(this.pending.entries()),t=v.next();!t.done;t=v.next()){w=c.__read(t.value,2);u=w[0];y=w[1];if(y.from){x=y.from.stream;z=y.to.stream;if(x.track === z.track)g.I && this.S.debug("Seamless deemed possible due to same track",{mediaType:u});else {A=x.Hm();B=z.Hm();C=void 0;D=this.xb.Mk(y.timestamp);C=y.from.J && 0 > this.xb.P5.value.G?{J:y.from.J,offset:f.N.Na(0)}:this.xb.Mk(y.dVb);E=this.Y.mRa({mediaType:u,hWa:y.hWa,from:A,to:B,CEb:C,r2b:D});G=E.reason;if(!E.mRa)return (g.I && this.S.debug("Non-seamless transition; details:",{reason:G,mediaType:u,from:A,to:B}),{T5a:!1,info:{Xzb:null !== (p=y.to.J) && void 0 !== p?p:"unk",i0b:null !== (q=y.from.J) && void 0 !== q?q:"unk",YTb:y.timestamp,reason:G}});g.I && this.S.debug("Seamless deemed possible",{reason:G,mediaType:u,from:A,to:B,CEb:C,r2b:D});}}}}catch(H){var F;F={error:H};}finally{try{t && !t.done && (m=v.return) && m.call(v);}finally{if(F)throw F.error;}}return {T5a:!0};};k.prototype.s0b=function(){var m;this.Cqa=!0;if(this.xb.Tq.value)(g.I && this.S.trace("Signaling EOS for upcoming restart"),this.xb.Yua());else {if(null === (m=this.config) || void 0 === m?0:m.kUa)return (g.I && this.S.warn("An immediate restart is required but disabled"),!1);g.I && this.S.trace("Signaling immediate restart");this.d8a();}return !0;};return k;})();b.eKa=r;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=void 0;c=a(0);l=a(72);g=a(10);h=c.__importDefault(a(5));d=a(446);f=a(1130);r=(function(){function n(k,m){var p;p=this;this.LT=k;this.events=(0,d.Xia)(function(){return p.Ok;},this.LT.events,m,f.K5a);this.zmb=(0,g.gi)(h.default,this.LT.console,"PLAYERHOST");new l.gu({$n:10,Pm:this,source:"PlayerHost",console:this.zmb});}n.prototype.ria=function(){this.Ok=void 0;};n.prototype.Eua=function(k){this.Ok=k;};c.__decorate([(0,l.Pb)({methodName:"clearProxyPlaygraphContext"})],n.prototype,"ria",null);c.__decorate([(0,l.Pb)({methodName:"setProxyPlaygraphContext"})],n.prototype,"Eua",null);return n;})();b.EIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K5a=void 0;b.K5a={"*":{xVa:["logdata"],rules:[{zj:function(a){return a.Xwa;}}]},segmentPresenting:[{zj:function(a){return a.Xwa;},config:{Np:["metrics"]}},{zj:function(a){return a.ae;}},{zj:function(a){return a.ae;},config:{Np:["metrics","srcStartPosition"]}},{zj:function(a){return a.ae;},config:{Np:["metrics","srcTransitionPosition"]}},{zj:function(a){return a.ae;},config:{Np:["metrics","destPosition"]}},{zj:function(a){return a.Lrb;}}],streamPresenting:[{zj:function(a){return a.ae;}}],segmentAppended:[{zj:function(a){return a.qW;}}]};},function(r,b,a){var c,l,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.cMa=void 0;c=a(0);l=a(13);g=a(9);h=a(386);r=(function(){function d(f,n,k,m){this.ycb=f;this.console=n;this.Yqb=k;this.dW=m;this.events=new l.EventEmitter();this.vL=f.XMb.Eu();}Object.defineProperties(d.prototype,{pa:{get:function(){var f;return null === (f=this.ycb) || void 0 === f?void 0:f.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{FC:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var n;return c.__generator(this,function(k){switch(k.label){case 0:return (k.Wm.push([0,2,,3]),[4,this.ycb.FC]);case 1:return [2,k.cb()];case 2:throw (n=k.cb(),h.mIa.VLb(n) && this.Yqb.yf(n),g.I && this.console.trace("Removing broken viewable entry due to error",this.dW),this.events.emit("error",{error:n}),n);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.cMa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qvb={Ws:["minInitVideoBitrate",-Infinity],ky:["maxInitVideoBitrate",Infinity],OU:["minInitAudioBitrate",-Infinity],CU:["maxInitAudioBitrate",Infinity],G6:["minAcceptableVideoBitrate",-Infinity],MU:["minAcceptableVMAF",0],EPb:["minAcceptableVMAFRebufferScalingFactor",0],eqa:["minAllowedVideoBitrate",-Infinity],GOb:["maxAllowedVideoBitrate",Infinity],bG:["minAllowedVmaf",-Infinity],o2a:["maxAllowedVmaf",Infinity],mN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],n3:["enableResolutionVMAFStreamFilter",!1],Hra:["percentCapTitlesForResolutionVMAFStreamFilter",100],I8:["resolutionVMAFCappingRuleList",[]],YZa:["ignoreUserFilterOnEmptyResult",!0],IB:["minRequiredBuffer",2E4],M6:["minRequiredAudioBuffer",0],Uq:["minPrebufSize",5800],gqa:["minCheckBufferingCompleteInterval",200],eVa:["enableMoreFrequentBufferingCompleteCheck",!1],m3a:["minimumBufferingCompleteInterval",1E4],uta:["requireDownloadDataAtBuffering",!1],m_a:["indicatorForDownloadDataAtBuffering","oncomplete"],vta:["requireSetupConnectionDuringBuffering",!1],Ssa:["rebufferingFactor",1],Sq:["maxBufferingTime",2E3],Ewa:["useMaxPrebufSize",!0],FB:["maxPrebufSize",4E4],Npa:["maxRebufSize",Infinity],j5:["initialBitrateSelectionCurve",null],r_a:["initSelectionLowerBound",-Infinity],s_a:["initSelectionUpperBound",Infinity],dX:["throughputPercentForAudio",15],oha:["bandwidthMargin",0],qha:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],yQa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,ox:76376,scale:18862.4,gamma:3.0569}],pha:["bandwidthMarginContinuous",!1],zQa:["bandwidthMarginForAudio",!0],Gva:["switchConfigBasedOnInSessionTput",!0],Kia:["conservBandwidthMargin",20],Mia:["conservBandwidthMarginTputThreshold",6E3],Lia:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],aab:["switchAlgoBasedOnHistIQR",!1],Hva:["switchConfigBasedOnThroughputHistory","iqr"],D2a:["maxPlayerStateToSwitchConfig",-1],S1a:["lowEndMarkingCriteria","iqr"],uDa:["IQRThreshold",.5],PZa:["histIQRCalcToUse","simple"],ns:["bandwidthManifold",{curves:[{min:.05,max:.82,ox:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,ox:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],FU:["maxTotalBufferLevelPerSession",0],KZa:["highWatermarkLevel",3E4],Gab:["toStableThreshold",3E4],Y9:["toUnstableThreshold",0],dva:["skipBitrateInUpswitch",!1],Uwa:["watermarkLevelForSkipStart",8E3],bva:["simulationDurationStrategy","default"],R_b:["simulationFullBufferPercentage",1],k3a:["minSimulationDuration",2E4],Opa:["maxSimulationDuration",3E5],Awa:["upperThroughputPredictionFactor",1.6],hna:["highStreamRetentionWindow",9E4],ppa:["lowStreamTransitionWindow",51E4],jna:["highStreamRetentionWindowUp",5E5],rpa:["lowStreamTransitionWindowUp",1E5],ina:["highStreamRetentionWindowDown",6E5],qpa:["lowStreamTransitionWindowDown",0],gna:["highStreamInfeasibleBitrateFactor",.5],ey:["lowestBufForUpswitch",9E3],rU:["lockPeriodAfterDownswitch",15E3],upa:["lowWatermarkLevel",15E3],fy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],vpa:["lowestWaterMarkLevelBufferRelaxed",!1],z6:["mediaRate",1.5],r6:["maxTrailingBufferLen",15E3],dha:["audioBufferTargetAvailableSize",262144],Jwa:["videoBufferTargetAvailableSize",1048576],L2a:["maxVideoTrailingBufferSize",8388608],q2a:["maxAudioTrailingBufferSize",393216],C3:["fastUpswitchFactor",3],TCb:["fastUpswitchFactorWithoutHeaders",3],SCb:["fastUpswitchFactorForNextSegment",1],Hka:["fastDownswitchFactor",3],YF:["maxMediaBufferAllowed",27E4],Ndc:["minMediaBufferLen",1E4],T9a:["simulatePartialBlocks",!0],S9a:["simulateBufferFull",!0],Nia:["considerConnectTime",!0],Jia:["connectTimeMultiplier",1],uNb:["liveDvrSwitchThresholdms",1E4],t2a:["maxDomainFailureWaitDuration",3E4],p2a:["maxAttemptsOnFailure",18],zVa:["exhaustAllLocationsForFailure",!0],A2a:["maxNetworkErrorsDuringBuffering",20],m6:["maxBufferingTimeAllowedWithNetworkError",6E4],sJ:["alwaysRunUnderflowTimer",!0],IVa:["fastDomainSelectionBwThreshold",2E3],oab:["throughputProbingEnterThreshold",4E4],pab:["throughputProbingExitThreshold",34E3],J1a:["locationProbingTimeout",1E4],PVa:["finalLocationSelectionBwThreshold",1E4],mab:["throughputHighConfidenceLevel",.75],nab:["throughputLowConfidenceLevel",.4],cpa:["locationStatisticsUpdateInterval",6E4],TNb:["locationSelectorPersistFailures",!0],fVa:["enablePerfBasedLocationSwitch",!1],wdc:["maxRateMaxFragmentGroups",4500],BBb:["enableNginxRateLimit",!1],c7:["nginxSendingRate",4E4],n2a:["maxActiveRequestsSABCell100",2],V7a:["resetActiveRequestsAtSessionInit",!0],oS:["enableHybridPacing",!1],Uha:["catchUpMode",!1],XOb:["maxSegHint",4],pta:["requestLevelLogging",!1],lBb:["enableCsprNonPipelined",!1],mS:["enableCprAudio",!1],nS:["enableCprVideo",!1],jBb:["enableCprAudioNonPipelined",!1],kBb:["enableCprVideoNonPipelined",!0],DBb:["enablePaceReportLogging",!1],KSb:["paceRateSelectorAlgorithm","default"],LSb:["paceRateSelectorAlgorithmAudio","default"],MSb:["paceRateSelectorAlgorithmNonPipelined","default"],r$a:["staticPacingRateKbps",0],l2:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],i3b:["unpacedFragmentInterval",0],kKb:["ignorePacedRequestStrategy","none"],rV:["pacedThresholdPct",.1],Xja:["effectivePaceRateFactor",1],PWb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],OSb:["pacingTargetBufferStrategy","implicit"],E1b:["targetBufferLevelStddevMultiplier",1],D1b:["targetBufferLevelDurationMs",0],NPb:["minTargetBufferLevelMs",27E4],qva:["stddevPredictorMultiplier",-.3],rva:["stddevPredictorUpperMultiplier",2],B0b:["stddevPredictorSource","deliverytime"],kia:["ciPredictorSource","throughput-ci"],ZUa:["enableInitialTputLogging",!1],YUa:["enableInitialThroughputHistory",!1],X4:["headerRequestSize",4096],nka:["estimateHeaderSize",!0],vqa:["neverWipeHeaderCache",!1],p4b:["useSidxInfoFromManifestForHeaderRequestSize",!1],RSb:["parseAdditionalBoxesMp4Header",!0],KVa:["fastPlayHeaderRequestSize",0],GL:["maxRequestSize",0],PU:["minRequestSize",65536],I6:["minBufferLenForHeaderDownloading",1E4],Z_b:["smartHeaderPreDownloading",!1],fBb:["enableAllHeadersPreDownloading",!1],io:["pipelineEnabled",!0],Lpa:["maxParallelConnections",3],l4b:["usePipelineForAudio",!1],k4b:["usePipelineDetectionForAudio",!1],n4b:["usePipelineForText",!0],$9a:["socketReceiveBufferSize",0],K1:["audioSocketReceiveBufferSize",32768],v$:["videoSocketReceiveBufferSize",65536],O1b:["textSocketReceiveBufferSize",32768],$bb:["usePipelineDetectionForVideo",!1],QPb:["minVideoSocketReceiveBufferSize",65536],ena:["headersSocketReceiveBufferSize",32768],m_b:["shareDownloadTracks",!0],n_b:["shareOpenRangeTracks",!1],T$a:["supportOpenRangeRequests",!0],gAb:["disableHeaderDownloadTracks",!1],iqa:["minTimeBetweenHeaderRequests",void 0],DV:["prebufferTimeLimit",6E4],c3a:["minBufferLevelForTrackSwitch",2E3],EBb:["enablePenaltyForLongConnectTime",!1],Era:["penaltyFactorForLongConnectTime",2],npa:["longConnectTimeThreshold",200],Bga:["additionalBufferingLongConnectTime",2E3],Cga:["additionalBufferingPerFailure",8E3],RV:["rebufferCheckDuration",6E4],VE:["enableOCSideChannel",!0],LTa:["decryptOCSideChannelMinInterval",1E3],MTa:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],tsa:["probeRequestTimeoutMilliseconds",3E4],wec:["probeRequestConnectTimeoutMilliseconds",8E3],ZZ:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],HBb:["enableSCByteRangeHints",!1],vbb:["updateDrmRequestOnNetworkFailure",!0],d2b:["timeBeforeEndOfStreamBufferMark",6E3],Ipa:["maxFastPlayBufferInMs",2E4],LOb:["maxFastPlayContentTimeThresholdMs",112E3],v2a:["maxFastPlayBitThreshold",2E8],r2a:["maxBufferingCompleteBufferInMs",Infinity],Gsb:["bufferingCompleteOnMemoryLimit",!1],fqa:["minAudioMediaRequestSizeBytes",0],jqa:["minVideoMediaRequestSizeBytes",0],IOb:["maxAudioMediaRequestSizeBytes",Infinity],dPb:["maxVideoMediaRequestSizeBytes",Infinity],QOb:["maxMediaRequestSizeBytesInFraction",1],tv:["minAudioMediaRequestDuration",0],ny:["minVideoMediaRequestDuration",0],L6:["minMediaRequestDuration",0],HOb:["maxAudioMediaRequestDuration",Infinity],cPb:["maxVideoMediaRequestDuration",Infinity],p6:["maxMediaRequestDuration",Infinity],Hga:["allowFirstRequestAggregation",!1],Gdc:["minAudioMediaRequestDurationCache",0],Rdc:["minVideoMediaRequestDurationCache",0],xja:["defaultHeaderCacheSize",4],wja:["defaultHeaderCacheDataPrefetchMs",0],m4b:["usePipelineForBranchedAudio",!0],P6:["minimumTimeBeforeBranchDecision",2E3],RPb:["minimumAppendedMediaBeforePlayback",5E3],kec:["parallelBranchesDuringBuffering",!1],UOb:["maxRequestsToAttachOnBranchActivation",void 0],O6:["minimumJustInTimeBufferLevel",3E3],Pbc:["enableJustInTimeAppends",!1],OPa:["appendPacingFactor",0],Iqb:["appendPacingThreshold",3E3],nBb:["enableDelayedSeamless",!1],Eac:["branchEndPtsIntervalMs",250],Pcc:["ignorePtsJustBeforeCurrentSegment",!1],MOb:["maxFragsForFittableOnBranching",300],tqa:["networkFailureResetWaitMs",2E3],sqa:["networkFailureAbandonMs",6E4],q6:["maxThrottledNetworkFailures",5],T9:["throttledNetworkFailureThresholdMs",200],tpa:["lowThroughputThreshold",400],wka:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],c2b:["timeAtEachBitrateRoundRobin",1E4],hYb:["roundRobinDirection","forward"],VJb:["httpsConnectErrorAsPerm",!1],cVa:["enableManagerDebugTraces",!1],a2a:["managerDebugMessageInterval",1E3],$1a:["managerDebugMessageCount",20],JM:["requireAudioStreamToEncompassVideo",!1],C$a:["ase_stream_selector","optimized"],Grb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],FNb:["liveStreamSelectorAlgorithm","livesimple"],T1b:["throughputDiscountForLive",.8],S1b:["throughputDiscountExponentBC",1.5],nU:["liveTargetBufferDuration",1E4],a6:["liveEdgeCushion",6E3],Woa:["liveMaxTemporaryRequestErrorRetries",6],xNb:["liveInitialFetchSizeBytes",1024],DNb:["liveResyncClockOn404Error",!0],K1b:["temporaryRequestFailureRetryIntervalMs",500],bVa:["enableLiveTemporaryRequestRetries",!0],Kna:["initBitrateSelectorAlgorithm","default"],Bha:["bufferingSelectorAlgorithm","default"],N0b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],hVa:["enableThroughputTraceResearchData",!1],rab:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Eec:["researchEnvironmentEnabled",!1],JBb:["enableStreamSelectionAugmentData",!1],Krb:["augmentDataNumOfChunks",30],oja:["ase_dump_fragments",!1],pja:["ase_location_history",0],FTa:["ase_throughput",0],sra:["paddingDurationMs",1E3],tra:["paddingMediaType","padding"],Rk:["stallAtFrameCount",void 0],f$a:["stallAtFrameCountAudio",void 0],Cpa:["marginPredictor","simple"],Sbb:["useBackupUnderflowTimer",!0],BQb:["noDuplicateUnderflowTimer",!1],Tfc:["useManifestDrmHeader",!0],Ufc:["useOnlyManifestDrmHeader",!0],uqa:["networkMeasurementGranularity","video_location"],rQb:["netIntrStoreWindow",36E3],Wdc:["minNetIntrDuration",8E3],dmb:["fastHistoricBandwidthExpirationTime",10368E3],ymb:["bandwidthExpirationTime",5184E3],cmb:["failureExpirationTime",86400],TNa:["historyTimeOfDayGranularity",4],Zlb:["expandDownloadTime",!0],cnb:["minimumMeasurementTime",500],bnb:["minimumMeasurementBytes",131072],Xnb:["throughputMeasurementTimeout",2E3],Wnb:["initThroughputMeasureDataSize",262144],Omb:["historicBandwidthUpdateInterval",2E3],gac:["throughputPredictor","ewma"],gua:["secondThroughputEstimator","slidingwindow"],C8a:["secondThroughputMeasureWindowInMs",3E5],fac:["throughputMeasureWindow",5E3],hac:["throughputWarmupTime",5E3],eac:["throughputIQRMeasureWindow",1E3],O$b:["IQRBucketizerWindow",15E3],y2a:["maxIQRSamples",100],f3a:["minIQRSamples",5],bac:["connectTimeHalflife",10],U$b:["responseTimeHalflife",10],gNa:["historicThroughputHalflife",14400],fNa:["historicResponseTimeHalflife",100],eNa:["historicHttpResponseTimeHalflife",100],MCa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],JNa:["minReportedNetIntrDuration",4E3],dac:["throughputBucketMs",500],R$b:["bucketHoltWintersWindow",2E3],Tlb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],$lb:["experimentalFilter",["throughput-wssl"]],jOa:["reportedFilters",[]],Lea:["filterDefinitionOverrides",{}],Nlb:["defaultFilter","throughput-ewma"],Olb:["defaultFilterField","average"],oob:["secondaryFilter","throughput-sw"],zea:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],PBb:["enableWsslEstimate",!1],zdc:["maxWsslRequestSize",131072],ydc:["maxWsslRequestRatio",.2],Scb:["wsslAggregationMethod","max"],gVa:["enableSessionHistoryReport",!0],IUa:["earlyStageEstimatePeriod",1E4],m1a:["lateStageEstimatePeriod",3E4],B2a:["maxNumSessionHistoryStored",10],j3a:["minSessionHistoryDuration",3E5],Dcc:["highAndStableModelName","baseline"],Obc:["enableHighAndStablePredictor",!1],Odc:["minNumSessionHistory",5],Aac:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Ccc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Ecc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],nga:["addHeaderDataToNetworkMonitor",!0],kva:["startMonitorOnLoadStart",!1],mta:["reportFailedRequestsToNetworkMonitor",!1],L7:["periodicHistoryPersistMs",0],W8:["saveVideoBitrateMs",0],rqa:["needMinimumNetworkConfidence",!0],tha:["biasTowardHistoricalThroughput",!1],idc:["logMemoryUsage",!1],AG:["probeServerWhenError",!0],cR:["allowSwitchback",!0],j6a:["probeDetailDenominator",100],n6:["maxDelayToReportFailure",300],tqb:["allowParallelStreaming",!1],Cdc:["mediaPrefetchDisabled",!1],Hdc:["minBufferLevelToAllowPrefetch",5E3],SM:["seamlessAudio",!1],Vec:["seamlessAudioProfiles",[]],Wec:["seamlessAudioProfilesAndTitles",{}],eua:["seamlessAudioMaximumSyncError",void 0],fua:["seamlessAudioMinimumSyncError",void 0],F_a:["insertSilentFrames",0],Una:["insertSilentFramesOnSeek",!1],G_a:["insertSilentFramesOnSeekForTitles",[]],YKb:["insertSilentFramesOnSeekCount",3],fcc:["forceDiscontinuityAtTransition",!0],tfc:["supportAudioResetOnDiscontinuity",void 0],sfc:["supportAudioEasingOnDiscontinuity",void 0],RAb:["editCompleteFragments",!0],SPb:["minimumAudioFramesPerFragment",1],gR:["applyProfileTimestampOffset",!1],pm:["applyProfileStreamingOffset",!0],v6a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],nQa:["audioProfilesNonSyncSamples",["xheaac-dash"]],P2b:["truncateEndOfStreamAudio",!1],h4b:["useDpiAssumedAacEncoderDelay",!0],B6:["mediaSourceSupportsNegativePts",!1],H6:["minAudioPtsGap",void 0],Crb:["audioOverlapGuardSampleCount",2],GBb:["enableRecordJSBridgePerf",!1],Fba:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Y1b:["throughputThresholdSelectorParam",0],e4b:["upswitchDuringBufferingFactor",2],zqb:["allowUpswitchDuringBuffering",!1],cbc:["contentOverrides",void 0],dbc:["contentProfileOverrides",void 0],NZa:["hindsightDenominator",0],MZa:["hindsightDebugDenominator",0],Hcc:["hindsightAlgorithmsEnabled",[]],OZa:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],NPa:["appendMediaRequestOnComplete",!1],Qwa:["waitForDrmToAppendMedia",!1],$4b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],ela:["forceAppendHeadersAfterDrm",!1],HTa:["declareBufferingCompleteAtSegmentEnd",!1],BU:["maxActiveRequestsPerSession",void 0],Toa:["limitAudioDiscountByMaxAudioBitrate",!1],Oga:["appendFirstHeaderOnComplete",!0],N9:["strictBufferCapacityCheck",!1],iR:["aseReportDenominator",0],Zga:["aseReportIntervalMs",3E5],Vqb:["aseReportMaxStreamSelections",400],y1a:["liveReportSendIntervalMs",6E4],Yoa:["liveReportCollectIntervalMs",5E3],bwa:["translateToVp9Draft",!1],ita:["reorderTrakMvex",!1],XW:["switchableAudioProfiles",[]],Erb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],cab:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Hrb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],J2a:["maxStartingVideoVMAF",110],Xs:["minStartingVideoVMAF",1],UQ:["activateSelectStartingVMAF",!1],e9:["selectStartingVMAFTDigest",-1],UM:["selectStartingVMAFMethod","fallback"],K8a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],jM:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],ybc:["disablePtsStartsEvent",!0],h7a:["recordFirstFragmentOnSubBranchCreate",!0],l2a:["markRequestActiveOnFirstByte",!1],G9:["stopOnAllInactiveRequests",!1],QUa:["enableActiveRequestsInFilters",!1],JN:["useNativeDataViewMethods",!0],Uqb:["aseDiagnostics",[{nd:"queue-audit",enabled:!0},{nd:"task-audit",enabled:!0},{nd:"trace-ShimSession",enabled:!0},{nd:"trace-engine",enabled:!0},{nd:"trace-RequestPacer",enabled:!0},{nd:"trace-BufferStateTracker",enabled:!0},{nd:"trace-GraphStreamingProcess",enabled:!0},{nd:"trace-AsePlaygraph",enabled:!0},{nd:"playgraph-branch-audit",enabled:!0},{nd:"content-playgraph",enabled:!0},{nd:"trace-CphAsePlaygraph",enabled:!0},{nd:"trace-GraphLocation",enabled:!0},{nd:"cache-ads::gls",enabled:!0},{nd:"cache-content::gls",enabled:!0}]],gBb:["enableAseReporting",!0],qsb:["branchDistanceThreshold",6E4],k6:["maxAllowedOutstandingRequests",4],hqa:["minStreamableConcurrencyWindow",3E3],ZOb:["maxStreamableConcurrencyWindow",Infinity],wva:["streamableConcurrencyFactor",.3],yR:["bufferingConcurrencyWindow",7800],xha:["branchCreationThreshold",12E4],m3:["enableDiscontiguousBuffering",!1],hla:["forceImmediateTransitionTypeForTitles",[]],gla:["forceImmediateTransitionExitZone",0],Qia:["contiguousBufferMultiplier",3],GSa:["contiguousBufferMinimumAudio",1048576],ISa:["contiguousBufferMinimumVideo",8388608],HSa:["contiguousBufferMinimumText",0],jsb:["blockingHeaderRequestsBlockOtherGroups",!0],yUb:["prefetchBudgetInBytes",0],$6a:["rebufferRiskHalfLife",1E4],k$:["useBufferSizeLimiter",!1],q4b:["useStaticBufferSizeLimiter",!1],BUb:["prefetchWeightBudget",32],kqa:["minimumDownstreamBranchProbability",.075],Cwa:["useExitZones",!0],CUb:["prefetchWhilePlaying",!0],HUb:["prefetcherSoftReset",!0],aUb:["playgraphDefaultWeight",65520],Dzb:["delayNotificationOfEoS",!1],qPb:["memDeadlockShouldCheckMemory",!0],pPb:["memDeadlockOverageThreshold",.9],oPb:["memDeadlockMaxUtilizationPercentage",.5],WTb:["playerPtsPadding",1],Mdc:["minFragmentVmaf",void 0],lS:["enableCombinedPlaygraphs",!0],UE:["enableAdPlaygraphs",!0],bka:["enablePrerollForInitialSeek",!1],kUa:["disablePrerollOn43Seek",!1],Dwa:["useLegacyFragmentRounding",!1],xka:["excludedContentPlaygraphIds",[]],iZa:["graphSelectorSetAudioRate",!1],OBb:["enableVmafEstimationFromBitrate",!1],aPb:["maxVMAFMappingBitrate",16E3],bPb:["maxVMAFMappingVMAF",110],Ptb:["cdndldistEnabled",!1],My:["segmentFadeDuration",400],a9:["segmentFadeInDuration",-1],b9:["segmentFadeOutDuration",-1],HL:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],J8:["retainSbrOnFade",!1],E_a:["insertSilentFrameOnFade",!0],oSb:["optimizeEditedFragments",!1],Z$a:["supportsPtsChanged",!0],eBb:["enableAdLruCaches",!1],eQa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],vBb:["enableLiveRequestLogger",!1]};b.Hf=b.qvb;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xw=b.dD=b.Mr=b.CL=b.Bda=void 0;c=a(0);l=a(75);Object.defineProperties(b,{dD:{enumerable:!0,get:function(){return l.dD;}}});Object.defineProperties(b,{xw:{enumerable:!0,get:function(){return l.xw;}}});Object.defineProperties(b,{CL:{enumerable:!0,get:function(){return l.CL;}}});Object.defineProperties(b,{Bda:{enumerable:!0,get:function(){return l.Bda;}}});g=c.__importDefault(a(5));r=(function(h){function d(f,n,k,m,p){return h.call(this,d.console,f,n,k,m,p) || this;}c.__extends(d,h);Object.defineProperties(d,{console:{get:function(){return this.S || (this.S=new g.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(l.Mr);b.Mr=r;},function(r,b,a){var l,g,h,d;function c(f){return g.Le.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;r=a(0);l=a(1);g=a(45);h=a(31);a=a(44);ha(c,g.Le);Sa.Object.defineProperties(c.prototype,{S5a:{configurable:!0,enumerable:!0,get:function(){return !0;}},tv:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},ny:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},RZa:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Xs:{configurable:!0,enumerable:!0,get:function(){return 80;}},Iga:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Kc,"playsInline")],d.prototype,"S5a",null);r.__decorate([a.config(a.kB,"minAudioMediaRequestDuration")],d.prototype,"tv",null);r.__decorate([a.config(a.kB,"minVideoMediaRequestDuration")],d.prototype,"ny",null);r.__decorate([a.config(a.kB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"RZa",null);r.__decorate([a.config(a.kB,"minStartingVideoVMAF")],d.prototype,"Xs",null);r.__decorate([a.config(a.Kc,"allowMultipleAudioTextTracks")],d.prototype,"Iga",null);d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ll))],d);b.NCa=d;},function(r,b,a){var l,g;function c(h){this.la=h.Sa("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.yza=void 0;r=a(0);l=a(1);a=a(6);c.prototype.wFb=function(h){var f,n,k,m,p,q,v;function d(t,w,u){var y,x,z;y=t.map(function(A){return A.yg;});y.sort(function(A,B){return w[A] - w[B];});if(1 === y.length)(!1,k.set(u,{uM:t[0],X8:t[0]}));else {x=y.find(function(A){return f.has(A);});x || ((x=y.find(function(A){return !n.has(A);}))?f.add(x):(x=y[0],!1));z=y.find(function(A){return n.has(A) && A !== x;});z || ((z=y.find(function(A){return !f.has(A) && A !== x;}))?n.add(z):(z=y.find(function(A){return A !== x;}),!1));k.set(u,{uM:t.find(function(A){return A.yg === x;}),X8:t.find(function(A){return A.yg === z;})});}}f=new Set();n=new Set();k=new Map();m=h.video;p=h.audio;q=h.text;v=h.kk.reduce(function(t,w){t[w.id]=w.$b;return t;},{});m.forEach(function(t){t=t.stream;d(t.urls,v,t.Bm);});p.forEach(function(t){t=t.stream;d(t.urls,v,t.Bm);});q.forEach(function(t){var w,u;if(!t.track.pB || t.track.y5){w=t.stream;t=t.id;u=w.urls.reduce(function(y,x,z){y[x.yg]=z + 1;return y;},{});d(w.urls,u,t);}});return k;};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Va))],g);b.yza=g;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v,t){this.tf=m;this.dy=p;this.Jf=q;this.kc=v;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.SO=void 0;r=a(0);l=a(1);g=a(17);h=a(6);d=a(48);f=a(187);n=a(85);k=a(1137);c.prototype.create=function(m){return new k.UO(this.tf,this.dy,this.Jf,this.Ea,this.kc,m);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(n.rw)),r.__param(2,(0,l.l)(d.dm)),r.__param(3,(0,l.l)(f.Tba)),r.__param(4,(0,l.l)(g.Gc))],a);b.SO=a;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v,t,w){var u;u=this;this.dy=p;this.Jf=q;this.Ea=v;this.kc=t;this.bqa=this.lB=this.cW=0;this.RF=!1;this.my=function(){var y;y=u.zV();y.prstate=u.Ox();y.paustate=u.j.Ss();y.midplayseq=u.bqa++;u.kc.dL(y);u.mc(l.Bc.my,void 0,k.Cd | k.Or,y);};this.Ch=function(){u.mc(l.Bc.HQa,void 0,k.Cd | k.vo,{});};this.Wk=function(y){u.Koa=u.getTime();u.Loa=y.oldValue;};this.nR=function(y){u.Coa=y.oldValue;};this.J7=function(y){y != u.RF && (u.ova(u.RF,y),u.RF=y);};this.ova=function(y,x){var z;z=u.j.Ba;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};u.kc.rp(y,z.Ld.value && z.Ld.value.stream,z.gf.value && z.gf.value.stream);u.mc(l.Bc.NW,void 0,k.Cd,y);};this.IW=function(y){u.mc(l.Bc.e$a,void 0,k.Cd,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.Ty=function(y){var x,z,A;x=u.j.Ba;z=x.yb.value;if(y.newValue || z && z.Un() && !z.Lm()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.Re,downloadableId:y.Sb,rank:y.$b,isImageBased:y.ak}:{};y=(y=u.Loa)?{trackId:y.trackId,bcp47:y.Re,downloadableId:y.Sb,rank:y.$b,isImageBased:y.ak}:{};A={switchdelay:(0,g.Xf)(u.getTime() - u.Koa),track:A,oldtrack:y};u.kc.rp(A,x.Ld.value && x.Ld.value.stream,x.gf.value && x.gf.value.stream);u.mc(l.Bc.zab,void 0,k.Cd,A);}};this.Pra=function(y,x){var z;z=u.j.Ba;y={waittime:(0,g.Xf)(y),abortedevent:"resumeplay",resumeplayreason:x};u.kc.rp(y,z.Ke.value,z.Jg.value);u.mc(l.Bc.mM,void 0,k.Cd | k.vo,y);};this.vt=function(y,x,z){y={playdelay:(0,g.Xf)(y),reason:z,intrplayseq:u.lB - 1,skipped:x};"repos" === z && (y.prstate=!0 === u.j.rh.value?"playing":"paused");u.mc(l.Bc.vt,void 0,k.Cd | k.Nr,y);};this.gha=function(){var y,x,z,A;x=u.j.Ba.jc.value;z=u.j.Ba.Jg.value.Sb;x=x?{trackId:x.trackId,bcp47:x.Re,downloadableId:z,rank:x.$b,chan:x.channels}:{};z=u.$x;A=null === (y=u.Coa) || void 0 === y?void 0:y.Sb;y=z?{trackId:z.trackId,bcp47:z.Re,downloadableId:A,rank:z.$b,chan:z.channels}:{};u.mc(l.Bc.oQa,void 0,k.Cd,{switchdelay:(0,g.Xf)(u.getTime() - u.Doa),track:x,oldtrack:y});};this.sl=function(y){u.Doa=u.getTime();u.$x=y.oldValue;};this.Qra=function(){var y,x,z;y=u.j.Ba;x={abortedevent:"startplay",trackid:y.Hj,prstate:u.Ox(),paustate:u.j.Ss()};try{z=(0,h.tF)();z && (x.pdltime=z);(0,g.Jd)(x,y.Oc,{prefix:"sm_"});}catch(A){}u.kc.f5(x,y);u.kc.eL(x,!1,y.Fg.value,y);u.kc.rp(x,y.Ke.value,y.Jg.value);u.CF(x);u.mc(l.Bc.mM,void 0,k.Cd | k.Or | k.vo,x);};this.px=function(y,x,z,A){y={moff:(0,g.zl)(z),moffms:(0,g.Xf)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Sb,vdlidold:y.Sb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};u.mc(l.Bc.px,void 0,0,y);};this.hC=function(y,x,z){y={moffold:(0,g.zl)(y),reposseq:u.cW++,prstate:u.Ox(),paustate:u.j.Ss()};u.kc.rp(y,z && z.stream,x && x.stream);u.mc(l.Bc.hC,void 0,k.Cd,y);};this.pr=function(y){var x,z,A,B,C;B=y.Ba;C={playdelaysdk:(0,g.Xf)(u.j.AR()),applicationPlaydelay:(0,g.Xf)(u.j.Nha()),playdelay:(0,g.Xf)(u.j.Oha()),trackid:B.Hj,bookmark:(0,g.Xf)(B.tl || 0),pbnum:B.index};u.j.Ch && (C.blocked=u.j.Ch);C.initvbitrate=u.j.JT;u.kc.Cna(C);u.kc.e_a(C);C.esnSource=null === (x=mb._cad_global.device) || void 0 === x?void 0:x.s3;u.l_a(C,B);C.pdltime=(0,h.tF)();(0,g.Jd)(C,B.Oc,{prefix:"sm_"});C.ttTrackFields=null === (z=B.yb.value) || void 0 === z?void 0:z.sg;u.kc.a_a(C,B.jc.value,B);u.kc.eL(C,!0,B.Fg.value,B);C.packageId=null === (A=B.X) || void 0 === A?void 0:A.Ha.Rm;u.kc.dL(C);u.kc.f5(C,B);u.CF(C);u.mc(l.Bc.pr,y.kh,k.Cd | k.Nr | k.Or | k.OC | k.vo,C);};this.Hx=function(){var y,x,z;y=u.j;x=y.Ba;y=y.kh;z=u.zV();z.paustate=!u.j.qB();z.muted=u.j.foa();z.endreason=y?"error":u.j.aoa()?"ended":"stopped";u.kc.eL(z,!1,x.Fg.value,x);u.kc.dL(z);u.CF(z);u.mc(l.Bc.Hx,y,k.Cd | k.Nr | k.Or | k.OC | k.vo,z);};this.gta=function(y,x,z){var A;A=u.j.Ba.gf;y={moff:(0,g.zl)(z),moffms:(0,g.Xf)(z),vdlidold:y.Sb,vbitrateold:y.bitrate};u.kc.rp(y,x,A.value && A.value.stream);u.mc(l.Bc.$V,void 0,0,y);};this.Ox=function(){var y;y=u.j.lb.value;return y === f.Ya.Td?"playing":y === f.Ya.Rh?"paused":y === f.Ya.Up?"ended":"waiting";};this.la=m.Sa("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.UO=void 0;l=a(262);g=a(22);h=a(42);d=a(2);f=a(15);n=a(3);c.prototype.getTime=function(){return this.Ea.Db().ca(n.na);};c.prototype.xma=function(){return this.getTime() - this.j.Ba.Lh.ca(n.na);};c.prototype.l_a=function(m,p){var q;if(p=null === (q=p.Fg.value) || void 0 === q?void 0:q.streams)(m.maxbitrate=(0,h.bO)(p.map(function(v){return v.bitrate;})),m.maxresheight=(0,h.bO)(p.map(function(v){return v.height;})));};c.prototype.CF=function(m){m.cachedManifest="notcached";m.cachedLicense="notcached";m.usedldl="false";};c.prototype.zV=function(){var m,p,q,v;m=this.j.Ba;p=m.Kk;q={totaltime:(0,g.zl)(p.mp()),totalcontenttime:(0,g.zl)(p.oT()),reposcount:this.cW,intrplaycount:this.lB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=m.Ke.value;v && (q.videofr=v.framerate.toFixed(3));(v=p.xla()) && (q.abrdel=v);(v=p.W4() && p.SWa()) && (q.tw_vmaf=v);(p=p.QWa()) && (0,g.Jd)(q,p);q.rbfrs=this.lB;this.l_a(q,m);return q;};c.prototype.mc=function(m,p,q,v){var t,w,u;t=this;p && (0,d.JY)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.za,this.xma(),void 0) && (w="info");u=this.j.Ba;this.jga(v,p,q);p=w || (p?"error":"info");v=this.dy.ss(m,p,v,u);this.Jf.mc(v);"error" !== p && m !== l.Bc.Hx || this.Jf.flush(!1).catch(function(){t.la.debug("Failed to flush the logblobs");});};c.prototype.jga=function(m,p,q){var v;v=this.j.Ba;this.kc.d_a(m,v);q & k.Cd && this.kc.h_a(m,v,!1);q & k.Nr && this.kc.j_a(m,v);q & k.Or && this.kc.k_a(m,this.j.Gm());p && q & k.OC && this.kc.f_a(m,v,p);q & k.vo && this.kc.Cna(m);};b.UO=c;(function(m){m[m.Cd=1]="MOFF";m[m.Nr=2]="PRESENTEDSTREAMS";m[m.Or=4]="SCREEN";m[m.OC=8]="FATALERROR";m[m.vo=16]="BROWSERINFO";})(k || (k={}));},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v,t){this.Jf=m;this.config=p;this.ta=q;this.Ea=v;this.lpa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.VO=void 0;r=a(0);l=a(1);g=a(17);h=a(27);d=a(11);f=a(48);n=a(450);k=a(1139);c.prototype.create=function(m){return new k.XO(m,this.Jf,this.config,this.Ea,this.lpa.create(m));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.dm)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(h.wg)),r.__param(3,(0,l.l)(g.Gc)),r.__param(4,(0,l.l)(n.TO))],a);b.VO=a;},function(r,b,a){var l,g,h;function c(d,f,n,k,m){var p;p=this;this.j=d;this.Jf=f;this.config=n;this.Ea=k;this.$a=m;this.DR=function(){p.og();p.j.Ba.Uh.removeListener(p.Ty);p.j.Ba.yb.removeListener(p.$a.Wk);p.j.Ba.jc.removeListener(p.sl);p.j.Ba.Jg.removeListener(p.$a.nR);p.j.rh.removeListener(p.R5a);p.j.HM.removeListener(p.vj);p.j.Ba.Ld.removeListener(p.IV);p.j.lb.removeListener(p.Ru);p.j.lb.removeListener(p.IJ);p.j.Ba.Ke.removeListener(p.GX);p.j.Ba.playbackRate.removeListener(p.$a.IW);p.j.removeEventListener(h.Ka.closed,p.DR);p.j.removeEventListener(h.Ka.P1,p.$a.Ch);};this.IJ=function(){p.j.lb.value === h.Ya.Td && (p.j.lb.removeListener(p.IJ),p.ht());};this.Ty=function(q){p.Cp && p.$a.Ty(q);};this.vj=function(q){p.Cp && void 0 !== q.newValue && (p.fr && p.so && p.$a.Pra(p.getTime() - p.so,p.fr),p.fr="repos",p.$a.hC(q.newValue,p.j.Ba.gf.value,p.j.Ba.Ld.value),p.so=p.getTime(),(0,g.If)(p.Ru));};this.R5a=function(q){p.Cp && p.$a.J7(!q.newValue);};this.sl=function(q){q.oldValue && (p.$x=q.oldValue,p.$a.sl(q),p.fr="repos",p.so=p.getTime(),(0,g.If)(p.Ru));};this.Ru=function(){var q;if(p.so && p.j.lb.value !== h.Ya.Bf){q=p.getTime() - p.so;p.$a.vt(q,!1,p.fr);p.$x && p.$x != p.j.Ba.jc.value && p.$a.gha();p.so=void 0;p.fr=void 0;}};this.ht=function(){p.Cp || (p.Cp=!0,p.$a.pr(p.j),p.Lna(),p.config().l5 && (p.Vx=mb.setTimeout(function(){p.Jf.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.Vx=void 0;},p.config().l5)));};this.og=function(){p.Vx && (mb.clearTimeout(p.Vx),p.Vx=void 0);p.sX && p.sX();p.Cp?p.$a.Hx():p.j.kh?p.$a.pr(p.j):p.$a.Qra();};this.GX=function(q){q.oldValue && q.Eh && q.Eh.wE && p.$a.px(q.oldValue,q.newValue,q.Eh.wE,q.Eh.sR);};this.IV=function(q){var v;if(q.newValue){v=q.newValue.stream;p.SF != v && (p.SF && v && p.$a.gta(p.SF,v,q.newValue.JJ.startTime),p.SF=v);}};this.C9();}Object.defineProperty(b,"__esModule",{value:!0});b.XO=void 0;l=a(3);g=a(59);h=a(15);c.prototype.C9=function(){this.j.addEventListener(h.Ka.closed,this.DR);this.j.addEventListener(h.Ka.P1,this.$a.Ch);this.j.Ba.Uh.addListener(this.Ty);this.j.Ba.yb.addListener(this.$a.Wk);this.j.Ba.jc.addListener(this.sl);this.j.Ba.Jg.addListener(this.$a.nR);this.j.rh.addListener(this.R5a);this.j.HM.addListener(this.vj);this.j.Ba.Ld.addListener(this.IV);this.j.lb.addListener(this.Ru);this.j.lb.addListener(this.IJ);this.j.Ba.Ke.addListener(this.GX);this.j.Ba.playbackRate.addListener(this.$a.IW);};c.prototype.getTime=function(){return this.Ea.Db().ca(l.na);};c.prototype.Lna=function(){var d,f,n;d=this;n=[];this.config().Z2a && (this.config().$2a.forEach(function(k){n.push(mb.setTimeout(d.$a.my,k));}),this.config().F6 && (f=mb.setInterval(this.$a.my,this.config().F6)),this.sX=function(){n.forEach(function(k){mb.clearTimeout(k);});f && mb.clearInterval(f);});};b.XO=c;},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.lH=void 0;r=a(1);c=a(1141);l=a(1142);g=a(451);h=a(452);b.lH=new r.Xc(function(d){d(h.jLa).to(c.iLa);d(g.gLa).Xk(new l.fLa());d(h.hLa).Md(function(f){return function(){return f.eb.get(h.jLa);};});});},function(r,b,a){var l,g,h,d;function c(f){this.config=f;this.cva=g.Ia;this.dN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.iLa=void 0;r=a(0);l=a(1);g=a(51);h=a(3);a=a(451);c.prototype.Im=function(){var n;for(var f;0 < this.dN.length;){f=this.dN.shift();this.ZOa(f);}f=void 0 === this.dS || void 0 === this.PE?h.Ia:this.PE.wa(this.dS);n=f.C0a()?0:this.cva.ca(g.JC) / f.ca(h.na);return {Nva:Math.floor(n),Fbc:f.ca(h.na)};};c.prototype.Cpb=function(f){this.cva=this.cva.add(f.size);this.dN.push(f.BAb);for(this.dN.sort(function(n,k){return n.start.zk(k.start);});this.dN.length > this.config.CAb;){f=this.dN.shift();this.ZOa(f);}};c.prototype.ZOa=function(f){void 0 === this.dS && (this.dS=f.start);void 0 !== this.PE && 0 > this.PE.zk(f.start) && (this.dS=this.dS.add(f.start.wa(this.PE)));if(void 0 === this.PE || 0 > this.PE.zk(f.end))this.PE=f.end;};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.gLa))],d);b.iLa=d;},function(r,b,a){function c(l){this.CAb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(0);a=a(1);c=r.__decorate([(0,a.U)()],c);b.fLa=c;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.Am=void 0;r=a(1);c=a(26);l=a(11);g=a(1144);h=a(155);d=a(156);f=a(1145);n=a(263);k=a(1146);m=a(453);p=a(454);q=a(1147);v=a(12);t=a(459);w=a(1151);u=a(460);y=a(1152);x=a(267);z=a(1153);A=a(461);B=a(35);C=a(458);D=a(1154);b.Am=new r.Xc(function(E){E(d.wP).to(f.zKa).da();E(c.iw).to(g.uAa).da();E(n.ODa).to(k.NDa).da();E(p.uza).to(q.tza).da();E(n.ZHa).Xk({isTypeSupported:v.xz && v.xz.isTypeSupported});E(m.IBa).AC(function(G){return {eGb:function(){return G.eb.get(B.g_);}};});E(h.QH).AC(function(G){return G.eb.get(l.ac);});E(t.rFa).to(w.oFa).da();E(C.nFa).to(D.mFa).da();E(u.qFa).to(y.pFa).da();E(x.jba).to(z.HBa).da();E(A.mJa).Xk(mb);});},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p){this.config=k;this.pRa=m;this.GTb=p;this.AVb=this.dyb();}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;r=a(0);l=a(26);g=a(155);h=a(1);d=a(40);f=a(453);a=a(454);c.prototype.TYa=function(k){return this.MWa().UYa(k);};c.prototype.VYa=function(k){return this.Ms().UYa(k);};c.prototype.MWa=function(){this.eha && this.eha.type == this.config().fha || (this.eha=this.pRa.kxb(this.config().fha));return this.eha;};c.prototype.Ms=function(){this.s$ && this.s$.type == this.config().t$ || (this.s$=this.pRa.ryb(this.config().t$),this.s$.lga(this.GTb.eGb()));return this.s$;};c.prototype.sGb=function(k){var q;if(!k || !k.length)return l.Me.WY;k=this.FDb(k);for(var m=[l.Me.tP,l.Me.WY,l.Me.wI,l.Me.ZH,l.Me.Qt,l.Me.gz,l.Me.Fz,l.Me.ti],p=m.length;p--;){q=m[p];if((0,this.AVb[q])(k))return q;}return l.Me.tP;};c.prototype.gH=function(k){return this.Ms().gH(k);};c.prototype.tE=function(k){return this.Ms().tE(k);};c.prototype.oF=function(){return this.Ms().oF();};c.prototype.j4=function(){return this.Ms().j4();};c.prototype.TW=function(){return this.Ms().TW();};c.prototype.RW=function(){return this.MWa().RW();};c.prototype.R9=function(){return this.Ms().R9();};c.prototype.UW=function(){return this.Ms().UW();};c.prototype.US=function(k){return this.Ms().US(k);};c.prototype.iT=function(){return this.Ms().iT();};c.prototype.w4=function(){return this.Ms().w4();};c.prototype.FDb=function(k){var m;m={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){m[p.Ue]="";});return Object.keys(m);};c.prototype.dyb=function(){var k;k={};k[l.Me.ti]=function(m){return m.some(function(p){return -1 < p.indexOf("av1");});};k[l.Me.gz]=function(m){return m.some(function(p){return -1 < p.indexOf("hpl");});};k[l.Me.Fz]=function(m){return m.some(function(p){return -1 < p.indexOf("vp9");});};k[l.Me.Qt]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[l.Me.ZH]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[l.Me.wI]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[l.Me.WY]=(function(m,p){var q;q={};m.forEach(function(v){return q[v]=1;});m=ma(p);for(p=m.next();!p.done;p=m.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.QC]);k[l.Me.tP]=function(){return !0;};return k;};n=c;n=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.QH)),r.__param(1,(0,h.l)(a.uza)),r.__param(2,(0,h.l)(f.IBa))],n);b.uAa=n;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v){this.Am=p;this.tb=q;this.K$a=v;this.Vob="video/mp4;codecs={0}";this.olb="audio/mp4;codecs={0}";p=this.Am.US(g.Me.Qt);this.Uob=d.jd.mTa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;r=a(0);g=a(26);h=a(1);d=a(123);f=a(25);n=a(210);k=a(455);m=a(16);c.prototype.I2=function(p){p=this.Am.sGb(p);p=this.tb.JE(p)?p:g.Me.tP;return this.K$a.format(this.Vob,this.Uob[p]);};c.prototype.B2=function(p){if(0 === p.length)return this.K$a.format(this.olb,d.jd.J$);p=k.tya[p[0].Ue] || l.dxa;return p === l.dxa?m.UEa:p === l.vdb?m.VEa:m.TEa;};a=l=c;a.dxa="AAC";a.vdb="XHEAAC";a=l=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(g.iw)),r.__param(1,(0,h.l)(f.Qf)),r.__param(2,(0,h.l)(n.Lda))],a);b.zKa=a;},function(r,b,a){var l,g,h,d,f;function c(n,k){this.config=n;this.lzb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.NDa=void 0;r=a(0);l=a(1);g=a(263);h=a(155);d=a(26);f=a(264);c.prototype.aTa=function(){switch(this.config().t$){case d.ml.ww:return f.vz.Lxb();default:return this.lzb;}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.QH)),r.__param(1,(0,l.l)(g.ZHa))],a);b.NDa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z;function c(A,B,C,D,E,G,F,H,K,O){this.x0a=A;this.config=B;this.oc=C;this.ta=D;this.is=E;this.ao=G;this.Il=F;this.platform=H;this.dc=K;this.ly=O;}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;r=a(0);l=a(1);g=a(26);h=a(263);d=a(155);f=a(1148);n=a(1149);k=a(266);m=a(456);p=a(46);q=a(27);v=a(25);t=a(1150);w=a(96);u=a(6);y=a(43);x=a(29);a=a(458);c.prototype.kxb=function(A){var B;B=this.x0a.aTa();switch(A){case g.Nt.ww:return new f.QFa(this.config,B,this.is,this.platform,this.ly);default:return new m.CY(this.config,B,this.ly);}};c.prototype.ryb=function(A){var B;B=this.x0a.aTa();switch(A){case g.ml.PH:A=new t.Bza(this.config,B,this.is,this.ao,this.Il,this.ta,this.ly);break;case g.ml.ww:A=new n.YEa(this.config,B,this.is,this.oc,this.ta,this.Il,this.dc,this.ly,this.ao);break;default:A=new k.nz(this.config,B,this.is,this.ly);}return A;};z=c;z=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ODa)),r.__param(1,(0,l.l)(d.QH)),r.__param(2,(0,l.l)(p.wi)),r.__param(3,(0,l.l)(q.wg)),r.__param(4,(0,l.l)(v.Qf)),r.__param(5,(0,l.l)(w.vw)),r.__param(6,(0,l.l)(u.Va)),r.__param(7,(0,l.l)(y.hn)),r.__param(8,(0,l.l)(x.$g)),r.__param(9,(0,l.l)(a.nFa))],z);b.tza=z;},function(r,b,a){var l,g,h,d,f;function c(n,k,m,p,q){n=d.CY.call(this,n,k,q) || this;n.is=m;n.platform=p;n.type=l.Nt.ww;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;l=a(26);g=a(40);h=a(74);d=a(456);f=a(264);ha(c,d.CY);c.prototype.RW=function(){return Promise.resolve(this.config().iK && this.lx(h.hb.Ew,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.rq=function(){var n,k;n={};n=(n[g.pd.RC]="mp4a.40.2",n[g.pd.SC]="mp4a.40.2",n);if("browser" === this.platform.Fja){k={};return Object.assign(Object.assign({},n),(k[g.pd.tO]=this.config().iK?{md:"avc1",keySystem:h.hb.Ew,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.pd.uO]=this.config().iK?{md:"avc1",keySystem:h.hb.Ew,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.pd.nZ]=void 0,k[g.pd.Mw]=void 0,k[g.pd.nY]=void 0,k));}k={};return Object.assign(Object.assign({},n),(k[g.pd.tO]=this.config().UUa?"ec-3":void 0,k[g.pd.nY]=this.config().TUa?"ec-3":void 0,k[g.pd.uO]=this.config().iK?{md:"avc1",keySystem:h.hb.Ew,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.pd.nZ]=void 0,k[g.pd.Mw]=void 0,k));};c.prototype.Jka=function(n){var k,m,p;n=this.LV[n];k=[];m=h.hb.Ew;if(n){if(this.is.Po(n))p=n;else (k=n.features,p=n.md,m=n.keySystem);return this.lx(m,p,k)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.lx=function(n,k,m){n=f.vz.D2(n,k,m);return this.tE(n);};b.QFa=c;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D;function c(E,G,F,H,K,O,I,P,N){E=g.nz.call(this,E,G,F,P) || this;E.oc=H;E.ta=K;E.Il=O;E.dc=I;E.ly=P;E.ao=N;E.type=h.ml.ww;E.qO="hvc1";E.Ieb="avc1";E.A5a={};E.log=E.Il.Sa("MicrosoftVideoCapabilityDetector");E.u0b();E.SW && E.config().wPb?E.CUa=E.Axb():(E.CUa=Promise.resolve(""),E.config().yPb?E.Hxb():E.config().xPb && E.Gxb());return E;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;l=a(40);g=a(266);h=a(26);r=a(125);d=a(74);f=a(3);n=a(341);k=a(123);m=a(264);p=a(41);q=a(165);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=new r.pD();D=new n.qaa();ha(c,g.nz);c.prototype.US=function(E){return E === h.Me.Qt && this.config().i4b?k.jd.oba:g.nz.prototype.US.call(this,E);};c.prototype.gH=function(E){switch(E){case h.xo.OZ:return this.W$a();case h.xo.ZC:return this.NV;default:return Promise.resolve(!1);}};c.prototype.oF=function(){var G;function E(){return G.SW?G.XJb?G.W$a().then(function(F){return Promise.resolve(F?d.hb.xd:d.hb.jD);}):Promise.resolve(d.hb.jD):G.t1b?Promise.resolve(d.hb.jD):Promise.resolve(d.hb.Ew);}G=this;this.keySystem || (this.keySystem=this.config().zr?this.ao.SA().then(function(F){return F.keySystem;}):E());return this.keySystem;};c.prototype.j4=function(){return this.CUa;};c.prototype.TW=function(){return Promise.resolve({result:this.V$a(),reason:"is-type-supported"});};c.prototype.UW=function(){return this.SW && this.Y$a()?this.NV:Promise.resolve(!1);};c.prototype.R9=function(){return Promise.resolve(this.U$a()).then(function(E){return {result:E,reason:"isTypeSupportedWithFeatures"};});};c.prototype.lga=function(E){this.Bp=E;Object.assign(this.Bp,this.A5a);E.itshwdrm=this.SW;E.itsqhd=this.X$a();E.itshevc=this.Y$a();E.itshdr=this.V$a();E.itsdv=this.U$a();E.itsav1=this.q1b();this.uwa();};c.prototype.aR=function(E,G){(this.Bp?this.Bp:this.A5a)[E]=G;};c.prototype.iT=function(){var E;E=this;return this.gH(h.xo.ZC).then(function(G){return G?E.C2(h.xo.ZC):E.gH(h.xo.OZ).then(function(F){return F?E.C2(h.xo.OZ):E.C2(void 0);});});};c.prototype.w4=function(){return this.config().zr?Promise.resolve(void 0):this.oF().then(function(E){return E === d.hb.xd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Jka=function(E){var G;G=this;return this.oF().then(function(F){var H,K,O;H=G.LV[E];if(H){K=[];if(G.is.Po(H))O=H;else (K=H.features,O=H.md,F=H.keySystem);return G.lx(F,O,K)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.rq=function(){var E;E=g.nz.prototype.rq.call(this);E[l.H.EP]=E[l.H.O_]=E[l.H.N_]=E[l.H.Vda]={md:"vp09.00.11.08.02",keySystem:d.hb.xd,features:v};E[l.H.rZ]=E[l.H.qZ]=E[l.H.pZ]={md:"hev1.2.6.L90.B0",keySystem:d.hb.xd,features:t};E[l.H.uZ]=E[l.H.tZ]=E[l.H.sZ]={md:"hev1.2.6.L93.B0",keySystem:d.hb.xd,features:t};E[l.H.xZ]=E[l.H.wZ]=E[l.H.vZ]={md:"hev1.2.6.L120.B0",keySystem:d.hb.xd,features:t};E[l.H.AZ]=E[l.H.zZ]=E[l.H.yZ]={md:"hev1.2.6.L123.B0",keySystem:d.hb.xd,features:t};E[l.H.CZ]=E[l.H.EO]=E[l.H.BZ]={md:"hev1.2.6.L150.B0",keySystem:d.hb.xd,features:t};E[l.H.EZ]=E[l.H.FO]=E[l.H.DZ]={md:"hev1.2.6.L153.B0",keySystem:d.hb.xd,features:t};E[l.H.ZY]=E[l.H.YY]=E[l.H.XY]={md:"hev1.2.6.L90.B0",keySystem:d.hb.xd,features:u};E[l.H.bZ]=E[l.H.aZ]=E[l.H.$Y]={md:"hev1.2.6.L93.B0",keySystem:d.hb.xd,features:u};E[l.H.dZ]=E[l.H.DO]=E[l.H.cZ]={md:"hev1.2.6.L120.B0",keySystem:d.hb.xd,features:u};E[l.H.gZ]=E[l.H.fZ]=E[l.H.eZ]={md:"hev1.2.6.L123.B0",keySystem:d.hb.xd,features:y};E[l.H.jZ]=E[l.H.iZ]=E[l.H.hZ]={md:"hev1.2.6.L150.B0",keySystem:d.hb.xd,features:y};E[l.H.mZ]=E[l.H.lZ]=E[l.H.kZ]={md:"hev1.2.6.L153.B0",keySystem:d.hb.xd,features:y};E[l.H.qY]=E[l.H.pY]={md:"hev1.2.6.L90.B0",keySystem:d.hb.xd,features:x};E[l.H.sY]=E[l.H.rY]={md:"hev1.2.6.L93.B0",keySystem:d.hb.xd,features:x};E[l.H.tY]=E[l.H.Qaa]=E[l.H.vO]={md:"hev1.2.6.L120.B0",keySystem:d.hb.xd,features:x};E[l.H.vY]=E[l.H.Raa]=E[l.H.uY]={md:"hev1.2.6.L123.B0",keySystem:d.hb.xd,features:z};E[l.H.xY]=E[l.H.Saa]=E[l.H.wY]={md:"hev1.2.6.L150.B0",keySystem:d.hb.xd,features:z};E[l.H.zY]=E[l.H.Taa]=E[l.H.yY]={md:"hev1.2.6.L153.B0",keySystem:d.hb.xd,features:z};E[l.H.ez]={md:"av01.0.04M.10",keySystem:d.hb.xd,features:v};E[l.H.fz]={md:"av01.0.05M.10",keySystem:d.hb.xd,features:v};E[l.H.ZN]={md:"av01.0.08M.10",keySystem:d.hb.xd,features:v};E[l.H.$N]={md:"av01.0.09M.10",keySystem:d.hb.xd,features:v};E[l.H.XX]={md:"av01.0.12M.10",keySystem:d.hb.xd,features:w};E[l.H.YX]={md:"av01.0.13M.10",keySystem:d.hb.xd,features:w};return E;};c.prototype.lx=function(E,G,F){E=m.vz.D2(E,G,F);return this.tE(E);};c.prototype.X$a=function(){return this.lx(d.hb.xd,this.qO,t);};c.prototype.V$a=function(){return this.lx(d.hb.xd,this.qO,u);};c.prototype.U$a=function(){return this.lx(d.hb.xd,this.qO,x);};c.prototype.q1b=function(){return this.lx(d.hb.xd,k.jd.ti,v);};c.prototype.Y$a=function(){return this.lx(d.hb.xd,this.qO,w);};c.prototype.W$a=function(){var E;E=this;return this.NV.then(function(G){return G?Promise.resolve(G):E.x6a;});};c.prototype.uwa=function(){this.Bp && (this.Bp.itshdcp=JSON.stringify({hdcp1:this.DZa,time1:this.tab - this.m$a,hdcp2:this.EZa,time2:this.uab - this.n$a}));};c.prototype.u0b=function(){var E;E=this;this.SW?(this.NV=this.wYa(this.config().Y2a,this.config().APb,function(){var G;G=E.pGb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.x6a=this.NV.then(function(G){return G?!0:E.wYa(E.config().Y2a,E.config().zPb,function(){var F;F=E.oGb();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;});})):(this.x6a=Promise.resolve(!0),this.NV=Promise.resolve(!1));};c.prototype.wYa=function(E,G,F){var H;H=this;return new Promise(function(K){var O,I,P,N;O=ma(F());I=O.next().value;O=O.next().value;if(I)return K(O);P=H.oc.QM((0,f.Jb)(E),function(){var J,L;J=ma(F());L=J.next().value;J=J.next().value;L && (P.cancel(),N.cancel(),K(J));});N=H.oc.Cj((0,f.Jb)(G),function(){P.cancel();N.cancel();K("timeout");});});};c.prototype.oGb=function(){var E;E=m.vz.D2(d.hb.jD,this.Ieb,A).split("|");this.DZa=m.vz.Eva(E[0],E[1]);this.tab=this.ta.se.ca(f.na);this.m$a=this.m$a || this.tab;this.uwa();return this.DZa;};c.prototype.pGb=function(){var E;E=m.vz.D2(d.hb.xd,this.qO,B).split("|");this.EZa=m.vz.Eva(E[0],E[1]);this.uab=this.ta.se.ca(f.na);this.n$a=this.n$a || this.uab;this.uwa();return this.EZa;};c.prototype.Axb=function(){var E;E=this;return this.Yia(d.hb.xd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.LGa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){E.log.debug("DriverInfo: " + G);return G;}).catch(function(G){E.aR("itsDriverInfo","exception");E.log.error("DriverInfo exception",G);throw G;});};c.prototype.Gxb=function(){var E;E=this;this.Yia(d.hb.Ew,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.dc.decode(G));E.aR("itsHardwareInfo",F);E.log.debug("HardwareInfo: " + F);return G;}).catch(function(G){E.aR("itsHardwareInfo","exception");E.log.error("HardwareInfo exception",G);throw G;});};c.prototype.Hxb=function(){var E;E=this;this.Yia(d.hb.Ew,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.dc.decode(G));E.aR("itsHardwareReset",F);E.log.debug("ResetHardwareDRMDisabled: " + F);return G;}).catch(function(G){E.aR("itsHardwareReset","exception");E.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.Yia=function(E,G){var F;F=this;return new Promise(function(H,K){var L,R,ka;function O(la){try{N(la.target,"Unexpectedly got an mskeyerror event: 0x" + D.eF(la && la.target && la.target.error && la.target.error.ufc || 0,4));}catch(X){N(la.target,X);}}function I(la){N(la.target,"Unexpectedly got an mskeyadded event");}function P(la){var X;try{X=F.Dka(la.message,"PlayReadyKeyMessage","Challenge");J(la.target);H(X);}catch(da){N(la.target,da);}}function N(la,X){F.log.error("PlayReadyChallenge error",{cdmData:G});J(la);K(X);}function J(la){la.removeEventListener("mskeymessage",P);la.removeEventListener("mskeyadded",I);la.removeEventListener("mskeyerror",O);ka && ka.cancel();}try{L=new Uint8Array(C.I$a(G));R=new mb.MSMediaKeys(E).createSession("video/mp4",new Uint8Array(0),L);R.addEventListener("mskeymessage",P);R.addEventListener("mskeyadded",I);R.addEventListener("mskeyerror",O);ka=F.oc.Cj((0,f.Jb)(1E3),function(){N(R,Error("timeout"));});}catch(la){K(la);}});};c.prototype.Dka=function(E,G){var H,K,O;for(var F=1;F < arguments.length;++F){;}F="";K=E.length;for(H=0;H < K;H++){O=E[H];0 < O && (F+=String.fromCharCode(O));}K="\\s*(.*)\\s*";for(H=arguments.length - 1;0 < H;H--){O=arguments[H];if(0 > F.search(O))return;O="(?:[^:].*:|)" + O;K="[\\s\\S]*<" + O + "[^>]*>" + K + "</" + O + ">[\\s\\S]*";}if(F=F.match(new RegExp(K)))return F[1];};c.prototype.ooa=function(E){var G;G=this;return this.oF().then(function(F){return [q.wd.gz,q.wd.Fz,q.wd.ti].some(function(H){return H.test(E);}) && !q.wd.YDa.test(E) && G.config().X2a && ![d.hb.jD,d.hb.eIa].some(function(H){return H === F;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Sa.Object.defineProperties(c.prototype,{XJb:{configurable:!0,enumerable:!0,get:function(){return this.config().XUa && (!this.config().BPb || this.X$a());}},SW:{configurable:!0,enumerable:!0,get:function(){try{return this.tE(d.hb.xd + "|" + k.jd.dqa);}catch(E){return !1;}}},t1b:{configurable:!0,enumerable:!0,get:function(){try{return this.tE(d.hb.jD);}catch(E){return !1;}}}});b.YEa=c;},function(r,b,a){var l,g,h,d,f;function c(n,k,m,p,q,v,t){n=l.nz.call(this,n,k,m,t) || this;n.ao=p;n.Il=q;n.ta=v;n.ly=t;n.type=g.ml.PH;n.log=n.Il.Sa("ChromeVideoCapabilityDetector");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Bza=void 0;l=a(266);g=a(26);h=a(3);d=a(41);f=a(165);ha(c,l.nz);c.prototype.gH=function(n){switch(n){case g.xo.ZC:return this.r1b;default:return Promise.resolve(!1);}};c.prototype.iT=function(){var n;n=this;return this.gH(g.xo.ZC).then(function(k){return k?g.xo.ZC:void 0;}).then(function(k){return n.C2(k);});};c.prototype.lga=function(n){this.Bp=n;};c.prototype.oMb=function(n){var k;return !(null === (k=n.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(m){return (null === m || void 0 === m?void 0:m.robustness) === d.St;}));};c.prototype.Dbb=function(){var n;if(this.Bp){n=this.FZa && this.HZa && this.FZa.wa(this.HZa).ca(h.na);this.Bp.itshdcp=JSON.stringify({hdcp2:this.Ns,time2:n});}};c.prototype.ooa=function(n){var k;k=this;return this.ao.SA().then(function(m){m=(0,d.r4)(m);return [f.wd.gz,f.wd.Fz,f.wd.ti].some(function(p){return p.test(n);}) && !f.wd.YDa.test(n) && k.config().X2a && m === d.St?{supported:!1,reason:"mcclearen-restricted"}:f.wd.vgb.test(n) && !(k.config().pBb || k.config().WUa && m === d.St) || f.wd.wI.test(n) && (!k.config().WUa || m !== d.St)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Sa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.Q2a || (this.Q2a=this.ao.SA().then(function(n){return n.createMediaKeys();}));return this.Q2a;}},r1b:{configurable:!0,enumerable:!0,get:function(){var n;n=this;this.Fva || (this.config().rBb?this.Fva=Promise.all([this.ao.SA(),this.mediaKeys]).then(function(k){var m;m=ma(k);k=m.next().value;m=m.next().value;if(!n.oMb(k))return (n.Ns="not HW_SECURE_ALL",n.log.trace("hdcpStatus: " + n.Ns),!1);if(m && m.getStatusForPolicy)return (n.HZa=n.ta.se,m.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){n.FZa=n.ta.se;n.Ns=p;n.log.trace("hdcpStatus: " + n.Ns);return "usable" === n.Ns;}));n.Ns="not available";n.log.trace("hdcpStatus: " + n.Ns);return !1;}).catch(function(k){n.Ns="exception";n.log.error("Exception in supportsHdcpLevel",{hdcpStatus:n.Ns},k);return !1;}).then(function(k){n.Dbb();return k;}):(this.Ns="not enabled",this.log.trace("hdcpStatus: " + this.Ns),this.Dbb(),this.Fva=Promise.resolve(!1)));return this.Fva;}}});b.Bza=c;},function(r,b,a){var l,g;function c(h){this.navigator=h;this.N2a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;r=a(0);l=a(1);a=a(35);c.prototype.Ika=function(h){return this.N2a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:h.contentType,width:h.width,height:h.height,bitrate:h.bitrate,framerate:h.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.jI))],g);b.oFa=g;},function(r,b,a){var l,g,h,d;function c(f,n){this.mediaCapabilities=f;this.log=n.Sa("MediaCapabilities");this.LV=d.DY.rq();}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(0);l=a(459);g=a(6);h=a(1);d=a(239);c.prototype.Ika=function(f){var n,k,m,p;n=this;m={re:void 0};if(this.mediaCapabilities.N2a){p={contentType:'video/mp4;codecs="' + (null !== (k=this.LV[f.Ue]) && void 0 !== k?k:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.Ika(p).then(function(q){return m.re=Object.assign(Object.assign({},q),p);}).catch(function(q){return n.log.error("Error calling MediaCapabilities API",q);});}return m;};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(l.rFa)),r.__param(1,(0,h.l)(g.Va))],a);b.pFa=a;},function(r,b,a){var l,g,h;function c(d){this.SUb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;r=a(0);l=a(1);g=a(267);a=a(461);c.prototype.YCb=function(){var d,f;d={uK:g.pw.Pkb};try{f=this.SUb.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(n){var k;d.uK=n.value?g.pw.lJa:g.pw.hxa;if(d.uK === g.pw.hxa){k=function(){n.value && (d.uK=g.pw.lJa);n.removeEventListener("change",k);};n.addEventListener("change",k);}}).catch(function(){d.uK=g.pw.Error;});}catch(n){d.uK=g.pw.Error;}return d;};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.mJa))],h);b.HBa=h;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t){this.config=p;this.navigator=q;this.Il=v;this.JL=t;this.lQa={};this.ncb={};this.wga={};this.log=this.Il.Sa("MediaCapabilityDetector");this.lQa=this.jxb();this.ncb=this.qyb();}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;r=a(0);l=a(1);g=a(40);h=a(6);d=a(35);f=a(96);n=a(155);k=a(41);m=a(12);c.prototype.AS=function(p){var q;q=this;return this.JL.SA().then(function(v){return q.lDb(p,v);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.GLb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.boa=function(){return mb.matchMedia("(dynamic-range: high)").matches;};c.prototype.lDb=function(p,q){var v,t,w;try{v={type:"media-source"};t=this.lQa[p];w=this.ncb[p];if(t)v.audio=t;else if(w){v.video=w;if(this.GLb(w) && !this.boa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (v.keySystemConfiguration=this.EGb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.Ytb(v),this.Wtb((t || w).contentType)]).then(function(u){var y;y=ma(u);u=y.next().value;y=y.next().value;return u?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(u){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",u),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.Ytb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(v){var t;v.configuration || (v.configuration=p);t=q.fMb(p,v);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(v)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(v));return t;}).catch(function(v){q.log.error("mediaCapabilities.decodingInfo failed",v);return !1;});};c.prototype.Wtb=function(p){var q;q=this;if(!this.config().zBb)return Promise.resolve(!0);this.wga[p] || (this.wga[p]=new Promise(function(v){var t;try{t=new m.xz();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);v(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}}));return this.wga[p];};c.prototype.EGb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,k.r4)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.jxb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[g.pd.RC]=q;p[g.pd.nZ]=q;p[g.pd.SC]=q;p[g.pd.Mw]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[g.pd.tO]=q;p[g.pd.nY]=q;p[g.pd.uO]=q;return p;};c.prototype.qyb=function(){var p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};v={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},v),{bitrate:12E6,framerate:30});u=Object.assign(Object.assign({},v),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);F=Object.assign(Object.assign(Object.assign({},p),w),z);H=Object.assign(Object.assign(Object.assign({},p),u),z);K=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),w),A);O=Object.assign(Object.assign(Object.assign({},q),u),A);I=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),u);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[g.H.PC]=t,A[g.H.QC]=t,A[g.H.VY]=t,A[g.H.dCa]=t,A[g.H.eCa]=t,A[g.H.fCa]=t,A[g.H.bCa]=v,A[g.H.PY]=v,A[g.H.RY]=v,A[g.H.TY]=v,A[g.H.cCa]=v,A[g.H.QY]=v,A[g.H.SY]=v,A[g.H.UY]=v,A[g.H.Vda]=B,A[g.H.N_]=B,A[g.H.O_]=B,A[g.H.EP]=B,A[g.H.pba]=C,A[g.H.qba]=C,A[g.H.rba]=C,A[g.H.sba]=D,A[g.H.qZ]=C,A[g.H.tZ]=C,A[g.H.wZ]=C,A[g.H.zZ]=D,A[g.H.EO]=E,A[g.H.FO]=G,A[g.H.rZ]=C,A[g.H.uZ]=C,A[g.H.xZ]=C,A[g.H.AZ]=D,A[g.H.CZ]=E,A[g.H.EZ]=G,A[g.H.pZ]=C,A[g.H.sZ]=C,A[g.H.vZ]=C,A[g.H.yZ]=D,A[g.H.BZ]=E,A[g.H.DZ]=G,A[g.H.YY]=F,A[g.H.aZ]=F,A[g.H.DO]=F,A[g.H.fZ]=H,A[g.H.iZ]=K,A[g.H.lZ]=p,A[g.H.ZY]=F,A[g.H.bZ]=F,A[g.H.dZ]=F,A[g.H.gZ]=H,A[g.H.jZ]=K,A[g.H.mZ]=p,A[g.H.XY]=F,A[g.H.$Y]=F,A[g.H.cZ]=F,A[g.H.eZ]=H,A[g.H.hZ]=K,A[g.H.kZ]=p,A[g.H.pY]=z,A[g.H.rY]=z,A[g.H.vO]=z,A[g.H.uY]=O,A[g.H.wY]=I,A[g.H.yY]=q,A[g.H.Qaa]=z,A[g.H.Raa]=O,A[g.H.Saa]=I,A[g.H.Taa]=q,A[g.H.qY]=z,A[g.H.sY]=z,A[g.H.tY]=z,A[g.H.vY]=O,A[g.H.xY]=I,A[g.H.zY]=q,A[g.H.exa]=w,A[g.H.fxa]=w,A[g.H.ez]=w,A[g.H.fz]=w,A[g.H.ZN]=w,A[g.H.$N]=u,A[g.H.XX]=y,A[g.H.YX]=x,A);};c.prototype.fMb=function(p,q){return p.video && this.config().qUb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(n.QH)),r.__param(1,(0,l.l)(d.jI)),r.__param(2,(0,l.l)(h.Va)),r.__param(3,(0,l.l)(f.vw))],a);b.mFa=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(1);c=a(462);l=a(188);g=a(463);h=a(1156);d=a(268);f=a(1157);n=a(1160);k=a(1161);m=a(81);p=a(464);q=a(1163);b.storage=new r.Xc(function(v){v(l.dGa).Md(function(){return function(){return mb.localStorage;};});v(l.YCa).Md(function(){return function(){return mb.indexedDB;};});v(p.NFa).to(q.MFa).da();v(m.dw).to(k.Nxa).da();v(g.tEa).to(h.sEa).da();v(c.MZ).to(n.ADa).da();v(d.CDa).to(f.BDa).da();v(d.XCa).to(f.WCa).da();v(d.EDa).to(f.DDa).da();});},function(r,b,a){var l,g,h;function c(d){this.XB=d;}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;r=a(0);l=a(1);g=a(2);a=a(188);c.prototype.load=function(d){var f;f=this;return new Promise(function(n,k){var m,p;try{m=f.XB.getItem(d);if(m){p=m;if("{" === m[0])try{p=JSON.parse(m) || m;}catch(q){}n({key:d,value:p});}else k({za:g.R.Iw});}catch(q){k({za:g.R.YJa,cause:q});}});};c.prototype.save=function(d,f,n){var k;k=this;return new Promise(function(m,p){if(n && k.XB.getItem(d))m(!1);else try{"string" === typeof f?k.XB.setItem(d,f):k.XB.setItem(d,JSON.stringify(f));m(!0);}catch(q){p({za:g.R.ZJa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(n,k){try{f.XB.removeItem(d);n();}catch(m){k({za:g.R.yda,cause:m});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.uib))],h);b.sEa=h;},function(r,b,a){var h,d,f,n,k,m,p,q,v,t,w,u;function c(y,x,z,A,B,C){this.config=x;this.SR=z;this.Sk=A;this.G4b=B;this.nk=C;this.la=y.Sa(m.NKa);}function l(y,x){this.config=y;this.yN=x;}function g(y,x,z,A,B){this.config=x;this.yN=z;this.nk=B;this.la=y.Sa(m.NKa);this.SR=new Promise(function(C,D){var E;try{E=A();E?C(E):D({za:k.R.$Ca});}catch(G){D({za:k.R.LZ,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.DDa=b.BDa=b.WCa=void 0;r=a(0);h=a(1);d=a(6);f=a(1158);n=a(188);k=a(2);m=a(1159);p=a(462);q=a(63);v=a(81);t=a(83);w=a(268);u=a(56);g.prototype.create=function(){this.lja || (this.lja=this.QJ());return this.lja;};g.prototype.ys=function(y){var x;x=this;this.lja=null;return this.yN.Lp(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.Xp?Promise.reject({za:k.R.LZ}):z.za?Promise.reject(z):Promise.reject({za:k.R.LZ,cause:z});});};g.prototype.delete=function(y){var x;x=this;return this.yN.Lp(this.config.timeout,new Promise(function(z,A){x.SR.then(function(B){var C;C=B.deleteDatabase(y);C.onsuccess=function(){z();};C.onerror=function(){A({za:k.R.LZ,cause:C.error});};}).catch(function(B){A(B);});}));};g.prototype.QJ=function(){var y,x;y=this;return this.yN.Lp(this.config.timeout,new Promise(function(z,A){if(y.config.ava)return A({za:y.config.ava});y.SR.then(function(B){y.nk.mark(u.$i.Xgb);x=B.open(y.config.name,y.config.version);if(!x)return A({za:k.R.aDa});x.onblocked=function(){y.nk.mark(u.$i.Ugb);A({za:k.R.Qgb});};x.onupgradeneeded=function(){var C;y.nk.mark(u.$i.dhb);C=x.result;try{C.createObjectStore(y.config.aV,{keyPath:"name"});}catch(D){y.la.error("Exception while creating object store",D);}};x.onsuccess=function(C){var D,E;y.nk.mark(u.$i.chb);try{D=C.target.result;E=D.objectStoreNames.length;y.la.trace("objectstorenames length ",E);if(0 === E){y.la.error("invalid indexedDb state, deleting");y.nk.mark(u.$i.Wgb);try{D.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({za:k.R.Pgb});},1);return;}}catch(G){y.la.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.nk.mark(u.$i.Vgb);y.la.error("IndexedDB open error",x.error);A({za:k.R.Rgb,cause:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.Xp){try{x && x.readyState && y.nk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.y1 && x && "done" === x.readyState){if(y.A4b(x))return (y.nk.mark(u.$i.ahb),Promise.resolve(x.result));y.nk.mark(u.$i.$gb);}y.nk.mark(u.$i.Zgb);return Promise.reject({za:k.R.Tgb});}if(z.za)return Promise.reject(z);y.nk.mark(u.$i.Ygb);y.la.error("IndexedDB open exception occurred",z);return Promise.reject({za:k.R.Sgb,cause:z});});};g.prototype.A4b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.nk.mark(u.$i.bhb);this.la.error("failed to check open request state",x);}return !1;};a=g;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.Va)),r.__param(1,(0,h.l)(p.MZ)),r.__param(2,(0,h.l)(q.Bz)),r.__param(3,(0,h.l)(n.YCa)),r.__param(4,(0,h.l)(t.vI))],a);b.WCa=a;l.prototype.create=function(y){return Promise.resolve(new f.zDa(this.config,this.yN,y));};a=l;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(p.MZ)),r.__param(1,(0,h.l)(q.Bz))],a);b.BDa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.PR || (this.PR=this.QJ(this.G4b));return this.PR;};c.prototype.QJ=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.nk.mark(u.$i.rkb);x.SR.create().then(function(B){x.Sk.create(B).then(function(C){Promise.all(y.map(function(D){return D.validate(C);})).then(function(){x.storage=C;z(x.storage);}).catch(function(D){x.la.debug("DB validation failed, cause: " + D);x.config.mWa?(x.la.debug("Fixing corrupt DB"),x.SR.ys(B).then(function(){x.la.error("Invalid database deleted, creating new database.");x.QJ().then(function(E){x.la.error("Invalid database successfully recreated.");x.storage=E;z(x.storage);});}).catch(function(E){x.la.error("Couldn't delete invalid database.");A(E);})):(x.la.debug("Ignoring invalid DB due to config"),x.storage=C,z(x.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.Va)),r.__param(1,(0,h.l)(p.MZ)),r.__param(2,(0,h.l)(w.XCa)),r.__param(3,(0,h.l)(w.CDa)),r.__param(4,(0,h.optional)()),r.__param(4,(0,h.eG)(v.Bkb)),r.__param(5,(0,h.l)(t.vI))],a);b.DDa=a;},function(r,b,a){var g,h,d;function c(f,n,k){this.config=f;this.lo=n;this.XB=k;}function l(f,n){this.reason=f;this.cause=n;}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=b.AJa=void 0;g=a(2);h=a(63);(function(f){f[f.rca=0]="NoData";f[f.Error=1]="Error";f[f.uI=2]="Timeout";})(d=b.AJa || (b.AJa={}));c.prototype.load=function(f){var n;n=this;return new Promise(function(k,m){n.z3("get",!1,f).then(function(p){k({key:f,value:p});}).catch(function(p){var q;q=g.R.YJa;switch(p.reason){case d.rca:q=g.R.Iw;break;case d.uI:q=g.R.skb;}m({za:q,cause:p.cause});});});};c.prototype.save=function(f,n,k){var m;m=this;return new Promise(function(p,q){m.z3(k?"add":"put",!0,{name:f,data:n}).then(function(){p(!k);}).catch(function(v){var t;t=g.R.ZJa;switch(v.reason){case d.uI:t=g.R.vkb;}q({za:t,cause:v.cause});});});};c.prototype.remove=function(f){var n;n=this;return new Promise(function(k,m){n.z3("delete",!0,f).then(function(){k();}).catch(function(p){var q;q=g.R.yda;switch(p.reason){case d.uI:q=g.R.XJa;}m({za:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(n,k){f.z3("clear",!0,"").then(function(){n();}).catch(function(m){var p;p=g.R.yda;switch(m.reason){case d.uI:p=g.R.XJa;}k({za:p,cause:m.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.lo.Lp(this.config.timeout,new Promise(function(n,k){var m,p,q;if(f.config.$ua)k(new l(f.config.$ua));else {m=[];p=f.XB.transaction(f.config.aV,"readonly");q=p.objectStore(f.config.aV).openCursor();p.onerror=function(){k(new l(d.Error,q.error));};q.onsuccess=function(v){if(v=v.target.result)try{m.push({key:v.value.name,value:v.value.data});v.continue();}catch(t){k(new l(d.Error,t));}else n(m);};q.onerror=function(){k(new l(d.Error,q.error));};}})).catch(function(n){return n instanceof h.Xp?Promise.reject(new l(d.uI,n)):n instanceof l?Promise.reject(n):Promise.reject(new l(d.Error,n));});};c.prototype.z3=function(f,n,k){var m;m=this;return this.lo.Lp(this.config.timeout,new Promise(function(p,q){var v,t;v=m.XB.transaction(m.config.aV,n?"readwrite":"readonly");t=v.objectStore(m.config.aV)[f](k);v.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(w){var u;if("get" == f)try{u=w.target.result;u?p(u.data):q(new l(d.rca));}catch(y){q(new l(d.rca,y));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof h.Xp?Promise.reject(new l(d.uI,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.zDa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NKa="Storage";},function(r,b,a){var l,g,h,d,f;function c(n,k){n=h.Le.call(this,n,"IndexedDBConfigImpl") || this;n.config=k;n.version=1;n.aV="namedatapairs";return n;}Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;r=a(0);l=a(1);g=a(44);h=a(45);d=a(37);a=a(31);ha(c,h.Le);Sa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Jx?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.x$a;}},y1:{configurable:!0,enumerable:!0,get:function(){return this.config.y1;}},ava:{configurable:!0,enumerable:!0,get:function(){return 0;}},$ua:{configurable:!0,enumerable:!0,get:function(){return 0;}},mWa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([g.config(g.Wy,"simulateIdbOpenError")],f.prototype,"ava",null);r.__decorate([g.config(g.Wy,"simulateIdbLoadAllError")],f.prototype,"$ua",null);r.__decorate([g.config(g.Kc,"fixInvalidDatabase")],f.prototype,"mWa",null);f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ll)),r.__param(1,(0,l.l)(d.$m))],f);b.ADa=f;},function(r,b,a){var g,h,d,f,n,k,m;function c(p,q,v,t){this.la=p;this.config=q;this.eKb=v;this.Xpa=t;this.AE={mem:{storage:this.Xpa,key:"mem"}};this.vC=this.config.vC;}function l(p,q,v,t){this.tf=p;this.Sk=q;this.Xpa=v;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Y$=b.Nxa=void 0;r=a(0);g=a(1);h=a(2);d=a(268);f=a(6);n=a(464);k=a(1162);a=a(37);l.prototype.create=function(){this.PR || (this.PR=this.QJ());return this.PR;};l.prototype.QJ=function(){this.Fqb=new c(this.tf.Sa("AppStorage"),this.config,this.Sk,this.Xpa);return this.Fqb.create();};m=l;m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.Va)),r.__param(1,(0,g.l)(d.EDa)),r.__param(2,(0,g.l)(n.NFa)),r.__param(3,(0,g.l)(a.$m))],m);b.Nxa=m;c.prototype.create=function(){var p;p=this;return this.Jxb().then(function(q){if(!p.Dtb(q,p.config.ET))throw p.CQb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(v,t){q.WS(p).storage.load(p).then(function(w){v(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,v){var t;t=this;return new Promise(function(w,u){t.WS(p).storage.save(p,q,v).then(function(y){w(y);}).catch(function(y){u(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(v,t){q.WS(p).storage.remove(p).then(function(){v();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,v){p.o7a("mem").then(function(){return p.o7a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.la.error("remove all failed");v(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.A1a("mem").then(function(v){q=q.concat(v);return p.A1a("idb");}).catch(function(v){p.cMb(v) || p.la.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return q=q.concat(v);}).catch(function(v){p.la.error("load all failed",v);throw v;});};c.prototype.Jxb=function(){var p;p=this;return this.eKb.create().then(function(q){p.AE.idb={storage:q,key:"idb"};}).catch(function(q){p.la.error("idb failed to load",q);return q || ({za:h.R.Co});});};c.prototype.Dtb=function(p,q){return !p || p && q?!0:!1;};c.prototype.CQb=function(p){var q;q="";p && (q+=p.za);return {za:q};};c.prototype.o7a=function(p){return (p=this.AE[p])?p.storage.removeAll():Promise.resolve();};c.prototype.A1a=function(p){return (p=this.AE[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.wDb=function(p){for(var q in this.vC){if(p.startsWith(q))return this.vC[q];}return this.vC[k.hfb];};c.prototype.WS=function(p){var q,v;q=this;this.wDb(p).every(function(t){return q.AE[t]?(v=q.AE[t],!1):!0;});if(!v){this.la.error("component not found for storageKey",{F0b:p,xac:Object.keys(this.AE),rules:this.vC});v=this.AE.mem;}this.la.trace("component found for key",{storageKey:p,componentKey:v.key});return v;};c.prototype.cMb=function(p){return (p && (p.za || p.errorSubCode)) === h.R.Iw;};b.Y$=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hfb="__default_rule_key__";},function(r,b,a){var l,g,h;function c(d){this.tf=d;this.fG={};this.la=this.tf.Sa("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;r=a(0);l=a(1);g=a(2);a=a(6);c.prototype.load=function(d){var f;if(this.fG.hasOwnProperty(d)){f=this.fG[d];this.la.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.la.debug("Storage entry not found",{key:d});return Promise.reject({za:g.R.Iw});};c.prototype.save=function(d,f,n){if(n && this.fG.hasOwnProperty(d))return Promise.resolve(!1);this.fG[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.fG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.fG).map(function(f){var n;n=ma(f);f=n.next().value;n=n.next().value;return {key:f,value:n};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.fG={};return Promise.resolve();};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Va))],h);b.MFa=h;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.wJ=void 0;r=a(1);c=a(465);l=a(466);g=a(467);h=a(1165);d=a(1166);f=a(1167);b.wJ=new r.Xc(function(n){n(c.Jya).to(h.Iya).da();n(l.Hya).to(d.Eya).da();n(g.Gya).to(f.Fya).da();});},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q){this.U1=m;this.tb=p;this.ksb=q;this.la=k.Sa("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Iya=void 0;r=a(0);l=a(1);g=a(466);h=a(467);d=a(6);f=a(25);n=a(3);c.prototype.mqb=function(k){var m,p;m=k.Ua.playbackState && k.Ua.playbackState.currentTime;p=this.CFb(k.O);m=this.tb.JE(m)?(0,n.Jb)(m):p;p=0;this.tb.qg(m)?(this.la.info("Overriding bookmark",{From:k.Yy.ca(n.na),To:m.ca(n.na)}),m=Object.assign({},k,{Yy:m})):m=k;k.Zc.ha && (k=k.Zc.Zla(k.Yy.ca(n.na)),m=Object.assign({},m,{Yy:(0,n.Jb)(k.tl),ZB:(0,n.Jb)(k.ZB)}),p=k.QTa);return m.Yy.hoa()?(this.la.trace("Ignoring bookmark because it's negative"),(0,n.Jb)(p)):this.iKb(m)?(this.la.trace("Ignoring bookmark because it's too close to beginning"),(0,n.Jb)(p)):this.hKb(m)?(this.la.trace("Ignoring bookmark because it's too close to end"),(0,n.Jb)(p)):this.gKb(m)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,n.Jb)(p)):m.Yy;};c.prototype.iKb=function(k){return 0 > k.Yy.zk(this.Qla(k));};c.prototype.Qla=function(k){return this.JQa(this.U1.Qla(),k.ZB);};c.prototype.hKb=function(k){return 0 < k.Yy.zk(this.Rla(k));};c.prototype.Rla=function(k){var m;m=k.Ua.Yf?this.U1.uGb():this.U1.Rla();return k.ZB.wa(this.JQa(m,k.ZB));};c.prototype.gKb=function(k){return 0 < k.Yy.zk(this.aGb(k));};c.prototype.aGb=function(k){return k.ZB.wa((0,n.Jb)(k.TB));};c.prototype.CFb=function(k){var m;k=this.U1.zla()[k];m=-1;this.tb.Po(k)?m=parseInt(k):this.tb.Rj(k) && (m=k);if(this.tb.eR(m))return (0,n.Jb)(m);};c.prototype.JQa=function(k,m){return this.ksb.T0b(k,m);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.Va)),r.__param(1,(0,l.l)(g.Hya)),r.__param(2,(0,l.l)(f.Qf)),r.__param(3,(0,l.l)(h.Gya))],a);b.Iya=a;},function(r,b,a){var l,g;function c(h){this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;r=a(0);l=a(1);a=a(11);c.prototype.Qla=function(){return this.jF().lsb;};c.prototype.Rla=function(){return this.jF().msb;};c.prototype.uGb=function(){return this.jF().nsb;};c.prototype.zla=function(){return this.jF().IQa;};c.prototype.jF=function(){return this.config();};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ac))],g);b.Eya=g;},function(r,b,a){var l,g,h;function c(d){this.tb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Fya=void 0;r=a(0);l=a(1);g=a(25);h=a(3);c.prototype.T0b=function(d,f){var n,k;n=parseFloat(d);k=0;"%" === d[d.length - 1] && this.tb.Rj(n)?k=Math.round(n * f.ca(h.na) / 100):(d=parseInt(d),this.tb.eR(d) && (k=d));return (0,h.Jb)(Math.min(k,f.ca(h.na)));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Qf))],a);b.Fya=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.bRa=void 0;r=a(1);c=a(468);l=a(1169);b.bRa=new r.Xc(function(g){g(c.aza).to(l.$ya).da();});},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q,v,t,w,u,y){this.config=q;this.MB=t;this.profile=w;this.b$=u;this.BR=y;this.log=v.Sa("CDMAttestedDescriptor");this.eXa(m.Xt.pP);}Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;r=a(0);l=a(1);g=a(11);h=a(6);d=a(157);f=a(269);n=a(78);k=a(166);m=a(37);p=a(57);c.prototype.eXa=function(q){var v;v=this;return this.b$.s9(q)?this.config().iBb?this.cXa().then(function(t){if(t)return (!1,Promise.resolve(void 0));v.q1a || (!1,v.q1a=v.BR.wma(p.xh.bn));return v.q1a;}).catch(function(t){v.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.Oy.close();return null === t || void 0 === t?void 0:t.Zha;}).then(function(t){return Promise.all([Promise.resolve(t),v.cXa()]);}).then(function(t){var w;t=ma(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.MB().then(function(t){t.RU.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.cXa=function(){var q;q=this;return this.MB().then(function(v){return (v=v.RU.getServiceTokens(q.profile)) && v.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.ac)),r.__param(1,(0,l.l)(h.Va)),r.__param(2,(0,l.l)(d.gP)),r.__param(3,(0,l.l)(n.qI)),r.__param(4,(0,l.l)(f.K_)),r.__param(5,(0,l.l)(k.kY))],a);b.$ya=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.e2a=void 0;r=a(1);c=a(226);l=a(1171);g=a(469);h=a(1178);d=a(473);f=a(475);n=a(1179);k=a(129);m=a(1180);p=a(477);q=a(1181);b.e2a=new r.Xc(function(v){v(g.dFa).to(h.cFa).da();v(c.eca).to(l.eFa).da();v(d.IIa).Xk(function(t){for(var w=[],u=0;u < arguments.length;++u){w[u - 0]=arguments[u];}u=a(271).rD;return new (Function.prototype.bind.apply(u,[null].concat(ea(w))))();});v(f.hFa).Md(function(){return function(t){return new n.iFa(t);};});v(k.fI).to(m.aFa).da();v(p.$Ea).to(q.ZEa).da();});},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y){this.tf=t;this.config=w;this.$ra=u;this.cwa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;r=a(0);l=a(1);g=a(6);h=a(469);d=a(1172);f=a(1173);n=a(1174);k=a(1175);m=a(1176);p=a(1177);q=a(473);a=a(474);c.prototype.create=function(t){var w,u;w=this.tf.Sa("ManifestParser",t);u=new d.xza(w,this.config);return new n.fFa(u,new f.dLa(w,this.config,t,this.$ra),new k.xLa(w,t,this.cwa),new m.sya(w,this.config,t),new p.bMa(w));};v=c;v=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(h.dFa)),r.__param(2,(0,l.l)(q.IIa)),r.__param(3,(0,l.l)(a.vLa))],v);b.eFa=v;},function(r,b,a){var l,g;function c(h,d){this.log=h;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;l=a(79);g=a(270);c.prototype.h5a=function(h,d){var f,n,k,m;f=this;n=this.config.Wha;k=this.config.Vha;h=ma((0,l.UB)(function(p){return (!n.length || 0 <= n.indexOf(p.id)) && 0 > k.indexOf(p.id);},h || []));m=h.next().value;h.next().value.forEach(function(p){return f.log.warn("Cdn is not allowed",{Id:p.id});});h=m.map(function(p){var q;q=(d?d.find(function(v){return v.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,$b:p.$b,type:p.type,I1a:p.key,NLb:p.V1a,location:{id:q.key,$b:q.$b,level:q.level,weight:q.weight}};});h.sort(function(p,q){return p.$b - q.$b;});this.log.trace("Transformed cdns",{Count:h.length});if(!h.length)throw Error("no valid cdns");return h;};c.prototype.aKb=function(h,d,f,n){var k;k=h.filter(function(m){return -1 === f.findIndex(function(p){return p.id === m.id;});}).map(function(m){return {J4a:!0,bc:m};}).concat(f.map(function(m){return {J4a:!1,bc:m};})).sort(function(m,p){return m.bc.$b === p.bc.$b?m.J4a?-1:1:m.bc.$b - p.bc.$b;}).map(function(m,p){(0,g.DL)(m.bc).$b=p + 1;return m.bc;});h=d.filter(function(m){return -1 === n.findIndex(function(p){return p.key === m.key;});}).concat(n).map(function(m){var p;p=k.findIndex(function(q){return q.key === m.key;});if(-1 !== p)return (p=k[p],(0,g.DL)(m).$b=p.$b,m);}).filter(function(m){return void 0 !== m;});return {kZb:k,SNb:h};};b.xza=c;},function(r,b,a){var l,g,h,d;function c(f,n,k,m){this.log=f;this.config=n;this.j=k;this.$ra=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;l=a(40);g=a(12);h=a(126);d=a(470);c.prototype.k5a=function(f,n){var k;k=this;n=n.map(function(m){var p,q,v,t;v=k.C2b(m);m.pB || !m.Bg || v && 0 < v.length || k.log.error("track without downloadables",k.OGb(m));t={};0 < v.length && (t=m.language && 0 <= k.config.aL.indexOf(m.language)?v[1] && v[1].profile === l.kl.ZCa?v[1]:v[0]:v[0],t.profile == l.kl.hI && (t=k.VYb(v),!1));m=k.$ra(k.j,m.uf,m.id,null !== (p=m.$b) && void 0 !== p?p:-1,null !== (q=m.Bg) && void 0 !== q?q:!0,f,t.Sb,t.urls || [],m.language,m.xB,h.I_[m.uh.toLowerCase()] || h.Ao.nI,m.fH,m.variant,m.gC.toUpperCase(),t.profile,k.ZGb(t) || ({}),m.pB,m.y5,m.A5,m.Os);k.log.trace("Transformed timed text track",m);return m;});this.log.trace("Transformed timed text tracks",{Count:n.length});return n;};c.prototype.g2b=function(f){var n,k;n=this;k=this.config.jla;if(k){if(f=ma(f.filter(function(m){return m.Re == k || m.trackId == k;})).next().value)return f;}else if(this.j.Q3 && (f=ma(f.filter(function(m){return m.trackId == n.j.Q3;})).next().value))return f;};c.prototype.C2b=function(f){var n,k;n=this;k=f.AUa;f=Object.entries(f.hwa || ({})).map(function(m){var p;p=ma(m);m=p.next().value;p=p.next().value;return {Sb:k[m],profile:m,size:p.size || 0,priority:n.UFb(m,p),offset:p.cqa || 0,ATb:p.width,v5a:p.height,urls:p.urls};});f.sort(function(m,p){return m.priority - p.priority;});return f;};c.prototype.UFb=function(f,n){var k,m;k=this.config.Bt.indexOf(f);n=n.size;m=this.config.vN;return f === l.kl.Jaa && 0 < m && n > m?this.config.Bt.length + 1:0 <= k?k:this.config.Bt.length;};c.prototype.ZGb=function(f){if(f.profile === l.kl.hI)return {offset:f.offset,length:f.size,hk:{width:f.ATb,height:f.v5a}};};c.prototype.VYb=function(f){var n,k;n=this.config.una || d.Mda.zYa();k=ma(f.filter(function(m){return m.profile === l.kl.hI;}).filter(function(m){return m.v5a === n;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.Zt.height,intendedResolution:n});return f[0];};c.prototype.OGb=function(f){return {isNone:f.pB,isForced:f.y5,bcp47:f.language,id:f.uf};};b.dLa=c;},function(r,b,a){var l;function c(g,h,d,f,n){this.Xha=g;this.Jva=h;this.L2b=d;this.pR=f;this.ucb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;l=a(270);c.prototype.i5a=function(g){var h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B;f=g.Ha;n={rf:null !== (d=null === (h=f.tA) || void 0 === h?void 0:h.Ap) && void 0 !== d?d:"",YB:f.Wna?"ads":"content"};k=!!f.TV;h=this.Xha.h5a(f.kk,f.ei);d=this.Jva.k5a(n,f.xN);g=this.L2b.fTb(f.O2b);m=k?this.pR.g5a(n,f.ls,d):this.pR.ZSb(n,f.ls,f.media,d);n=this.ucb.gTb(n,f.Ht);p=n[0];q=this.pR.Irb(m) || m.find(function(C){return k?C.trackId === f.TV.Vo:C.GF === f.T2[0].Vo;}) || m[0];v=this.Jva.g2b(q.Xg) || d.find(function(C){return k?C.trackId === f.TV.wN:C.GF === f.T2[0].Q$a;}) || q.Xg[0];t=this.ucb.bTb(f.Ht);w=f.xf;u=f.Iub;y=f.aB;x=f.Bk;z=f.ls.findIndex(function(C){return C.uf == q.trackId;});A=f.Ht.findIndex(function(C){return C.uf == p.trackId;});B=f.xN.findIndex(function(C){return C.uf == v.trackId;});return {pt:t,ng:h,Vh:m,Xv:n,Xg:d,Vy:g,xf:w,oZb:u,NF:y,Bk:x,gzb:z,ozb:A,nzb:B,U2:p,VR:q,WR:v};};c.prototype.bKb=function(g,h,d){var f,n,k,m,p,q;f=this;m=this.Xha.aKb(g.Ha.kk,g.Ha.ei,d.Ha.kk,d.Ha.ei);p=m.kZb;m=m.SNb;(0,l.DL)(g.Ha).kk=p;(0,l.DL)(g.Ha).ei=m;h.ng=this.Xha.h5a(p,m);q={rf:null !== (k=null === (n=d.Ha.tA) || void 0 === n?void 0:n.Ap) && void 0 !== k?k:"",YB:d.Ha.Wna?"ads":"content"};d=d.Ha;n=d.ls;d.xN.forEach(function(v){var t;if(v.Bg){t=f.G7a(g.Ha.xN,h.Xg,v,function(w){return f.Jva.k5a(q,[w])[0];});t && h.Vh.forEach(function(w){var u;w=w.Xg;u=w.findIndex(function(y){return y.trackId === t.trackId;});-1 !== u && (w[u]=t);});}});n.forEach(function(v){v.Bg && f.G7a(g.Ha.ls,h.Vh,v,function(t){return f.pR.g5a(q,[t],h.Xg)[0];});});return {X:g,vc:h};};c.prototype.vYb=function(g,h){return this.pR.kDb(g,h);};c.prototype.G7a=function(g,h,d,f){var n,k,m,p;n=g.findIndex(function(q){return q.uf === d.uf;});k=-1 !== n?g[n]:void 0;m=h.findIndex(function(q){return q.trackId === d.uf;});p=-1 !== m?h[m]:void 0;if(k && !k.Bg && p && !p.Bg)return (f=f(d),g[n]=d,h[m]=f);};b.fFa=c;},function(r,b){function a(c,l,g){this.log=c;this.j=l;this.cwa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;a.prototype.fTb=function(c){var l;l=this;c=(c || []).filter(function(g){return g.urls && 0 < g.urls.length;}).map(function(g){return l.cwa(l.j,g.id,g.height,g.width,g.DTb,g.ETb,g.size,g.Os,{unknown:g.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(g,h){return g.size - h.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.xLa=a;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q){m=g.cP.call(this,m) || this;m.config=p;m.j=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.sya=void 0;l=a(455);g=a(471);h=a(79);d=a(103);f=a(126);n=a(2);k=a(34);ha(c,g.cP);c.prototype.g5a=function(m,p,q){var v,t;v=this;t=this.config.P9;p=p.filter(function(w){var u,y;u=w.pB || !w.Bg || w.streams && 0 < w.streams.length;u || v.log.warn("Audio track is missing streams",v.D4(w));y=0 === t.length || 0 <= t.indexOf(w.uh);y || v.log.warn("Audio track is not supported",v.D4(w));return u && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return v.f5a(m,w,v.aFb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.ZSb=function(m,p,q,v){var t,w,u,y;t=this;w=ma((0,h.UB)(function(x){return x.pB;},p));p=w.next().value;w=w.next().value;w=ma((0,h.UB)(function(x){return x.streams && 0 < x.streams.length;},w));u=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.D4(x));});y=this.config.P9;w=ma((0,h.UB)(function(x){return 0 === y.length || 0 <= y.indexOf(x.uh);},u));u=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.D4(x));});p=[].concat(ea(u),ea(p)).map(function(x){return t.f5a(m,x,t.HGb(x.uf,q,v));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Irb=function(m){var p,q;p=this;q=this.config.fla;if(q){if(m=ma(m.filter(function(v){return v.Re == q || v.trackId == q;})).next().value)return m;}else if(this.j.P3 && (m=ma(m.filter(function(v){return v.trackId == p.j.P3;})).next().value))return m;};c.prototype.kDb=function(m,p){this.config.uQa.forEach(function(q){var v,t,w;v=p.ls.filter(function(u){return u.profile === q;}).reduce(function(u,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){u.add(x);});return u;},new Set());t=!1;w=m.Ha.ls.map(function(u){var y;if(u.profile === q){y=u.streams.filter(function(x){return v.has(x.bitrate);});if(y.length === u.streams.length)return u;t=!0;if(0 === y.length)throw new k.Jc(n.V.QEa,n.R.ydb);return Object.assign(Object.assign({},u),{streams:y});}return u;});t && (m.Ha=Object.assign(Object.assign({},m.Ha),{ls:w}));});return m;};c.prototype.f5a=function(m,p,q){var v,t,w,u;u=p.uh;m=Object.assign(Object.assign({},m),{type:d.Jj.audio,fH:p.fH,variant:p.variant,trackId:p.uf,GF:p.EN,uh:f.I_[u.toLowerCase()] || f.Ao.nI,gC:u,Re:p.language,displayName:p.xB,$b:null !== (v=p.$b) && void 0 !== v?v:-1,Bg:null !== (t=p.Bg) && void 0 !== t?t:!0,channels:p.channels,Tac:p.channels,Xg:q,sg:{Bcp47:p.language,TrackId:p.uf},streams:[],isNative:p.isNative,Un:p.pB,VW:p.VW});m.streams=this.Sab(p.streams,m);this.log.trace("Transformed audio track",m,{StreamCount:m.streams.length,AllowedTimedTextTracks:m.Xg.length});m.Sub=l.tya[null === (w=m.streams[0]) || void 0 === w?void 0:w.Ue];return m;};c.prototype.D4=function(m){return {language:m.xB,bcp47:m.language,type:m.uh};};c.prototype.aFb=function(m,p){return p.filter(function(q){if(0 <= m.lAb.indexOf(q.GF))return !1;if(m.STa){if(m.STa !== q.GF && (q.Un() || q.Lm()))return !1;}else if(m.nRb){if(q.Un() || q.Lm())return !1;}else if(q.Lm())return !1;return !0;});};c.prototype.HGb=function(m,p,q){return p.filter(function(v){return v.Od.ga === m;}).map(function(v){return v.Od.Za;}).map(function(v){return q.find(function(t){return t.trackId === v;});}).filter(Boolean);};b.sya=c;},function(r,b,a){var l,g,h,d;function c(f){return g.cP.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;l=a(79);g=a(471);h=a(103);d=a(126);ha(c,g.cP);c.prototype.gTb=function(f,n){var k,m;k=this;n=ma((0,l.UB)(function(p){return p.streams && 0 < p.streams.length;},n));m=n.next().value;n.next().value.forEach(function(p){return k.log.warn("Video track is missing streams",{trackId:p.uf});});n=m.map(function(p){var q;q=p.uh;q=Object.assign(Object.assign({},f),{type:h.Jj.video,trackId:p.uf,GF:p.EN,uh:d.I_[q.toLowerCase()] || d.Ao.nI,gC:q,streams:[],sg:{},KV:p.KV});q.streams=k.Sab(p.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!n.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:n.length});return n;};c.prototype.bTb=function(f){var n;n=f.map(function(k){return k.KV;}).filter(Boolean);n=[].concat.apply([],ea(n)).map(function(k){return k.va;});f=f.map(function(k){return k.Qja;}).filter(Boolean).map(function(k){return k.va;});return 0 < n.length?n:f;};b.bMa=c;},function(r,b,a){var l,g,h,d,f,n;function c(k,m){k=g.Le.call(this,k,"ManifestParserConfigImpl") || this;k.Hf=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.cFa=void 0;r=a(0);l=a(1);g=a(45);h=a(31);d=a(44);f=a(107);n=a(51);ha(c,g.Le);Sa.Object.defineProperties(c.prototype,{P9:{configurable:!0,enumerable:!0,get:function(){return [];}},fla:{configurable:!0,enumerable:!0,get:function(){return "";}},Wha:{configurable:!0,enumerable:!0,get:function(){return [];}},Vha:{configurable:!0,enumerable:!0,get:function(){return [];}},jla:{configurable:!0,enumerable:!0,get:function(){return "";}},una:{configurable:!0,enumerable:!0,get:function(){return 0;}},vN:{configurable:!0,enumerable:!0,get:function(){return this.Hf.vN.ca(n.Ot);}},Bt:{configurable:!0,enumerable:!0,get:function(){return this.Hf.Bt;}},aL:{configurable:!0,enumerable:!0,get:function(){return this.Hf.aL;}},uQa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.eH,"supportedAudioTrackTypes")],a.prototype,"P9",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"fla",null);r.__decorate([d.config(d.iwa,"cdnIdWhiteList")],a.prototype,"Wha",null);r.__decorate([d.config(d.iwa,"cdnIdBlackList")],a.prototype,"Vha",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"jla",null);r.__decorate([d.config(d.Wy,"imageSubsResolution")],a.prototype,"una",null);r.__decorate([d.config(d.Wy,"timedTextSimpleFallbackThreshold")],a.prototype,"vN",null);r.__decorate([d.config(d.eH,"timedTextProfiles")],a.prototype,"Bt",null);r.__decorate([d.config(d.eH,"imscLanguageList")],a.prototype,"aL",null);r.__decorate([d.config(d.eH,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"uQa",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ll)),r.__param(1,(0,l.l)(f.iD))],a);b.cFa=a;},function(r,b){function a(c){this.vc=c;this.Ib=JSON.stringify(this.RGb());}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;a.prototype.RGb=function(){var c;c=[];(!this.vc.ng || 0 >= this.vc.ng.length) && c.push({error:"No CDN."});this.vc.VR || c.push({error:"No default audio track.",foundTracks:this.Ola(this.vc.Vh)});this.vc.U2 || c.push({error:"No default video track.",foundTracks:this.Ola(this.vc.Xv)});this.vc.WR || c.push({error:"No default subtitle track.",foundTracks:this.Ola(this.vc.Xg)});return c;};a.prototype.Ola=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.iFa=a;},function(r,b,a){var l,g,h,d,f;function c(n,k){this.v1a=n;this.tOb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;r=a(0);l=a(1);g=a(476);h=a(477);d=a(34);f=a(2);c.prototype.create=function(n){var k,m,p,q;k=this;if(n && !this.KLb(n)){if(this.QLb(n))throw d.Jc.q5b(f.V.eI,f.R.wkb,n);q=this.v1a();q.oga(n.links);this.tOb.nK(n);return {Ha:n,di:q,eoa:!1,doa:!1,Wo:null !== (p=null === (m=n.Wo) || void 0 === m?void 0:m.map(function(v){var t;t=k.v1a();t.oga(v.links);return {Ha:v,di:t,eoa:!1,doa:!1,Wo:[]};})) && void 0 !== p?p:[]};}};c.prototype.QLb=function(n){return ("type" in n) && "muxed" === n.type;};c.prototype.KLb=function(n){return ("runtime" in n) && !!n.runtime;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.uHa)),r.__param(1,(0,l.l)(h.$Ea))],a);b.aFa=a;},function(r,b,a){var l,g;function c(h){this.cCb=h;this.b2a={Cm:"drmType",Ibc:"drmVersion",expiration:"expiration",O:"movieId",Rm:"packageId",duration:"duration",xf:"playbackContextId",T2:["defaultTrackOrderList",{IL:"mediaId",ON:"videoTrackId",Q$a:"subtitleTrackId",Vo:"audioTrackId",tec:"preferenceOrder"}],Mbc:["eligibleABTestMap",{aj:g.aj}],zac:["badgingInfo",{Cbc:"dolbyDigitalAudio",Acc:"hdrVideo",Dbc:"dolbyVisionVideo",Nfc:"ultraHdVideo","3dVideo":"3dVideo",Bbc:"dolbyAtmosAudio",pac:"assistiveAudio",Uec:"sdVideo",zcc:"hdVideo"}],type:"type",uac:["audioTextShortcuts",{id:"id",Vo:"audioTrackId",jab:"textTrackId"}],lec:"partiallyHydrated",E2a:"maxRecommendedAudioRank",F2a:"maxRecommendedTextRank",Bk:"drmContextId",lJb:"hasDrmProfile",jJb:"hasClearProfile",aB:"hasDrmStreams",O4:"hasClearStreams",ei:["locations",{$b:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],kk:["servers",{id:"id",name:"name",type:"type",$b:"rank",V1a:"lowgrade",sAb:["dns",{host:"host",hLb:"ipv4",iLb:"ipv6",eEb:"forceLookup"}],key:"key"}],ls:["audio_tracks",{type:"type",fH:"subType",variant:"variant",uh:"trackType",uf:"new_track_id",EN:"track_id",BVb:"profileType",D0b:"stereo",profile:"profile",channels:"channels",language:"language",Vtb:"channelsFormat",VW:"surroundFormatLabel",xB:"languageDescription",lAb:"disallowedSubtitleTracks",STa:"defaultTimedText",isNative:"isNative",pB:"isNoneTrack",streams:["streams",{Bm:"downloadable_id",size:"size",wA:"content_profile",uh:"trackType",bitrate:"bitrate",ai:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",b6:"liveOcaCapabilities"}],uQb:"new_stream_id",type:"type",channels:"channels",Vtb:"channelsFormat",VW:"surroundFormatLabel",language:"language",sac:"audioKey",aQb:["moov",{size:"size",offset:"offset"}],lk:["sidx",{size:"size",offset:"offset"}],m0b:["ssix",{size:"size",offset:"offset"}],ri:"tags",tXb:"representationId"}],Sub:"codecName",gC:"rawTrackType",id:"id",$b:"rank",Bg:"hydrated",nRb:"offTrackDisallowed"}],Ht:["video_tracks",{uh:"trackType",uf:"new_track_id",type:"type",EN:"track_id",lJb:"hasDrmProfile",jJb:"hasClearProfile",aB:"hasDrmStreams",O4:"hasClearStreams",xF:"groupName",streams:["streams",{Bm:"downloadable_id",size:"size",wA:"content_profile",uh:"trackType",RE:"drmHeaderId",bitrate:"bitrate",ai:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",b6:"liveOcaCapabilities"}],uQb:"new_stream_id",type:"type",nec:"peakBitrate",eAb:"dimensionsCount",fAb:"dimensionsLabel",x5a:"pix_w",w5a:"pix_h",U7a:"res_w",yta:"res_h",Ayb:"crop_x",Byb:"crop_y",zyb:"crop_w",yyb:"crop_h",zWa:"framerate_value",yWa:"framerate_scale",g$a:"startByteOffset",zb:"vmaf",aQb:["moov",{size:"size",offset:"offset"}],lk:["sidx",{size:"size",offset:"offset"}],m0b:["ssix",{size:"size",offset:"offset"}],PG:["segmentVmaf",{offset:"offset",zb:"vmaf"}],ri:"tags",tXb:"representationId"}],BVb:"profileType",D0b:"stereo",profile:"profile",eAb:"dimensionsCount",fAb:"dimensionsLabel",mfc:["snippets",{aj:[g.aj,{lfc:"snippetSpec",sa:"startTimeMs",qa:"endTimeMs"}]}],Qja:["drmHeader",{va:"bytes",oub:"checksum",RE:"drmHeaderId",Wn:"keyId",hk:["resolution",{height:"height",width:"width"}]}],KV:["prkDrmHeaders",{va:"bytes",oub:"checksum",RE:"drmHeaderId",Wn:"keyId",hk:["resolution",{height:"height",width:"width"}]}],xq:"flavor",Mcc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",Nra:"pixelAspectX",Ora:"pixelAspectY",tdc:"maxCroppedWidth",sdc:"maxCroppedHeight",udc:"maxCroppedX",vdc:"maxCroppedY",Rpa:"max_framerate_value",Qpa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Jdc:"minCroppedWidth",Idc:"minCroppedHeight",Kdc:"minCroppedX",Ldc:"minCroppedY",Og:["license",{ZMb:"licenseResponseBase64",xec:"providerSessionToken",Yec:"secureStopExpected",Hbc:"drmSessionId",links:["links",{}]}]}],tA:["cdnResponseData",{TG:"sessionABTestCell",Ap:"pbcid"}],ap:["choiceMap",{ce:"initialSegment",type:"type",K:"viewableId",L:["segments",{aj:[g.aj,{sa:"startTimeMs",qa:"endTimeMs",next:["next",{aj:[g.aj,{weight:"weight"}]}],Hb:"defaultNext",vq:"exitZones"}]}]}],xm:["contentPlaygraph",{fa:["playgraph",{ce:"initialSegment",L:["segments",{aj:[g.aj,{K:"viewableId",sa:"startTimeMs",qa:"endTimeMs",next:["next",{aj:[g.aj,{weight:"weight"}]}],Hb:"defaultNext"}]}]}],nfc:["startIdent",{Ncc:"identToken",K:"viewableId"}]}],media:["media",{id:"id",Od:["tracks",{ga:"AUDIO",Za:"TEXT",Z:"VIDEO"}]}],TV:["recommendedMedia",{ON:"videoTrackId",Vo:"audioTrackId",wN:"timedTextTrackId"}],xN:["timedtexttracks",{uh:"trackType",uf:"new_track_id",type:"type",fH:"subType",variant:"variant",gC:"rawTrackType",xB:"languageDescription",language:"language",id:"id",pB:"isNoneTrack",y5:"isForcedNarrative",AUa:["downloadableIds",{}],Pac:["cdnlist",{id:"id",name:"name",type:"type",$b:"rank",V1a:"lowgrade",sAb:["dns",{host:"host",hLb:"ipv4",iLb:"ipv6",eEb:"forceLookup"}],key:"key"}],hwa:["ttDownloadables",{aj:[g.aj,{id:"id",size:"size",zfc:"textKey",ycc:"hashValue",xcc:"hashAlgo",Wcc:"isImage",cqa:"midxOffset",a3a:"midxSize",height:"height",width:"width",Mja:["downloadUrls",{}],urls:["urls",{url:"url",yg:"cdn_id",b6:"liveOcaCapabilities"}]}]}],A5:"isLanguageLeftToRight",Os:"headIdentDuration",$b:"rank",Bg:"hydrated"}],O2b:["trickplays",{Bm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",ETb:"pixelsAspectY",DTb:"pixelsAspectX",width:"width",height:"height",Os:"headIdentDuration"}],Jcb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Gbc:"dpsid",Yf:"isBranching",agc:"viewableType",Wna:"isAd",oL:"isSupplemental",Iub:"clientIpAddress",Rfc:"urlExpirationDuration",ndc:"manifestExpirationDuration",C0b:["steeringAdditionalInfo",{pfc:"steeringId",kac:"additionalGroupNames",Q0b:["streamingClientConfig",{}]}],Uc:"auxiliaryManifestToken",sj:["liveMetadata",{Nja:["downloadableIdToSegmentTemplateId",{aj:g.aj}],jua:["segmentTemplateIdToSegmentTemplate",{aj:[g.aj,{R1:"availabilityStartTime",QKb:"initialization",media:"media",TUb:"presentationTimeOffset",hN:"startNumber",duration:"duration",T:"timescale"}]}],mRb:"ocLiveWindowDurationSeconds",v3:"eventAvailabilityOffsetMs",uka:"eventStartTime",w3:"eventEndTime",hAb:"disableLiveUi"}],bg:"streamingType"};this.uOb=Object.assign(Object.assign({},this.b2a),{Wo:["auxiliaryManifests",this.b2a],om:["adverts",{Xd:["adBreaks",{Gl:"locationMs",Tj:"adBreakToken",xe:["ads",{id:"id",sa:"startTimeMs",qa:"endTimeMs",V9:["timedAdEvents",{event:"event",Fu:"adEventToken",Ova:"timeMs"}],dA:["actionAdEvents",{start:["start",{event:"event",Fu:"adEventToken"}],complete:["complete",{event:"event",Fu:"adEventToken"}],stop:["stop",{event:"event",Fu:"adEventToken"}]}],Rs:"is3pVerificationEnabled",rN:"thirdPartyVerificationToken"}],bga:["actionAdBreakEvents",{complete:["complete",{event:"event",Fu:"adEventToken"}]}],N1:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;r=a(0);l=a(1);g=a(221);c.prototype.nK=function(h){this.cCb.nK(h,this.uOb);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.xBa))],a);b.ZEa=a;},function(r,b,a){var l;function c(g,h,d,f,n){this.l1=this.hV=this.gV=l.zw;this.request=g;this.type=g.responseType;this.Jl=f;this.abort=h;this.timeout=d;this.l1=n;}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;l=a(16);c.prototype.JZb=function(g){this.gV=g;};c.prototype.OZb=function(g){this.hV=g;};b.UCa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kTa=void 0;b.kTa=function(a,c,l,g){return {JHb:function(){var h;h=a.kma();g.Os && (h+=g.Os);return h;},la:c,request:l,df:!1};};},function(r,b,a){var l,g,h,d,f;function c(n){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(n);}Object.defineProperty(b,"__esModule",{value:!0});b.Hkb=void 0;l=a(0);r=a(102);g=a(478);h=a(1188);d=a(1189);f=a(1196);r=(function(n){function k(m,p){var q,v,t,w;t=n.call(this) || this;t.hm=!0;t.hQ=[];t.Go=0;t.cOa=!0;w=m.df || !1;t.ya=m.la || console;t.un=m.request;t.Yr=m.JHb;t.o0=null !== (q=m.vcc) && void 0 !== q?q:function(u,y){return u - (null !== y && void 0 !== y?y:t.Yr());};t.Vd=null;t.hm=!0;t.hQ=[];t.dJ=p.profile;t.xk=p.url;t.RD=p.hf;t.cJ=p.preferences;t.LI=p.Hf;t.Go=t.RD || 0;t.cOa=null !== (v=p.Aec) && void 0 !== v?v:!0;q={url:t.xk,request:t.un,hf:t.RD,xml:p.xml,preferences:t.cJ,Hf:t.LI,la:t.ya,df:w,bufferSize:p.bufferSize,Vs:p.Vs,j8:p.j8 || 0,QQa:p.QQa};if("nflx-cmisc" === t.dJ)(q.offset=p.cqa,q.size=p.a3a,q.c9=p.c9,q.RUa=p.RUa,t.sd=new d(q));else if(p.ha && c(t.dJ))t.sd=new h.qEa(q);else if(c(t.dJ) && "function" === typeof g.Dba)t.sd=new g.Dba(q);else throw Error("SubtitleManager: " + t.dJ + " is an unsupported profile");t.sd.on("ready",function(){var y,x,z;function u(){return t.hm;}y=!!p.tQa;t.ya.info("ready event fired by subtitle stream");t.emit("ready");x=t.sd.kF.bind(t.sd);if(m.jma && m.N7){z=a(1198).jya;t.Vd=new z(t.Yr,x,t.o0,t.ya,u,m.jma,m.N7,p);}else t.Vd=new f(t.Yr,x,t.o0,u,t.ya,p);if("dfxp-ls-sdh" === t.dJ && "function" === typeof g.Dba)t.Vd.on("stagesubtitle",t.gva.bind(t));t.Vd.on("showsubtitle",t.Vua.bind(t));t.Vd.on("removesubtitle",t.bta.bind(t));t.Vd.on("underflow",t.Zl.bind(t));t.Vd.on("bufferingComplete",t.rm.bind(t));y && (t.ya.info("autostarting subtitles"),setTimeout(function(){t.$y(t.Yr());},10));});t.sd.on("error",t.emit.bind(t,"error"));return t;}l.__extends(k,n);k.prototype.start=function(){this.sd.start();};k.prototype.D6a=function(){this.hm || (this.hm=!0,this.kVa(this.Go));};k.prototype.$y=function(m){this.cOa && !this.hm && 1E4 < Math.abs(m - this.Go) && (this.ya.warn("Detected an unexpected pts jump larger than",1E4,"at",m,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.D6a());this.Go=m;this.hm && (this.hm=!1,this.p0b(m));null !== this.Vd && (this.D3b(m),this.Vd.$y(m));};k.prototype.stop=function(){var m;this.ya.info("stop called");this.hm || this.pause();this.sd.removeAllListeners(["ready"]);null !== this.Vd && this.Vd.stop();m=this.hQ.reduce(function(p,q){p.P9a+=q.DW;p.A3+=q.B3 || 0;p.eLb.push(q);return p;},{P9a:0,A3:0,eLb:[]});"object" === typeof this.sd && this.sd.close();this.ya.debug("metrics: " + JSON.stringify(m));return m;};k.prototype.pause=function(){var m;m=this.Yr();this.hm?this.ya.warn("pause called on subtitle manager, but it was already paused!"):(this.ya.info("pause called at " + m),this.hm=!0,this.kVa(m));null !== this.Vd && this.Vd.pause();};k.prototype.B4=function(m,p){return "function" === typeof this.sd.B4?this.sd.B4(m,p):[];};k.prototype.Sn=function(m,p){return this.sd.Sn(m,p);};k.prototype.kF=function(m){return this.sd.kF(m);};k.prototype.rC=function(m){var q;function p(){q.ya.info("bufferingComplete from setStreamStartPosition");q.emit("bufferingComplete");}q=this;"function" === typeof this.sd.rC?this.sd.rC(m,p):p();};k.prototype.Ej=function(m,p){"function" === typeof this.sd.Ej && this.sd.Ej(m,p);};k.prototype.Ti=function(m,p){"function" === typeof this.sd.Ti && this.sd.Ti(m,p);};k.prototype.Isa=function(m){"function" === typeof this.sd.F6a && this.sd.F6a(m);};k.prototype.Fla=function(){return this.hQ[this.hQ.length - 1];};k.prototype.Vua=function(m){var p,q,v,u;q=0;this.ya.info("show subtitle called at " + this.Yr() + " for displayTime " + m.displayTime);this.emit("showsubtitle",m);v=this.Fla();v.aN || (v.aN={});if(c(this.dJ))try{for(var t=l.__values(m.blocks),w=t.next();!w.done;w=t.next()){u=w.value;v.aN[u.id] || (q++,v.aN[u.id]=!0);}}catch(x){var y;y={error:x};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(y)throw y.error;}}else v.aN[m.id] || (q++,v.aN[m.id]=!0);v.DW+=q;};k.prototype.bta=function(m){this.ya.info("remove subtitle called at " + this.Yr() + " for remove time " + (m.displayTime + m.duration));this.emit("removesubtitle",m);};k.prototype.gva=function(m){this.ya.info("stage subtitle called at " + this.Yr() + " for displayTime " + m.displayTime);this.emit("stagesubtitle",m);};k.prototype.Zl=function(){this.ya.info("underflow fired by the subtitle timer");this.emit("underflow");};k.prototype.rm=function(){this.ya.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};k.prototype.p0b=function(m){this.ya.debug("creating a new subtitle interval at " + m);this.hQ.push({gb:m,DW:0});};k.prototype.D3b=function(m){var p;p=this.Fla();p && (p.Ioa=m);};k.prototype.kVa=function(m){var p;this.ya.debug("ending subtitle interval at " + m);p=this.Fla();p && (p.Vf=m,p.Vf < p.gb && (this.ya.warn("correcting for interval where endPts is smaller than startPts"),p.gb=0 < p.Vf?p.Vf - 1:0),p.B3=this.sd.Sn(p.gb,p.Vf),delete p.aN,p.B3 > p.DW && p.Ioa && 500 > p.Vf - p.Ioa && (p.B3=this.sd.Sn(p.gb,p.Ioa)),this.ya.debug("showed " + p.DW + " during this interval"),this.ya.debug("expected " + p.B3 + " for this interval"));};return k;})(r.EventEmitter);b.Hkb=r;b.default=r;},function(r){function b(a,c){var l,g,h,d,f,n;l=[];g=a.indexOf("<p");h=-1;do {d={};d.c0b=g;f=a.indexOf("begin=",g) + 7;n=a.indexOf("end=",g) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);n=Math.floor(parseInt(a.substr(n,25),10) / c * 1E3);h=n > h?n:h;d.startTime=f;d.endTime=n;d.latestEndSoFar=h;d.sVa=a.indexOf("/p>",g) + 3;g=d.sVa;l.push(d);g=a.indexOf("<p",g);}while(-1 !== g);this.Vr=l;this.aE=a;}b.prototype.QVa=function(){return this.Vr[this.Vr.length - 1].endTime;};b.prototype.Sn=function(a,c){return this.Vr.filter(function(l){return l.startTime <= c && l.endTime >= a;}).length;};b.prototype.hHb=function(a){for(var c="",l=this.Vr.filter(function(h){return h.startTime <= a && a < h.endTime || h.startTime >= a;}),g=4;g + 1 < l.length && l[g + 1].startTime === l[4].startTime;){g++;}l=l.slice(0,g + 1);0 < l.length && (c=this.aE.slice(l[0].c0b,l[l.length - 1].sVa));return c;};r.exports=b;},function(r,b,a){var h,d,f,n,k;function c(m){return "string" !== typeof m?null:d[m];}function l(m){return "string" !== typeof m?null:f[m];}function g(m,p){var q;q=m.split(" ");m=q[0];q=q[1];-1 < m.indexOf("px")?(m=parseFloat(m) / p.width,q=parseFloat(q) / p.height):(m=.01 * parseFloat(m),q=.01 * parseFloat(q));return [m,q];}h=a(480);r.exports={fyb:function(m,p){var q,v,t,w,B;q=p.textNodes[0] || ({});v=m.regions;t=m.styles;w=m.aspectRatio;v=v && v[p.region]?v[p.region]:{};q=t && t[q.style]?t[q.style]:{};t=g(h(p.extent,v.extent,"80% 80%"),m);if(v.position){for(var u=v.position.split(" "),y=[.5,.5],x=["left","top"],z=0,A=0;A < u.length;A++){B=u[A];(B in k)?(x[z]=B,A + 1 >= u.length && (y[z++]=0)):"center" === B?y[z++]=.5:y[z++]=.01 * parseFloat(B);}-1 < ["top","bottom"].indexOf(x[0]) || -1 < ["left","right"].indexOf(x[1])?(z="bottom" === x[0]?1 - y[0]:y[0],u="right" === x[1]?1 - y[1]:y[1]):(u="right" === x[0]?1 - y[0]:y[0],z="bottom" === x[1]?1 - y[1]:y[1]);y=[(1 - t[0]) * u,(1 - t[1]) * z];}else y=null;p=y?y:g(h(y,p.origin,v.origin,"10% 10%"),m);m=Object;w/=1280 / 720;y=(1 - w) / 2;x=p[0];p=p[1];t=m.create.call(m,{marginLeft:x * w + y,marginTop:p,marginRight:(1 - (x + t[0])) * w + y,marginBottom:1 - (p + t[1])});1 < Object.keys(v).length?t.verticalAlignment=c(h(q.displayAlign,v.displayAlign,"before")):t.verticalAlignment=c(h(q.displayAlign,"after"));t.horizontalAlignment=l(h(q.textAlign,v.textAlign,"center"));w=v.writingMode?v.writingMode:"lrtb";t.writingMode="string" !== typeof w?null:n[w];t.multiRowAlignment=l(h(q.multiRowAlign,v.multiRowAlign,q.textAlign,v.textAlign,"center"));return t;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};n={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};k={top:"top",bottom:"bottom",left:"left",right:"right"};},function(r,b,a){var n,k,m,p,q,v,t,w,u,y,x,z,A,B,C;function c(D){return "string" !== typeof D || "#" === D[0] && 7 === D.length?D:"#" === D[0] && 4 === D.length?"#" + D[1] + D[1] + D[2] + D[2] + D[3] + D[3]:m[D.toLowerCase()];}function l(D){var E,G,F;E=(D || "").split(" ");G=(/^[0-9]/).test(E);D=G?"#000000":c(E[0]);F=G?0:1;G=parseInt(E[F]);E=parseInt(E[F + 1]);return {color:D,width:0 < G?G:0,blur:0 < E?E:0};}function g(D,E){if(-1 < E.indexOf(D))return D;}function h(D){var E,G;if(!D)return null;D=D.split(" ");if(0 === D.length)return null;E=d(D,C);E=E.length?E[0]:"outside";G=d(D,B);if(G.length)return f(G[0],"",E);G=d(D,z);D=d(D,A);return D.length || G.length?f(D.length?D[0]:"circle",G.length?G[0]:"filled",E):f("auto","",E);}function d(D,E){return D.filter(function(G){return -1 !== E.indexOf(G);});}function f(D,E,G){return {textEmphasisShape:D,textEmphasisFill:E,textEmphasisPosition:G};}n=a(480);r.exports={jyb:function(D,E,G){var F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba;F=n(G.characterSize,E.characterSize,"MEDIUM");H=D.fontFamily;H=n(G.characterStyle,"string" !== typeof H?null:p[H],E.characterStyle,"PROPORTIONAL_SANS_SERIF");K=(D.fontSize || "").split(" ")[0] || "";O=-1 < K.indexOf("%")?parseInt(K,10) / 100:-1 < K.indexOf("em")?parseFloat(K):1;K="underline" === D.textDecoration;I="italic" === D.fontStyle;P=k[n(G.l5b,E.l5b,"OPAQUE")];N=k[n(G.characterOpacity,E.characterOpacity,"OPAQUE")];J=k[n(G.backgroundOpacity,D.opacity,E.backgroundOpacity,"OPAQUE")];L=c(n(G.characterColor,D.color,E.characterColor,"#ffffff"));R=c(n(G.backgroundColor,D.backgroundColor,E.backgroundColor,null));ka=c(n(G.Lcb,D.Lcb,E.Lcb,null));la=n(G.characterEdgeAttributes,E.characterEdgeAttributes,null);O*=q[F] || 1;X=1;v[F] && (X=v[F][H] || 1);O*=1 / 19 * X;X=0;t[F] && (X=t[F][H] || 0);F=X;X=D.textOutline;X="string" !== typeof X?null:l(X).width;X=n(X,0);da=D.textOutline;da="string" !== typeof da?null:l(da).blur;da=n(da,0);ta=G.characterEdgeColor;Ba=D.textOutline;Ba="string" !== typeof Ba?null:l(Ba).color;return {characterUnderline:K,characterItalic:I,characterStyle:H,windowOpacity:P,characterOpacity:N,backgroundOpacity:J,characterColor:L,backgroundColor:R,windowColor:ka,characterEdgeAttributes:la,characterSize:O,characterTracking:F,characterEdgeWidth:X,characterEdgeBlur:da,characterEdgeColor:c(n(ta,Ba,E.characterEdgeColor,"#000000")),direction:n(G.direction,D.direction,E.direction,"ltr"),ruby:n(g(D.Kec,w),null),rubyAlign:n(g(D.Lec,u),null),rubyPosition:n(g(D.Mec,x),null),rubyReserve:n(g(D.Nec,y),null),textEmphasis:h(D.yfc),shear:D.o_b?.01 * parseFloat(D.o_b):null};}};k={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};m={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};v={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};w=("container base baseContainer text textContainer delimiter").split(" ");u=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];z=["filled","open"];A=["circle","dot","sesame"];B=["none","auto"];C=["before","after","outside"];},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;c=a(0);r=a(102);l=a(478);g=a(479);h=a(481);d=a(482);f=a(482);n=r.EventEmitter;a=(function(k){function m(p){var q,v,t,w,u;q=k.call(this) || this;v=p.preferences;t=p.Hf;w=p.hf;u=p.la;n.call(q);q.d1=new d.rEa(u);q.cJ="object" === typeof v?p.preferences:{};q.LI="object" === typeof t?p.Hf:{};q.gq="number" === typeof w?p.hf:0;q.ya="object" === typeof u?p.la:console;q.uk=[];q.lu=0;q.Go=q.gq;q.Vd=null;q.Tz=!1;q.Ww=!1;q.iea=p.j8 || 0;q.qn=new h.oEa(q.ya);return q;}c.__extends(m,k);m.prototype.start=function(){this.ya.info("Incremental live text stream created, starting at pts " + this.gq);"undefined" !== typeof this.qn.uma(this.gq) && this.wra.call(this,this.gq);};m.prototype.F6a=function(p){var q,v,t,w;q=this;v=p.xml;t=v.indexOf("<p");this.qn.Mpb(p,-1 !== t?t:0);if(!this.Tz){w=this.qn.nl[0];this.qn.ubb(w);this.gq=w.gb;}-1 < t?(this.d1.Opb(v,p.J,p.xG),this.ya.trace("Live segment " + p.J + " is pushed to segment manager",{gb:p.gb,Vf:p.Vf,Abc:p.xG}),!this.Tz && 4 > this.lu && (v=0 < this.uk.length?this.uk[this.uk.length - 1].startTime + 1:this.gq,this.ya.trace("parseNextSegment is called from push new live Segment at " + v),this.wra.call(this,v))):(this.ya.trace("Live segment " + p.J + " is pushed to segment manager, it is an empty segment"),this.Tz || setTimeout(function(){q.tX(p.J);},10));};m.prototype.kF=function(p){var q,v,t,w,u;q=this;t=this;t.ya.trace("LiveTextStream:get subtitles at pts " + p);w=t.qn.uma(p);if("undefined" === typeof w)return (t.ya.debug("LiveTextStream: get subtitle at pts " + p + " returns empty result with segment not available at this pts"),[]);t.qn.ubb(w);p < t.Go - t.iea?(t.uk=[],t.lu=0):(t.lu=0 < t.uk.length?Math.max(t.qn.cYa() - w.J + 1,0):0,0 === t.lu && (t.uk=[]));w=t.uk;u=0 < w.length?null === (v=w[w.length - 1]) || void 0 === v?void 0:v.startTime:p;t.Go=p;t.ya.info("LiveTextStream: timer is " + t.Vd + " bufffered segment number is " + t.lu + " is parsing entry : " + this.Ww);for(!t.Vd && 4 > t.lu && !t.Ww && (t.ya.info("LiveTextStream: buffer size: " + t.lu + "; minimum: 4"),t.Ww=!0,t.Vd=setTimeout(function(){t.Vd=null;q.ya.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (u + 1));q.wra.call(t,u + 1);},10));0 < w.length && w[0].endTime < p;){w.shift();}return l.bGb(w,p).map(function(y){var x;x=t.qn.qGb(y.segId);return l.Jzb.call(t,x,y);});};m.prototype.Sn=function(p,q){return this.d1?this.d1.Sn(p,q):0;};m.prototype.j$=function(p){return l.j$.call(this,p);};m.prototype.close=function(){};m.prototype.wra=function(p){var q;q=this.iHb.call(this,p);"undefined" !== typeof q?(this.ya.trace("Next segment to parse at pts " + p + " is segment " + q.J),0 === q.dna?(this.ya.trace("This is an empty segment"),this.tX(q.J)):this.eTb.call(this,q)):(this.ya.debug("Next segment is undefined at pts " + p),this.Ww=!1);};m.prototype.iHb=function(p){var q,v;v=this.d1.cHb(p);this.ya.trace("Most recent entry at current pts " + p + " is segment id  " + v);-1 === v && (v=(null === (q=this.qn.uma(p)) || void 0 === q?void 0:q.J) || -1);return v === this.qn.cYa()?this.qn.lHb():this.qn.H3(v);};m.prototype.eTb=function(p){var q,v,t,w,u;q=this;v=this;t=p.xml.slice(0,p.dna);w=p.xml.slice(p.dna,p.xml.lastIndexOf("/p>") + 3);l.VSb(t,function(y,x){null !== y?(y.DJb=t,y.J=p.J,v.emit("error",y)):(u=x,v.qn.Q3b(p.J,u),q.USb.call(v,w,u,p));});};m.prototype.USb=function(p,q,v){var t,w,u,y,x,z,A;t=this;w=this;u=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.ya.debug(p);A=g.wf(!0);A.onerror=function(B){B.xml=p;w.emit("error",B);};A.onend=function(){var B;B=w.uk.reduce(function(C,D){D=D.blocks.reduce(function(E,G){return E.concat([G.id]);},[]);return C.concat(D);},[]);y.forEach(function(C){var D;if(-1 === B.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(E){return 0 < E.textNodes.length;});D && 0 < D.length && (C.blocks=D,w.uk.push(C));}});t.tX(v.J);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && l.Zf(l.Zf(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:l.Zf(x),lang:l.Zf(z),lineBreaks:u});u=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){u=0;B=v.J.toString() + "_" + C["xml:id"];C.style && x.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=f.z2(C.begin);0 === y.length || l.Zf(y).displayTime !== D?(C=t.Bxb(B,C,v.xG),C.segId=v.J,y.push(C)):l.Zf(y).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(x.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),B=q.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && l.Zf(l.Zf(y).blocks).textNodes.push({text:"",style:l.Zf(x),lang:l.Zf(z),lineBreaks:0})):"br" === B && u++;};A.write("<entries>").write(p).write("</entries>").close();};m.prototype.Bxb=function(p,q,v){var t;t={};t.id=p;t.startTime=f.z2(q.begin || "") - v;t.endTime=f.z2(q.end || "") - v;t.style=q.style;t.region=q.region;t.displayTime=t.startTime;t.duration=t.endTime - t.startTime;t.extent=q["tts:extent"] || null;t.origin=q["tts:origin"] || null;t.latestEndSoFar=0 > t.endTime?0:t.endTime;t.blocks=[{textNodes:[],region:t.region,id:p,extent:t.extent || null,origin:t.origin || null}];return t;};m.prototype.tX=function(p){this.qn.tX(p);this.lu+=1;this.Ww=!1;!this.Tz && 4 <= this.lu && (this.Tz=!0,this.emit("ready"));};return m;})(n);b.qEa=a;},function(r,b,a){var l,g,h,d,f,n;function c(k){l.call(this);this.xk=k.url;this.un=k.request;this.RD=k.hf || 0;this.ya=k.la;this.Th=this.aq=null;k.Vs?this.aq=k.Vs:(this.Gb=k.offset,this.hJ=k.size);this.ol;this.vfa=k;}l=a(102).EventEmitter;g=a(1190);h=a(1191);d=a(1192);f=a(158);n=c.events={Thb:"midxready",jkb:"sidxready",uJa:"ready",wh:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Fo:{get:function(){return this.ol && this.ol.ija;}}});c.prototype.start=function(){this.aq?(this.ya.warn("midx was prefectched and provided"),this.KMa(this.aq)):this.Qlb(this.Gb,this.hJ,this.Ynb.bind(this));};c.prototype.close=function(){};c.prototype.B4=function(k,m){return this.ol && this.ol.Dma(k,m);};c.prototype.Sn=function(k,m){return (k=this.B4(k,m))?k.length:k;};c.prototype.rC=function(k,m){this.ya.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.RD=k;this.ol?this.ol.rC(k,m):m && m();};c.prototype.kF=function(k){var m,p,q;if(!this.ol || k > f.iGb(this.aq))return [];this.ol && this.ol.Oja(k);m=this.Fo.lk;p=this.Fo.index;q=[];p=f.Nc(p) && this.Th[p + 1];if(!(p && p.entries.length || m && !(k > m.endTime)))return [];m && m.images.length && (q=this.VMa(m,k,[]));2 > q.length && p && p.images.length && (m=this.VMa(p,k,q),q.push.apply(q,m));return this.ol.Rua(k)?null:f.ASa(q);};c.prototype.Ti=function(k,m){this.ol && this.ol.Ti(k,m);};c.prototype.Ej=function(k,m){this.ol && this.ol.Ej(k,m);};c.prototype.Qlb=function(k,m,p){this.ya.debug("downloading midx...");this.dNa(k,m,"binary",p);};c.prototype.Rlb=function(k,m,p){this.ya.debug("downloading sidx...");this.dNa(k,m,void 0,p);};c.prototype.dNa=function(k,m,p,q){this.un({url:this.xk,offset:k,size:m,responseType:p},q);};c.prototype.Ynb=function(k,m){if(k)this.emit(n.wh,f.$S(k,"midxdownloaderror"));else try{this.aq=new g(m);this.KMa(this.aq);}catch(p){this.emit(n.wh,f.$S(p,"midxparseerror"));}};c.prototype.KMa=function(k){var m;m=k.entries.reduce(function(p,q){return p + q.size;},0);m?(this.emit(n.Thb,k),this.Rlb(k.startOffset,m,this.$nb.bind(this,k))):this.emit(n.wh,f.$S({},"nosidxfoundinmidx"));};c.prototype.$nb=function(k,m,p){var q,v,t,w;q=this;if(m)q.emit(n.wh,f.$S(m,"sidxdownloaderror"));else {v=0;t=0;q.Th=[];try{w=0;k.entries.forEach(function(u){var y;y=new h(p,v,k.Jna,q.ya,t,t + u.duration,w);q.Th.push(y);u.M_b=y;t=y.Fp;v+=u.size;w++;});}catch(u){q.emit(n.wh,f.$S(u,"sidxparseerror"));return;}q.emit(n.jkb,q.Th);this.ol=new d(q.vfa,k,q.Th);m=q.RD;q.vfa && q.vfa.c9 || (m=Math.max(q.RD - 1E4,0));this.ol.Oja(m,function(u){u && q.ya.error("initial sidx download failed");q.emit(n.uJa);});}};c.prototype.VMa=function(k,m,p){var x;for(var q=k.entries,v=0,t=q.length,w=[],u,y=this.aq;v < t;){u=q[v];if(u.displayTime <= m)u.displayTime + u.duration >= m && w.push(f.aja(u,k.images[v].data,y));else {x=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > m && x.displayTime !== u.displayTime)break;x.BF !== u.BF && w.push(f.aja(u,k.images[v].data,y));}v++;}return w;};r.exports=c;},function(r,b,a){var l,g;function c(h,d){this.duration=h;this.size=d;this.M_b=void 0;}l=a(272);g=a(158);r.exports=function(h){var k;h=new l(h);this.identifier=h.Osa(4);g.assert("midx" === this.identifier);this.version=h.Gp(4);g.assert(0 === this.version);this.Jna=h.uj(36);this.creationTime=h.zM();this.Rm=h.zM();this.O=h.zM();this.eYb=h.Sg();this.fYb=h.Sg();this.language=h.uj(16);h.uj(16);this.startOffset=h.zM();this.oK=h.Sg();for(var d=[],f=0,n=0;n < this.oK;n++){k=new c(h.Gp(4),h.Sg());d.push(k);f+=k.duration;}this.entries=d;this.endTime=f;};},function(r,b,a){var g,h;function c(d,f,n,k,m,p,q,v){this.displayTime=d;this.duration=f;this.pSb=n;this.qSb=k;this.T_b=m;this.U_b=p;this.BF=q;this.tna=v;}function l(d,f,n,k,m,p,q){var v;d=new g(d);v=0;d.position=f;this.ya=k;this.identifier=d.Osa(4);h.assert("sidx" === this.identifier,k);this.Jna=d.uj(36);h.bvb(this.Jna,n,k);this.duration=d.Gp(4);this.oK=d.Sg();this.Fv=m;this.Fp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Gfa=0;v < this.oK;){f=new c(d.Gp(4),d.Gp(4),d.Sg(),d.Sg(),d.Sg(),d.Sg(),d.zM(),d.Gp(4));v++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}g=a(272);h=a(158);l.prototype.xKb=function(){this.Gfa++;};l.prototype.fzb=function(){var d;d=0;this.Gfa--;1 > this.Gfa?this.images && 0 < this.images.length && (d+=h.zma([this]),this.images=[]):this.ya.debug("Not cleaning up shared sidx with range",this.Fv,"-",this.Fp);return d;};r.exports=l;},function(r,b,a){var h,d;function c(f,n){var m;f=f || 0;if(n)for(var k in n.L){m=n.L[k];if(f >= (m.sa || 0) && (!m.qa || f < m.qa))return k;}}function l(f,n){return f && n && n.L[f];}function g(f,n,k){var m;this.ya=f.la;this.Th=k;this.Yz=this.Alb(f.c9);this.zu=[];m=k && k[k.length - 1];this.Go=m && (m.endTime || m.Fp);this.gg=new h(f,n,k);f=c(f.hf || 0,this.Yz);this.gm=this.TP(f);}h=a(1193);d=a(1195);Object.defineProperties(g.prototype,{ija:{get:function(){return this.gg.ija;}}});g.prototype.Dma=function(f,n){return this.gg && this.gg.Dma(f,n);};g.prototype.Oja=function(f,n){this.gg.wZb(f);this.KOa(f);if(!this.Yz && this.Go && f > this.Go)n && n();else if((f=this.HMa(f,this.gm,2,n),this.Yz && 0 < this.gm.O3a.length))n && n();else if(this.Yz && this.gm.iL && f){2 > this.zu.length && this.Flb(this.gm);n=Math.ceil(2 / (this.zu.length - 1));for(var k=0;k < this.zu.length && f && 3 > k;k++){f=this.zu[k];f=this.HMa(f.startTime,f,n);}}};g.prototype.Rua=function(f){return this.gg.Rua(f)?(this.gg.qqb(),this.Oja(f),this.gm.iL=!1,!0):!1;};g.prototype.rC=function(f,n){var k;this.KOa(f);this.zu.forEach(function(m){m.iL=!1;});k=this.gm.Tm && this.gm.Tm[0];this.gg.rC(f,k && k.index);(f=this.gg.aIb(f)) && f.length?this.gg.yUa(f,n):n && n();};g.prototype.Ej=function(f,n){var k;this.ya.debug("Set next segment to",n,"for segment",f);f=this.NMa(f) || this.TP(f);f.M8a=n;k=this;f.XU=f.XU.filter(function(m){if(m.id === n)return !0;k.Aea(m);return !1;});};g.prototype.Ti=function(f,n){var k;k=l(f,this.Yz);Object.keys(k.next).forEach(function(m){k.next[m].weight=n[m] || 0;});};g.prototype.Alb=function(f){var n,m;n={};if(f=(f || ({})).L){n.L={};for(var k in f){m=f[k] || ({});n.L[k]={sa:m.sa,qa:m.qa,Hb:m.Hb,next:this.zlb(m.next)};}}return n;};g.prototype.zlb=function(f){var n,k;n={};for(k in f){n[k]={weight:(f[k] || ({})).weight};}return n;};g.prototype.KOa=function(f){var n,k;if(this.Yz && this.gm.startTime > f || this.gm.endTime && this.gm.endTime < f){n=this.gm;k=c(f,this.Yz);k?(this.ya.debug("Switching segments from",this.gm.id,"to",k,"at pts",f),this.gm=this.NMa(k) || this.TP(k),this.Aea(n)):this.ya.debug("The pts is outside of the current segment but not in a new one yet");}};g.prototype.TP=function(f){this.ya.debug("SegmentManager: creating segment",f);f=new d(f,l(f,this.Yz),this.Th,this.ya);this.zu.push(f);this.ya.debug("SegmentManager: segment contains",f.Tm.length,"sidxes");return f;};g.prototype.Aea=function(f){var n;if(f && f !== this.gm){this.ya.debug("SegmentManager: deleting segment",f.id);f.XU.forEach(this.Aea.bind(this));this.zu=this.zu.filter(function(k){return k !== f;});n=f.ORa();this.gg.UWb(n && n.size || 0,n && n.Tm);}};g.prototype.NMa=function(f){var k;for(var n=0;f && n < this.zu.length;n++){k=this.zu[n];if(f === k.id)return k;}};g.prototype.Flb=function(f){var n,m;n=f.M8a;if(n && "" !== n)f.XU.push(this.TP(n));else {n=f.O3a;for(var k in n){m=n[k];if(!m || !m.weight)break;f.XU.push(this.TP(k));}}};g.prototype.HMa=function(f,n,k,m){if(!n || n.iL)return (this.ya.debug("Done driving segment",n && n.id),!0);if(!this.gg.ztb)return (this.ya.debug("Throttling buffering in quiet period"),!1);this.ya.debug("Drive streaming of segment",n.id,"from pts",f);k=(f=this.gg.bIb(f,n,k)) && f.length || 0;if(0 === k)return (this.ya.debug("Segment is fully downloaded",n && n.id),n.iL=!0,m && m(),!0);this.ya.debug("Downloading",k,"sidxes in segment",n.id);return this.gg.yUa(f,function(p,q){p && (n.iL=!1);m && m(p,q);});};r.exports=g;},function(r,b,a){var n,k;function c(m,p,q){var v;v=q.displayTime <= m && m <= q.displayTime + q.duration;return m <= q.displayTime && q.displayTime <= p || v;}function l(m,p,q){return p && (!p.entries.length && m > p.Fv || m > p.endTime) && q.entries.length && m < q.endTime;}function g(m,p,q){this.SD=this.ru=0;this.Rmb=m.bufferSize || 4194304;this.Fo=new f();this.QD;this.JD=m.df;this.ya=m.la;this.aq=p;this.Th=q;this.fq=new n(m);this.bE=new d(this.Th.length,m.RUa);this.AQ=new h(m.QQa);}function h(m){this.XP=0 !== m;this.on=!1;this.bj=m || 3E3;this.Vd;}function d(m,p){if(this.enabled=p)this.Tm=Array.apply(null,Array(m)).map(function(){return "-";});}function f(m,p){this.lk=m;this.index=p;}n=a(1194);k=a(158);f.prototype.reset=function(){this.index=this.lk=void 0;};d.prototype.ca=function(m){this.enabled && m < this.Tm.length && (this.Tm[m]="x");};d.prototype.M4a=function(m){this.enabled && m < this.Tm.length && (this.Tm[m]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Tm.join("") + "|";};h.prototype.start=function(){var m;if(this.XP){m=this;this.on=!0;this.Vd=setTimeout(function(){m.on=!1;m.Vd=void 0;},this.bj);}};h.prototype.stop=function(){this.on=!1;clearTimeout(this.Vd);this.Vd=void 0;};Object.defineProperties(g.prototype,{ija:{get:function(){return this.Fo;}},ztb:{get:function(){return !this.AQ.on;}}});g.prototype.nQ=function(){this.bE.enabled && this.ya.debug("Buffer: " + this.bE.toString());};g.prototype.job=function(m){this.SD+=m;this.ya.debug("Reserved buffer size is",this.ru + this.SD,"after reserving",m);};g.prototype.Lob=function(m){this.SD-=m;this.ya.debug("Reserved buffer size is",this.ru + this.SD,"after unreserving",m);};g.prototype.ylb=function(m){this.ru+=m;this.ya.debug("Buffer size is",this.ru,"after claiming",m);};g.prototype.hOa=function(m){this.ru-=m;this.ya.debug("Buffer size is",this.ru,"after clearing",m);};g.prototype.UWb=function(m,p){var q;this.hOa(m);q=this;p && this.bE.enabled && (p.forEach(function(v){q.bE.M4a(v.index);}),this.nQ());};g.prototype.Rua=function(m){var p;p=this.emb(m);return k.ZZa(p) && k.f1b(m,p);};g.prototype.wZb=function(m){var p;p=this.ZMa(m);(!p || p.index) !== (!this.Fo || this.Fo.index) && (this.QD=this.Fo.lk,p?(this.JD && this.ya.debug("Current sidx is index",p.index),this.Fo=p):(this.JD && this.ya.debug("Current sidx is out of range"),this.Fo.reset()));this.QD && "number" === typeof this.QD.index && (m < this.QD.Fv - 35E3 || m > this.QD.Fp + 35E3) && (this.rea(this.QD.index),this.QD=void 0,this.nQ());};g.prototype.rC=function(m,p){var q,v;q=this.Th && this.Th.length;for(p;p < q;p++){(v=this.Th[p]) && ((v.endTime || v.Fp) >= m - 1E4 && (v.endTime || v.Fp) < m + 3E5 || this.rea(p));}this.AQ.stop();this.nQ();};g.prototype.qqb=function(){var m,p;this.ya.debug("executing aggressive cleanup");m=this.Th && this.Th.length;for(p=0;p < m;p++){p === this.Fo.index && (p+=2);this.rea(p);}this.AQ.stop();this.nQ();};g.prototype.aIb=function(m){var p,q,v,t;p=[];q=this.ZMa(m);if(!q)return (this.Fo.reset(),p);this.Fo=q;v=m + 1E4;q=q.index;t=this.Th[q];q;for(t;q < this.Th.length && v > t.Fv;(q++,t=this.Th[q])){k.ZZa(t) && k.g1b(m,v,t) && p.push(t);}return p;};g.prototype.yUa=function(m,p){var q,v,t,w,u,y;if(!m || !m.length)return (p && p(null),!0);this.fq.tQ && 2 <= Object.keys(this.fq.tQ).length && !this.AQ.on && (this.ya.debug("Enabling buffering quiet period"),this.AQ.start());q=this;v=m[0];t=m[m.length - 1];if(0 < v.entries.length)(w=v.entries[0].BF,u=v.entries[v.entries.length - 1]);0 < t.entries.length && (k.Nc(w) || (w=t.entries[0].BF),u=t.entries[t.entries.length - 1]);if(w)y=u.BF + u.tna - w;else return (p && p(null),!0);v=k.Jla(w,y);if(this.fq.tQ[v])(this.ya.debug("The request for",v,"is already pending. Not requesting again"),p && p());else if(this.tmb(k.zma(m)))(this.ya.debug("Reserving",y,"bytes for subtitle request",m[0].Fv,m[m.length - 1].Fp),this.job(y),this.fq.zAb(m,w,y,function(x,z){q.ya.debug("Claiming reserved space.  Expected",y,"received",z);q.bE.enabled && (m.forEach(function(A){q.bE.ca(A.index);}),q.nQ());q.Lob(y);q.ylb(z);p && p(x);}));else return (this.ya.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};g.prototype.Dma=function(m,p){var q,v,t;q=this.aq;v=this.YMa(m,p,this.Th);if(!v || 0 === v.length)return [];t=[];p=c.bind(null,m,p);for(var w=0;w < v.length;w++){m=v[w];t=t.concat(m.entries.filter(p));}t=t.map(function(u){return k.aja(u,null,q);});return k.ASa(t);};g.prototype.bIb=function(m,p,q){return this.YMa(m,p.endTime,p.Tm,q,!0);};g.prototype.YMa=function(m,p,q,v,t){var w,u,y,x;if(p && m > p || 0 > m)this.ya.error("invalid range startPts: " + m + ", endPts: " + p);else {w=q && q.length || 0;u=[];if(q && 0 !== w){y=q[0].duration;x=q[0].Fv;if(k.Nc(y) && 0 < y)y=Math.floor((m - x) / y);else for((this.JD && this.ya.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < w && (x=q[y],!k.uAb(x,m));y++){;}for(;y < w && (!v || u.length < v);){x=q[y];if(!t || !x.images.length && x.endTime > m)u.push(x);else if(u.length)break;if(p && p <= x.Fp)break;y++;}return u;}}};g.prototype.emb=function(m){var p,q,t;p=this.Th;if(p && 0 !== p.length){q=p[Math.floor(m / 6E4)];if(q && (q.Fv > m || m > q.Fp))a:{this.Wlb || (this.Wlb=!0,q=k.FGb(this.aq.language),this.ya.error("bruteforce search for ",{movieId:this.aq.O,packageId:this.aq.Rm,lang:q}));q=p.length;for(var v=0;v < q;v++){t=p[v];if(t.Fv <= m && m <= t.Fp){q=t;break a;}}q=void 0;}return q;}};g.prototype.ZMa=function(m){var p,q,v,t,w,u,y,x;p=this.Fo;q=p.lk;v=p.index;t=this.Th;this.xea(k.Nc(m));if(q)if(q.entries.length){if(0 === v && m <= q.startTime || m >= q.startTime && m <= q.endTime)(w=!0,u=p);else {if(0 < v){y=t[v - 1];l(m,y,q) && (w=!0,u=p);}}}else {y=t[v - 1];x=t[v + 1];l(m,y,q)?(w=!0,u=p):x && x.endTime && m <= x.endTime && (m >= q.endTime || m >= q.Fp) && (w=!0,u=new f(x,v + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((v=t[q],v.entries.length && m <= v.endTime)){u=new f(v,q);break;}}return u;};g.prototype.tmb=function(m){return this.ru + this.SD + m <= this.Rmb;};g.prototype.rea=function(m){var p,q,v;p=this.Th[m];q=p && p.images && p.images.length || 0;if(0 < q){v=k.zma([p]);p.images=[];this.bE.M4a(m);this.hOa(v);this.JD && this.ya.debug("cleaning up space from sidx",{index:m,start:p.startTime,size:v,images:q,$dc:this.ru});}};g.prototype.xea=function(m){this.JD && k.assert(m,this.ya);};r.exports=g;},function(r,b,a){var l,g;function c(h){this.xk=h.url;this.un=h.request;this.RD=h.hf || 0;this.JD=h.df;this.ya=h.la;this.tQ={};}l=a(272);g=a(158);c.prototype.zAb=function(h,d,f,n){this.tQ[g.Jla(d,f)]=!0;h && h.forEach(function(k){k.M7a=!0;});this.un({url:this.xk,offset:d,size:f},this.znb.bind(this,h,d,f,n));};c.prototype.znb=function(h,d,f,n,k,m){var p,q,v,t;p=this;q=g.Jla(d,f);setTimeout(function(){delete p.tQ[q];},1E3);if(k)(n && n(k,0),h && h.forEach(function(w){delete w.M7a;}));else {v=new l(m);t=0;h && h.forEach(function(w){delete w.M7a;w.entries.forEach(function(u,y){v.position=u.BF - d;u={data:v.uj(u.tna)};w.images[y]=u;g.D4b(w.images[y].data,p.xea.bind(p));t+=w.images[y].data.length;});});n && n(null,t);}};c.prototype.xea=function(h){this.JD && g.assert(h,this.ya);};r.exports=c;},function(r){function b(a,c,l,g){this.ya=g;this.id=a;this.startTime=c && c.sa || 0;this.endTime=c && c.qa;this.O3a=c && c.next || [];this.M8a;this.XU=[];this.iL=!1;a=this.startTime;c=this.endTime;for(var h=[],d=0;d < l.length;d++){(g=l[d]) && (!c || c > g.Fv) && a < g.Fp && (g.xKb(),h.push(g));}this.Tm=h;}b.prototype.ORa=function(){this.ya.debug("Cleaning up segment",this.id);for(var a,c=0,l,g=[],h=0;h < this.Tm.length;h++){a=this.Tm[h];(l=a.fzb()) && g.push(a);a && (c+=l);}this.Tm=[];return {size:c,Tm:g};};r.exports=b;},function(r,b,a){var c;c=a(102).EventEmitter;a(1197)({});b=function m(g,h,d,f,n,k){if(!(this instanceof m))return new m(g,h,d,f,n,k);c.call(this);this.Yr=g;this.dQ=h;this.o0=d;this.Hmb=f;this.Ci={};this.fj={};this.ya=n || console;this.pn=!1;this.dfa=k.ha;this.bob=k && k.j8 || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.Vd);this.Vd=void 0;this.v8();};b.prototype.v8=function(){var g;g=this;Object.keys(g.Ci).forEach(function(h){g.emit("removesubtitle",g.Ci[h]);});g.Ci={};g.fj={};};b.prototype.pause=function(){this.pn || (clearTimeout(this.Vd),this.Vd=void 0);};b.prototype.$y=function(g,h){var d,f;d=this;f=d.Yr();g=d.dQ(f);null !== g && d.pn && (d.pn=!1,this.ya.debug("bufferingComplete"),d.emit("bufferingComplete"),this.Hmb())?this.ya.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(h="number" === typeof h?h:0,Object.keys(d.Ci).forEach(function(n){n=d.Ci[n];n.displayTime - d.bob <= f && f < n.displayTime + n.duration || (delete d.Ci[n.id],d.emit("removesubtitle",n));}),Object.keys(d.fj).forEach(function(n){n=d.fj[n];f >= n.displayTime + n.duration && delete d.fj[n.id];}),null !== g && 0 < g.length?(h=g.length,d.ya.debug("found " + h + " entries for pts " + f),g.forEach(function(n){n.displayTime - 0 <= f && f < n.displayTime + n.duration && !d.Ci[n.id] && (d.emit("showsubtitle",n),d.Ci[n.id]=n,delete d.fj[n.id]);}),h=g[g.length - 1],d.Ci[h.id] || d.fj[h.id] || (d.emit("stagesubtitle",h),d.fj[h.id]=h),h=d.Eob(f,g),"number" === typeof h && Infinity > h?d.GQ(h):d.GQ(2E4)):null === g?(g=250 * Math.pow(2,h),2E3 < g && (g=2E3),d.ya.warn("checking buffer again in " + g + "ms"),d.pn || (d.pn=!0,d.emit("underflow")),d.GQ(g,h + 1)):d.dfa?(g=500,d.ya.trace("Live : No entries for " + f + "checking buffer again in " + g + "ms"),d.GQ(g)):d.GQ(2E4));};b.prototype.GQ=function(g,h){var d;d=this;d.ya.debug("Scheduling pts check.",{timeout:g,yN:d.Vd});clearTimeout(d.Vd);d.Vd=setTimeout(function(){d.$y(d.Yr(),h);},g);};b.prototype.Eob=function(g,h){h=h.reduce(this.inb.bind(this,g),Infinity);return Infinity > h?this.o0(h,g):h;};b.prototype.inb=function(g,h,d){var f;f=d.displayTime;d=d.displayTime + d.duration;this.ya.debug("next events: start",f,"end",d,"now",g);return f < h && g < f?f:d < h && g < d?d:h;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var h,d,f;function c(n,k,m){throw new TypeError(("undefined" !== typeof m.key?"Types: expected " + m.key:"Types: expected argument " + m.index) + (" to be '" + n + "' but found '" + k + "'"));}function l(n,k,m){var p;p=d[n];"undefined" !== typeof p?p(k) || c(n,k,m):n !== typeof k && c(n,k,m);}function g(n,k){var m;m=n.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});m=m.concat(n.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(v){return q[v];}).filter(function(v){return -1 === f.indexOf(v);}));},[]));if(0 < m.length)throw Error(m.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== n.length)throw new TypeError("Types: unexpected number of arguments");n.forEach(function(q,v){var t;t=p[v];if("string" === typeof q)l(q,t,{index:v});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}h=("number boolean string object function symbol").split(" ");d={array:function(n){return Array.isArray(n);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(n){if("undefined" !== typeof d[n] || -1 < h.indexOf(n))throw new TypeError("Types: attempting to override a built in type with " + n);d[n]=a[n];});}f=Object.keys(d).concat(h);return g(["array","function"],g);};},function(r,b,a){var g,h,d,f;function c(n,k,m){void 0 === m && (m=0);return n.displayTime - m <= k && k < n.displayTime + n.duration;}function l(n,k){for(var m=0;m < n.length;m++){if(k(n[m],m,n))return n[m];}}Object.defineProperty(b,"__esModule",{value:!0});b.uc=b.Beb=b.jya=void 0;g=a(0);h=a(66);d=a(13);r=(function(n){function k(m,p,q,v,t,w,u,y){var x,z,A;A=n.call(this) || this;A.jmb=m;A.dQ=p;A.qmb=q;A.la=v;A.Ss=t;A.jma=w;A.N7=u;A.options=y;A.fj=[];A.Ci=[];A.Bi=[];A.Rra=new d.Af();A.cua=new d.Af();A.n2=new d.Af();A.Hz=new f(function(){return p(m());},A.la,(null === (x=A.options) || void 0 === x?void 0:x.ha) || !1);A.Hz.events.on("bufferingcomplete",function(){var B;A.la.trace("AseTimer:Received buffering complete from watcher");null === (B=A.lm) || void 0 === B?void 0:B.Mf();A.Tqa();});A.Hz.esa();A.I9a();A.Rra.on(A.N7,"segmentPresenting",function(){A.D4a();});A.Rra.on(A.N7,"taskSchedulerChanged",function(){A.I9a();});null === (z=A.lm) || void 0 === z?void 0:z.Ra();return A;}g.__extends(k,n);Object.defineProperty(k.prototype,"_buffering",{get:function(){return this.Hz.xR;},enumerable:!1,configurable:!0});k.prototype.e1b=function(){var m,p,q,v,t,w,u,y,x,z,A,B,C,D;D=this;return g.__generator(this,function(E){switch(E.label){case 0:this.la.trace("AseTimer:Starting subtitle worker");if(this.Ss())return (this.la.trace("Paused: exiting"),[2]);m=function(){return D.he.ta.currentTime.G;};p=this.jmb;this.Bi=this.Ci.concat(this.fj);this.s6a(p(),!0);E.label=1;case 1:if(!this.Bi.length)return [3,3];v=q=p();this.CRa(q);try{for((t=(B=void 0,g.__values(this.Bi)),w=t.next());!w.done;w=t.next()){u=w.value;this.la.trace("AseTimer:Checking subtitle " + u.id);q >= u.displayTime + u.duration || (c(u,q,this.options.ofc)?(this.la.trace("AseTimer:Showing subtitle " + u.id),this.RUb(u),v=Math.max(q,u.displayTime)):(this.la.trace("AseTimer:Staging subtitle " + u.id),this.gva(u)));}}catch(G){B={error:G};}finally{try{w && !w.done && (C=t.return) && C.call(t);}finally{if(B)throw B.error;}}y=this.dtb(v);if(!isFinite(y))return (this.Hz.esa(),[3,3]);x=m();z=this.qmb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.la.trace("AseTimer:Sleeping till PlayerTime " + A);return [4,h.yh.bz(h.N.Na(A))];case 2:return (E.cb(),this.s6a(p()),[3,1]);case 3:return (this.la.trace("AseTimer:Checking removed subtitles one more time " + p()),this.CRa(p()),this.la.trace("AseTimer:Ending subtitle worker"),[2]);}});};k.prototype.s6a=function(m,p){var q,v,t,w,u;v=this;void 0 === p && (p=!1);t=p || !this.fj.length;t || (t=this.Bi[this.Bi.length - 1].displayTime > m);if(t){this.la.trace("AseTimer:Getting subtitles for " + m,{fbc:this.he.ta.currentTime});w=this.dQ(m);if(w){this.la.trace("AseTimer:Received " + w.length + " subtitles");t=function(A){l(u.Bi,function(B){return B.id === A.id;}) || m >= A.displayTime + A.duration || (u.la.trace("AseTimer:adding " + A.id,{start:A.startTime,zbc:A.displayTime,end:A.endTime,Jbc:A.duration}),u.Bi.push(A));};u=this;try{for(var y=g.__values(w),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Bi.filter(function(A){return !l(w,function(B){return B.id === A.id;});}).forEach(function(A){return v.iV(A);});this.Bi.length || this.Hz.esa();}else this.ph();}};k.prototype.stop=function(){var m;this.la.trace("AseTimer:Stop");null === (m=this.lm) || void 0 === m?void 0:m.Ra();this.Hz.reset();this.v8();this.Rra.clear();this.cua.clear();this.n2.clear();};k.prototype.v8=function(){var m,p,q,v;this.la.trace("AseTimer:Removing all",this.Ci.length);v=this.Ci;try{for(var t=g.__values(v),w=t.next();!w.done;w=t.next()){this.iV(w.value);}}catch(y){var u;u={error:y};}finally{try{w && !w.done && (m=t.return) && m.call(t);}finally{if(u)throw u.error;}}this.Ci=[];if(null === (p=this.lm) || void 0 === p?0:p.P_a)null === (q=this.lm) || void 0 === q?void 0:q.Ra();};k.prototype.pause=function(){var m;null === (m=this.lm) || void 0 === m?void 0:m.Ra();};k.prototype.$y=function(){var m,p,q,v;(null === (m=this.lm) || void 0 === m?void 0:m.state) !== h.tk.complete && (null === (p=this.lm) || void 0 === p?void 0:p.state) !== h.tk.LE || this.Ss() || (null === (q=this.lm) || void 0 === q?void 0:q.Mf());this.pn && this.Hz.check();this.Ss() && (null === (v=this.lm) || void 0 === v?void 0:v.Ra());};k.prototype.I9a=function(){var m;m=this;this.la.trace("Setting up new task scheduler");(this.he=this.jma())?(this.cua.clear(),this.cua.on(this.he,"clockChanged",function(){return m.s4a();}),this.lm=this.he.Ax(function(){return m.e1b();},"subtitleWorker"),this.s4a()):this.la.warn("AseTimer: no player task scheduler");};k.prototype.dtb=function(m){var p;return null !== (p=this.Bi.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,v){return q.concat(v);},[]).filter(function(q){return q > m;}).sort(function(q,v){return q - v;})[0]) && void 0 !== p?p:Infinity;};k.prototype.s4a=function(){var m,p,q;m=this;this.n2.clear();(null === (p=this.he) || void 0 === p?0:p.ta)?(this.la.trace("onClockChanged: clock listeners registered"),this.n2.on(this.he.ta,"clockAdjusted",function(v){v.reason === h.mz.ZG && m.D4a();}),this.n2.on(this.he.ta,"stopStart",function(){var v;null === (v=m.lm) || void 0 === v?void 0:v.Mf();})):this.la.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.lm) || void 0 === q?void 0:q.Mf();};k.prototype.D4a=function(){var m,p;this.la.trace("Timeline changed");this.v8();this.Ss()?null === (p=this.lm) || void 0 === p?void 0:p.Ra():null === (m=this.lm) || void 0 === m?void 0:m.Mf();};k.prototype.gva=function(m){-1 === this.fj.indexOf(m) && this.hSb(m);};k.prototype.CRa=function(m){var p,q,w;q=this.Ci.concat(this.fj);try{for(var v=g.__values(q),t=v.next();!t.done;t=v.next()){w=t.value;m >= w.displayTime + w.duration && this.iV(w);}}catch(y){var u;u={error:y};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(u)throw u.error;}}};k.prototype.RUb=function(m){-1 === this.Ci.indexOf(m) && (this.Ci.push(m),-1 !== this.fj.indexOf(m) && (this.fj=this.fj.filter(function(p){return p !== m;})),this.fra(m));};k.prototype.fra=function(m){this.la.trace("AseTimer:Showing",m.id);this.emit("showsubtitle",m);};k.prototype.hSb=function(m){this.la.trace("AseTimer:Staging",m.id);this.fj.push(m);this.emit("stagesubtitle",m);};k.prototype.ph=function(){this.la.trace("AseTimer:onUnderflow",this.pn);this.pn || (this.emit("underflow"),this.Hz.ph());};k.prototype.iV=function(m){this.la.trace("AseTimer:Removing",m.id);-1 !== this.fj.indexOf(m) && (this.fj=this.fj.filter(function(p){return p !== m;}));-1 !== this.Ci.indexOf(m) && (this.emit("removesubtitle",m),this.Ci=this.Ci.filter(function(p){return p !== m;}));this.Bi=this.Bi.filter(function(p){return p !== m;});};k.prototype.Tqa=function(){var m;this.Bi.length && (this.emit("bufferingComplete"),this.Ss() || (null === (m=this.lm) || void 0 === m?void 0:m.Mf()));};return k;})(d.EventEmitter);b.jya=r;f=(function(){function n(k,m,p){void 0 === p && (p=!1);this.dQ=k;this.la=m;this.dfa=p;this.events=new d.EventEmitter();this.pn=!1;}Object.defineProperty(n.prototype,"buffering",{get:function(){return this.pn;},enumerable:!1,configurable:!0});n.prototype.esa=function(){var k;k=this;this.la.trace("AseTimer:Buffering watcher restart");this.pn=!0;this.Rnb=this.dfa?setInterval(function(){return k.check();},500):setInterval(function(){return k.check();},2E4);};n.prototype.ph=function(){this.la.trace("AseTimer:Buffering watcher underflow");this.pn=!0;this.GRa(1);};n.prototype.reset=function(){this.la.trace("AseTimer:Buffering watcher reset");clearInterval(this.Rnb);clearTimeout(this.Kob);this.pn=!1;};n.prototype.GRa=function(k){var m;m=250 * (1 << k);2E3 < m && (m=2E3);this.check();this.pn && (this.Kob=setTimeout(this.GRa.bind(this,k + 1),m));};n.prototype.check=function(){var k;k=this.dQ();this.la.trace("AseTimer:Buffering complete check",null === k || void 0 === k?void 0:k.length);null !== k && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",xC:k}));};return n;})();b.Beb=f;b.uc=l;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.MB=void 0;r=a(1);c=a(483);l=a(1200);g=a(157);b.MB=new r.Xc(function(h){h(c.nca).to(l.WFa).da();h(g.gP).jX(function(d){return function(){return d.eb.get(c.nca).jQb;};});});},function(r,b,a){var l;function c(){var g;g=this;this.ready=!1;this.jQb=new Promise(function(h){g.PXb=h;});}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(0);a=a(1);c.prototype.kQb=function(g){this.ready || (this.PXb(g),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};l=c;l=r.__decorate([(0,a.U)()],l);b.WFa=l;},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Ak=void 0;r=a(1);c=a(92);l=a(484);g=a(1202);h=a(486);d=a(1203);b.Ak=new r.Xc(function(f){f(c.jw).Md(function(){return function(){return mb._cad_global.device;};});f(h.zAa).to(d.yAa).da();f(l.wAa).to(g.vAa).da();});},function(r,b,a){var l,g,h,d,f,n;function c(k,m){this.ta=k;this.Ksa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;r=a(0);l=a(27);g=a(3);h=a(138);d=a(485);f=a(54);a=a(1);c.prototype.JEb=function(){for(var k="",m=this.ta.se.ca(g.na),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[m % 32] + k;m=Math.floor(m / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Ksa.L6a(new d.qda(0,31,f.n4a))];}return k;};n=c;n=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(l.wg)),r.__param(1,(0,a.l)(h.r_))],n);b.vAa=n;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t,w){this.$zb=p;this.Sk=q;this.tb=t;this.lTb=w;this.gBa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=v.Sa("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;r=a(0);l=a(2);g=a(25);h=a(1204);d=a(6);f=a(484);n=a(1);k=a(81);a=a(487);c.prototype.CVa=function(p){try{return p.match(this.gBa)[2];}catch(q){}};c.prototype.PCb=function(p){try{return p.match(this.gBa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(v,t){q.Sk.create().then(function(w){var y,x,z,A,B,C;function u(D){q.tb.mm(D) && q.tb.mm(y)?(x=new h.xAa(D,y,void 0,z,p.ZR || "cadmium"),v(x)):t({za:l.R.bAa});}y=p.Hn;if(p.Ila){z="bind_device";q.lTb.sf(q.log,{}).then(function(D){u(D.esn);}).catch(function(D){t(D);});}else if(p.DK){B=p.Wj;if(q.tb.mm(B)){C=q.PCb(B);C != p.Hn && q.log.error("esn prefix from ui is different",{ui:C,cad:p.Hn,ua:p.userAgent});}else p.fpa && q.log.error("esn from ui is missing");!p.KN && q.tb.mm(B)?(z="config",u(B)):w.load(p.fUa).then(function(D){A=D.value;q.tb.mm(A) && (!1,q.tb.mm(B)?(D=q.CVa(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",u(y + A));}).catch(function(D){var F;function E(){w.save(p.fUa,F,!1).then(function(){u(y + F);}).catch(function(H){t(H);});}function G(){F=q.$zb.JEb();!1;E();}if(D.za === l.R.Iw){if(q.tb.mm(p.Wj)){F=q.CVa(p.Wj);q.tb.mm(F)?(z="config_since_not_in_storage",E()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.Wj),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else u();}).catch(function(w){t(w);});});};m=c;m=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(f.wAa)),r.__param(1,(0,n.l)(k.dw)),r.__param(2,(0,n.l)(d.Va)),r.__param(3,(0,n.l)(g.Qf)),r.__param(4,(0,n.l)(a.gHa))],m);b.yAa=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;b.xAa=function(a,c,l,g){this.Wj=a;this.Hn=c;this.s3=g;};},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F;Object.defineProperty(b,"__esModule",{value:!0});b.Q1a=void 0;r=a(1);c=a(157);l=a(1206);g=a(1207);h=a(1208);d=a(1209);f=a(1210);n=a(11);k=a(1211);m=a(1212);p=a(1213);q=a(46);v=a(92);t=a(492);w=a(489);u=a(488);y=a(85);x=a(273);z=a(48);A=a(187);B=a(1214);C=a(494);D=a(495);E=a(1217);G=a(496);F=a(1218);b.Q1a=new r.Xc(function(H){H(z.dm).to(g.xEa).da();H(w.PFa).to(h.OFa).da();H(u.MEa).to(d.LEa).da();H(x.IEa).to(f.HEa).da();H(z.Qba).to(k.wEa).da();H(y.rw).to(m.EEa).da();H(x.GEa).to(p.FEa).da();H(A.TO).to(B.SO).da();H(A.Tba).to(E.JEa).da();H(G.WO).to(F.VO).da();H(C.GAa).to(D.FAa).da();H(t.Mxa).to(l.Lxa).da();H(z.yEa).jX(function(K){return function(){return K.eb.get(c.gP)().then(function(O){return new Promise(function(I){var N,J,L;function P(){J() && L() && O.RU?I(K.eb.get(z.dm)):N.Qk(P);}N=K.eb.get(q.wi);J=K.eb.get(n.ac);L=K.eb.get(v.jw);N.Qk(P);});});};});});},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v){var t;t=this;this.cOb=m;this.dy=p;this.config=v;this.Vsa=[];this.cOb.u8(l.fdb,this.XIb.bind(this));q().then(function(w){var u;u=v().gp.aEb;t.POb=u?k.Wi[u.toUpperCase()]:k.Wi.wh;t.Jf=w;t.fZb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Lxa=void 0;r=a(0);g=a(1);h=a(11);d=a(111);f=a(48);n=a(85);k=a(6);c.prototype.XIb=function(m,p){this.Jf?this.H6a(m,p):this.Vsa.push([m,p]);};c.prototype.fZb=function(){var m,p;m=this;p=this.Vsa;this.Vsa=[];p.forEach(function(q){m.H6a(q[0],q[1]);});};c.prototype.H6a=function(m,p){var q;if(this.Jf && this.t_b(m)){q={debugMessage:m.message,debugCategory:m.Cn};m.Fc.forEach(function(v){return q=Object.assign(Object.assign({},q),v.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});m=this.dy.ss("debug",k.Wi[m.level].toLowerCase(),q,p);this.Jf.mc(m);}};c.prototype.t_b=function(m){var p;p=this.POb;return void 0 !== p && m.level <= p && !m.Fc.find(function(q){return q.tS(k.xO);});};a=l=c;a.fdb="adaptorAll";a=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(d.dI)),r.__param(1,(0,g.l)(n.rw)),r.__param(2,(0,g.l)(f.yEa)),r.__param(3,(0,g.l)(h.ac))],a);b.Lxa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){this.config=t;this.json=w;this.oc=u;this.VNb=y;this.KU=z;this.z5=this.iB=!1;this.listeners=[];(0,g.Yn)(this,"json");this.la=x.Sa("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;r=a(0);l=a(1);g=a(54);h=a(35);d=a(488);f=a(46);n=a(6);k=a(48);m=a(489);p=a(2);q=a(109);a(130);v=a(262);c.prototype.oa=function(){this.iB=!0;};c.prototype.mc=function(t){var w;w=this;this.E_b(t) || (!1,0 < t.size.zk(this.config.KOb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(u){return u.tPb(t);}),!1,this.KU.rga(t),this.oc.Qk(function(){w.JDb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.z5?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(u,y){w.la.trace("Flushing",n.xO);w.Pp();w.oc.Qk(function(){w.nua(t).then(function(){u();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.nua=function(t){var w,u;w=this;t=void 0 === t?!1:t;if(!this.iB)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.z5)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());u=this.KU.lFb();if(0 === u.length && !t)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Pp();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=ma(u),z=x.next();!z.done;(y={G$:y.G$},z=x.next())){y.G$=z.value;t=t.then((function(A){return function(){return w.cZb(A.G$);};})(y));}return t.then(function(){return w.JA();}).catch(function(A){u.filter(function(B){return !B.Yx;}).forEach(function(B){return B.Ds();});w.JA();throw Error("Send failure. " + A);});};c.prototype.cZb=function(t){var w;w=this;this.la.trace("Sending batch: " + t.size,n.xO);return Promise.resolve(this.KU.XWb(t)).then(function(){return w.VNb.send(t.$F);}).then(function(){return t.oN();}).catch(function(u){w.la.warn("Failed to send batch of logblobs.",u,n.xO);t.Ds();w.q_b(u) && w.KU.zpb(t);w.F_b(u) && (w.z5=!0);throw u;});};c.prototype.q_b=function(t){return t.Lc === p.IZ.aHa?!1:this.config.mga;};c.prototype.F_b=function(t){return t.cc === p.R.WBa || t.cc === p.R.HO || t.cc === p.R.LO?!0:!1;};c.prototype.JDb=function(){var t;t=this;0 < this.KU.size.zk(this.config.z2a)?this.nua().catch(function(w){return t.la.warn("Failed to send log messages on size threshold. " + w);}):this.JA();};c.prototype.Pp=function(){this.K5 && (!1,this.K5.cancel(),this.K5=void 0);};c.prototype.JA=function(){this.K5 || (!1,this.K5=this.oc.Cj(this.config.dZb,this.aM.bind(this)));};c.prototype.aM=function(){var t;t=this;this.z5=!1;this.Pp();this.nua().catch(function(w){return t.la.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(u){}return w;};c.prototype.E_b=function(t){return 0 <= this.config.K9a.indexOf(t.type)?!0:t.type === v.Bc.debug?0 <= this.config.J9a.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Qba)),r.__param(1,(0,l.l)(h.XC)),r.__param(2,(0,l.l)(f.wi)),r.__param(3,(0,l.l)(d.MEa)),r.__param(4,(0,l.l)(n.Va)),r.__param(5,(0,l.l)(m.PFa)),r.__param(6,(0,l.l)(q.BY))],a);b.xEa=a;},function(r,b,a){var g,h,d,f,n,k,m;function c(p){this.hJ=d.Ia;this.pfa=[];this.iQ=this.q0=!1;p && (this.hJ=p.size,this.pfa=p.$F);}function l(p,q,v,t){this.uPb=p;this.config=q;this.tf=v;this.json=t;(0,h.Yn)(this,"json");this.la=this.tf.Sa("MessageQueue");this.ps=[];}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;r=a(0);g=a(1);h=a(54);d=a(51);f=a(273);n=a(6);k=a(35);a=a(48);l.prototype.rga=function(p){var q,v;0 === this.ps.length && this.ps.push(this.Mla());if(p=this.WHb(p)){q=this.uPb.measure([p]);v=this.ps[this.ps.length - 1];0 < v.size.add(q).zk(this.config.z2a) && (v=this.Mla(),this.ps.push(v));v.rga(p);}};l.prototype.lFb=function(){var p;p=this.ps.filter(function(q){return q.Ftb;});this.ps.push(this.Mla());p.forEach(function(q){return q.DOb();});return p;};l.prototype.zpb=function(p){p.Yx || this.ps.unshift(new c(p));};l.prototype.XWb=function(p){p=this.ps.indexOf(p);0 <= p && this.ps.splice(p,1);};l.prototype.WHb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,v;q={};p=p.data;v=p.debugMessage;v && "string" === typeof v && (q.originalDebugMessage=v);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.la.error("JSON.stringify error: " + t.message,q);}};l.prototype.Mla=function(){return new c();};Sa.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.ps.reduce(function(p,q){return p.add(q.size);},d.Ia);}}});m=l;m=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.IEa)),r.__param(1,(0,g.l)(a.Qba)),r.__param(2,(0,g.l)(n.Va)),r.__param(3,(0,g.l)(k.XC))],m);b.OFa=m;c.prototype.oN=function(){this.q0=!1;this.iQ=!0;};c.prototype.Ds=function(){this.q0=!1;};c.prototype.rga=function(p){this.pfa.push(p);this.hJ=this.hJ.add(p.size);};c.prototype.DOb=function(){this.q0=!0;};Sa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.hJ;}},$F:{configurable:!0,enumerable:!0,get:function(){return this.pfa;}},Ftb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.$F.length && !1 === this.q0;}},Yx:{configurable:!0,enumerable:!0,get:function(){return this.iQ;}}});},function(r,b,a){var g,h,d,f,n,k,m,p,q,v,t;function c(w,u,y,x,z,A,B,C){this.Ea=w;this.platform=y;this.Ak=x;this.json=z;this.vh=A;this.Pg=B;this.aOb=C;(0,h.Yn)(this,"json");this.la=u.Sa("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;r=a(0);g=a(1);h=a(54);d=a(35);f=a(3);n=a(30);k=a(17);m=a(43);p=a(92);q=a(6);v=a(490);a=a(82);c.prototype.send=function(w){var u;u=this;return new Promise(function(y,x){var z;try{z=w.reduce(function(A,B){A.entries.push(u.Pxb(B));return A;},new l());y(u.MEb(z));}catch(A){u.la.error(A.message);x(A);}}).then(function(y){return u.pua(y);});};c.prototype.Pxb=function(w){return this.vh.JB(this.vh.JB({},w.data),{esn:this.Ak().Wj,sev:w.severity,type:w.type,lver:this.platform.jpa,jssid:this.Ea.id,devmod:this.platform.CA,jsoffms:w.timestamp.wa(this.Ea.cy).ca(f.na),clienttime:w.timestamp.ca(f.na),client_utc:w.timestamp.ca(f.fm),uiver:this.Pg.Tv});};c.prototype.MEb=function(w){var u;u=this;try{return this.json.stringify(w);}catch(z){for(var y={},x=0;x < w.entries.length;(y={XN:y.XN,Jt:y.Jt},++x)){y.Jt=Object.assign({},w.entries[x]);try{this.json.stringify(y.Jt);}catch(A){y.XN=void 0;this.vh.KA(y.Jt,(function(B){return function(C,D){try{u.json.stringify(D);}catch(E){B.XN=E.message;B.Jt[C]=B.XN;}};})(y));y.Jt.stringifyException=y.XN;y.Jt.originalType=y.Jt.type;y.Jt.type="debug";y.Jt.sev="error";}}return this.json.stringify(w);}};c.prototype.pua=function(w){var u;u=this;return this.aOb.sf(this.la,{logblobs:w}).then(function(){!1;}).catch(function(y){u.la.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(k.Gc)),r.__param(1,(0,g.l)(q.Va)),r.__param(2,(0,g.l)(m.hn)),r.__param(3,(0,g.l)(p.jw)),r.__param(4,(0,g.l)(d.XC)),r.__param(5,(0,g.l)(n.dh)),r.__param(6,(0,g.l)(a.Dw)),r.__param(7,(0,g.l)(v.yHa))],t);b.LEa=t;},function(r,b,a){var l,g,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(0);l=a(1);g=a(273);h=a(51);c.prototype.measure=function(d){var f;f=this;return d.map(function(n){return n.size.add(f.config.XNb());}).reduce(function(n,k){return n.add(k);},(0,h.va)(0));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.GEa))],a);b.HEa=a;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p){m=n.Le.call(this,m,"LogBatcherConfigImpl") || this;m.config=p;m.KOb=(0,l.va)(5E5);m.dZb=(0,g.Q6)(1);m.z2a=(0,l.va)(1E6);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;r=a(0);l=a(51);g=a(3);h=a(1);d=a(11);f=a(44);n=a(45);a=a(31);ha(c,n.Le);Sa.Object.defineProperties(c.prototype,{mga:{configurable:!0,enumerable:!0,get:function(){return this.config().mga;}},K9a:{configurable:!0,enumerable:!0,get:function(){return [];}},J9a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],k.prototype,"K9a",null);r.__decorate([f.config(f.dx("string"),"shedDebugTypes")],k.prototype,"J9a",null);k=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.ll)),r.__param(1,(0,h.l)(d.ac))],k);b.wEa=k;},function(r,b,a){var g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z,A,B,C,D,E){this.platform=w;this.eja=u;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=C;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.CA;this.data.clver=this.platform.version;t && t.Vc && (t.Vc.os && (this.data.osplatform=t.Vc.os.name,this.data.osver=y.platformVersion.bU?y.platformVersion.version:t.Vc.os.version),this.data.browsername=t.Vc.name,this.data.browserver=t.Vc.version);t.toa && (this.data.tester=!0);t.xF && !this.data.groupname && (this.data.groupname=t.xF);t.GJ && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.GJ:t.GJ);t.qX && (this.data.uigroupname=t.qX);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.PGb();this.data.uniqueLogId=D.HWa();this.data.appId=this.Ea.id;E && (t=this.Ea.Db(),this.data.soffms=t.wa(E.Lh).ca(f.na),this.data.mid=this.data.mid || E.O,this.data.lvpi=E.P1a,this.data.uiLabel=E.od,this.data.uxLabels=E.o$,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || E.ja,E.TG && (x=E.TG,(E=E.TG.split(".")) && 1 < E.length && "S" !== E[0][0] && (x="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,w,u,y,x,z,A){this.ta=t;this.eja=w;this.config=u;this.Ea=y;this.x4b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.EEa=void 0;r=a(0);g=a(51);h=a(1);d=a(27);f=a(3);n=a(343);k=a(37);m=a(17);p=a(491);q=a(43);a=a(169);l.prototype.ss=function(t,w,u,y){return new c(this.config,this.platform,this.eja,this.userAgentData,t,w,this.ta.se,u,this.Ea,this.x4b,y);};v=l;v=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.wg)),r.__param(1,(0,h.l)(n.Xza)),r.__param(2,(0,h.l)(k.$m)),r.__param(3,(0,h.l)(m.Gc)),r.__param(4,(0,h.l)(p.PLa)),r.__param(5,(0,h.l)(q.hn)),r.__param(6,(0,h.l)(a.M_))],v);b.EEa=v;Sa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.aRa || (this.aRa=(0,g.va)(this.eja.encode(this.data).length));return this.aRa;}}});},function(r,b,a){var l,g,h;function c(d){this.Ak=d;}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;r=a(0);l=a(1);g=a(51);a=a(92);c.prototype.XNb=function(){var d;d=this.Ak()?this.Ak().Wj.length:40;return (0,g.va)(d + 33);};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.jw))],h);b.FEa=h;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E;function c(G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta){this.sab=G;this.Jf=F;this.Spa=H;this.Cka=K;this.Qd=O;this.e3=I;this.De=P;this.config=N;this.Wc=J;this.ta=L;this.Ea=R;this.platform=ka;this.Bp=la;this.dy=X;this.li=da;this.Is=ta;this.aG=Ba;this.kc=Ja;this.JL=Va;this.wB=Ta;}Object.defineProperty(b,"__esModule",{value:!0});b.SO=void 0;r=a(0);l=a(452);g=a(48);h=a(30);d=a(460);f=a(267);n=a(1);k=a(187);m=a(493);p=a(494);q=a(65);v=a(11);t=a(27);w=a(17);u=a(43);y=a(85);x=a(116);z=a(159);A=a(35);B=a(37);C=a(274);D=a(96);a=a(218);c.prototype.create=function(G,F){return new m.UO(G,F,this.sab,this.Jf,this.Spa,this.Cka,this.Qd,this.e3,this.De,this.config,this.Wc,this.ta,this.Ea,this.Bp,this.dy,this.li,this.Is,this.aG,this.kc,this.JL,this.wB);};E=c;E=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(l.hLa)),r.__param(1,(0,n.l)(g.dm)),r.__param(2,(0,n.l)(d.qFa)),r.__param(3,(0,n.l)(f.jba)),r.__param(4,(0,n.l)(h.dh)),r.__param(5,(0,n.l)(p.GAa)),r.__param(6,(0,n.l)(q.Tt)),r.__param(7,(0,n.l)(v.ac)),r.__param(8,(0,n.l)(x.tD)),r.__param(9,(0,n.l)(t.wg)),r.__param(10,(0,n.l)(w.Gc)),r.__param(11,(0,n.l)(u.hn)),r.__param(12,(0,n.l)(A.g_)),r.__param(13,(0,n.l)(y.rw)),r.__param(14,(0,n.l)(z.kD)),r.__param(15,(0,n.l)(B.$m)),r.__param(16,(0,n.l)(C.kca)),r.__param(17,(0,n.l)(k.Tba)),r.__param(18,(0,n.l)(D.vw)),r.__param(19,(0,n.l)(a.Jba))],E);b.SO=E;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;c=a(51);b.EAa=function(l,g){this.BAb=l;this.size=g.hoa()?c.Ia:g;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hpa=void 0;b.Hpa=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],g=c(l),h=1;h < a.length;h++){d=a[h];f=c(d);f > g && (l=d,g=f);}return l;}};},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y){this.platform=t;this.config=w;this.Ea=u;this.userAgentData=y;this.ZLa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;r=a(0);l=a(1);g=a(17);h=a(2);d=a(43);f=a(3);n=a(11);k=a(22);m=a(12);p=a(275);q=a(169);v=a(47);c.prototype.rp=function(t,w,u){u && (t.adlid=u.Sb,t.abitrate=u.bitrate);w && (t.vdlid=w.Sb,t.vbitrate=w.bitrate);};c.prototype.f_a=function(t,w,u){u?t=Object.assign(t,(0,p.tYa)(this.platform.tq,u)):t.errorcode=h.V.Co;t.errorcode === this.platform.tq + h.V.NGa && (t.lastSyncWithVideoElement=this.getTime() - w.YW);};c.prototype.k_a=function(t,w){var u;try{Object.assign(t,(0,p.sma)());u=w.getBoundingClientRect();t.rendersize=u.width + "x" + u.height;t.renderpos=u.left + "x" + u.top;}catch(y){}};c.prototype.j_a=function(t,w){var u,y,x;u=w.qc[v.v.Z].value;y=w.qc[v.v.ga].value;x=w.gf.value;w=w.Ld.value;u && (t.cdnid=u.id,t.cdnname=u.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Sb,t.abitrate=x.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Sb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.h_a=function(t,w,u){0 <= w.mediaTime.value && (w=u && !w.Ua.Yf?w.QR:w.mediaTime.value,t.moff=(0,k.zl)(w),t.moffms=(0,k.Xf)(w));};c.prototype.d_a=function(t,w){w.rf && (t.pbcid=w.rf);w.xf && (t.playbackcontextid=w.xf);};c.prototype.Cna=function(t){var w,u;t.browserua=m.fD;t.browseruad=null === (u=null === (w=m.je.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === u?void 0:u.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.bU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=m.je && m.je.connection && m.je.connection.type) && (t.nettype=w);};c.prototype.dL=function(t){var w,u,y,x,z;if(this.config().FBb){z=null === (w=null === m.je || void 0 === m.je?void 0:m.je.connection) || void 0 === w?void 0:w.effectiveType;w=null === m.je || void 0 === m.je?void 0:m.je.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (u=null === m.je || void 0 === m.je?void 0:m.je.connection) || void 0 === u?void 0:u.type) && (t.connectionType=z);u=null === (y=null === m.je || void 0 === m.je?void 0:m.je.connection) || void 0 === y?void 0:y.downlink;"number" === typeof u && isFinite(u) && (t.downlink=u);y=null === (x=null === m.je || void 0 === m.je?void 0:m.je.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.f5=function(t,w){if(w=w.Ua.Rl)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.eL=function(t,w,u,y){var x,z,A,B,C;x=this;if(u=u && u.streams){A=new Set();B=new Set();C=new Set();u.forEach(function(D){D=D.Ue;A.add(D);B.add(D.replace(x.ZLa,""));(D=D.match(x.ZLa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(ea(A));t.videoProfile=0 === B.size?"none":[].concat(ea(B))[0];t.videoProfileLevels=[].concat(ea(C));u && u.length && (t.isMcClearen=!!u[0].ri.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=y.X) || void 0 === z?0:z.EX) && (t.videoProfilesStatus=this.h2a(y.X.EX));};c.prototype.h2a=function(t){return this.BOb(t.VK(),function(w){return w.supported?!0:w.reason;});};c.prototype.BOb=function(t,w){return Object.entries(t).reduce(function(u,y){var x;x=ma(y);y=x.next().value;x=x.next().value;u[y]=w(x);return u;},{});};c.prototype.a_a=function(t,w,u){var y,x;if(w=w && w.streams){x={};w.forEach(function(z){x[z.Ue]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=u.X) || void 0 === y?0:y.lR) && (t.audioProfilesStatus=this.h2a(u.X.lR));};c.prototype.e_a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Db().ca(f.na);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.hn)),r.__param(1,(0,l.l)(n.ac)),r.__param(2,(0,l.l)(g.Gc)),r.__param(3,(0,l.l)(q.M_))],a);b.JEa=a;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v,t){this.Jf=m;this.config=p;this.ta=q;this.Ea=v;this.lpa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.VO=void 0;r=a(0);l=a(48);g=a(1);h=a(187);d=a(11);f=a(27);n=a(17);k=a(1219);c.prototype.create=function(m,p,q){var v;v=this.lpa.create(m,p);return new k.XO(m,p,q,this.Jf,this.config,this.Ea,v);};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(l.dm)),r.__param(1,(0,g.l)(d.ac)),r.__param(2,(0,g.l)(f.wg)),r.__param(3,(0,g.l)(n.Gc)),r.__param(4,(0,g.l)(h.TO))],a);b.VO=a;},function(r,b,a){var l,g,h,d;function c(f,n,k,m,p,q,v){var t;t=this;this.j=f;this.Ba=n;this.Jf=m;this.config=p;this.Ea=q;this.$a=v;this.AB=function(w,u){return function(y){var x;x=u(y);if("number" !== typeof x)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");x === t.O && w(y);};};this.f2a=this.AB(function(w){t.C9(w.JF);},function(w){return w.O;});this.c2a=this.AB(function(){t.DR();},function(w){return w.O;});this.aSa=this.AB(function(){t.DR();},function(w){return w.movieId;});this.dia=this.AB(function(){t.j.lb.value === d.Ya.Td && (t.j.lb.removeListener(t.dia),t.ht());},function(){return t.j.O;});this.Ty=function(w){t.Cp && t.$a.Ty(w);};this.fSa=this.AB(this.$a.Wub,function(w){return w.O;});this.vUa=this.AB(this.$a.wAb,function(w){return w.O;});this.K1a=this.AB(this.$a.qU,function(w){return t.j.Zh(w.segmentId).O;});this.U8a=this.AB(this.$a.uW,function(w){return t.j.Zh(w.segmentId).O;});this.vj=function(w){w.skip && (t.ZG=!0);switch(w.cause){case d.Sc.Gw:case d.Sc.PO:case d.Sc.G_:t.fr && t.so && t.$a.Pra(t.getTime() - t.so,t.fr);t.fr="repos";t.$a.hC(w.Qqa,w.gf,w.Ld);t.so=t.getTime();(0,h.If)(t.Ru);break;case d.Sc.LY:(t.fr="force_rebuffer",t.so=t.getTime(),(0,h.If)(t.Ru));}};this.sl=function(w){t.$x=w.oldValue;t.$a.sl(w);};this.Ru=function(){var w;if(t.so && t.j.lb.value !== d.Ya.Bf){w=t.getTime() - t.so;t.$a.vt(w,t.ZG,t.fr);t.$x && t.$x != t.j.jc.value && t.$a.gha();t.so=void 0;t.fr=void 0;t.ZG=void 0;}};this.ht=function(){t.Cp || (t.Cp=!0,t.$a.pr(!1),t.Lna(),t.config().l5 && (t.Vx=mb.setTimeout(function(){t.Jf.flush(!1).catch(function(){return t.log.warn("failed to flush log batcher on initialLogFlushTimeout");});t.Vx=void 0;},t.config().l5)));};this.og=function(){t.Vx && (mb.clearTimeout(t.Vx),t.Vx=void 0);if(t.config().f3 || t.config().iR)(t.Lja && (mb.clearInterval(t.Lja),t.Lja=void 0),t.$a.nUa());t.sX && t.sX();t.Cp?t.$a.Hx(!!t.j.kh):t.j.kh?t.$a.pr(!0):t.Ba.background.value || t.$a.Qra();};this.GX=function(w){w.oldValue && w.Eh && w.Eh.wE && t.$a.px(w.oldValue,w.newValue,w.Eh.wE,w.Eh.sR);};this.IV=function(w){var u;if(w.newValue){u=w.newValue.stream;t.SF != u && (t.SF && u && t.$a.gta(t.SF,u,w.newValue.JJ.startTime),t.SF=u);}};this.O=n.O;this.log=(0,l.Gh)(f,"LogblobBuilder");this.oa();k && this.C9();}Object.defineProperty(b,"__esModule",{value:!0});b.XO=void 0;l=a(8);g=a(3);h=a(59);d=a(15);c.prototype.oa=function(){this.j.addEventListener(d.ea.VF,this.f2a);this.j.addEventListener(d.ea.ypa,this.c2a);this.j.addEventListener(d.ea.qU,this.K1a);this.j.addEventListener(d.ea.uW,this.U8a);this.j.addEventListener(d.ea.og,this.aSa);if(this.config().f3 || this.config().iR)(this.j.addEventListener(d.ea.OE,this.vUa),this.Lja=mb.setInterval(this.$a.nUa,this.config().AAb));this.config().nta && this.j.addEventListener(d.ea.OE,this.fSa);};c.prototype.C9=function(f){var n;n=this;this.t3a || (this.j.lb.value !== d.Ya.Td || (void 0 === f?0:f)?this.j.lb.addListener(this.dia):this.ht(),this.j.Uh.addListener(this.Ty),this.j.yb.addListener(this.$a.Wk),this.j.jc.addListener(this.sl),this.j.Jg.addListener(this.$a.nR),this.j.paused.addListener(this.$a.J7),this.j.Ld.addListener(this.IV),this.j.lb.addListener(this.Ru),this.j.lb.addListener(this.$a.Oab),this.j.Ke.addListener(this.GX),this.j.playbackRate.addListener(this.$a.IW),this.j.addEventListener(d.ea.Ch,this.$a.Ch),this.j.addEventListener(d.ea.jE,this.$a.jE),this.j.addEventListener(d.ea.d6,this.$a.d6),this.j.addEventListener(d.ea.c6,this.$a.c6),this.j.addEventListener(d.ea.nN,this.$a.nN),this.j.addEventListener(d.ea.ix,function(k){n.fr="rebuffer";n.$a.ix(k);n.so=n.getTime();(0,h.If)(n.Ru);}),this.j.addEventListener(d.ea.vj,this.vj),this.j.addEventListener(d.ea.uN,this.$a.uN),this.Ba.Yo && this.Ba.Yo.addListener(this.$a.Yo),this.t3a=!0);};c.prototype.DR=function(){this.og();this.t3a && (this.j.removeEventListener(d.ea.VF,this.f2a),this.j.removeEventListener(d.ea.ypa,this.c2a),this.j.removeEventListener(d.ea.qU,this.K1a),this.j.removeEventListener(d.ea.uW,this.U8a),this.j.Uh.removeListener(this.Ty),this.j.yb.removeListener(this.$a.Wk),this.j.jc.removeListener(this.sl),this.j.Jg.removeListener(this.$a.nR),this.j.paused.removeListener(this.$a.J7),this.j.Ld.removeListener(this.IV),this.j.lb.removeListener(this.Ru),this.j.lb.removeListener(this.dia),this.j.lb.removeListener(this.$a.Oab),this.j.Ke.removeListener(this.GX),this.j.playbackRate.removeListener(this.$a.IW),this.j.removeEventListener(d.ea.og,this.aSa),this.j.removeEventListener(d.ea.Ch,this.$a.Ch),this.j.removeEventListener(d.ea.jE,this.$a.jE),this.j.removeEventListener(d.ea.nN,this.$a.nN),this.j.removeEventListener(d.ea.ix,this.$a.ix),this.j.removeEventListener(d.ea.vj,this.vj),this.j.removeEventListener(d.ea.uN,this.$a.uN),this.Ba.Yo && this.Ba.Yo.removeListener(this.$a.Yo),this.j.removeEventListener(d.ea.OE,this.vUa),this.j.removeEventListener(d.ea.OE,this.fSa));};c.prototype.getTime=function(){return this.Ea.Db().ca(g.na);};c.prototype.Lna=function(){var f,n,k;f=this;k=[];this.config().Z2a && (this.config().$2a.forEach(function(m){k.push(mb.setTimeout(f.$a.my,m));}),this.config().F6 && (n=mb.setInterval(this.$a.my,this.config().F6)),this.sX=function(){k.forEach(function(m){mb.clearTimeout(m);});n && mb.clearInterval(n);});};b.XO=c;},function(r,b,a){var c,l,g,h,d,f,n,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.H3a=void 0;r=a(1);c=a(1221);l=a(65);g=a(497);h=a(1222);d=a(499);f=a(498);n=a(1223);k=a(365);m=a(1227);b.H3a=new r.Xc(function(p){p(g.lMa).to(c.kMa).da();p(l.Tt).AC(function(){return mb._cad_global.http;});p(d.jGa).to(h.iGa).da();p(f.kGa).Xk(n.default);p(k.QCa).to(m.PCa).da();});},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;r=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.U)()],l);b.kMa=l;},function(r,b,a){var l,g,h,d;function c(f,n,k){this.config=f;this.QNb=n;this.Kd=k;}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;r=a(0);l=a(336);g=a(1);h=a(188);a=a(498);c.prototype.Xxb=function(){if(this.config.Ybb)return this.Kd(this.QNb());};d=c;d=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(l.hGa)),r.__param(1,(0,g.l)(h.dGa)),r.__param(2,(0,g.l)(a.kGa))],d);b.iGa=d;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1224);l=a(1225);g=a(1226);b.default=function(h){var d;h=new c.Y$(h);d=new g.wib(h);return new l.vib(h,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.H1a=c;}a.prototype.zua=function(c){try{this.H1a.setItem("gtp",JSON.stringify(c));}catch(l){return !1;}return !0;};a.prototype.JXa=function(){var c;try{c=this.H1a.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.Im=function(){var c;c=this.JXa();if(c && c.tp)return c.tp.a;};a.prototype.zGb=function(){var c;c=this.Xla();if(c)return c.p25;};a.prototype.AGb=function(){var c;c=this.Xla();if(c)return c.p50;};a.prototype.BGb=function(){var c;c=this.Xla();if(c)return c.p75;};a.prototype.Xla=function(){var c;c=this.JXa();if(c && (c=c.iqr))return c;};return a;})();b.Y$=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.Ku=c;this.Aqa=l;}a.prototype.zua=function(c){return this.Ku.zua(c);};a.prototype.Im=function(){return this.Ku.Im();};return a;})();b.vib=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Ku=c;}a.prototype.Aqa=function(){var c,l,g;c=this.Ku.zGb();l=this.Ku.AGb();g=this.Ku.BGb();if("number" === typeof c && "number" === typeof l && "number" === typeof g)return (g - c) / l;};return a;})();b.wib=r;},function(r,b,a){var l,g,h;function c(d,f){this.De=f;this.la=d.Sa("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;r=a(0);l=a(1);g=a(6);a=a(65);c.prototype.download=function(d,f){var n;n=this;f=void 0 === f?{H2a:0}:f;return new Promise(function(k,m){var q;function p(v){if(v.ia)return k(v.content);if(q === f.H2a)return m({za:v.za,Rx:v.yl});q++;!1;n.De.download(d,p);}q=0;n.De.download(d,p);});};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(a.Tt))],h);b.PCa=h;},function(r,b,a){var c,l,g,h,d,f,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.BWa=void 0;r=a(1);c=a(1229);l=a(1230);g=a(1231);h=a(1232);d=a(1233);f=a(500);n=a(501);k=a(167);b.BWa=new r.Xc(function(m){m(k.UBa).to(c.TBa).da();m(k.GJa).to(l.FJa).da();m(k.EJa).to(g.DJa).da();m(f.QBa).to(h.PBa).da();m(n.TCa).to(d.SCa).da();});},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t,w,u,y){this.config=p;this.TZa=q;this.oc=v;this.wf=t;this.rXb=w;this.kta=u;this.tMb=0;this.la=y.Sa("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;r=a(0);g=a(1);h=a(3);d=a(46);f=a(6);n=a(500);k=a(501);a=a(167);c.prototype.start=function(){this.config.enabled && !this.gr && (this.gr=this.oc.Cj(this.config.h$a,this.lC.bind(this)));};c.prototype.stop=function(){this.gr && (this.gr.cancel(),this.gr=void 0);};c.prototype.lC=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.tMb++;this.rIb(q).then(function(v){return Promise.all(v.urls.map(function(t){return p.fJb(v,t.url,t.name);})).then(function(t){0 < t.length && p.rXb.aW({data:t,context:v.context,mpa:v.mpa});}).then(function(){return v;});}).then(function(v){p.gr && (v.N0a?p.gr=p.oc.Cj(v.N0a,p.lC.bind(p)):p.stop());}).catch(function(v){return p.la.error("FTL run failed",v);});};c.prototype.rIb=function(p){var q;q=this;return this.TZa.get(p,!1).then(function(v){var t;if(200 != v.status || null == v.body)return (q.kta.aW({url:p,status:v.status,Mra:"FTL API request failed",co:v.co}),Promise.reject(Error("FTL API request failed: " + v.status)));t=q.wf.parse(v.body);return t instanceof Error?(q.kta.aW({url:p,status:4,Mra:"FTL Probe API JSON parsing error",co:v.co}),Promise.reject(t)):Promise.resolve(t);}).catch(function(v){v instanceof Error && (q.kta.aW({url:p,status:0,Mra:v.message}),q.la.error("FTL API call failed",v.message));return Promise.reject(v);});};c.prototype.fJb=function(p,q,v){var t;t=this;return new Promise(function(w,u){var E;for(var y,x,z,A,B=[],C={},D=0;D < p.LVb;(C={H$:C.H$,I$:C.I$},++D)){C.H$=D < p.E6a.length?p.E6a[D]:h.Ia;C.I$="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(G){return function(){return new Promise(function(F,H){t.oc.Cj(G.H$,function(){l.lVb(t.TZa,G.I$,p.KVb).then(function(K){function O(I,P,N){I || (I=N.headers[P]);return I;}y=O(y,"via",K);x=O(x,"x-ftl-probe-data",K);z=O(z,"x-ftl-error",K);A=O(A,"latency-trace",K);K={status:K.status,co:K.co,K4b:y || "",qub:x || "",uS:z || "",VMb:t.dTb(A)};F(K);}).catch(function(K){H(K);});});});};})(C);B.push(0 < D?B[D - 1].then(E):E());}Promise.all(B).then(function(G){w({url:q,name:v,data:G});}).catch(function(G){u(G);});});};c.prototype.dTb=function(p){var q;if(p){q={};p=ma(p.split(";"));for(var v=p.next();!v.done;v=p.next()){if((v=v.value.trim().split("=")) && 2 == v.length)try{q[v[0].trim()]=Number.parseInt(v[1]);}catch(t){}}return q;}};c.lVb=function(p,q,v){return p.get(q,!1,v).then(function(t){return Object.assign({},t);});};m=l=c;m=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.SBa)),r.__param(1,(0,g.l)(k.TCa)),r.__param(2,(0,g.l)(d.wi)),r.__param(3,(0,g.l)(n.QBa)),r.__param(4,(0,g.l)(a.GJa)),r.__param(5,(0,g.l)(a.EJa)),r.__param(6,(0,g.l)(f.Va))],m);b.TBa=m;},function(r,b,a){var l,g,h,d,f,n;function c(k,m){this.Jf=k;this.Zpa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;r=a(0);g=a(1);h=a(51);d=a(3);f=a(48);a=a(85);c.prototype.aW=function(k){var m;m={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.s5b({d:q.co.duration.ca(d.na),sc:q.status,sz:q.co.size.ca(h.Ot),via:q.K4b,cip:q.qub,err:q.uS},q);})};})};k=this.Zpa.ss(k.mpa,"info",m);this.Jf.mc(k);};c.s5b=function(k,m){l.Iu(k,"dns",m.co.pUa);l.Iu(k,"tcp",m.co.Iva);l.Iu(k,"tls",m.co.Vva);l.Iu(k,"ttfb",m.co.Pva);l.Qpb(k,m.VMb);return k;};c.Qpb=function(k,m){m && (k.rtts=m);};c.Iu=function(k,m,p){p && (k[m]=p.ca(d.na));};n=l=c;n=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.dm)),r.__param(1,(0,g.l)(a.rw))],n);b.FJa=n;},function(r,b,a){var l,g,h,d,f,n;function c(k,m){this.Jf=k;this.Zpa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;r=a(0);g=a(1);h=a(51);d=a(3);f=a(48);a=a(85);c.prototype.aW=function(k){k=this.Zpa.ss("ftlProbeError","info",l.r5b({url:k.url,sc:k.status,pf_err:k.Mra},k));this.Jf.mc(k);};c.r5b=function(k,m){m.co && (m=m.co,l.Iu(k,"d",m.duration),l.Iu(k,"dns",m.pUa),l.Iu(k,"tcp",m.Iva),l.Iu(k,"tls",m.Vva),l.Iu(k,"ttfb",m.Pva),k.sz=m.size.ca(h.Ot));return k;};c.Iu=function(k,m,p){p && (k[m]=p.ca(d.na));};n=l=c;n=l=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.dm)),r.__param(1,(0,g.l)(a.rw))],n);b.DJa=n;},function(r,b,a){var l,g,h,d,f;function c(n,k){this.is=n;this.json=k;(0,g.Yn)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;r=a(0);l=a(1);g=a(54);h=a(35);d=a(3);a=a(25);c.prototype.parse=function(n){var m;n=this.json.parse(n);if(!this.is.Zfa(n))throw Error("FtlProbe: param: not an object");if(n.next && !this.is.OQ(n.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.OQ(n.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(n.pulse_delays && !this.is.iA(n.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.OQ(n.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.iA(n.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.mm(n.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.dR(n.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < n.urls.length;++k){m=n.urls[k];if(!this.is.Zfa(m))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Po(m.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Po(m.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {LVb:n.pulses,E6a:n.pulse_delays?n.pulse_delays.map(d.Jb):[],KVb:(0,d.Jb)(n.pulse_timeout),N0a:n.next?(0,d.Jb)(n.next):void 0,urls:n.urls,mpa:n.logblob,context:n.ctx};};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Qf)),r.__param(1,(0,l.l)(h.XC))],f);b.PBa=f;},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q,v,t){this.ta=q;this.w5b=v;this.performance=t;(0,g.Yn)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;r=a(0);g=a(54);h=a(270);d=a(51);f=a(35);n=a(27);k=a(1);m=a(497);p=a(3);c.prototype.get=function(q,v,t){var w;w=this;return new Promise(function(u,y){var x,z,A;try{x=w.w5b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);v && (x.withCredentials=!0);t && (x.timeout=t.ca(p.na));z=w.ta.se;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.ta.se.wa(z);break;case XMLHttpRequest.DONE:B=w.ta.se.wa(z);B={body:x.responseText,status:x.status,headers:l.vra(x.getAllResponseHeaders()),co:w.cma(q,(0,d.va)(x.responseText.length),B,A)};u(B);}};x.send();}catch(B){y(B);}});};c.vra=function(q){var v,w,u;v={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];u=w.indexOf(": ");0 < u && (v[w.substring(0,u).toLowerCase()]=w.substring(u + 2));}return v;};c.prototype.cma=function(q,v,t,w){v={size:v,duration:t,Pva:w};if(!this.performance || !this.performance.getEntriesByName)return v;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return v;q=t[t.length - 1];v=(0,h.DL)(v);q.decodedBodySize && (v.size=(0,d.va)(q.decodedBodySize));0 < q.duration?v.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (v.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (v.pUa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),v.Iva=(0,p.timestamp)(q.connectEnd - q.connectStart),v.Pva=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?v.Vva=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,v.Vva=(0,p.timestamp)(t),v.Iva=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return v;};a=l=c;a=l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.wg)),r.__param(1,(0,k.l)(m.lMa)),r.__param(2,(0,k.l)(f.Oca)),r.__param(2,(0,k.optional)())],a);b.SCa=a;},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.A6a=void 0;r=a(1);c=a(337);l=a(1235);g=a(190);h=a(1236);b.A6a=new r.Xc(function(d){d(c.MAa).to(l.LAa).da();d(g.RO).to(h.gEa).da();});},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t){this.vh=p;this.nA=q;this.v4b=v;this.xL=t;}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;r=a(0);l=a(1);g=a(30);h=a(29);d=a(69);f=a(122);n=a(57);k=a(41);a=a(190);c.prototype.Og=function(p){var q;q=this;return this.vh.vA(p.kj[0].data[0],[8,4])?Promise.resolve({de:[{id:"ddd",TF:"cert",jU:void 0}],Hk:[{sessionId:"ddd",data:new Uint8Array(this.nA.decode(k.dMa))}]}):this.vh.vA(p.kj[0].data[0],this.v4b.decode("certificate"))?Promise.resolve({de:[{id:"ddd",TF:"cert",jU:void 0}],Hk:[{sessionId:"ddd",data:new Uint8Array(this.nA.decode(k.KY))}]}):this.xL.Eu(this.yEb(p)).then(function(v){return q.zEb(v);});};c.prototype.release=function(p){return this.xL.release(this.DEb(p)).then(function(){});};c.prototype.yEb=function(p){var q,v;q=this;v=p.kj.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.nA.encode(w)};});});return {ja:p.ja,xf:p.xf,h3:p.h3,ff:(0,n.Soa)(p.ff),Cm:f.qk[p.Cm],kj:v.reduce(function(t,w){return t.concat(w);},[]),di:p.di,bg:p.bg};};c.prototype.DEb=function(p){return {ja:p.ja,de:p.de};};c.prototype.zEb=function(p){return {de:p.de,Hk:p.Hk};};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.dh)),r.__param(1,(0,l.l)(h.$g)),r.__param(2,(0,l.l)(d.Yp)),r.__param(3,(0,l.l)(a.RO))],m);b.LAa=m;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q,v){this.hpb=k;this.SWb=m;this.R7a=q;this.UXb=v;this.la=p.Sa("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gEa=void 0;r=a(0);l=a(1);g=a(6);h=a(502);a(503);d=a(507);f=a(508);a=a(276);c.prototype.Eu=function(k){var m,p;m=this;!1;p=this.R7a.B2b(k);return this.hpb.Jn(this.la,k.di,p).then(function(q){q.map(function(v){return v.ZMb;});return m.UXb.Rab(q);}).catch(function(q){m.la.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var m;m=this;!1;k=this.R7a.E2b(k);return this.SWb.sf(this.la,k).then(function(){return {ia:!0};}).catch(function(p){m.la.error("PBO release license failed",p);return Promise.reject(p);});};n=c;n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.cHa)),r.__param(1,(0,l.l)(d.QHa)),r.__param(2,(0,l.l)(g.Va)),r.__param(3,(0,l.l)(f.sHa)),r.__param(4,(0,l.l)(a.Kca))],n);b.gEa=n;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u;function c(y){return function(){return y.eb.get(l.LHa).oa();};}Object.defineProperty(b,"__esModule",{value:!0});b.sG=void 0;r=a(1);l=a(142);g=a(224);h=a(277);d=a(509);f=a(1238);n=a(1239);k=a(510);m=a(1240);p=a(511);q=a(1241);v=a(278);t=a(1242);w=a(512);u=a(1243);b.sG=new r.Xc(function(y){y(k.yIa).to(m.xIa).da();y(g.Mca).to(h.HHa).da();y(d.iHa).to(f.hHa).da();y(l.LHa).to(n.KHa).da();y(l.nP).jX(c);y(w.JHa).to(u.IHa).da();y(p.oHa).to(q.nHa).da().KX();y(v.NHa).to(t.MHa).da();y(v.EHa).to(t.DHa).da();y(v.GHa).to(t.FHa).da();});},function(r,b,a){var h,d,f,n,k,m,p,q,v,t;function c(){}function l(){}function g(w,u,y,x,z){var A;A=this;this.is=w;this.Sk=u;this.config=y;this.ME=x;this.nTb=z;this.Dt=function(){return new c().encode({version:A.version,data:A.sG});};this.b4b=function(B){B=A.upgrade(B);A.nTb.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.mm(B))return A.c4b(B);C=B.version;if(void 0 != C && A.is.Rj(C) && 1 == C)return A.d4b(B);C=B.version;if(void 0 != C && A.is.Rj(C) && 2 == C)return new c().decode(B);if(B.version && A.is.Rj(B.version))throw new k.Jc(f.V.qz,f.R.Xya,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.Jc(f.V.qz,f.R.lz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.jk=new m.Cba(2,this.config().H5a,"" !== this.config().H5a && 0 < this.config().PTb,this.Sk,this.Dt);}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;r=a(0);h=a(1);d=a(11);f=a(2);n=a(25);k=a(34);m=a(326);p=a(81);q=a(92);v=a(277);a=a(278);g.prototype.ZVb=function(){return this.jk.load(this.b4b).catch(function(w){throw new k.Jc(f.V.qz,w.za || w.cc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};g.prototype.Upb=function(w){return this.jk.add(w);};g.prototype.w7a=function(w){return this.jk.remove(w,function(u,y){return u.ja === y.ja;});};g.prototype.vwa=function(w){return this.jk.update(w,function(u,y){return u.ja === y.ja;});};g.prototype.toString=function(){return JSON.stringify(this.Dt(),null,"  ");};g.prototype.Pbb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.ME().Wj:"";};g.prototype.zwa=function(w){return w.map(function(u){return {Sb:u.downloadableId,duration:u.duration};});};g.prototype.Qbb=function(w){var u;return w?{total:w.playTimes.total,qH:null !== (u=w.playTimes.totalContentTime) && void 0 !== u?u:w.playTimes.total,zN:w.playTimes.total,BC:0,CC:0,rH:0,sH:0,audio:this.zwa(w.playTimes.audio || []),video:this.zwa(w.playTimes.video || []),text:this.zwa(w.playTimes.timedtext || [])}:{total:0,qH:0,zN:0,BC:0,CC:0,rH:0,sH:0,audio:[],video:[],text:[]};};g.prototype.c4b=function(w){var u,y,x;u=this;w=JSON.parse(w);y={bg:"VOD",href:this.Pbb(w.playbackContextId),ja:w.xid?w.xid.toString():"",O:w.movieId,position:w.position,rx:w.timestamp,Sl:w.playback?1E3 * w.playback.startEpoch:-1,IL:w.mediaId,zv:this.Qbb(w.playback),trackId:"",Rl:{},profileId:w.accountKey};x=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.Sk.create().then(function(z){z.save(u.config().fS,x,!1);});if("" === y.href || "" === y.ja)throw new k.Jc(f.V.qz,f.R.lz);return {version:2,data:[y]};};g.prototype.d4b=function(w){var u;u=this;if(!w.playdata || !this.is.iA(w.playdata))throw new k.Jc(f.V.qz,f.R.lz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(y){return y.map(function(x){var z;return {bg:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:u.Pbb(x.playbackContextId),ja:x.xid?x.xid.toString():"",O:x.movieId,position:x.position,rx:x.timestamp,Sl:x.playback?1E3 * x.playback.startEpoch:-1,IL:x.mediaId,zv:u.Qbb(x.playback),trackId:"",Rl:{},profileId:x.profileId};});})(w.playdata)};};Sa.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.jk.version;}},sG:{configurable:!0,enumerable:!0,get:function(){return this.jk.ul;}}});t=g;t=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.Qf)),r.__param(1,(0,h.l)(p.dw)),r.__param(2,(0,h.l)(d.ac)),r.__param(3,(0,h.l)(q.jw)),r.__param(4,(0,h.l)(a.GHa))],t);b.hHa=t;l.prototype.encode=function(w){var u;u=new v.f_();return w.map(u.encode);};l.prototype.decode=function(w){var u;u=new v.f_();return w.map(u.decode);};c.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},function(r,b,a){var h,d,f,n,k,m,p,q,v,t,w,u,y;function c(x,z,A,B,C,D,E,G){this.config=x;this.oc=A;this.Uv=B;this.kt=C;this.S7=D;this.qh=E;this.QF=Promise.resolve();this.closed=!1;this.log=z.Sa("PlaydataServices");this.rG=[];this.active=new Set();this.aYb=new l(x,G);}function l(x,z){this.config=x;this.ta=z;}function g(x,z,A,B,C,D){this.log=x;this.oc=z;this.Qg=A;this.kt=B;this.Uv=C;this.ITb=D;this.GVa=this.Uf=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=b.Ejb=void 0;r=a(0);h=a(1);d=a(3);f=a(6);n=a(46);k=a(224);m=a(509);p=a(510);q=a(2);v=a(277);t=a(511);w=a(79);u=a(27);a=a(139);g.prototype.QL=function(x,z){var B;function A(){var C;C=B.kt.create(B.Qg);B.Uv.vwa(C).catch(function(D){var E;E=B.GVa?f.Wi.Zda:f.Wi.wh;B.GVa=!0;B.log.write(E,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.Uv.Upb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.gr=B.oc.QM(x,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new v.f_().encode(z)});B.gr=B.oc.QM(x,A);});};g.prototype.stop=function(x){var z,A;z=this;if(this.Uf)return Promise.resolve();this.gr && this.gr.cancel();A=this.kt.create(this.Qg);return this.Uv.vwa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Qg.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.ITb.Q8a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.Uv.w7a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.O);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};g.prototype.cancel=function(){this.Uf=!0;this.gr && this.gr.cancel();this.Uv.vwa(this.kt.create(this.Qg));};Sa.Object.defineProperties(l.prototype,{Atb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.ta.se;return !this.QF || 0 <= x.wa(this.QF).zk(this.config.P0a)?(this.QF=x,!0):!1;}}});b.Ejb=l;c.prototype.oa=function(){var x;x=this;this.hB || (this.log.trace("Starting playdata services"),this.hB=this.Uv.ZVb().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.hB;};c.prototype.close=function(){this.closed=!0;this.rG.forEach(function(x){x.QL.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.oG && z.oua?this.bZb(x):Promise.resolve();};c.prototype.Fj=function(x,z,A){var B;B=this;this.closed || (this.mva(x),this.qua(x).catch(function(C){B.log.error("Start command failed",{playdata:C.sG,error:C.uS});}),z && this.jva(this.CGb(x),x,A));};c.prototype.OW=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.kt.create(x);this.active.delete(A.ja);x=ma((0,w.UB)(function(C){return C.key === A.ja;},this.rG));B=x.next().value;this.rG=x.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.QL.stop(z.config.oua);})).then(function(){});};c.prototype.mva=function(x){var z,A;x.fe("pdb");if(this.config.Kra.p0a()){z=this.kt.create(x);A=z.ja;this.rG.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.rG.push({key:A,QL:this.bHb(x,z),Pv:!1,stopped:!1}));}};c.prototype.bZb=function(x){var z,A,B,C;z=this;A=this.Uv.sG.filter(function(D){return !z.active.has(D.ja);});B=void 0;C=void 0;x && Infinity === x?B=A:(A=ma((0,w.UB)(function(D){return D.O === x;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.oc.Cj(this.config.N8a,function(){z.P8a(C);});return B && 0 !== B.length?this.P8a(B):Promise.resolve();};c.prototype.P8a=function(x){var A;function z(B){return A.S7.Q8a(B).then(function(){return A.eXb(B);});}A=this;return x.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.eXb=function(x){var z;z=this;return this.Uv.w7a(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.bHb=function(x,z){x=new g(this.log,this.oc,x,this.kt,this.Uv,this.S7);x.QL(this.config.Kra,z);return x;};c.prototype.qua=function(x){var z,A;z=this;A=this.kt.create(x);return this.S7.qua(x,A).then(function(){!1;z.m2a(x);}).catch(function(B){z.m2a(x);throw {sG:A,uS:B};});};c.prototype.m2a=function(x){this.rG.filter(function(z){return z.key === x.ja.toString();}).forEach(function(z){z.Pv=!0;});};c.prototype.O8a=function(x){return this.aYb.Atb?this.sW(t.Jca.aU,x,q.V.Hba):Promise.resolve();};c.prototype.f9=function(x){return this.sW(t.Jca.splice,x,q.V.VJa);};c.prototype.sW=function(x,z,A){var C;function B(D){var E;E=C.rG.filter(function(G){return G.key === D.ja.toString();});return 0 === E.length?!0:E.reduce(function(G,F){return G || F.stopped || !F.Pv;},!1);}C=this;return B(z)?this.QF:this.QF=this.QF.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.kt.create(z);return C.S7.sW(x,z,D);}).then(function(D){!1;return D;}).catch(function(D){var E;C.log.error("Failed to send event",{eventKey:x,xid:z.ja,error:D});D.oj?E=C.qh(A,D):D.oy === q.SZ.Uda && (E=C.qh(A,D));throw {uS:D,nM:E};});};c.prototype.jva=function(x,z,A){var B;B=this;!1;this.pia();this.yoa=this.oc.Cj(x,function(){B.pia();B.sW(t.Jca.aU,z,q.V.Hba).then(function(){B.jva(x,z,A);}).catch(function(C){var D;D=C.uS;(C=C.nM) && A(C);D.oy !== q.SZ.Uda && B.jva(x,z,A);});});};c.prototype.t$a=function(){this.pia();};c.prototype.pia=function(){this.yoa && (this.yoa.cancel(),this.yoa=void 0);};c.prototype.CGb=function(x){return x.Ua.fna?(0,d.Jb)(x.Ua.fna):this.config.O0a;};y=c;y=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(p.yIa)),r.__param(1,(0,h.l)(f.Va)),r.__param(2,(0,h.l)(n.wi)),r.__param(3,(0,h.l)(m.iHa)),r.__param(4,(0,h.l)(k.Mca)),r.__param(5,(0,h.l)(t.oHa)),r.__param(6,(0,h.l)(a.oP)),r.__param(7,(0,h.l)(u.wg))],y);b.KHa=y;},function(r,b,a){var l,g,h,d,f,n;function c(k,m){k=g.Le.call(this,k,"PlaydataConfigImpl") || this;k.config=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;r=a(0);l=a(1);g=a(45);h=a(31);d=a(44);f=a(3);a=a(37);ha(c,g.Le);Sa.Object.defineProperties(c.prototype,{oG:{configurable:!0,enumerable:!0,get:function(){return this.config.Jx?"unsentplaydatatest":"unsentplaydata";}},oua:{configurable:!0,enumerable:!0,get:function(){return !0;}},N8a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Jb)(1E4);}},Kra:{configurable:!0,enumerable:!0,get:function(){return (0,f.Jb)(4E3);}},O0a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Q6)(1);}},P0a:{configurable:!0,enumerable:!0,get:function(){return (0,f.th)(30);}}});n=c;r.__decorate([d.config(d.string,"playdataPersistKey")],n.prototype,"oG",null);r.__decorate([d.config(d.Kc,"sendPersistedPlaydata")],n.prototype,"oua",null);r.__decorate([d.config(d.ck,"playdataSendDelayMilliseconds")],n.prototype,"N8a",null);r.__decorate([d.config(d.ck,"playdataPersistIntervalMilliseconds")],n.prototype,"Kra",null);r.__decorate([d.config(d.ck,"heartbeatCooldown")],n.prototype,"O0a",null);r.__decorate([d.config(d.ck,"keepAliveWindow")],n.prototype,"P0a",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ll)),r.__param(1,(0,l.l)(a.$m))],n);b.xIa=n;},function(r,b,a){var l,g,h;function c(d,f){this.HR=f;this.log=d.Sa("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;r=a(0);l=a(86);g=a(6);a=a(1);c.prototype.qua=function(d,f){var n;n=this.HR(l.wo.start);return this.yVa(n,d,f);};c.prototype.Q8a=function(d){var f;f=this;return this.HR(l.wo.stop).sf(this.log,d).then(function(){}).catch(function(n){f.log.error("PBO stop event failed",n);throw n;});};c.prototype.sW=function(d,f,n){d=this.HR(d);return this.yVa(d,f,n);};c.prototype.yVa=function(d,f,n){var k;k=this;return d.Jn(this.log,f.X.di,n).then(function(){}).catch(function(m){k.log.error("PBO event failed",m);throw m;});};h=c;h=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(g.Va)),r.__param(1,(0,a.l)(l.hba))],h);b.nHa=h;},function(r,b,a){var h,d,f,n;function c(){}function l(k){this.mTb=k;}function g(k){this.oTb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=b.FHa=b.DHa=void 0;r=a(0);h=a(1);d=a(278);f=a(34);n=a(2);g.prototype.validate=function(k){k.map(this.oTb.validate);};a=g;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.NHa))],a);b.DHa=a;l.prototype.validate=function(k){this.mTb.validate(k.data);};a=l;a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.EHa))],a);b.FHa=a;c.prototype.validate=function(k){var m;k.ja && "string" === typeof k.ja?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (m="ProfileId value is corrupted."):m="Href value is corrupted.":m="Xid value is corrupted.";if(m)throw new f.Jc(n.V.qz,n.R.lz,void 0,void 0,void 0,m,void 0,k.ja);};d=c;d=r.__decorate([(0,h.U)()],d);b.MHa=d;},function(r,b,a){var l,g,h,d;function c(f,n){this.p5a=n;this.log=f.Sa("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(0);l=a(1);g=a(6);h=a(15);a=a(142);c.prototype.Fj=function(f){var n;n=this;this.p5a().then(function(k){f.addEventListener(h.ea.VF,function(m){var p;if(void 0 !== m.sM){p=f.Dk(m.sM);k.OW(p);m.JF || new Promise(function(q){var v;if(f.rh.value)q();else {v=function(t){t.newValue && (q(),f.rh.removeListener(v));};f.rh.addListener(v);}}).then(function(){return k.Fj(f,n.N9a(f),function(q){return f.xE(q);});});}});f.addEventListener(h.ea.ht,function(){k.Fj(f.aa,n.N9a(f),function(m){return f.xE(m);});});f.background.value || f.addEventListener(h.ea.kU,function(m){var p;m=f.Dk(m.O);if(m.Ef){p=f.Dk(m.Ef.Ie);n.log.trace("Auxiliary viewable segment (viewableId: " + m.O + "). Starting playdata monitor for parent viewable " + p.O);m=p;}k.mva(m);});f.addEventListener(h.ea.og,function(){k.t$a();});f.addEventListener(h.ea.gcb,function(){k.O8a(f.aa).catch(function(m){(m=m.nM) && f.xE(m);});});f.yb.addListener(function(){f.Ua.Jja?n.log.trace("stickiness is disabled for timedtext"):k.f9(f.aa);});f.jc.addListener(function(){f.Ua.Jja?n.log.trace("stickiness is disabled for audio"):k.f9(f.aa).catch(function(m){(m=m.nM) && f.xE(m);});});});};c.prototype.N9a=function(f){return f.state.value == h.Rb.Sd;};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(a.nP))],d);b.IHa=d;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p){return function(){return new Promise(function(q,v){var t;t=p.eb.get(g.VAa);t.oa().then(function(){q(t);}).catch(function(w){v(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.FUa=void 0;r=a(1);l=a(513);g=a(514);h=a(1245);d=a(97);f=a(1246);n=a(515);k=a(1247);m=a(1248);b.FUa=new r.Xc(function(p){p(n.AEa).to(k.zEa).da();p(l.SAa).to(m.BEa);p(d.cO).to(f.Rxa).da();p(g.VAa).to(h.TAa).da();p(g.UAa).jX(c);});},function(r,b,a){var l,g;function c(h){this.nAb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;r=a(0);l=a(1);a=a(513);c.prototype.oa=function(){var h;h=this;this.hB || (this.hB=new Promise(function(d,f){var n;n=[];h.nAb.forEach(function(k){n.push(k.oa());});Promise.all(n).then(function(){d();}).catch(function(k){f(k);});}));return this.hB;};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.eG)(a.SAa))],g);b.TAa=g;},function(r,b,a){var l,g;function c(){this.iua="";this.Bcb=[[],[],[]];this.Ma=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Rxa=void 0;r=a(0);l=a(1);a(3);g=a(97);c.prototype.downloadRequest=function(h){var d;"" === this.iua && (this.iua=h.J);if(!h.Ad){d=this.l2b(h);this.Ma[h.mediaType].push(d);this.Bcb[h.mediaType].forEach(function(f){f.jac(d);});}};c.prototype.l2b=function(h){return {id:h.Hh(),J:h.J,mediaType:h.mediaType,ep:h.ep,startTime:h.CG,endTime:h.Cy,offset:h.PV,CJ:h.CJ,AJ:h.AJ,duration:h.FA,bitrate:h.bitrate,state:g.baa.BUa,rh:!1,Qcc:!1,uZa:!1,Ebc:g.aaa.waiting};};c.prototype.update=function(h){this.Bcb[h.mediaType].forEach(function(d){d.Qfc(h);});};Sa.Object.defineProperties(c.prototype,{J:{configurable:!0,enumerable:!0,get:function(){return this.iua;}}});a=c;a=r.__decorate([(0,l.U)()],a);b.Rxa=a;},function(r,b,a){var l,g,h,d,f;function c(n,k){n=h.Le.call(this,n,"LogDisplayConfigImpl") || this;n.Hf=k;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;r=a(0);l=a(1);g=a(44);h=a(45);d=a(31);a=a(107);ha(c,h.Le);Sa.Object.defineProperties(c.prototype,{ZV:{configurable:!0,enumerable:!0,get:function(){return !0;}},zL:{configurable:!0,enumerable:!0,get:function(){return this.Hf.zL;}},O1a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([g.config(g.Kc,"renderDomDiagnostics")],f.prototype,"ZV",null);r.__decorate([g.config(g.kB,"logDisplayMaxEntryCount")],f.prototype,"zL",null);r.__decorate([g.config(g.kB,"logDisplayAutoshowLevel")],f.prototype,"O1a",null);f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.ll)),r.__param(1,(0,l.l)(a.iD))],f);b.zEa=f;},function(r,b,a){var h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A;function c(B,C,D,E,G,F,H,K,O,I){var P;P=this;this.ta=B;this.Sf=C;this.vh=D;this.oc=E;this.Um=G;this.config=F;this.ME=H;this.Kva=K;this.mja=O;this.Sk=I;this.R1b=function(){P.uX.Qk(function(){P.update();});};this.clear=function(){P.entries=[];P.update();};this.g3a=function(){P.ve.mL=!P.ve.mL;P.EB && P.HB && (P.ve.mL?(P.EB.style.display="inline-block",P.HB.style.display="none"):(P.HB.style.display="inline-block",P.EB.style.display="none"));P.VG(!1);};this.bOb=function(N){var J;P.entries.push(N);J=P.config.zL;0 <= J && P.entries.length > J && P.entries.shift();void 0 === P.ve.nx[N.Cn] && (P.ve.nx[N.Cn]=!0,P.VG(!1));P.ve.isVisible && !P.kab?P.R1b():P.uX.Qk();};this.vAb=function(){g.download("all",P.entries.map(function(N){return N.X9(!1,!1);})).catch(function(N){console.error("Unable to download all logs to the file",N);});};this.iB=!1;this.ve={isVisible:!1,mL:!0,d3:!0,hpa:t.Wi.yba,nx:{}};this.uX=this.Kva((0,p.th)(1));this.fDb=this.mja((0,p.Jb)(250));this.entries=[];!1;!1;}function l(B){var C;this.elements=[];C=document.createElementNS(l.WW,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;r=a(0);h=a(1);d=a(30);f=a(110);n=a(170);k=a(46);m=a(27);p=a(3);q=a(17);v=a(92);t=a(6);w=a(111);u=a(279);y=a(515);x=a(81);z=a(192);A=a(1249);g.download=function(B,C){return g.gGb(B).then(function(D){return g.sIb(D,C.join("\r\n")).then(function(E){return g.tAb(E.filename,E.text);});});};g.gGb=function(B){return new Promise(function(C,D){var E,G,F,H,K,O,I;try{E=new Date();G=E.getDate().toString();F=(E.getMonth() + 1).toString();H=E.getFullYear().toString();K=E.getHours().toString();O=E.getMinutes().toString();I=E.getSeconds().toString();1 === G.length && (G="0" + G);1 === F.length && (F="0" + F);1 === K.length && (K="0" + K);1 === O.length && (O="0" + O);1 === I.length && (I="0" + I);C(H + F + G + K + O + I + "." + B + ".log");}catch(P){D(P);}});};g.sIb=function(B,C){return new Promise(function(D,E){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){E(G);}});};g.tAb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(E){return Promise.reject(E);}};l.prototype.fN=function(){var B;B=document.createElementNS(l.WW,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};l.prototype.iN=function(B,C,D){var E;E=document.createElementNS(l.WW,"path");E.setAttribute("d",B);C && E.setAttribute("fill",C);D && E.setAttribute("fill-rule",D);this.addElement(E);return this;};l.prototype.KW=function(B,C,D,E,G){var F;G=void 0 === G?"#000000":G;F=document.createElementNS(l.WW,"rect");F.setAttribute("x",B.toString());F.setAttribute("y",C.toString());F.setAttribute("height",D.toString());F.setAttribute("width",E.toString());G && F.setAttribute("fill",G);this.addElement(F);return this;};l.prototype.v0b=function(){var B;B=document.createElementNS(l.WW,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.Dh=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Sa.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},GE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.WW="http://www.w3.org/2000/svg";c.prototype.oa=function(){var B;B=this;this.hB || (this.hB=new Promise(function(C){mb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.rz.Ehb?B.toggle():D.keyCode == z.rz.E && A.Eza.Gvb(B.ME().Wj));});B.Um.u8(u.Uba.kfb,B.bOb);C();}));return this.hB;};c.prototype.show=function(){document.body && (this.element || (this.txb(),this.iB=!0),!this.ve.isVisible && this.element && (document.body.appendChild(this.element),this.ve.isVisible=!0,this.update(!0)));};c.prototype.hv=function(){this.iB && this.ve.isVisible && this.element && (document.body.removeChild(this.element),this.ve.isVisible=!1);};c.prototype.toggle=function(){this.ve.isVisible?this.hv():this.show();this.VG(!1);};c.prototype.txb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.oo=this.myb());B.appendChild(this.nyb());B.appendChild(this.nxb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.myb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.kab=!0;B.update();B.oo && (B.oo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.kab=!1;B.update();B.oo && (B.oo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.nyb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Oxb());B.appendChild(this.Dxb());B.appendChild(this.xxb());B.appendChild(this.oyb());B.appendChild(this.rxb());B.appendChild(this.Vxb());B.appendChild(this.Sxb());B.appendChild(this.yxb());B.appendChild(this.sxb());return B;};c.prototype.nxb=function(){var B,C,D,E,G,F;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");E=this.createElement("select",this.cv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(E);D.addEventListener("mousedown",function(H){H.preventDefault();});F=!1;D.addEventListener("click",function(){F?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.ve.nx).sort()).forEach(function(H){G.appendChild(B.oxb(H,D));}),G.style.display="block");F=!F;});return C;};c.prototype.oxb=function(B,C){var D,E,G;D=this;E=this.createElement("label","display: block;margin:1px");E.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.ve.nx[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.ve.nx).forEach(function(F){D.ve.nx[F]="all" === B;}),C.click()):D.ve.nx[B]=!D.ve.nx[B];D.VG(!0);});E.appendChild(G);E.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return E;};c.prototype.Oxb=function(){var B,C;B=this;C=this.createElement("select",this.cv(22,NaN,1,2),'<option value="' + t.Wi.wh + '">Error</option><option value="' + (t.Wi.Zda + '">Warn</option><option value="') + (t.Wi.yba + '">Info</option><option value="') + (t.Wi.$Ka + '">Trace</option><option value="') + (t.Wi.I + '">Debug</option>'));C.value=this.ve.hpa.toString();C.addEventListener("change",function(D){B.ve.hpa=parseInt(D.target.value);B.VG(!0);},!1);return C;};c.prototype.Dxb=function(){var C,D;function B(E){return C.fDb.Qk(function(){var G;G=E.target.value;C.ve.filter=G?new RegExp(G):void 0;C.VG(!0);});}C=this;D=this.createElement("input",this.cv(14,150,1,2));D.value=this.ve.filter?this.ve.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.xxb=function(){var B,C,D,E;B=this;C=this.createElement("div",this.cv(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.ve.d3;D.addEventListener("change",function(G){B.ve.d3=G.target.checked;B.VG(!0);},!1);E=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");E.setAttribute("for","details");E.innerHTML="View details";C.appendChild(D);C.appendChild(E);return C;};c.prototype.oyb=function(){var B,C,D;B=this;C=this.createElement("button",this.cv());D=new l("0 0 24 24").fN().v0b().end().iN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.GE,"nonzero").end().end().Dh();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.rxb=function(){var B,C;B=this.createElement("button",this.cv());C=new l("0 0 24 24").fN().KW(0,0,24,24,l.background).end().iN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.GE).end().end().Dh();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.Vxb=function(){var B;this.HB=this.createElement("button",this.cv());this.HB.style.display=this.ve.mL?"none":"inline-block";B=new l("0 0 24 24").fN().KW(0,0,24,24,l.background).end().iN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.GE,"nonzero").end().end().Dh();this.HB.addEventListener("click",this.g3a,!1);this.HB.appendChild(B);this.HB.setAttribute("title","Shrink the log console");return this.HB;};c.prototype.Sxb=function(){var B;this.EB=this.createElement("button",this.cv());this.EB.style.display=this.ve.mL?"inline-block":"none";B=new l("0 0 24 24").fN().KW(4,4,16,16,l.background).end().iN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.GE,"nonzero").end().end().Dh();this.EB.addEventListener("click",this.g3a,!1);this.EB.appendChild(B);this.EB.setAttribute("title","Expand the log console");return this.EB;};c.prototype.yxb=function(){var B,C;B=this.createElement("button",this.cv());C=new l("0 0 26 26").fN().KW(0,0,24,24,l.background).end().iN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.GE,"nonzero").end().end().Dh();B.appendChild(C);B.addEventListener("click",this.vAb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.sxb=function(){var B,C,D;B=this;C=this.createElement("button",this.cv());D=new l("0 0 24 24").fN().KW(0,0,24,24,l.background).end().iN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.GE,"nonzero").end().end().Dh();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.VG=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.ZV && Promise.resolve(this.Msb() + this.hGb().join("\r\n")).then(function(D){C.element && C.oo && (C.oo.value=D,C.element.style.cssText=C.ve.mL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.oc.Cj(p.Ia,function(){C.oo.scrollTop=C.oo.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.hGb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.ve.hpa && B.ve.nx[D.Cn] && (D=D.X9(!B.ve.d3,!B.ve.d3),B.ve.filter && !B.ve.filter.test(D) || C.push(D));});return C;};c.prototype.Msb=function(){var B;B=this.ME();return "Version: 6.0039.950.911 \n" + ((B?"Esn: " + B.Wj:"") + "\nJsSid: ") + (this.Sf.id + ", Epoch: " + this.ta.se.ca(p.fm) + ", Start: " + this.Sf.cy.ca(p.fm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,E){return this.vh.createElement(B,C,D,E);};c.prototype.cv=function(B,C,D,E){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + l.GE + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (E?"border-radius:" + E + "px;":"");};a=c;a.F0b="logDxDisplay";a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(m.wg)),r.__param(1,(0,h.l)(q.Gc)),r.__param(2,(0,h.l)(d.dh)),r.__param(3,(0,h.l)(k.wi)),r.__param(4,(0,h.l)(w.dI)),r.__param(5,(0,h.l)(y.AEa)),r.__param(6,(0,h.l)(v.jw)),r.__param(7,(0,h.l)(f.qD)),r.__param(8,(0,h.l)(n.AY)),r.__param(9,(0,h.l)(x.dw))],a);b.BEa=a;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Eza=void 0;l=a(12);c.Gvb=function(g){var h;if(l.Ig.queryCommandSupported && l.Ig.queryCommandSupported("copy")){h=l.Ig.createElement("textarea");h.textContent=g;h.style.position="fixed";l.Ig.body.appendChild(h);h.select();try{l.Ig.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Ig.body.removeChild(h);}}};b.Eza=c;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Qd=void 0;r=a(1);c=a(1251);l=a(1252);g=a(1253);h=a(137);d=a(335);f=a(491);n=a(1254);k=a(1255);m=a(516);p=a(1256);b.Qd=new r.Xc(function(q){q(h.F_).to(c.UKa).da();q(d.mda).to(g.sJa).da();q(f.PLa).to(l.OLa).da();q(n.Fib).to(k.yGa).da();q(m.iMa).to(p.hMa).da();});},function(r,b,a){var l,g,h,d,f,n;function c(k,m){this.is=k;this.json=m;(0,g.Yn)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;r=a(0);g=a(54);h=a(35);d=a(1);f=a(25);n=a(137);c.prototype.T6a=function(k){var m;m=this;return l.read(k,function(p){return parseInt(p);},function(p){return m.is.Kga(p);});};c.prototype.Nsa=function(k){var m;m=this;return l.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return m.is.e1(p);});};c.prototype.Hp=function(k){var m;m=this;return l.read(k,function(p){return parseInt(p);},function(p){return m.is.eR(p);});};c.prototype.XVb=function(k){var m;m=this;return l.read(k,function(p){return parseFloat(p);},function(p){return m.is.Rj(p);});};c.prototype.S6a=function(k,m){return l.read(k,function(p){return l.qDb(p,m);},function(p){return void 0 !== p;});};c.prototype.Qsa=function(k,m){return l.read(k,function(p){return p;},function(p){return m?m.test(p):!0;});};c.prototype.U6a=function(k){var m,p;m=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(k,function(q){return m.json.parse(decodeURIComponent(q));},function(q){return m.is.dR(q) && p(q);});}catch(q){return new n.yo();}};c.prototype.uj=function(k,m,p){var q,v;q=this;p=void 0 === p?1:p;k=k.trim();v=m instanceof Function?m:this.Wxb(m,p);m=k.indexOf("[");p=k.lastIndexOf("]");if(0 != m || p != k.length - 1)return new n.yo();k=k.substring(m + 1,p);try{return l.aTb(k).map(function(t){t=v(q,l.E4b(t));if(t instanceof n.yo)throw t;return t;});}catch(t){return t instanceof n.yo?t:new n.yo();}};c.prototype.Wxb=function(k,m){var p;p=this;m=void 0 === m?1:m;return function(q,v){q=l.qHb(k);return 1 < m?p.uj(v,k,m - 1):q(p,v);};};c.qDb=function(k,m){var q;for(var p in m){q=parseInt(p);if(m[q] == k)return q;}};c.read=function(k,m,p){k=m(k);return void 0 !== k && p(k)?k:new n.yo();};c.qHb=function(k){switch(k){case "int":return function(m,p){return m.T6a(p);};case "bool":return function(m,p){return m.Nsa(p);};case "uint":return function(m,p){return m.Hp(p);};case "float":return function(m,p){return m.XVb(p);};case "string":return function(m,p){return m.Qsa(p);};case "object":return function(m,p){return m.U6a(p);};}};c.aTb=function(k){var y;for(var m=[["[","]"]],p=[],q=0,v=0,t=0,w=[],u={};v < k.length;(u={UN:u.UN},++v)){u.UN=k.charAt(v);y=void 0;"," == u.UN && 0 == t?(p.push(k.substr(q,v - q)),q=v + 1):(y=m.find((function(x){return function(z){return z[0] == x.UN;};})(u)))?(++t,w.push(y)):0 < w.length && w[w.length - 1][1] == u.UN && (--t,w.pop());}if(q != v)p.push(k.substr(q,v - q));else if(q == v && 0 < q)throw new n.yo();return p;};c.E4b=function(k){var m;m=k.charAt(0);if('"' == m || "'" == m){if(k.charAt(k.length - 1) != m)throw new n.yo();return k.substring(1,k.length - 1);}return k;};a=l=c;a=l=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.Qf)),r.__param(1,(0,d.l)(h.XC))],a);b.UKa=a;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;r=a(0);a=a(1);c.prototype.HWa=function(g){var h;h=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return h.HWa(d);});};l=c;l=r.__decorate([(0,a.U)()],l);b.OLa=l;},function(r,b,a){var l,g,h,d;function c(f){this.location=f;(0,g.Yn)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.sJa=void 0;r=a(0);g=a(54);h=a(35);a=a(1);c.uV=function(f){var n,m,p;n={};if(0 < f.length){f=f.split("&");for(var k=0;k < f.length;k++){m=f[k].trim();p=m.indexOf("=");0 <= p?n[decodeURIComponent(m.substr(0,p).replace(l.UGa,"%20"))]=decodeURIComponent(m.substr(p + 1).replace(l.UGa,"%20")):n[m.toLowerCase()]="";}}return n;};Sa.Object.defineProperties(c.prototype,{OVb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.uV(this.G6a);}},G6a:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.QV)return this.QV;this.QV=this.location.search.substr(1);f=this.QV.indexOf("#");0 <= f && (this.QV=this.G6a.substr(0,f));return this.QV;}}});d=l=c;d.UGa=/[+]/g;d=l=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(h.vEa))],d);b.sJa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fib="ObjectComparerSymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;r=a(0);l=a(1);g=a(202);c.prototype.compare=function(h,d){var f;f=[];this.Aia(h,d,"",f);return f;};c.prototype.Aia=function(h,d,f,n){var k;k=this;if(g.WC.iA(h))g.WC.iA(d) && h.length === d.length?h.forEach(function(q,v){k.Aia(h[v],d[v],f + "[" + v + "]",n);}):n.push({a:h,b:d,path:f});else if(g.WC.dR(h) && null != h){if(g.WC.dR(d) && null != d){for(var m in h){this.Aia(h[m],d[m],f + "." + m,n);}for(var p in d){(p in h) || void 0 === d[p] || n.push({a:void 0,b:d[p],path:f + "." + p});}}else n.push({a:h,b:d,path:f});}else h !== d && n.push({a:h,b:d,path:f});};a=c;a=r.__decorate([(0,l.U)()],a);b.yGa=a;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;r=a(0);l=a(1);g=a(12);c.prototype.QHb=function(){var h;h=mb.devicePixelRatio || 1;return {width:g.Zt.width * h,height:g.Zt.height * h};};a=c;a=r.__decorate([(0,l.U)()],a);b.hMa=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y;Object.defineProperty(b,"__esModule",{value:!0});b.Wc=void 0;r=a(1);c=a(517);l=a(1258);g=a(116);h=a(280);d=a(1259);f=a(1260);n=a(1262);k=a(1263);m=a(1264);p=a(518);q=a(519);v=a(160);t=a(282);w=a(1265);u=a(281);y=a(1267);b.Wc=new r.Xc(function(x){x(c.cIa).to(l.bIa).da();x(h.ida).to(d.kJa).da();x(g.tD).to(f.YLa).da();x(p.jJa).to(m.gFa).da();x(p.iJa).to(k.fEa).da();x(p.hJa).to(n.$Da).da();x(t.dya).q2b(function(){var z;return null === (z=v.So.Nh) || void 0 === z?void 0:z.Cv;});x(t.cya).to(w.bya).da();x(q.gda).to(q.XIa);x(u.Caa).to(y.pza).da();});},function(r,b,a){var l,g,h;function c(d,f){this.tb=f;this.la=d.Sa("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;r=a(0);l=a(1);g=a(6);a=a(25);c.prototype.Vzb=function(d){var f;f=this;try{return {direction:d.direction,fdc:d.layoutHasChanged,Hec:d.rowInteractionIndex,Eb:d.lolomos.map(function(n){return f.Qzb(n);})};}catch(n){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.Qzb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(n){return f.Pzb(n);}),requestId:d.requestId,rowIndex:d.rowIndex,Iec:d.rowSegment};};c.prototype.Pzb=function(d){var f,n;f={hf:d.pts,property:d.property,K:d.viewableId,index:d.index};n=d.preplay;this.tb.qg(n) && (f.b8=this.Uzb(n));d=d.params;this.tb.qg(d) && (f.qb=this.aUa(d));return f;};c.prototype.Uzb=function(d){var f;f={hf:d.pts,K:d.viewableId,kM:d.pipelineNum,index:d.index};d=d.params;this.tb.qg(d) && (f.qb=this.aUa(d));return f;};c.prototype.aUa=function(d){return {od:d.uiLabel,Hj:d.trackingId,Rl:d.sessionParams};};c.prototype.Tzb=function(d){var f;f=this;try{return d.map(function(n){return f.Rzb(n);});}catch(n){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.Rzb=function(d){var f,n;n=d.params;this.tb.qg(n) && (f=this.Szb(n));return {O:d.movieId,priority:d.priority,force:d.force,qb:f,od:d.uiLabel,Mfc:d.uiExpectedStartTime,Lfc:d.uiExpectedEndTime,Ck:d.firstTimeAdded};};c.prototype.Szb=function(d){var f,n;f=void 0;n=d.sessionParams;this.tb.qg(n) && (f=n);return {O1:this.Ozb(d.authParams),Rl:f,Hj:d.trackingId,gb:d.startPts,X:d.manifest,Yf:d.isBranching};};c.prototype.Ozb=function(d){return {yTb:null === d || void 0 === d?void 0:d.pinCapableClient};};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(a.Qf))],h);b.bIa=h;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u){this.is=w;this.Sf=u;this.log=v.Sa("TaskScheduler");this.Cb=new p.Vi();this.config=t();this.currentIteration=this.RR=0;this.kH=[];this.paused=!1;this.F9=[];this.qSa=[];this.ZKb=this.config.JUb || q.append;this.addEventListener=this.Cb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=void 0;r=a(0);l=a(1);g=a(280);h=a(6);d=a(11);f=a(115);n=a(25);k=a(17);m=a(3);p=a(71);(function(v){v.prepend="prepend";v.append="append";v.fKb="ignore";})(q || (q={}));c.prototype.$pb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.kH=this.$Kb(v);this.RR=0;this.currentIteration+=1;this.If();};c.prototype.pause=function(){this.paused=!0;};c.prototype.If=function(){var v,t,w,u;v=this;if(this.RR === this.kH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.RR,numberOfTasks:this.kH.length});else {t=this.kHb();w=this.currentIteration;t.startTime=this.Sf.Db().ca(m.na);t.status=f.Zi.Pv;this.Cb.zc(g.pI.I1b,{O:t.O,type:t.type});this.F9.push(t);u=function(y){t.endTime=v.Sf.Db().ca(m.na);y();v.qSa.push(t);v.F9.splice(v.F9.indexOf(t),1);v.currentIteration === w && (v.RR++,v.If());};t.kYb().then(function(){u(function(){t.status=f.Zi.oN;v.ysa(t,g.pI.J1b,"task succeeded");});}).catch(function(y){u(function(){0 <= [f.Zi.Uf,f.Zi.oRa,f.Zi.Tha].indexOf(y.status)?(t.status=y.status,v.ysa(t,g.pI.G1b,"cancelled task")):(t.status=f.Zi.Ds,v.ysa(t,g.pI.H1b,"task failed",y));});});}};c.prototype.kHb=function(){return this.kH[this.RR];};c.prototype.getStats=function(v,t,w){var u,y,x,z;u=this.qSa.map(function(A){return A.Ks();});y=this.F9.map(function(A){return A.Ks();});x=this.is.qg(v) && this.is.qg(t);z={};if(this.is.qg(w))return (z.gvb=u.filter(function(A){return A.movieId === w;}),z);u.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.Zi.Pv?A.startTime:A.endTime;x && B && B >= v && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.ysa=function(v,t,w,u){var y;y=v.Ks();u?this.log.warn(w,y,u):this.log.trace(w,y);this.Cb.zc(t,{O:v.O,type:v.type,reason:v.status});v.WL(y);};c.prototype.$Kb=function(v){var t,w;t=this.kH.filter(function(u){return u.uTb && u.status === f.Zi.En;});w=this.ZKb;return w === q.fKb?[].concat(v):w === q.prepend?t.concat(v):v.concat(t);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(n.Qf)),r.__param(3,(0,l.l)(k.Gc))],a);b.kJa=a;},function(r,b,a){var g,h,d,f,n,k,m,p,q,v,t,w,u,y;function c(x,z,A,B,C,D,E,G,F,H,K){this.x5b=A;this.tb=B;this.Sf=C;this.Bd=D;this.NVa=E;this.ZCb=G;this.$Cb=F;this.zS=H;this.events=new y.EventEmitter();this.log=x.Sa("VideoPreparer");this.config=z();this.Zwa={};this.S6={};this.Nf={num_of_calls:0,num_of_movies:0};this.zS.oa(this);this.mg=K.mg;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;r=a(0);g=a(1261);h=a(11);d=a(1);f=a(6);n=a(84);k=a(25);m=a(280);p=a(17);q=a(3);v=a(115);t=a(281);w=a(518);u=a(282);y=a(13);c.prototype.b9a=function(x,z,A){this.mg.setData(x,"ldl",z,A);};c.prototype.pZa=function(x){return this.mg.wT(x,"ldl");};c.prototype.PRa=function(x){this.mg.clearData(x,"ldl",void 0,!0);};c.prototype.FK=function(x,z){return this.mg.getData(x,z);};c.prototype.$Wa=function(x){var z;z=this.mg.getData(x,"ldl");this.mg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.Acb=function(x){return this.p$a === x || this.nTa === x;};c.prototype.vG=function(x,z){var A,B,C;A=this;x=x.map(function(D){D.qb=D.qb || ({O1:{yTb:!1},Hj:0});A.tb.JE(D.qb.Hj) || (D.qb.Hj=0);A.tb.JE(D.hf) && (D.qb.gb=D.hf);return D;});B=x.map(function(D){return A.lyb(D,z);}).reduce(function(D,E){return D.concat(E);},[]);C=B.map(function(D){return D.O + "-" + D.type;});this.log.trace("prepare tasks",C);this.Bd.$pb(B);this.Nf.num_of_calls++;this.Nf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.S6[A] || ({})),{kH:this.Bd.getStats(x,z,A),cache:this.mg.getStats(x,z),IEb:Object.assign(Object.assign({},this.Nf),this.zS.getStats())});};c.prototype.cJb=function(x){this.p$a=x;};c.prototype.Uma=function(x,z){this.log.trace("task scheduler paused on playback created");this.Bd.pause();this.config.Izb && this.mg.nia(x,["manifest"]);this.config.Hzb && this.mg.nia(x,["ldl"]);this.config.Fzb && this.mg.clearData(x,"manifest");this.zS.r7a(x);this.nTa=x;this.zS.Uma(z);};c.prototype.kZa=function(){this.log.info("ad played, clearing all manifests from cache");this.nWa();};c.prototype.lZa=function(){this.log.info("track changed, clearing all manifests from cache");this.nWa();};c.prototype.aJb=function(x){var z;z=this;this.config.Gzb?this.mg.clearData(x,"manifest"):this.mg.wT(x,"manifest") && this.mg.getData(x,"manifest").then(function(A){A.Ha.isSupplemental || z.mg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.sia(x);this.p$a=this.nTa=void 0;this.events.emit("playbackClosing",{K:x,type:"playbackClosing",target:this});};c.prototype.nWa=function(){this.mg.nia("none",["manifest","ldl"]);};c.prototype.sia=function(x){delete this.Zwa[x];};c.prototype.Bq=function(x){return this.Zwa[x];};c.prototype.J2=function(x){return this.Zwa[x]=this.x5b.zx();};c.prototype.L9a=function(x,z){if(this.pZa(x))return v.Zi.Uf;if(!z.aB)return v.Zi.Tha;};c.prototype.lyb=function(x,z){var A,B;x.od && x.qb && (x.qb.od=x.od);this.S3b(x.O,x.Ck);A=this.Rxb(x,z);B=this.Nxb(x,null === A || void 0 === A?void 0:A.id,z);x=this.Uxb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(l);};c.prototype.Rxb=function(x,z){if(this.mg.wT(x.O,"manifest"))this.log.trace("manifest exists in cache for " + x.O);else return new g.qP("manifest",this.Sf.Db().ca(q.na),!!x.qb.Uta,void 0,z,this.NVa,x,this);};c.prototype.Nxb=function(x,z,A){if(this.config.pS)if(this.mg.wT(x.O,"ldl"))!1;else return this.config.zr?new g.qP("ldl",this.Sf.Db().ca(q.na),!!x.qb.Uta,z,A,this.ZCb,x,this):new g.qP("ldl",this.Sf.Db().ca(q.na),!!x.qb.Uta,z,A,this.$Cb,x,this);};c.prototype.Uxb=function(x,z,A){if(this.config.dVa)return new g.qP("getMedia",this.Sf.Db().ca(q.na),!!x.qb.Uta,z,A,this.zS,x,this);};c.prototype.S3b=function(x,z){this.S6[x] || (this.S6[x]={Z7:0,Ck:0});x=this.S6[x];x.Z7=(void 0 !== x?void 0 !== x.Z7?x.Z7:0:0) + 1;x.Ck=z;};a=c;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(f.Va)),r.__param(1,(0,d.l)(h.ac)),r.__param(2,(0,d.l)(n.qw)),r.__param(3,(0,d.l)(k.Qf)),r.__param(4,(0,d.l)(p.Gc)),r.__param(5,(0,d.l)(m.ida)),r.__param(6,(0,d.l)(w.jJa)),r.__param(7,(0,d.l)(w.iJa)),r.__param(8,(0,d.l)(w.hJa)),r.__param(9,(0,d.l)(u.cya)),r.__param(10,(0,d.l)(t.Caa))],a);b.YLa=a;},function(r,b,a){var l,g;function c(h,d,f,n,k,m,p,q){this.type=h;this.En=d;this.uTb=void 0 === f?!1:f;this.notify=k;this.aDb=m;this.qM=p;this.Wc=q;this.id=++g;this.status=l.Zi.En;}Object.defineProperty(b,"__esModule",{value:!0});b.qP=void 0;l=a(115);g=0;c.prototype.Ks=function(){var h;h={id:this.id,type:this.type,created:this.En,status:this.status,movieId:this.O};this.startTime && (h.startTime=this.startTime);this.endTime && this.startTime && (h.duration=this.endTime - this.startTime,h.endTime=this.endTime);return h;};c.prototype.WL=function(h){this.notify && this.notify(h);};c.prototype.kYb=function(){return this.aDb.fetch(this.qM,this.Wc);};Sa.Object.defineProperties(c.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.qM.O;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.qM.priority;}}});b.qP=c;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z;function c(A,B,C,D,E,G,F,H,K,O,I){this.Zq=C;this.GW=D;this.dc=E;this.ta=G;this.Ea=F;this.xL=H;this.FTb=K;this.Kh=O;this.Yh=I;this.log=A.Sa("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.$Da=void 0;r=a(0);l=a(1);g=a(6);h=a(11);d=a(115);f=a(56);n=a(57);k=a(43);m=a(156);p=a(190);q=a(29);v=a(3);t=a(27);w=a(17);u=a(193);y=a(206);x=a(112);a=a(62);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,u.WH)(A));this.O=A.O;this.Wc=B;return B.FK(A.O,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,u.WH)(A));return C.Kh.c4(A.O).then(function(D){var E,G;C.X=D;C.Ha=D.Ha;if(D=C.Wc.L9a(A.O,C.Ha))throw {status:D};D=C.Ha.Ht[0].KV;E=C.Ha.Ht[0].Qja;G=(D?D:[E]).map(function(F){return C.dc.decode(F.bytes);});C.Zd=C.xA({OUa:C.log,kka:function(F){return C.handleError(F);},fe:void 0,Hqa:function(){},ta:{getTime:function(){return C.Ea.Db().ca(v.na);},mcc:function(){return C.ta.se.ca(v.fm);}}});B.b9a(A.O,C.Zd);return C.Zd.create(C.config.Fl).then(function(){return C.Zd.Og(n.xh.bn,G,!0);}).then(function(){return C.Zd;}).catch(function(F){C.handleError(F);throw F;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.Zi.Uf};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.Zd.close();this.Wc.PRa(this.O);this.Wc.sia(this.O);};c.prototype.xA=function(A){var B,C;B=this;if(!this.Zq.UH || !this.Zq.SH){C=this.FTb();this.Zq.UH=C.Oy;this.Zq.SH=C.request;}C=new this.Zq.SH(A.OUa,function(D){var E;E=[];D.kj.forEach(function(G){E.push({sessionId:G.sessionId,dataBase64:B.dc.encode(G.data)});});D={kj:E,h3:[B.Ha.Bk],ff:f.cm.KSa(D.ff),xf:B.Ha.xf,ja:B.Wc.J2(B.O),di:B.X.di,bg:B.X.Ha.bg};B.log.trace("xid created ",{MovieId:B.O,xid:D.ja});return B.xL.Eu(D);},void 0,{df:!1,$j:!1});return this.Zq.UH(A.OUa,A.fe,{df:!1,$j:!1,mo:C,MV:this.config.w6a,$:void 0,az:this.config.VUa,onerror:A.kka,Hqa:A.Hqa,ta:A.ta,pG:!1,trb:this.GW.B2([]),P4b:this.GW.I2([]),Roa:this.Yh.v1.ca(v.na)});};z=c;z=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(h.ac)),r.__param(2,(0,l.l)(k.h_)),r.__param(3,(0,l.l)(m.wP)),r.__param(4,(0,l.l)(q.$g)),r.__param(5,(0,l.l)(t.wg)),r.__param(6,(0,l.l)(w.Gc)),r.__param(7,(0,l.l)(p.RO)),r.__param(8,(0,l.l)(y.Rca)),r.__param(9,(0,l.l)(x.bD)),r.__param(10,(0,l.l)(a.Vp))],z);b.$Da=z;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){this.dc=u;this.FAb=y;this.KL=x;this.Kh=z;this.log=t.Sa("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;r=a(0);l=a(1);g=a(6);h=a(11);d=a(57);f=a(29);n=a(124);k=a(136);m=a(115);p=a(193);q=a(112);v=a(41);c.prototype.fetch=function(t,w){var u;u=this;this.log.trace("Fetching LDL",(0,p.WH)(t));this.O=t.O;this.Wc=w;return w.FK(t.O,"ldl").then(function(y){return y.h9;}).catch(function(){u.log.trace("Requesting a new license",(0,p.WH)(t));return u.Kh.c4(t.O).then(function(y){var x,z,A,B,C,D;u.Ha=y.Ha;if(w.pZa(t.O))return w.FK(t.O,"ldl").then(function(E){return E.h9;});x=u.Wc.L9a(t.O,u.Ha);if(x)throw {status:x};z=u.Ha.Ht[0];x=z.KV;A=z.Qja;z=z.streams[0].wA;B=(0,v.Yna)(z);C=(x?x:[A]).map(function(E){return u.dc.decode(E.bytes);});D=u.FAb().then(function(E){var G;G={type:d.xh.bn,initData:C,t5:B,context:{M5:(0,v.Yla)(y.Ha.Ht[0].streams)},ki:{O:t.O,ja:w.J2(t.O),xf:u.Ha.xf,Bk:u.Ha.Bk,di:y.di,bg:y.Ha.bg}};return E.Og(G,u.KL());}).catch(function(E){u.handleError("Unable to prepare an EME session.",E);throw E;});u.Wc.b9a(t.O,{h9:D,source:"videopreparer"},function(){if(!u.Wc.Acb(t.O))try{D.then(function(E){return E.close();}).catch(function(E){u.handleError("Unable to cleanup LDL session, Unable to get the session.",E);});}catch(E){u.handleError("Unable to cleanup LDL session, unexpected exception.",E);}});return D;}).catch(function(y){u.log.warn("Manifest not available for ldl request",y);if(void 0 !== y.status)throw y;throw {status:m.Zi.Uf};});});};c.prototype.handleError=function(t,w){this.log.warn(t + " LDL is now invalid.",w);this.Wc.PRa(this.O);this.Wc.sia(this.O);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(h.ac)),r.__param(2,(0,l.l)(f.$g)),r.__param(3,(0,l.l)(n.FY)),r.__param(4,(0,l.l)(k.aP)),r.__param(5,(0,l.l)(q.bD))],a);b.fEa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u,y){this.xU=w;this.Sf=u;this.Kh=y;this.log=v.Sa("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(0);l=a(11);g=a(1);h=a(6);d=a(17);f=a(3);n=a(129);k=a(98);m=a(193);p=a(112);q=a(57);c.prototype.fetch=function(v,t){var w,u;this.log.trace("Fetching manifest",(0,m.WH)(v));u=v.qb;this.config.epb && u && u.X && !this.Kh.N4(v.O) && (!(("clientGenesis" in u.X) && u.X.clientGenesis) || "number" === typeof u.X.clientGenesis && Date.now() - u.X.clientGenesis < this.config.d6a) && (u=this.xU.create(u.X)) && (u.GG=this.Sf.Db().ca(f.na),u.IM=this.Sf.Db().ca(f.na),this.Kh.PW(v.O,u));return this.Kh.Nx({ja:t.J2(v.O),K:v.O,Ua:null !== (w=v.qb) && void 0 !== w?w:{},xq:k.el.mI,ff:q.xh.bn},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",K:v.O,X:y});});};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.Va)),r.__param(1,(0,g.l)(l.ac)),r.__param(2,(0,g.l)(n.fI)),r.__param(3,(0,g.l)(d.Gc)),r.__param(4,(0,g.l)(p.bD))],a);b.gFa=a;},function(r,b,a){var g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z;function c(){var A;A=this;this.promise=new Promise(function(B,C){A.resolve=B;A.reject=C;});}function l(A,B,C,D,E){var G;G=this;this.csa=C;this.GUb=D;this.Kh=E;this.MX=[];this.$B=new Map();this.YRb=function(F){var H,K;F=F.wishListItem.key.K;if(G.$B.has(F)){K=G.$B.get(F);F=K.qM;K=K.Eia;null === (H=K.resolve) || void 0 === H?void 0:H.call(K,F);}};this.v7=function(F){var H,K;H=F.K;K=F.X;F.target.Acb(F.K) || (G.dg.has({K:H}) && (G.dg.Nn(H).Bs=!0),null === K || void 0 === K?void 0:K.then(function(O){var I;I=O.Ha;I && I.Uc && I.Wo && I.Wo.forEach(function(P){var N;N={Tf:{Uc:I.Uc,Ie:H}};G.dg.has({K:P.O,Ie:I.O,Uc:I.Uc}) && (G.dg.Nn(P.O,N).Bs=!0);});}).catch(function(){}),G.r7a(H),G.D9a(G.MX));};this.la=A.Sa("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.bya=void 0;r=a(0);g=a(6);a(193);h=a(160);d=a(66);f=a(11);n=a(18);k=a(98);m=a(282);p=a(1);q=a(519);v=a(13);t=a(112);w=a(57);u=a(520);y=a(1266);x=a(115);z=a(20);l.prototype.oa=function(A){var B;B=this;this.dg=new u.Yda(function(C,D){return B.Uu(C,A,h.So.Yd,D);},function(C,D){return B.Jv(C,A,D);});};l.prototype.fetch=function(A,B){var C;C=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.v7))B.events.on("manifestRemovedFromCache",this.v7);if(-1 === B.events.listeners("playbackClosing").indexOf(this.v7))B.events.on("playbackClosing",this.v7);!1;return this.Nx(A.O,B,A.qb).then(function(D){if("LIVE" === D.Ha.bg)throw {status:x.Zi.oRa};C.D9a(C.Zub(C.vyb(A,B)));return C.$B.get(A.O).Eia.promise;});};l.prototype.getStats=function(){return this.Cv.getStats();};l.prototype.Uma=function(A){this.Zxb=A;};l.prototype.Zub=function(A){return [A].concat(ea(this.MX.filter(function(B){return B.key.K !== A.key.K;}))).slice(0,this.config.EUb).map(this.config.FUb?function(B,C){return Object.assign({},B,{priority:C});}:function(B){return B;});};l.prototype.ZXa=function(A,B,C){var D;D=this;C=void 0 === C?{}:C;return this.Nx(A,B,C).then(function(E){D.OSa(E,B);return E.Ha;});};l.prototype.Nx=function(A,B,C){var D;C=void 0 === C?{}:C;return this.Kh.Nx({ja:null !== (D=B.Bq(A)) && void 0 !== D?D:B.J2(A),K:A,xq:k.el.mI,ff:w.xh.bn,Ua:C});};l.prototype.Jv=function(A,B,C){var D,E,G,F,H,K;D=this;(0,z.ma)(C.Tf,"auxiliaryOptions must exist if an adBreak hydration was requested");G=C.Tf;F=G.Uc;H=G.Ie;(0,z.ma)(!!F,"auxiliaryManifestToken must exist if an adBreak hydration was requested");K=this.dg.Nn(null === (E=null === C || void 0 === C?void 0:C.Tf) || void 0 === E?void 0:E.Ie);return K.Rp.then(function(O){var I,P,N;O=O.X.xf;P=null !== (I=B.Bq(H)) && void 0 !== I?I:K.ja;(0,z.ma)(void 0 !== P,"parent xid must exist if an adBreak hydration was requested");I=k.el.em;N={lL:!0,Yf:!1,DC:Date.now()};return D.Kh.Nx({ja:Number(P),Ua:N,K:H,xq:I,ff:void 0,CN:void 0,Ef:{Tj:A,Uc:F,Ie:H,oV:O}},!1).then(function(J){var L,R;D.OSa(J,B);J.Wo.forEach(function(ka){D.Zxb(ka.Ha.O,C,Number(P),ka);});(0,z.ma)(null === (L=J.Ha.om) || void 0 === L?void 0:L.Xd[0],"manifest result should come with hydratyed adBreak");return null === (R=J.Ha.om) || void 0 === R?void 0:R.Xd[0];});});};l.prototype.OSa=function(A,B){var C,D,E;C=this;D=A.Ha;null === (E=D.Wo) || void 0 === E?void 0:E.forEach(function(G){C.Uu(G.O,B,h.So.Yd,{Tf:{Uc:D.Uc,Ie:D.O}},G);});};l.prototype.vyb=function(A,B){var C,D,E,G,F,H;E=new c();if(this.$B.has(A.O)){G=this.$B.get(A.O);F=G.qM;if(F.O === A.O && F.od === A.od)H=G.p5b.key;this.Cv.getStats().contents.some(function(K){return K.id === A.O;}) && (E=G.Eia);}G=h.So.Yd.Dn((0,n.u2)(A.od));H || (H={K:A.O,config:G});F={K:A.O};this.dg.has(F) || this.dg.store(F,this.tyb(A,B,G));B={key:H,Xcc:!1,priority:A.priority,T1:d.N.Na(null !== (D=null === (C=A.qb) || void 0 === C?void 0:C.gb) && void 0 !== D?D:0),dg:this.dg};this.$B.set(A.O,{p5b:B,qM:A,Eia:E});return B;};l.prototype.tyb=function(A,B,C){var D,E,G;D=this;E=A.O;return {get ja() {return B.Bq(E);},Bs:!1,events:new v.EventEmitter(),nRa:function(){},get Rp() {G || (G=D.ZXa(A.O,B,A.qb).then(function(F){return {X:F,Su:F.O4 && !F.aB,config:C,Wua:{}};}));return G;},K:E,Dva:!1,equals:function(F){var H;H=B.Bq(E);return F && F.K === E && (!F.ja || !H || H === F.ja);}};};l.prototype.Uu=function(A,B,C,D,E){var G,F,H,K,O,I,P,N;G=this;O=B.Bq(A);if(O || D){I={K:A,Ie:null === (F=null === D || void 0 === D?void 0:D.Tf) || void 0 === F?void 0:F.Ie,Uc:null === (H=null === D || void 0 === D?void 0:D.Tf) || void 0 === H?void 0:H.Uc};if(!this.dg.has(I)){P=null !== O && void 0 !== O?O:this.dg.Nn(null === (K=null === D || void 0 === D?void 0:D.Tf) || void 0 === K?void 0:K.Ie).ja;this.dg.store(I,{nRa:function(){},equals:function(J){return J && J.K === I.K && (P === J.ja || !J.ja || !P);},get Rp() {N || (N=(E?Promise.resolve(E):G.ZXa(A,B)).then(function(J){return {X:J,Su:J.O4 && !J.aB,config:C,Wua:{}};}));return N;},set Rp(J) {N=J;},events:new v.EventEmitter(),ja:P,K:I.K,Bs:!1,Dva:!1});}}};l.prototype.m9a=function(A){this.MX=A;};l.prototype.D9a=function(A){this.m9a(A);this.Cv.C9a(this.MX);};l.prototype.r7a=function(A){this.$B.has(A) && (this.m9a(this.MX.filter(function(B){return B.key.K !== A;})),this.$B.delete(A));};Sa.Object.defineProperties(l.prototype,{Cv:{configurable:!0,enumerable:!0,get:function(){this.Yw || (this.Yw=this.GUb(),this.Yw.Dua(this.csa).v9a(new y.GDa()).a9a({fB:this.config.DUb}),this.Yw.events.on("prefetchComplete",this.YRb));return this.Yw;}}});a=l;a=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(g.Va)),r.__param(1,(0,p.l)(f.ac)),r.__param(2,(0,p.l)(q.gda)),r.__param(3,(0,p.l)(m.dya)),r.__param(4,(0,p.l)(t.bD))],a);b.bya=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;a.prototype.ZVa=function(c,l){var g;return null !== (g=this.rDb(c,l)) && void 0 !== g?g:this.vDb(c,l);};a.prototype.rDb=function(c,l){var g,h;g=this;h=l.fa;return c.find(function(d){var f;return g.R2(h,null === (f=d.fa) || void 0 === f?void 0:f.fa);});};a.prototype.vDb=function(c,l){var g,h;g=l.fa.ce;h=l.fa.L[g];return c.find(function(d){var f;d=null === (f=d.fa) || void 0 === f?void 0:f.fa;d=(f=null === d || void 0 === d?void 0:d.ce) && (null === d || void 0 === d?void 0:d.L[f]) || void 0;return g === f && h.K === (null === d || void 0 === d?void 0:d.K) && h.sa === (null === d || void 0 === d?void 0:d.sa);});};a.prototype.R2=function(c,l){var g;g=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(h){return g.R2(c[h],l[h]);});};b.GDa=a;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p){var q;q=this;this.Sf=m;m=p();this.mg=new n({log:k.Sa("CacheManager"),ta:{getTime:function(){return q.Sf.Db().ca(d.na);}},Promise:Promise,df:!1,Ysb:m.MUb,Xsb:m.KUb,FCb:m.d6a,ECb:m.LUb});}Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;r=a(0);l=a(1);g=a(17);h=a(6);d=a(3);f=a(11);n=a(1268);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(g.Gc)),r.__param(2,(0,l.l)(f.ac))],c);b.pza=c;},function(r,b,a){var d;function c(){return Object.create(null);}function l(f){this.log=f.log;this.ta=f.ta;this.LB=c();this.Promise=f.Promise;this.vx=f.vx;this.jwa=f.jwa;this.df=f.df || !1;this.$u=c();this.rA=c();this.qE=c();this.uob(f);f.In && (this.In=f.In);}function g(f){return "undefined" !== typeof f;}function h(f){var m;for(var n=0,k=arguments.length;n < k;){m=arguments[n++];if(g(m))return m;}}a(1269);d=a(1270);l.prototype.uob=function(f){this.$u.manifest=h(f.FCb,d.$u.X);this.$u.ldl=h(f.ECb,d.$u.fU);this.$u.metadata=h(f.Wbc,d.$u.ud);this.rA.manifest=h(f.Ysb,d.rA.X);this.rA.ldl=h(f.Xsb,d.rA.fU);this.rA.metadata=h(f.Nac,d.rA.ud);this.qE.manifest=h(f.Lac,d.qE.X);this.qE.ldl=h(f.Kac,d.qE.fU);this.qE.metadata=h(f.Mac,d.qE.ud);};l.prototype.wT=function(f,n){this.ws("undefined" !== typeof f);this.ws("undefined" !== typeof n);return !!this.MMa(f,n,void 0).value;};l.prototype.MMa=function(f,n,k){var m,p;m={value:null,reason:"",log:""};p=this.LB[n];k=k?k:"DEFAULTCAPS";if("undefined" === typeof p)return (m.log="cache miss: no data exists for field:" + n,m.reason="unavailable",m);"undefined" === typeof p[f]?(m.log="cache miss: no data exists for movieId:" + f,m.reason="unavailable"):(p=p[f][k]) && p.value?this.v5(n,p.creationTime)?(m.log="cache miss: " + n + " data expired for movieId:" + f,m.reason="expired",this.clearData(f,n,k,!1,"expired")):(m.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + n + " request in flight for movieId:" + f:"cache hit: " + n + " available for movieId:" + f,m.value=p.value):(m.log="cache miss: " + n + " data not available for movieId:" + f,m.reason="unavailable");return m;};l.prototype.getData=function(f,n,k){this.ws("undefined" !== typeof f);this.ws("undefined" !== typeof n);f=this.MMa(f,n,k);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.jwa?JSON.parse(this.jwa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};l.prototype.setData=function(f,n,k,m,p){var q,v,t;this.ws("undefined" !== typeof f);this.ws("undefined" !== typeof n);q=this.LB;v=p?p:"DEFAULTCAPS";q[n] || (q[n]=c(),Object.defineProperty(q[n],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[n],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.vx?this.vx(JSON.stringify(k),"gzip",!0):k;q=q[n];this.Qmb(f,n,v,q);t=this;m={creationTime:this.ta.getTime(),value:k,size:0,type:n,Cja:m,DCb:setTimeout(function(){t.clearData(f,n,v,!1,"expired");},this.$u[n] + 1)};q[f]=q[f] || c();q[f][v]=q[f][v] || c();q[f][v]=m;q.size+=0;q.numEntries++;this.In && this.In.emit("addedCacheItem",m);return m;};l.prototype.Qmb=function(f,n,k,m){var p,q,v,t,w,u,y,x,z;p=this;q=m.numEntries;v=this.rA[n];t=m[f] && m[f][k];if(t && t.value)(w=f,u="promise_or_expired");else if(q >= v){x=Number.POSITIVE_INFINITY;Object.keys(m).every(function(A){var B;B=m[A] && m[A][k];B && B.value && p.v5(n,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});w=z || y;u="cache_full";}this.df && this.log.debug("makespace ",{maxCount:v,currentCount:m.numEntries,field:n,movieId:f,movieToBeRemoved:w});w && (p.clearData(w,n,k,void 0,u),this.log.debug("removed from cache: ",w,n));};l.prototype.nia=function(f,n){var k,m;k=this;k.ws("undefined" !== typeof f);m=f + "";n.forEach(function(p){var q;q=k.LB[p];q && Object.keys(q).forEach(function(v){v != m && k.clearData(v,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(f,n,k,m,p){var q;this.ws("undefined" !== typeof f);this.ws("undefined" !== typeof n);q=this.LB[n];n=q?q[f]:void 0;k=k?k:"DEFAULTCAPS";if(n && n[k]){q.size-=n[k].size;q.numEntries--;if(q=n && n[k])(clearTimeout(q.DCb),n[k]=void 0,!m && q.Cja && q.Cja());this.In && (f={creationTime:q.creationTime,destroyFn:q.Cja,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.In.emit("deletedCacheItem",f));}};l.prototype.flush=function(f){var n;this.ws("undefined" !== typeof f);n=this.LB;n[f]=c();n[f].numEntries=0;n[f].size=0;};l.prototype.ORa=function(){var f,n;this.ws(!1);f=this;n=this.LB;n[void 0] instanceof Object && Object.keys(n[void 0]).forEach(function(k){var m;m=n[void 0][k].DEFAULTCAPS;f.ta.getTime() - m.creationTime > f.$u[void 0] && f.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.v5=function(f,n){return this.ta.getTime() - n > this.$u[f];};l.prototype.getStats=function(f,n,k){var m,p,q,v,t;m={};p=this;q=p.LB;v=g(f) && g(n);t=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var u,y;u=Object.keys(q[w]);y=q[w];u.forEach(function(x){!(x=y && y[x] && y[x][t]) || !g(x.value) || x.value instanceof p.Promise || (m[w]=(m[w] | 0) + 1,p.v5(x.type,x.creationTime) && (m[w + "_expired"]=(m[w + "_expired"] | 0) + 1),v && x.creationTime >= f && x.creationTime < n && (m[w + "_delta"]=(m[w + "_delta"] | 0) + 1));});});return m;};l.prototype.getState=function(f){var n,k,m,p;n=[];k=this;m=k.LB;p=f || "DEFAULTCAPS";Object.keys(m).forEach(function(q){var v,t;v=Object.keys(m[q]);t=m[q];v.forEach(function(w){var u,y;u=t && t[w] && t[w][p];if(u && g(u.value)){y=k.v5(u.type,u.creationTime)?"expired":u.value instanceof k.Promise?"loading":"cached";n.push({movieId:w,state:y,type:q,size:u.size});}});});return n;};l.prototype.ws=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.df))throw Error("Debug Assert Failed ");};r.exports=l;},function(r){function b(a){var c;c=[];return (function h(g){if(g && "object" === typeof g){if(-1 !== c.indexOf(g))return !0;c.push(g);for(var d in g){if(g.hasOwnProperty(d) && h(g[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){g=a.pop();if("boolean" === typeof g)l+=4;else if("string" === typeof g)l+=2 * g.length;else if("number" === typeof g)l+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var h in g){a.push(g[h]);}}}return l;};},function(r){r.exports={$u:{X:12E5,fU:9E5,ud:12E5},rA:{X:10,fU:10,ud:10},qE:{X:10240,fU:10240,ud:10240}};},function(r,b,a){var c,l,g,h,d,f,n,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.ab=void 0;r=a(1);c=a(194);l=a(1272);g=a(521);h=a(1273);d=a(522);f=a(1274);n=a(1275);k=a(523);m=a(1276);b.ab=new r.Xc(function(p){p(c.Yaa).to(l.HAa).da();p(g.wFa).to(h.vFa).da();p(d.CGa).to(f.BGa).da();p(d.GFa).to(n.FFa).da();p(k.EFa).to(m.DFa).da();});},function(r,b,a){var l,g,h,d;function c(f){function n(k,m){this.W=k;this.Klb=m;this.Fka=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.yi=f.Sa("DownloadTrack");}n.prototype.ys=function(){!1;this.LQ=void 0;this.emit("destroyed");};n.prototype.toString=function(){return "id:" + this.LQ + " config: " + JSON.stringify(this.W);};n.prototype.toJSON=function(){return "Download Track id:" + this.LQ + " config: " + JSON.stringify(this.W);};n.prototype.pL=function(){return void 0 === this.LQ?!1:!0;};n.prototype.Usa=function(k){this.W.connections !== k.connections && (this.W=k);};n.prototype.kL=function(){return 1 < this.W.connections?!0:!1;};Sa.Object.defineProperties(n.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.LQ;}},En:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.LQ;}},config:{configurable:!0,enumerable:!0,get:function(){return this.W;}},P7:{configurable:!0,enumerable:!0,get:function(){return this.yi;}},ZF:{configurable:!0,enumerable:!0,get:function(){return this.Klb.ZF;}}});this.yO=Object.assign(n,new h.IAa());}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;r=a(0);l=a(1);g=a(6);h=a(194);d=a(102).EventEmitter;c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va))],c);b.HAa=c;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u,y,x){this.tJ=v;this.De=w;this.tb=u;this.Ea=y;this.config=x;this.log=t.Sa("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;r=a(0);l=a(195);g=a(97);h=a(2);d=a(6);f=a(1);n=a(65);k=a(25);m=a(17);p=a(3);a=a(11);c.prototype.RA=function(){return this.Ea.Db().ca(p.na);};c.prototype.c4a=function(v,t){v.LQb({mediaRequest:v,timestamp:t});};c.prototype.u4a=function(v){var t,w;w=v.mediaRequest.GB;w.readyState=l.ic.Cc.Fw;w.b4a(Object.assign(Object.assign({},v),{timestamp:v.connect?v.timestamp:this.RA(),connect:null !== (t=v.connect) && void 0 !== t?t:!1,mediaRequest:w,readyState:w.readyState}));};c.prototype.gV=function(v){this.c4a(v.mediaRequest.GB,v.timestamp);};c.prototype.hV=function(v){var t,w;t=v.mediaRequest.GB;w=v.bytes;"undefined" === typeof t?!1:(t.readyState === l.ic.Cc.Hw && this.u4a(v),this.tb.Rj(w) && (v.mediaRequest=t,v.timestamp=this.RA(),w > t.bytesReceived && (v.newBytes=w - t.bytesReceived,v.bytesLoaded=w,t.OQb(v))));};c.prototype.xp=function(v){var t,w,u,y;t=v.mediaRequest;w=v.errorcode;u=v.httpcode;y=l.ic.IY;if("undefined" === typeof t)!1;else if((t=t.GB,"undefined" === typeof t))!1;else if(t.readyState !== l.ic.Cc.VH)if(w === h.R.TC)(t.readyState=l.ic.Cc.YN,v.mediaRequest=t,v.readyState=t.readyState,t.HQb(v));else {t.readyState=l.ic.Cc.VH;switch(w){case h.R.LO:u=y.iza;break;case h.R.xba:u=y.uba;break;case h.R.IO:u=400 < u && 500 > u?y.FZ:500 <= u?y.wba:y.uba;break;case h.R.JO:u=y.vba;break;case h.R.HO:u=y.jza;break;case h.R.KO:u=y.GZ;break;case h.R.UC:u=y.GZ;break;case h.R.ECa:u=y.DCa;break;case h.R.ACa:u=y.FZ;break;case h.R.Kfb:u=y.vba;break;default:u=y.GZ;}v.mediaRequest=t;v.readyState=t.readyState;v.errorcode=u;v.nativecode=w;t.Iqa(v);}};c.prototype.p7=function(v,t){var w,u;w=t.request.GB;if(w)if(t.ia){if((!1,v.j && w.readyState !== l.ic.Cc.DONE)){switch(w.readyState){case l.ic.Cc.YN:!1;return;case l.ic.Cc.VH:!1;break;case l.ic.Cc.Fw:break;case l.ic.Cc.Hw:this.u4a({mediaRequest:t.request,responseHeaders:t.headers});break;default:!1;}w.readyState=l.ic.Cc.DONE;if(!w.Ad){u={mediaRequest:w,readyState:w.readyState,timestamp:this.RA(),cadmiumResponse:t};v.j.Xva+=1;w.xIb();w.YLb() && (v.j.Gta+=1,t.Jl.Oi=Math.ceil(w.Wka),t.Jl.Mp=Math.ceil(w.zE),t.Jl.Lv=Math.floor(w.CB));w.t2=u;w.WL(u);}}}else (!1,w.readyState === l.ic.Cc.YN?!1:this.xp({mediaRequest:t.request,errorcode:t.za,httpcode:t.yl,cadmiumResponse:t}));};c.prototype.download=function(v,t){var w,u;w=this;t=this.De.download(v,t);if(v.GB){u=v.GB;-1 < [l.ic.Cc.OPENED,l.ic.Cc.VH].indexOf(u.readyState) && (u.readyState=l.ic.Cc.Hw,this.config().Vpa?t.JZb(function(y){w.gV(y);}):this.c4a(u,this.RA()));}t.l1(function(y){w.p7(v,y);});t.OZb(function(y){w.hV(y);});return t;};q=c;q=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.cO)),r.__param(1,(0,f.l)(d.Va)),r.__param(2,(0,f.l)(n.Tt)),r.__param(3,(0,f.l)(k.Qf)),r.__param(4,(0,f.l)(m.Gc)),r.__param(5,(0,f.l)(a.ac))],q);b.vFa=q;},function(r,b,a){var l,g,h;function c(d,f){this.De=f;this.log=d.Sa("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;r=a(0);l=a(1);g=a(6);a=a(65);c.prototype.OS=function(d,f,n){d={url:d.url,EYb:n};!1;this.De.L_b(d);};c.prototype.POa=function(d){try{d.rna();}catch(f){this.log.warn("exception aborting request");}};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(a.Tt))],h);b.BGa=h;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){this.Ea=t;this.Is=w;this.config=u;this.De=x;this.mPb=z;this.log=y.Sa("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=void 0;r=a(0);l=a(1);g=a(6);h=a(65);d=a(521);f=a(103);n=a(195);k=a(17);m=a(3);p=a(37);q=a(11);v=a(47);c.prototype.OS=function(t,w,u){var x,z,A;function y(){t.removeEventListener(n.ic.Ph.hD,y);t.xS?t.xS++:t.xS=1;t.xS >= x.config().Eka.length && (t.xS=x.config().Eka.length - 1);setTimeout(function(){x.OS(t,w,u);},x.config().Eka[t.xS]);}x=this;t.Ycc=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.De.q_.vya,withCredentials:!1,DA:t.mediaType === v.v.ga?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.Yk,track:{type:t.mediaType === v.v.ga?f.Jj.audio:f.Jj.video},stream:{Sb:t.Wb,bitrate:t.bitrate},qc:t.Rc,GB:t,u9:u,yr:this.Is.yr,hr:t.hr};A=this.RA();z=this.mPb.download(z,function(B){B.ia && t.readyState !== n.ic.Cc.DONE && (t.readyState === n.ic.Cc.YN?!1:(t.readyState === n.ic.Cc.VH?!1:t.readyState === n.ic.Cc.Hw?(t.readyState=n.ic.Cc.Fw,t.b4a({mediaRequest:t,readyState:t.readyState,timestamp:t.Ad?A:x.RA(),connect:!1,responseHeaders:B.headers})):t.readyState !== n.ic.Cc.Hw && t.readyState !== n.ic.Cc.Fw && !1,t.readyState=n.ic.Cc.DONE,B={mediaRequest:t,readyState:t.readyState,timestamp:x.RA(),cadmiumResponse:B,response:B.content},t.t2=B,t.WL(B)));});t.addEventListener(n.ic.Ph.hD,y);t.rna=z.abort;};c.prototype.POa=function(t){try{t.rna();}catch(w){this.log.warn("exception aborting request");}};c.prototype.RA=function(){return this.Ea.Db().ca(m.na);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Gc)),r.__param(1,(0,l.l)(p.$m)),r.__param(2,(0,l.l)(q.ac)),r.__param(3,(0,l.l)(g.Va)),r.__param(4,(0,l.l)(h.Tt)),r.__param(5,(0,l.l)(d.wFa))],a);b.FFa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u,y,x){function z(B,C){this.track=B;this.label=C;this.fh=m.ic.Cc.UNSENT;this.bytesReceived=0;this.IG=[];this.requestId=x.zx().toString();this.tb=w;this.log=t.Sa("MediaRequest");this.config=v;this.Cb=new k.Vi();"notification" === this.label?this.config().VE && (this.ZF=u):this.ZF=y;!1;}function A(B,C){this.requestId=x.zx().toString();this.tb=w;this.log=t.Sa("MediaRequest");this.config=v;this.Cb=new k.Vi();this.label=C;"notification" === this.label?this.config().VE && (this.ZF=u):this.ZF=y;this.MT=this.AJ=this.CJ=void 0;this.track=B;this.BJ=this.url=this.responseType=void 0;this.fh=m.ic.Cc.UNSENT;this.dk=this.yS=this.Fh=this.status=void 0;this.cr=this.bytesReceived=0;this.connect=this.Wka=this.zE=this.CB=this.Hoa=this.Cg=this.Vka=this.loadTime=this.Ffa=void 0;this.IG=[];this.En=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Cb.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Cb.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Cb.zc.call(this,B,C,D);};z.prototype.LQb=function(B){this.fh === m.ic.Cc.OPENED && (this.MT=!0,this.loadTime=this.Cg=B.timestamp,!1,this.fh=m.ic.Cc.Hw,this.emit(m.ic.Ph.sGa,B));};z.prototype.b4a=function(B){var C;!this.c8a && B.responseHeaders && (this.c8a=B.responseHeaders);if(this.fh < m.ic.Cc.Fw){this.IG=[];C=B.timestamp - this.loadTime;!this.Ad && 0 < C && (this.connect=!0,this.IG.push(C));!0 === this.config().jKb?this.Vka=B.timestamp:this.Vka=this.Cg=B.timestamp;!1;this.fh=m.ic.Cc.Fw;this.emit(m.ic.Ph.rGa,B);}};z.prototype.OQb=function(B){this.fh === m.ic.Cc.Fw && (!1,this.Hoa=this.Cg=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.tb.qg(this.Hoa) && this.emit(m.ic.Ph.tGa,B));};z.prototype.WL=function(B){var C;if(-1 < [m.ic.Cc.Hw,m.ic.Cc.Fw].indexOf(this.fh)){this.MT=!1;!1;this.Cg=B.timestamp;this.fh=m.ic.Cc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Jl.w2;(0,q.ma)(this.bytesReceived === this.Yk,"bytesReceived do not match expected totalBytes.");B.newBytes=this.Yk - C;this.tb.qg(this.zE) && (this.Cg=this.zE,0 === B.newBytes && (this.Hoa=this.zE));this.tb.qg(this.CB) && (this.loadTime=this.CB);this.Ffa=B.response;this.emit(m.ic.Ph.jP,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",wXb:B});}};z.prototype.HQb=function(B){this.MT=!1;!1;this.emit(m.ic.Ph.Dib,B);};z.prototype.Iqa=function(B){this.Cg=B.timestamp;this.status=B.httpcode;this.Fh=B.errorcode;this.yS=m.ic.IY.name[this.Fh];this.dk=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",qCb:B});this.emit(m.ic.Ph.hD,B);this.MT=!1;};z.prototype.open=function(B,C,D,E,G,F,H,K){this.Pv=!1;this.BJ=C;this.hr=K;this.url=B;this.responseType=D;!1;if(!this.url)return (!1,!1);this.fh=m.ic.Cc.OPENED;this.ZF.OS(this,C,H);return !0;};z.prototype.Te=function(){!1;-1 !== [m.ic.Cc.OPENED,m.ic.Cc.Hw,m.ic.Cc.Fw].indexOf(this.fh) && this.abort();return !0;};z.prototype.xub=function(){this.Ffa=void 0;this.t2 && (this.t2.response=void 0,this.t2.cadmiumResponse.content=void 0);this.rna=void 0;};z.prototype.hH=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.fh=m.ic.Cc.YN;this.ZF.POa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.c8a) || void 0 === C?void 0:C[B.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.WV=function(){};z.prototype.Hh=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.Hh(),segmentId:this.J,isHeader:this.Ad,ptsStart:this.CG,ptsOffset:this.PV,responseType:this.responseType,duration:this.FA,readystate:this.fh};this.stream && (B.bitrate=this.stream.bitrate);return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.xIb=function(){var B,C;if(this.config().acb && d.Yt && d.Yt.getEntriesByType && (!this.tb.qg(this.CB) || !this.tb.qg(this.zE) && this.tb.qg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.CJ + "-" + this.AJ + "*");C=new RegExp(B);B=d.Yt.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.tb.qg(B) && (0 < B.startTime && (this.CB=B.startTime,0 < B.requestStart && (this.CB=Math.max(this.CB,B.requestStart))),0 < B.responseStart && (this.Wka=B.responseStart),0 < B.responseEnd && (this.zE=B.responseEnd));}};z.prototype.YLb=function(){return this.tb.qg(this.CB) && this.tb.qg(this.zE) && this.tb.qg(this.Wka);};Sa.Object.defineProperties(z.prototype,{Yk:{configurable:!0,enumerable:!0,get:function(){return 0 === this.BJ.start && -1 === this.BJ.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.BJ.end - this.BJ.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.AJ - this.CJ + 1;}},uZa:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Ad:{configurable:!0,enumerable:!0,get:function(){return !this.oB;}},response:{configurable:!0,enumerable:!0,get:function(){return this.Ffa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.fh;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.Wt=Object.assign(A,m.ic);}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;r=a(0);l=a(1);g=a(6);h=a(11);d=a(12);f=a(25);n=a(522);k=a(71);m=a(195);p=a(84);q=a(20);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ac)),r.__param(1,(0,l.l)(g.Va)),r.__param(2,(0,l.l)(f.Qf)),r.__param(3,(0,l.l)(n.CGa)),r.__param(4,(0,l.l)(n.GFa)),r.__param(5,(0,l.l)(p.qw))],c);b.DFa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.z3a=void 0;r=a(1);c=a(345);l=a(1278);b.z3a=new r.Xc(function(g){g(c.mca).to(l.VFa).da();});},function(r,b,a){var l,g,h,d,f;function c(n){return g.Le.call(this,n,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=void 0;r=a(0);l=a(44);g=a(45);h=a(1);d=a(31);f=a(3);ha(c,g.Le);Sa.Object.defineProperties(c.prototype,{n3a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Jb)(5E3);}},H4a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Jb)(1E3);}},I4a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Jb)(1E3);}}});a=c;r.__decorate([l.config(l.ck,"minDecoderBufferMilliseconds")],a.prototype,"n3a",null);r.__decorate([l.config(l.ck,"optimalDecoderBufferMilliseconds")],a.prototype,"H4a",null);r.__decorate([l.config(l.ck,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"I4a",null);a=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(d.ll))],a);b.VFa=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.o5a=void 0;r=a(1);c=a(524);l=a(1280);g=a(82);h=a(1282);d=a(527);f=a(1283);n=a(476);k=a(1284);m=a(283);p=a(1285);b.o5a=new r.Xc(function(q){q(g.Dw).to(h.kHa).da();q(c.mHa).to(l.lHa).da();q(n.wHa).to(k.vHa);q(n.uHa).Md(function(v){return function(){return v.eb.get(n.wHa);};});q(d.SHa).to(f.RHa).da();q(m.Nca).to(p.OHa).da();});},function(r,b,a){var h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B;function c(C){this.config=C;this.sx=[];}function l(C,D,E){this.Ea=C;this.FN=D;this.context=E;this.startTime=this.Ea.Db();}function g(C,D,E,G,F,H,K,O,I,P){this.Wab=D;this.json=E;this.Ea=G;this.Is=F;this.Ksa=H;this.oc=K;this.config=O;this.Cb=I;this.receiver=P;this.log=C.Sa("Pbo");O.i7a && (this.sx=new c(O));this.FN=this.Wab();}Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;r=a(0);h=a(1);d=a(3);f=a(525);n=a(6);k=a(35);m=a(17);p=a(37);q=a(138);v=a(46);t=a(526);w=a(82);u=a(109);y=a(15);x=a(67);z=a(1281);a=a(283);A={"shakti-":"akira"};g.prototype.send=function(C,D){var E;E=new l(this.Ea,this.FN,C);this.sx && this.sx.append(E);return this.pua(C,D,E);};g.prototype.pua=function(C,D,E){var G;G=this;return new Promise(function(F,H){G.retry(C,D).then(function(K){var O,I;G.gZb(K);O=ma(G.F4b(K));I=O.next().value;O=O.next().value;I && (G.receiver.Hsa({command:C.vm,inputs:D,outputs:I}),G.Qub(E),F(K));O && (G.receiver.Hsa({command:C.vm,inputs:D,outputs:O}),G.bSa(E,O),H(O));}).catch(function(K){var O;G.receiver.Hsa({command:C.vm,inputs:D,outputs:K});O=G.bSa(E,K);K.Ib && (K.Ib=[K.Ib," ",O].join(""));H(K);});});};g.prototype.gZb=function(C){(C=C.serverTime) && this.Cb.zc(y.Eba.V8a,(0,d.Jb)(C));};g.prototype.F4b=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{VB:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};g.prototype.orb=function(C,D,E){var G;G=this;this.$3b(D,C);this.FN=this.Wab(E);return this.FN.send(D,E).then(function(F){return {retry:!1,result:z.e_.cTb(G.json,F.body)};}).catch(function(F){var H,K;H=z.e_.TGb(F);K=void 0 !== H?Math.min(H,D.Ita):D.Ita;return G.r9(D,F,C,K)?(H=G.ptb(F,C,K),G.log.warn("Method failed, retrying",Object.assign({Method:D.vm,Attempt:C + 1,WaitTime:H,MaxRetries:K},G.qja(F))),Promise.resolve({retry:!0,delay:H,error:F})):Promise.resolve({retry:!1,error:F});});};g.prototype.REb=function(C){var D,E;if(!this.$fa || this.$fa.ySb !== C){D="";E=C;Object.entries(A).find(function(G){var F;F=ma(G);G=F.next().value;F=F.next().value;if(0 === C.indexOf(G))return (D=F,C=C.slice(G.length),!0);});this.$fa={YRa:D,Tv:C,ySb:E};}return this.$fa;};g.prototype.$3b=function(C,D){var E,G,F,H;H=C.url.searchParams;H.set(x.Cz.KJa,(D + 1).toString());this.config.Wbb.includes(C.wj)?C.headers[x.Yjb.tda]=C.wj:H.set(x.Cz.tda,C.wj);C=this.REb(null !== (E=this.config.Tv) && void 0 !== E?E:"");C.YRa && (H.set(x.Cz.Dza,C.YRa),C.Tv && H.set(x.Cz.FLa,encodeURIComponent(C.Tv)),E=this.Is.Vc,(null === E || void 0 === E?0:E.name) && H.set(x.Cz.Sya,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && H.set(x.Cz.Tya,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && H.set(x.Cz.wGa,encodeURIComponent(E.os.name)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.version) && H.set(x.Cz.xGa,encodeURIComponent(E.os.version)));};g.prototype.retry=function(C,D,E){var G;G=this;E=void 0 === E?0:E;return this.orb(E++,C,D).then(function(F){if(F.retry)return G.wait(F.delay).then(function(){return G.retry(C,D,E);});if(F.error)throw F.error;if(void 0 === F.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return F.result;});};g.prototype.r9=function(C,D,E,G){var F;F=z.e_.ZLb(D);if(F && E < G)return !0;F?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.vm,Attempt:E + 1,MaxRetries:G},this.qja(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.vm},this.qja(D)));return !1;};g.prototype.ptb=function(C,D,E){if(C && C.kC && void 0 !== C.kC.retryAfterSeconds)return (0,d.th)(C.kC.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,E));return (0,d.Jb)(this.Ksa.L6a(C,D));};g.prototype.wait=function(C){var D;D=this;return new Promise(function(E){D.oc.Cj(C || d.Ia,E);});};g.prototype.qja=function(C){return (0,t.j0a)(C)?C:{message:C.message,subCode:C.cc,extCode:C.Lc,mslCode:C.oy,data:C.data};};g.prototype.Qub=function(C){C.oN();};g.prototype.bSa=function(C,D){var E;C.Ds(D);if(this.sx)try{E=this.json.stringify(this.sx);this.log.error("PBO command history",E);return E;}catch(G){}return "";};B=g;B=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.Va)),r.__param(1,(0,h.l)(f.uLa)),r.__param(2,(0,h.l)(k.XC)),r.__param(3,(0,h.l)(m.Gc)),r.__param(4,(0,h.l)(p.$m)),r.__param(5,(0,h.l)(q.r_)),r.__param(6,(0,h.l)(v.wi)),r.__param(7,(0,h.l)(w.Dw)),r.__param(8,(0,h.l)(u.lba)),r.__param(9,(0,h.l)(a.Nca))],B);b.lHa=B;l.prototype.oN=function(){this.ia=!0;this.elapsedTime=this.Ea.Db().wa(this.startTime);};l.prototype.Ds=function(C){this.ia=!1;this.elapsedTime=this.Ea.Db().wa(this.startTime);this.X0b=C.cc || C.subCode;this.JCb=C.Lc || C.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var C;C=Object.assign({success:this.ia,method:this.context.vm,startTime:this.startTime.ca(d.na),elapsedTime:this.elapsedTime?this.elapsedTime.ca(d.na):"in progress"},this.FN.Oia());return this.ia?C:Object.assign(Object.assign(Object.assign({},C),this.FN.Oia()),{subcode:this.X0b,extcode:this.JCb});};c.prototype.append=function(C){this.sx.push(C);0 < this.config.lna && this.sx.length > this.config.lna && this.sx.shift();};c.prototype.toJSON=function(){return this.sx;};},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.e_=void 0;l=a(2);c.ZLb=function(g){var h,d;h=g && g.code;d=g && (g.za || g.cc);g=g.Lc !== l.IZ.aHa;d=!!d && d >= l.R.LO && d <= l.R.JO && g;return !("RETRY" !== h && "FAIL" !== h) || d;};c.TGb=function(g){var h,d;d=null === (h=null === g || void 0 === g?void 0:g.kC) || void 0 === h?void 0:h.maxRetries;return "number" === typeof d?d:"FAIL" === (null === g || void 0 === g?void 0:g.code)?1:void 0;};c.cTb=function(g,h){var d;if(h){try{d=g.parse(h);}catch(f){throw {VB:!0,code:"FAIL",message:"Unable to parse the response body",data:h};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (g=d.result.find(function(f){return f.error;})))throw g.error;return d;}throw {VB:!0,code:"FAIL",message:"There is no result property on the response"};}throw {VB:!0,code:"FAIL",message:"There is no body property on the response"};};b.e_=c;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v){m=g.Le.call(this,m,"PboConfigImpl") || this;m.config=p;m.Dqb=q;m.Hf=v;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;r=a(0);l=a(1);g=a(45);h=a(31);d=a(44);f=a(11);n=a(168);a=a(107);ha(c,g.Le);Sa.Object.defineProperties(c.prototype,{Tv:{configurable:!0,enumerable:!0,get:function(){return this.config().gp.Tv || "";}},f$:{configurable:!0,enumerable:!0,get:function(){return this.config().gp.f$ || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().gp.hsa;}},h0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},W8a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Dqb.EQa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.X8a);}},X8a:{configurable:!0,enumerable:!0,get:function(){return {};}},i7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},lna:{configurable:!0,enumerable:!0,get:function(){return 10;}},sPa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Tu:{configurable:!0,enumerable:!0,get:function(){return this.Hf.Tu;}},IA:{configurable:!0,enumerable:!0,get:function(){return this.Hf.IA;}},CH:{configurable:!0,enumerable:!0,get:function(){return this.Hf.CH;}},ccb:{configurable:!0,enumerable:!0,get:function(){return !1;}},aVa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Wbb:{configurable:!0,enumerable:!0,get:function(){return [];}},iVa:{configurable:!0,enumerable:!0,get:function(){return !0;}},jK:{configurable:!0,enumerable:!0,get:function(){return this.Hf.jK;}},EE:{configurable:!0,enumerable:!0,get:function(){return this.Hf.EE;}},Q9:{configurable:!0,enumerable:!0,get:function(){return this.Hf.Q9;}}});k=c;r.__decorate([d.config(d.string,"uiVersion")],k.prototype,"Tv",null);r.__decorate([d.config(d.string,"uiPlatform")],k.prototype,"f$",null);r.__decorate([d.config(d.Wy,"pboVersion")],k.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],k.prototype,"organization",null);r.__decorate([d.config(d.eH,"pboLanguages")],k.prototype,"languages",null);r.__decorate([d.config(d.Kc,"hasLimitedPlaybackFunctionality")],k.prototype,"h0a",null);r.__decorate([d.config(d.object(),"pboCommands")],k.prototype,"W8a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],k.prototype,"X8a",null);r.__decorate([d.config(d.Kc,"pboRecordHistory")],k.prototype,"i7a",null);r.__decorate([d.config(d.Wy,"pboHistorySize")],k.prototype,"lna",null);r.__decorate([d.config(d.Kc,"pboAddXEsnHeader")],k.prototype,"sPa",null);r.__decorate([d.config(d.Kc,"combineManifestAndLicense")],k.prototype,"Tu",null);r.__decorate([d.config(d.Kc,"enableLicensedManifestForPrefetch")],k.prototype,"IA",null);r.__decorate([d.config(d.Kc,"useLdlForPrefetchLicensedManifest")],k.prototype,"CH",null);r.__decorate([d.config(d.Kc,"pboUseStudioManifest")],k.prototype,"ccb",null);r.__decorate([d.config(d.Kc,"pboEnableLeanManifest")],k.prototype,"aVa",null);r.__decorate([d.config(d.Kc,"useHeaderForRequestNames")],k.prototype,"Wbb",null);r.__decorate([d.config(d.Kc,"pboEnableV2OptimizedManifest")],k.prototype,"iVa",null);r.__decorate([d.config(d.Kc,"pboEnableManifestPartialHydrationSupport")],k.prototype,"jK",null);r.__decorate([d.config(d.eH,"pboContentPlaygraphTypes")],k.prototype,"EE",null);r.__decorate([d.config(d.Kc,"pboSupportsAdBreakHydration")],k.prototype,"Q9",null);k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ll)),r.__param(1,(0,l.l)(f.ac)),r.__param(2,(0,l.l)(n.$X)),r.__param(3,(0,l.l)(a.iD))],k);b.kHa=k;},function(r,b,a){var g,h;function c(d,f,n,k,m,p,q){this.version=d;this.url=f;this.id=n;this.languages=k;this.qb=m;this.PAb=p;this.hQb=q;}function l(d){this.Pg=d;}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;r=a(0);g=a(1);a=a(82);l.prototype.create=function(d,f,n,k,m){return new c(this.Pg.version,f,d,this.Pg.languages,n,k,m);};h=l;h=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(a.Dw))],h);b.RHa=h;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.qb,echo:this.PAb};};},function(r,b,a){var l,g,h;function c(d,f){this.ME=f;this.log=d.Sa("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;r=a(0);l=a(1);g=a(6);a=a(92);c.prototype.oga=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.NK=function(d){!1;return this.links[d];};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(a.jw))],h);b.vHa=h;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;r=a(0);a=a(1);c.prototype.IZb=function(g){this.listener=g;};c.prototype.Hsa=function(g){var h;null === (h=this.listener) || void 0 === h?void 0:h.call(this,g);};l=c;l=r.__decorate([(0,a.U)()],l);b.OHa=l;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q,M,S,ra,oa,Ca,Ua,Pa,Ya,ob,pb,Db,Na,ab,fb,ib;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(1);c=a(474);l=a(528);g=a(1287);h=a(530);d=a(1288);f=a(358);n=a(355);k=a(1289);m=a(1301);p=a(11);q=a(17);v=a(108);t=a(25);w=a(6);u=a(1302);y=a(225);x=a(1303);z=a(3);A=a(1304);B=a(1305);C=a(552);D=a(1306);E=a(109);G=a(531);F=a(1307);H=a(110);K=a(30);O=a(156);I=a(92);P=a(274);N=a(556);J=a(1308);L=a(83);R=a(37);ka=a(532);la=a(1309);X=a(533);da=a(26);ta=a(554);Ba=a(1310);Ja=a(534);Va=a(1311);Ta=a(27);T=a(292);aa=a(291);Q=a(1312);M=a(1313);S=a(1314);ra=a(1315);oa=a(1316);Ca=a(1317);Ua=a(189);Pa=a(1318);Ya=a(46);ob=a(1319);pb=a(1320);Db=a(1321);Na=a(1322);ab=a(1323);fb=a(1324);ib=a(1325);b.j=new r.Xc(function(kb){kb(N.Zca).to(J.tIa).da();kb(X.Wxa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb,Kb){return new (a(1326).Xxa)(Hb,Kb,Bb.get(v.gw),Bb.get(E.BY));};});kb(c.vLa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc){return new (a(1329).wLa)(Bb.get(A.BLa),Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc);};});kb(A.BLa).to(B.ALa).da();kb(l.zLa).to(g.yLa).da();kb(n.oIa).to(k.nIa).da();kb(S.mKa).to(ra.lKa).da();kb(ka.JJa).to(la.IJa);kb(ka.HJa).Dab(ka.JJa);kb(f.BAa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb){return new (a(1330).CAa)(Bb.get(E.AAa),Bb.get(v.gw),Bb.get(q.Gc),Hb);};});kb(h.Aya).Md(function(){return function(Ab){return new d.Bya(Ab);};});kb(ta.bda).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb){return new Ba.zIa(Hb,Bb.get(w.Va),Bb.get(t.Qf));};});kb(aa.qxa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb){return new Q.rxa(Hb,Bb.get(w.Va).Sa("AdImpressionLogger"),Bb.get(Ta.wg),Bb.get(p.ac),Bb.get(q.Gc),Bb.get(T.U$),Bb.get(T.T$));};});kb(oa.Fxa).to(Ca.Exa);kb(Na.aO).to(ob.xxa);kb(Na.aO).to(Db.Cxa);kb(Na.aO).to(ab.Gxa);kb(Na.aO).to(pb.Hxa);kb(Ja.vxa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb,Kb){return new Va.wxa(Hb,Kb,Bb.get(w.Va).Sa("AdManager"),Bb.get(p.ac),Bb.get(S.mKa),Bb.getAll(Na.aO),Bb.get(aa.qxa),function(Qb){return new M.uxa(Qb);},Bb.get(oa.Fxa));};});kb(u.fIa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb){return new m.gIa(Hb,Bb.get(w.Va),Bb.get(p.ac),Bb.get(t.Qf),Bb.get(v.gw),Bb.get(ta.bda));};});kb(Ua.hEa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb,Kb){return new Pa.iEa(Bb.get(p.ac),Bb.get(fb.jEa),Bb.get(Ya.wi),Bb.get(w.Va),Hb,Kb);};});kb(fb.jEa).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb){return new ib.kEa(Bb.get(p.ac),Bb.get(w.Va),Bb.get(H.qD),Hb);};});kb(y.ada).Md(function(Ab){var Bb;Bb=Ab.eb;return function(Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc,Td,Ud){return new x.vIa(Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc,Bb.get(u.fIa),Bb.get(N.Zca),Bb.get(Ua.hEa),Td,Ud);};});kb(C.gKa).Md(function(Ab){return function(Bb){var Hb,Kb;Hb=Ab.eb.get(p.ac);Kb=Ab.eb.get(w.Va);return new D.hKa(Hb,Bb,Kb);};});kb(G.qIa).Md(function(Ab){return function(Bb){var Hb,Kb,Qb,Tb,Fb;Hb=Ab.eb.get(I.jw);Kb=Ab.eb.get(H.qD);Qb=Ab.eb.get(K.dh);Tb=Ab.eb.get(O.wP);Fb=Ab.eb.get(da.iw);return new F.rIa(Bb,Hb,Kb((0,z.th)(1)),Qb,Tb,Fb);};});kb(P.kca).AC(function(Ab){return new (a(1331).RFa)(Ab.eb.get(L.fP),Ab.eb.get(R.$m));}).da();});},function(r,b,a){var l,g,h,d,f,n;function c(k,m){this.Sf=k;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;r=a(0);l=a(15);g=a(529);h=a(17);d=a(1);f=a(3);a=a(11);c.prototype.kK=function(k){var m;k.oX={};if(!k.oL() && k.Vy && 0 < k.Vy.length && (k.Uy=this.KXa(k),k.Uy)){m=this.i_b(k);m() || (k.lb.addListener(m),k.Ke.addListener(m));}};c.prototype.i_b=function(k){var p;function m(){var q,v;if(!k.Ke.value || k.lb.value === l.Ya.Bf)return !1;q=k.Uy;v=q.getState();return v === g.Bo.LOADING?!1:v !== g.Bo.YC && q.retry?(q=p.zIb(k))?(k.oX.offset=p.Sf.Db().ca(f.na),k.Uy=q,q.download(),!0):!1:(k.lb.removeListener(m),k.Ke.removeListener(m),!1);}p=this;return m;};c.prototype.zIb=function(k){var m,p;m=this.config();p=k.Kk.mp() < m.K2b;m=(k.Ke.value?k.Ke.value.bitrate:0) > m.J2b;return this.XHb(k,p && m);};c.prototype.XHb=function(k,m){if(m && (m=this.KXa(k),this.JYa(k,m.size)))return (k.oX.T7a="h",m);m=this.QGb(k);if(this.JYa(k,m.size))return (k.oX.T7a="l",m);};c.prototype.JYa=function(k,m){var p,q;p=this.config();q=Math.min(k.jR(),k.BX());return k.Vrb.gtb(m) * (1 + .01 * p.iqb[2]) < q * p.N2b;};c.prototype.KXa=function(k){return k.Vy[k.Vy.length - 1];};c.prototype.QGb=function(k){return k.Vy[0];};n=c;n=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(h.Gc)),r.__param(1,(0,d.l)(a.ac))],n);b.yLa=n;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Bya=void 0;a.prototype.Ibb=function(){var c;c=this.j.ab;if(null !== c && void 0 !== c && c.Qw){c=c.Kd.get();if(null === c || void 0 === c?0:c.Pk)this.j.Pk=c.Pk.Da;if(null === c || void 0 === c?0:c.ub)this.j.ub=c.ub.Da;}};a.prototype.Im=function(){-1 === this.j.ub && this.Ibb();return this.j.ub;};a.prototype.gtb=function(c){-1 !== this.j.Pk && -1 !== this.j.ub || this.Ibb();return -1 === this.j.Pk || -1 === this.j.ub?Number.MAX_VALUE:this.j.Pk + 8 * c / this.j.ub;};b.Bya=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P;function c(N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q,M,S,ra,oa,Ca,Ua,Pa,Ya,ob,pb,Db){this.Sx=N;this.kA=J;this.Ea=L;this.ta=R;this.Wrb=ka;this.Kva=la;this.zU=X;this.zpa=da;this.BL=ta;this.Wc=Ba;this.qh=Ja;this.li=Va;this.wJ=Ta;this.BV=T;this.Kh=aa;this.dwa=Q;this.Jf=M;this.Ll=S;this.Qd=ra;this.Sra=oa;this.sXb=Ca;this.Xga=Ua;this.aG=Pa;this.Cra=Ya;this.hga=ob;this.$sb=pb;this.tJ=Db;}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=void 0;r=a(0);l=a(84);g=a(1);h=a(110);d=a(32);f=a(17);n=a(27);k=a(530);m=a(226);p=a(475);q=a(496);v=a(116);t=a(139);w=a(159);u=a(97);y=a(465);x=a(225);z=a(528);A=a(48);B=a(30);C=a(531);D=a(83);E=a(532);G=a(533);F=a(274);H=a(112);K=a(512);O=a(534);I=a(219);c.prototype.create=function(N,J,L,R,ka,la,X,da){return new (a(535).pIa)(N,J,la,X,R,ka,this.Sx,L,this.Ea,this.kA,this.ta,this.zU,this.Wrb,this.Kva,this.zpa,this.BL,this.Wc,this.qh,this.li,this.wJ,this.BV,this.Kh,this.dwa,this.Jf,this.Qd,this.Sra,this.Ll,this.sXb(),this.Xga,this.aG,this.Cra,this.hga,this.$sb,void 0,da);};P=c;P=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(l.qw)),r.__param(1,(0,g.l)(d.Oh)),r.__param(2,(0,g.l)(f.Gc)),r.__param(3,(0,g.l)(n.wg)),r.__param(4,(0,g.l)(k.Aya)),r.__param(5,(0,g.l)(h.qD)),r.__param(6,(0,g.l)(m.eca)),r.__param(7,(0,g.l)(p.hFa)),r.__param(8,(0,g.l)(q.WO)),r.__param(9,(0,g.l)(v.tD)),r.__param(10,(0,g.l)(t.oP)),r.__param(11,(0,g.l)(w.kD)),r.__param(12,(0,g.l)(y.Jya)),r.__param(13,(0,g.l)(x.ada)),r.__param(14,(0,g.l)(H.bD)),r.__param(15,(0,g.l)(z.zLa)),r.__param(16,(0,g.l)(A.dm)),r.__param(17,(0,g.l)(D.fP)),r.__param(18,(0,g.l)(B.dh)),r.__param(19,(0,g.l)(C.qIa)),r.__param(20,(0,g.l)(E.HJa)),r.__param(21,(0,g.l)(G.Wxa)),r.__param(22,(0,g.l)(F.kca)),r.__param(23,(0,g.l)(K.JHa)),r.__param(24,(0,g.l)(O.vxa)),r.__param(25,(0,g.l)(I.Faa)),r.__param(26,(0,g.l)(u.cO)),r.__param(26,(0,g.optional)())],P);b.nIa=P;},function(r,b,a){var d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O;function c(){this.Z9=[];this.w2b=50;}function l(I){var P;P=this;this.j=I;this.Hcb=Promise.resolve();this.kBa=mb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.WD=[];this.Nj=new k.Vi();this.DMa=0;this.a0=[];this.yi=(0,q.Gh)(this.j,"MediaElementASE");this.nOa=f.zw;this.yea=!1;this.Pb=new c();this.zn={};this.$Ma={};this.i4=this.b0(function(){var N;if(P.$)return null !== (N=P.$.webkitDecodedFrameCount) && void 0 !== N?N:0;});this.dv=this.b0(function(){var N;if(P.$){N=P.Tea();return N?N.totalVideoFrames:P.$.webkitDecodedFrameCount;}});this.mF=this.b0(function(){var N;if(P.$){N=P.Tea();return N?N.droppedVideoFrames:P.$.webkitDroppedFrameCount;}});this.XS=this.b0(function(){var N;if(P.$){N=P.Tea();return N && N.corruptedVideoFrames;}});this.tNa=function(N){!1;P.Nj.zc(C.Yi.s1a,{K:N});};this.Gk=q.Aa.get(B.dEa).create(n.config.zr,this,this.j);n.config.zB && (this.Hcb=new Promise(function(N){P.nOa=N;P.j.addEventListener(G.ea.og,N);}));this.yi.trace("Created Media Element");this.addEventListener=this.Nj.addListener;this.removeEventListener=this.Nj.removeListener;}function g(I){var P,N;P=q.Aa.get(D.iMa).QHb();I=I.width / I.height * P.height;N=(P.width - I) / 2;return n.config.d_b?(0,p.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + P.height + "px;left:" + N + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function h(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;d=a(288);f=a(16);n=a(18);k=a(71);m=a(58);p=a(42);q=a(8);v=a(2);t=a(20);w=a(76);u=a(340);y=a(22);x=a(289);z=a(12);A=a(14);B=a(541);C=a(290);D=a(516);E=a(3);G=a(15);F=a(56);H=a(41);K=a(47);O=!!(z.xz && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.IK=function(I){try{this.$ && (this.DMa=this.$.currentTime);}catch(P){this.yi.error("Exception while getting VIDEO.currentTime",P);I && this.QP(v.V.tjb,P);}return (0,z.dn)(this.DMa * f.Jr);};l.prototype.seek=function(I){var P;(0,t.ma)(!this.Lo);this.fOa();P=this.IK(!0);if(!n.config.xqb && (0,z.QZ)(P - I) <= this.G8a)(this.yi.trace("Seek delta too small",{currentTime:P,seekTime:I,min:this.G8a}),this.Pb.trace("smallseek",I));else {this.Pb.trace("seek",I);try{this.yi.trace("Setting video elements currentTime",{From:(0,w.bh)(P),To:(0,w.bh)(I)});this.Lo={};this.$.currentTime=I / f.Jr;this.Nj.zc(C.Yi.Fn);}catch(N){this.yi.error("Exception while setting VIDEO.currentTime",N);this.QP(v.V.ujb,N);}}};l.prototype.KYa=function(){return !!this.Lo;};l.prototype.addSourceBuffer=function(I){var P;try{P=new d.hca(this.j,I,this.zi,this.yi);this.WD.push(P);I == f.YO && P.Xka && P.Xka.addListener(this.nOa);return P;}catch(N){P=(0,y.te)(N);this.yi.error("Unable to add source buffer.",{error:P});this.j.dd(v.V.Dca,{za:I === K.v.ga?v.R.cca:v.R.dca,Ib:P});}};l.prototype.xga=function(I){var P;P=this;I.forEach(function(N){return P.addSourceBuffer(N);});this.Nj.zc(C.Yi.b$a);return !0;};l.prototype.removeSourceBuffer=function(I){this.WD=this.WD.filter(function(P){return !(0,p.kSa)(I,P);});this.zi.removeSourceBuffer(I);};l.prototype.endOfStream=function(){this.Pb.trace("endofstream");!1;n.config.Rha && this.zi.endOfStream();};l.prototype.ys=function(I){!1;this.WD=[];I && I.eec();return !0;};l.prototype.fYa=function(){if(this.zi)return (0,E.Z5a)(this.zi.duration);};l.prototype.aAb=function(){var I;if(!this.yea && this.$ && this.$.readyState >= F.cm.GO.HAVE_CURRENT_DATA){I=this.$.webkitDecodedFrameCount;if(void 0 === I || 0 < I || n.config.j5b)this.yea=!0;}return this.yea;};l.prototype.open=function(){var I,P,N;I=this;this.$=g(this.j.EC.value);this.sourceBuffers=this.WD;this.j.addEventListener(G.ea.O9a,function(J){return I.Enb(J);});if(O){this.j.NF && !n.config.Ubb && this.Gk.w7();try{this.zi=new z.xz();}catch(J){this.QP(v.V.kjb,J);return;}try{this.xk=URL.createObjectURL(this.zi);}catch(J){this.QP(v.V.ljb,J);return;}try{this.Gk.Kpb(this.tNa);this.zi.addEventListener("sourceopen",function(J){return I.PNa(J);});this.zi.addEventListener(this.kBa + "sourceopen",function(J){return I.PNa(J);});this.$.addEventListener("error",this.zn.error=function(J){return I.qQ(J);});this.$.addEventListener("seeking",this.zn.seeking=function(){return I.Dnb();});this.$.addEventListener("seeked",this.zn.seeked=function(){return I.Cnb();});this.$.addEventListener("timeupdate",this.zn.timeupdate=function(){return I.Gnb();});this.$.addEventListener("loadstart",this.zn.loadstart=function(){return I.tfa();});this.$.addEventListener("volumechange",this.zn.volumechange=function(J){return I.Hnb(J);});this.$.addEventListener(this.Gk.NB,this.zn[this.Gk.NB]=function(){I.yi.trace(I.Gk.NB);I.Anb();});P=this.j.ik;N=P.lastChild;N?P.insertBefore(this.$,N):P.appendChild(this.$);n.config.lUa && this.$.addEventListener("contextmenu",h);this.$.src=this.xk;m.$d.addListener(m.Cq,this.$Ma[m.Cq]=function(){return I.ONa();});this.ONa();}catch(J){this.QP(v.V.mjb,J);}}else this.W_(v.V.SGa);};l.prototype.close=function(){var P;function I(){P.xk && (P.fOa(),m.$d.removeListener(m.Cq,P.$Ma[m.Cq]),P.Blb());}P=this;this.Pb.trace("close");this.$.removeEventListener(this.Gk.NB,this.zn[this.Gk.NB]);this.$.removeEventListener("error",this.zn.error);this.$.removeEventListener("seeking",this.zn.seeking);this.$.removeEventListener("seeked",this.zn.seeked);this.$.removeEventListener("timeupdate",this.zn.timeupdate);this.$.removeEventListener("loadstart",this.zn.loadstart);this.$.removeEventListener("volumechange",this.zn.volumechange);this.Gk.cXb(this.tNa);n.config.zr?this.Gk.Gy().then(function(){return I();}):I();this.Gk.E7a && clearTimeout(this.Gk.E7a);};l.prototype.XA=function(){return this.Pb.XA();};l.prototype.Anb=function(){n.config.Ubb && this.Gk.w7();};l.prototype.Tea=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};l.prototype.vob=function(){var I;I=this.j.kh;return (I=I && I.errorCode) && 0 <= [v.V.c_,v.V.KZ].indexOf(I);};l.prototype.Blb=function(){var I;I=!1;n.config.XUb && this.vob() && (I=!0);n.config.Hub && !I && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.xk);n.config.lUa && this.$.removeEventListener("contextmenu",h);!I && this.$ && this.j.ik.removeChild(this.$);this.$=this.zi=void 0;this.xk="";};l.prototype.ONa=function(){!0 === z.Ig.hidden?this.a0.forEach(function(I){I.refresh();I.o0b();}):this.a0.forEach(function(I){I.refresh();I.E0b();});};l.prototype.b0=function(I){var P;P=q.Aa.get(u.zGa)(I);this.a0.push(P);return function(){P.refresh();return P.GFb();};};l.prototype.QP=function(I,P){var N,J;N={za:v.R.cl,Ib:(0,y.te)(P)};try{(J=P.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (N.Ve=J);}catch(L){}this.j.dd(I,N);};l.prototype.fOa=function(){this.a0.forEach(function(I){I.refresh();});};l.prototype.kmb=function(){return this.$ && this.$.msGraphicsTrustStatus;};l.prototype.W_=function(I,P){this.j.dd(I,P,void 0);};l.prototype.Enb=function(I){var P,J,L,R,ka,la,X;if(this.$){I=I.u$;P=this.kmb();P && (I.ConstrictionActive=P.constrictionActive,I.Status=P.status);try{I.readyState="" + this.$.readyState;I.currentTime="" + this.$.currentTime;I.pbRate="" + this.$.playbackRate;}catch(da){}P=this.WD.length;for(var N;P--;){N=this.WD[P];J="";N.type == f.PZ?J="audio":N.type == f.YO && (J="video");(0,y.Jd)(I,N.b4(),{prefix:J});}this.zi && (P=this.zi.duration) && !isNaN(P) && (I.duration=P.toFixed(4));if(n.config.WNb)try{L=this.j.Zd;R=L && L.Ab;if(R){ka=R.expiration;isNaN(ka) || (I.exp=ka);la=R.keyStatuses.entries();if(la.next){X=la.next().value;X && (I.keyStatus=X[1]);}}}catch(da){}}};l.prototype.PNa=function(I){!1;this.xob || (this.xob=!0,this.Nj.zc(C.Yi.d$a,I));};l.prototype.Dnb=function(){this.Pb.trace("seeking");this.yi.trace("Video element event: seeking");this.Lo?this.Lo.fRb=!0:(this.yi.error("unexpected seeking event"),n.config.XCb && this.W_(v.V.zjb,{Ib:{Trace:this.XA()}}));};l.prototype.Cnb=function(){this.Pb.trace("seeked");this.yi.trace("Video element event: seeked");this.Lo?((0,t.ma)(this.Lo.fRb),this.Lo.eRb=!0,this.IOa()):(this.yi.error("unexpected seeked event"),n.config.WCb && this.W_(v.V.yjb,{Ib:{Trace:this.XA()}}));};l.prototype.Gnb=function(){var I;this.Pb.trace("timeupdate",null === (I=this.$) || void 0 === I?void 0:I.currentTime);!1;this.Lo && (this.Lo.hRb=!0,this.IOa());this.Nj.zc(C.Yi.Fn);};l.prototype.tfa=function(){this.yi.trace("Video element event: loadstart");};l.prototype.Hnb=function(I){this.yi.trace("Video element event:",I.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(P){this.yi.error("error updating volume",P);}};l.prototype.qQ=function(I){var P,N,J,L,R,ka,la,X;P=this.W_;N=v.V.RGa;J=v.BBa;L=this.XA();R=I.target;ka=R && R.error;la=I.errorCode;R=ka && ka.code;(0,A.Nc)(R) || (R=la && la.code);la=ka && ka.message;X=ka && ka.msExtendedCode;(0,A.Nc)(X) || (X=ka && ka.systemCode);(0,A.Nc)(X) || (X=I.systemCode);(0,A.Nc)(X) || (X=(0,H.hma)(la));I=(0,y.Jd)({},{code:R,systemCode:X,trace:JSON.stringify(L)},{z7:!0});J={za:J(R),Ib:(0,x.wpa)(I)};try{la && (J.IU=la);}catch(da){}X=(0,y.Ni)(X);(0,A.sb)(X) && (J.Ve=(0,q.rha)(X,4));P.call(this,N,J);};l.prototype.IOa=function(){this.Lo && this.Lo.eRb && this.Lo.hRb && (this.Pb.trace("seekcomplete"),this.Lo=void 0,this.Nj.zc(C.Yi.pW));};Sa.Object.defineProperties(l.prototype,{G8a:{configurable:!0,enumerable:!0,get:function(){return n.config.Y_b;}}});b.tFa=l;c.prototype.trace=function(I,P){this.Z9.push([I,P]);this.Z9.length > this.w2b && this.Z9.shift();};c.prototype.XA=function(){return this.Z9;};},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t){var w;w=this;this.j=t;this.Cva=this.C3a=0;this.og=this.Lk=!1;this.K8=0;this.d5=new Set();this.BW=!0;this.Wk=function(){var u,y;w.G8();w.FE && (w.log.info("Deactivating",w.FE),w.Sy.Iyb(w.lp()));w.j.Uh.set(null);w.nH.n9a(void 0);w.URa();u=w.j.yb.value;u && u.Un() && !u.Lm() && (u=null);if(u && w.j.lb.value !== q.Ya.Bf){y=w.lp();w.Sy.kpb(y,u);}u?(w.log.info("Activating",u),w.j.Vl.set(u.getState() === l.rD.Dz.YC?q.lf.Sd:q.lf.ie),w.Lk || w.j.fe("tt_start"),u.i5().then(w.oJ).catch(w.oJ)):w.j.Vl.set(q.lf.Sd);w.FE=u;w.Zy();};this.sync=function(){w.Lk && (w.nH.start(),w.j.lb.value !== q.Ya.Td && w.nH.stop());};this.Zy=function(){var u;w.BW && w.j.state.value === q.Rb.Sd && w.j.lb.value !== q.Ya.Bf && (w.Vg?u=w.nH.TEb():w.j.yb.value && (u=c.z0b[w.j.yb.value.getState()]));u && (0,p.Nc)(u.startTime) && w.j.At.value !== u && (w.C3a++,w.Cva+=w.nH.gYa() - u.startTime,w.wQa=Math.ceil(w.Cva / (w.C3a + 0)));w.j.At.set(u);};this.lp=function(){var u;u=w.j.kma();w.FE && w.FE.Os && (u+=w.FE.Os);return u;};this.fra=function(u){w.d5.add(u);w.BW && (w.fireEvent(c.Q9a,u),u && u.id && (w.Sy.Nbb(u.id),!1));w.log.trace("showsubtitle",w.A4(u));};this.iV=function(u){w.d5.delete(u) && w.BW && (w.fireEvent(c.C7a,u),w.log.trace("removesubtitle",w.A4(u)));};this.FJb=function(){w.d5.forEach(function(u){w.fireEvent(c.C7a,u);w.log.trace("hide subtitle",w.A4(u));});};this.$Xb=function(){w.d5.forEach(function(u){w.fireEvent(c.Q9a,u);w.log.trace("resume subtitle",w.A4(u));});};this.ph=function(){w.log.warn("imagesubs buffer underflow",w.j.yb.value.sg);w.j.Vl.set(q.lf.ie);};this.Tqa=function(){w.log.info("imagesubs buffering complete",w.j.yb.value.sg);w.j.Vl.set(q.lf.Sd);};this.r7=function(){w.Lk && w.Vg && w.Vg.$y(w.lp());};this.A4a=function(u){w.Lk && w.Vg && (w.Vg.pause(),w.Vg.rC(u.ep));};this.xv=function(){w.Lk && w.Vg && w.Vg.D6a();};this.x4a=function(u){w.Vg && w.Vg.Ej(u.ih,u.TL);};this.F4a=function(u){w.Vg && w.Vg.Ti(u.J,u.a4b);};this.WRb=function(){w.Lk=!0;(0,m.If)(function(){var u,y;(null === (u=w.FE) || void 0 === u?0:u.ak)?null === (y=w.Vg) || void 0 === y?void 0:y.$y(w.lp()):w.sync();w.Zy();});};this.TRb=function(){w.URa();w.nH.stop();w.Zy();w.og=!0;w.G8();};this.jra=function(u){(u=u.newValue) && (0,p.isArray)(u.blocks) && (w.Sy.Nbb.apply(w.Sy,ea(u.blocks.map(function(y){return y.id;}))),!1);};this.ZRb=function(u){w.U3b(u.newValue,u.oldValue);w.sync();w.Zy();};this.oJ=function(u){var y;if(!w.og){y=u.track;if(y === w.j.yb.value)try{w.Vg=y.Ema();y.ak?w.ipb(u):w.jpb(u);}catch(x){w.log.error("Error activating track:",x,y);return;}w.Lk || w.j.fe(u.ia?"tt_comp":"tt_err");u.ia?(d.config.r8a?setTimeout(function(){w.j.Vl.set(q.lf.Sd);},d.config.r8a):w.j.Vl.set(q.lf.Sd),y.ak || w.Zy()):u.aborted?w.log.warn("aborted timed text track loading"):d.config.VCb?w.j.dd(k.V.mhb,{Ib:u.track?u.track.sg:{}}):(w.log.error("ignore subtitle initialization error",u),w.j.Vl.set(q.lf.Sd));}};this.Cb=new h.Vi();this.Sy=new n.VKa((0,f.Gh)(t,"SubtitleTracker"),d.config.KBb);this.log=(0,f.Gh)(t,"TimedTextManager");this.nH=new g.oLa(this.lp,this.Zy);this.j.yb.addListener(this.Wk);d.config.sUb?(this.j.addEventListener(q.ea.Lk,this.WRb),this.Wk()):(this.j.Vl.set(q.lf.Sd),this.j.addEventListener(q.ea.Lk,function(){w.Lk=!0;w.Wk();}));this.j.lb.addListener(this.ZRb);this.j.addEventListener(q.ea.Lva,this.sync);this.j.At.addListener(this.jra);this.j.addEventListener(q.ea.og,this.TRb);}Object.defineProperty(b,"__esModule",{value:!0});b.mLa=void 0;l=a(271);g=a(542);h=a(71);d=a(18);f=a(8);n=a(1292);k=a(2);m=a(59);p=a(14);q=a(15);v=a(1293);c.prototype.K_b=function(){this.BW=!0;this.$Xb();this.Zy();};c.prototype.GJb=function(){this.BW=!1;this.FJb();this.Zy();};c.prototype.addEventListener=function(t,w,u){this.Cb.addListener(t,w,u);};c.prototype.removeEventListener=function(t,w){this.Cb.removeListener(t,w);};c.prototype.fireEvent=function(t,w,u){this.Cb.zc(t,w,u);};c.prototype.kga=function(t,w,u){var y,x;y=this;x=v.kLa.vxb(this.j,t,w,u);this.H_a(this.j.Xg,x);this.j.Vh.forEach(function(z){y.H_a(z.Xg,x);});this.j.yb.set(x);this.j.fireEvent(q.ea.Ct);};c.prototype.xUb=function(t){this.xta(t)?t.i5().then(function(){}):Promise.resolve();};c.prototype.pIb=function(t){return this.Sy.YHb(t);};c.prototype.Fma=function(t){return this.Sy.Fma(t);};c.prototype.nT=function(){var t,w;t=this.j.gX;w=d.config.yab.characterSize;w={size:d.config.Qva.characterSize || w};t && (w.visibility=t.Lma(),w.uR=t.Jma(),w.Rq=t.Kma());return w;};c.prototype.ZZb=function(t){d.config.Qva.characterSize=t;t=this.j.yb.value;this.xta(t) && !t.ak && t.i5().then(this.oJ).catch(this.oJ);};c.prototype.U3b=function(t,w){var u;t === q.Ya.Td || t == q.Ya.Rh?w !== q.Ya.Td && w !== q.Ya.Rh && ((w=this.j.yb.value) && !this.xta(w) || this.Sy.I3a(this.lp(),w || void 0,"presentingstate:" + t)):t !== q.Ya.Bf && t !== q.Ya.Up || this.Sy.eka(null !== (u=this.lp()) && void 0 !== u?u:void 0,"presentingstate:" + t);};c.prototype.G8=function(){this.K8=0;clearTimeout(this.dYb);};c.prototype.URa=function(){var t;this.Vg && this.Vg.stop();(null === (t=this.FE) || void 0 === t?0:t.ak) && this.Z1a("removeListener");this.Vg=void 0;};c.prototype.Z1a=function(t){this.Vg && (this.Vg[t]("showsubtitle",this.fra),this.Vg[t]("removesubtitle",this.iV),this.Vg[t]("underflow",this.ph),this.Vg[t]("bufferingComplete",this.Tqa),"addListener" === t?(this.j.addEventListener(q.ea.Fn,this.r7),this.j.addEventListener(q.ea.vj,this.A4a),this.j.addEventListener(q.ea.NG,this.xv),this.j.addEventListener(q.ea.a7,this.x4a),this.j.addEventListener(q.ea.twa,this.F4a)):(this.j.removeEventListener(q.ea.Fn,this.r7),this.j.removeEventListener(q.ea.vj,this.A4a),this.j.removeEventListener(q.ea.NG,this.xv),this.j.removeEventListener(q.ea.a7,this.x4a),this.j.removeEventListener(q.ea.twa,this.F4a)));};c.prototype.A4=function(t){return {currentPts:this.lp(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.ipb=function(t){var w,u;w=this;u=t.track;if(!u || !u.ak)throw Error("Not an image base subtitle");t.ia?(this.G8(),this.Z1a("addListener"),this.log.info("Activated",u),this.j.Uh.set(u),this.Lk?(0,m.If)(function(){w.Vg.$y(w.lp());}):this.Vg.pause()):this.g8a(u,t);};c.prototype.jpb=function(t){var w,u;w=t.track;u=t.ia;if(!w || w.ak)throw Error("Not a valid text track");u?(this.G8(),this.nH.n9a(this.Vg),this.log.info("Activated",w),this.j.Uh.set(w)):this.g8a(w,(0,k.ow)(t));this.Zy();};c.prototype.g8a=function(t,w){var u,y;u=this;y=this.K8 < d.config.WOb;y && (this.dYb=setTimeout(function(){u.K8++;t.i5().then(u.oJ).catch(u.oJ);},d.config.f2b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.ak)?" img subtitle":""),{retry:y},w,t);};c.prototype.xta=function(t){return !(!t || t.Un() && !t.Lm());};c.prototype.H_a=function(t,w){var u;u=t.findIndex(function(y){return y.$b >= w.$b;});-1 === u && (u=0);t.splice(u,0,w);};b.mLa=c;r={};c.z0b=(r[l.rD.Dz.LOADING]={pU:!0},r[l.rD.Dz.QO]={Ds:!0},r);c.Q9a="showsubtitle";c.C7a="removesubtitle";},function(r,b,a){var g;function c(h,d,f){this.start=h;this.track=d;this.xC=Array.isArray(f)?f:[];}function l(h,d){this.log=h;this.az=d;this.Lsa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;g=a(20);l.prototype.kpb=function(h,d){this.I3a(h,d,"activating");};l.prototype.Iyb=function(h){this.eka(h,"de-activating");};l.prototype.I3a=function(h,d,f){var n;this.Uj && this.eka(h,"close current for new");n=[];this.orphans.length && (n.push.apply(n,ea(this.orphans)),this.orphans=[]);this.Uj=new c(h,d,n);this.az && this.log.trace("new range: " + f,this.Uj);};l.prototype.eka=function(h,d){this.Uj && (this.Uj.end=h,this.Lsa.push(this.Uj),this.az && this.log.trace("end range: " + d,this.Uj || ({})),this.Uj=void 0);};l.prototype.Nbb=function(h){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.Uj?this.Uj.xC.push.apply(this.Uj.xC,ea(d)):this.orphans.push.apply(this.orphans,ea(d));};l.prototype.Fma=function(h){var d,f;d=this.Lsa.slice(0);if(this.Uj && "undefined" !== typeof h){f=new c(this.Uj.start,this.Uj.track,this.Uj.xC);f.end=h;d.push(f);}h=d.reduce(function(n,k){var m,p,q,v;if(!k.track)return n;p=k.track.Sb;q=k.track.Sn(k.start,k.end);if(void 0 === q || null === q)return n;v=new Set(k.xC);n[p]?(k=n[p],k.expected+=q,k.missed+=q - v.size):n[p]={dlid:p,bcp47:k.track.Re,profile:k.track.profile,expected:q,missed:q - v.size,startPts:null !== (m=k.track.gIb()) && void 0 !== m?m:0};return n;},{});h=Object.values(h);this.az && this.log.trace("subtitleqoe:",JSON.stringify(h,null,"\t"));return h;};l.prototype.YHb=function(h){var d,f,n,k;d=this.Lsa.slice(0);f=0;n=0;if(this.Uj && "undefined" != typeof h){k=new c(this.Uj.start,this.Uj.track,this.Uj.xC);k.end=h;d.push(k);}d.forEach(function(m){var p,q;if(m.track){if(m.end < m.start){(0,g.ma)(!1,"negative range");m.mC=0;return;}p=new Set(m.xC);q=m.track.Sn(m.start,m.end);m.A3=q;m.mC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else m.mC=100;p=m.end - m.start;f+=p;n+=m.mC * p;});k=f?Math.round(n / f):100;this.log.trace("qoe score " + k + ", at pts: " + h);this.az && (h=d.map(function(m){return {start:m.start,"end  ":m.end,duration:m.end - m.start,score:Math.round(m.mC),lang:m.track?m.track.Re:"none","actual  ":m.xC.join(" "),expected:m.A3};}),this.log.trace("score for each range: ",JSON.stringify(h,function(m,p){return p;}," ")));return k;};b.VKa=l;},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q,v,t,w,u,y){var x,z;q=f.rD.call(this,v,q,q,u,!0,{rf:"",YB:"content"},"1",[{yg:0,url:t,type:"unknown"}],"xx",w || q,n.Ao.nI,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=v;q.url=t;q.options=y;q.yr=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;r=a(64);l=a(18);g=a(58);h=a(8);d=a(42);f=a(271);n=a(126);k=a(104);m=a(192);p=a(15);(0,r.lIa)(r.Vca,function(q){var t;function v(w){var u;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == m.rz.Ikb){u=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});u.addEventListener("change",function(){var y,x,z;y=u.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.Vm.kga("nourl",x,{content:z.result});});}});u.click();}}t=(0,h.Gh)(q,"TimedTextCustomTrack");l.config.kja && (t.info("Loading url",{Url:l.config.kja}),q.Vm.kga(l.config.kja,"custom"));g.$d.addListener(g.ZA,v);q.addEventListener(p.ea.og,function(){g.$d.removeListener(g.ZA,v);});});ha(c,f.rD);c.vxb=function(q,v,t,w){var u;u="custom" + c.aLb++;return new c(u,q,v,t,-1,w);};c.prototype.zUa=function(){var q;q=this;return new Promise(function(v,t){var w,u;if(null === (w=q.options) || void 0 === w?0:w.content)v(q.options.content);else if(q.url){u={responseType:k.nna,url:q.url,track:q,qc:void 0,DA:"tt-" + q.Re,hr:"unknown"};q.j.Z4.download(u,function(y){y.ia?v(y.content):(y.reason="downloadfailed",y.url=u.url,y.track=q,t(y));});}});};b.kLa=c;c.aLb=0;},function(r,b,a){var l,g,h,d,f,n;function c(k){var m,p,q;m=this;this.j=k;this.FRb=function(){var v;h.$d.removeListener(h.L4,m.C4a);v=m.qp.Gm();v && v.parentNode && v.parentNode.removeChild(v);};this.jra=function(v){m.qp.AZb(v.newValue);};this.jSb=function(v){m.qp.GZb(v.newValue?v.newValue.A5:void 0);m.qp.A3b(m.EXa(v.newValue));};this.C4a=function(){m.qp.FM();};p=k.yb.value?k.yb.value.A5:void 0;q=this.EXa(k.yb.value);this.qp=new f.lLa(q,p);p=k.EC.value;(0,g.ma)(.1 < p.width / p.height);this.qp.qZb(p.width / p.height);k.ik.appendChild(this.qp.Gm());k.At.addListener(this.jra);k.yb.addListener(this.jSb);k.addEventListener(n.ea.og,this.FRb,l.kI);h.$d.addListener(h.L4,this.C4a);}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;l=a(16);g=a(20);h=a(58);d=a(18);f=a(547);n=a(15);c.prototype.Mua=function(k){this.qp.Mua(k);};c.prototype.Lma=function(){return this.qp.Lma();};c.prototype.Kua=function(k){this.qp.Kua(k);};c.prototype.Jma=function(){return this.qp.Jma();};c.prototype.Lua=function(k){this.qp.Lua(k);};c.prototype.Kma=function(){return this.qp.Kma();};c.prototype.EXa=function(k){var m;if(k && d.config.Y5 && 0 <= d.config.Y5.indexOf(k.Re)){m=Object.assign({},d.config.W9);Object.entries(m).forEach(function(p){var q;q=ma(p);p=q.next().value;q=q.next().value;m[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return d.config.W9;};b.nLa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.y6a=void 0;b.y6a=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u;function c(y,x){this.j=y;this.Ri=x;this.v1b=!1;this.log=(0,h.Gh)(this.j,"MediaAppendManager");this.Ob=this.j.Ob;this.$=this.Ob.$;this.HX=this.oR=!1;this.audio={type:g.Jj.audio,Wu:[],Jk:[],iM:!1};this.video={type:g.Jj.video,Wu:[],Jk:[],iM:!1};y={};this.tH=(y[u.v.Z]=this.video,y[u.v.ga]=this.audio,y);this.closed=!1;this.jy=l.config.jy;this.J6=l.config.J6;this.TB=this.j.Ua.Yf?l.config.mra:l.config.TB;this.xQa=!0;this.dc=h.Aa.get("Base64EncoderSymbol");this.Yka=!1;this.Fra=[];(0,f.ma)(this.jy > this.J6,"bad config");(0,f.ma)(this.jy > this.TB,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;l=a(18);g=a(103);h=a(8);d=a(2);f=a(20);n=a(22);k=a(16);m=a(15);p=a(171);q=a(3);v=a(56);t=a(40);w=a(1297);u=a(47);c.prototype.a4=function(){var z,A;function y(B,C){return x(B,C.A6);}function x(B,C){var D,E,G,F;G=!!C.response;F=C.response;if(C.Ad)return B + (F.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.AJ) && void 0 !== D?D:0) - (null !== (E=null === C || void 0 === C?void 0:C.CJ) && void 0 !== E?E:0);return (G?F.byteLength:C) + B;}z=this.tH[u.v.Z];A=this.tH[u.v.ga];return {videoToAppend:z.Jk.reduce(x,0),videoInBuffer:z.Wu.reduce(y,0),audioToAppend:A.Jk.reduce(x,0),audioInBuffer:A.Wu.reduce(y,0)};};c.prototype.VQb=function(){this.audio.oi && !this.audio.oi.mh() && (!1,this.audio.oi.MPa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.QZb=function(){this.audio.Sua=!0;this.video.Sua=!0;};c.prototype.XZb=function(y){y === u.v.ga?this.oR=!0:y === u.v.Z && (this.HX=!0);};c.prototype.mh=function(){var y,x;return !(null === (y=this.audio.oi) || void 0 === y || !y.mh()) || !(null === (x=this.video.oi) || void 0 === x || !x.mh());};c.prototype.j9=function(y){var x,z;null === (x=this.audio.oi) || void 0 === x?void 0:x.j9(y);null === (z=this.video.oi) || void 0 === z?void 0:z.j9(y);};c.prototype.Hqb=function(y){var x;y.mediaType === u.v.ga?this.oR=!1:y.mediaType === u.v.Z && (this.HX=!1);x=this.tH[y.mediaType];x?x.Jk.push(y):(0,f.ma)(!1);};c.prototype.Gqb=function(y,x,z){var A;A=this;x=this.UQa(y.mediaType,x,z);if(!this.Yka)if(y.mediaType === u.v.Z)(this.PUb(y),this.Yka=!0,this.Fra.forEach(function(B){return A.Qga(B);}),this.Fra=[]);else {this.Fra.push(x);return;}this.Qga(x);};c.prototype.Qga=function(y){var x;x=this.tH[y.mediaType];x?x.Jk.push(y):(0,f.ma)(!1);};c.prototype.UQa=function(y,x,z){return {mediaType:y,oB:!1,response:x,Hh:function(){return "header";},get Ad() {return !this.oB;},profile:z.profile};};c.prototype.PUb=function(y){(0,f.ma)(!!y.k$a,"startOfSegment properties need to be set before first header is appended");this.Yka || !l.config.YDb || !this.j.P4() && !this.j.vT() || y.k$a.Z_a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.dc.decode(k.uya),this.Qga(this.UQa(u.v.Z,y,{profile:t.H.PC})));};c.prototype.VZb=function(y){var x;x=this.tH[y.type];if(x)try{x.oi=y;}catch(z){this.dd(d.V.Dca,{za:(0,p.m4)(y.type),Ib:(0,n.te)(z)});}};c.prototype.close=function(){this.$=this.Ob=void 0;this.closed=!0;};c.prototype.dd=function(y,x,z){this.closed || this.j.dd(y,x,z);};c.prototype.tja=function(y){return this.qUa(this.audio,y,this.N2()) && this.qUa(this.video,y,this.N2());};c.prototype.N2=function(){return this.j.lb.value === m.Ya.Bf?this.TB:this.J6;};c.prototype.k2b=function(){var y,x;y=this.video.Jk.filter(function(z){return !z.Ad;}).reduce(function(z,A){return z + A.FA;},0);x=this.audio.Jk.filter(function(z){return !z.Ad;}).reduce(function(z,A){return z + A.FA;},0);return Math.min(y,x);};c.prototype.qUa=function(y,x,z){var A;A=y.uja;A=A && A.A6;return !y.oi || 0 === y.Jk.length && (y.type === g.Jj.audio && this.oR || y.type === g.Jj.video && this.HX)?!0:A && A.Cy - x >= z || !1;};c.prototype.Zab=function(y){this.v1b || (this.Yab(this.audio,y),this.Yab(this.video,y));this.closed || this.ARa();};c.prototype.ARa=function(){var y,x,z,A,B,C;A=!this.audio.oi || 0 !== this.audio.Wu.length;B=0 === this.video.Jk.length && this.HX;C=!this.video.oi || 0 !== this.video.Wu.length;!(0 === this.audio.Jk.length && this.oR && C || B && A) || (null === (y=this.audio.oi) || void 0 === y?0:y.mh()) || (null === (x=this.video.oi) || void 0 === x?0:x.mh()) || this.dka || !(this.$.readyState > v.cm.GO.HAVE_NOTHING) || this.Ri.D5 || (this.dka=!0,null === (z=this.Ob) || void 0 === z?void 0:z.endOfStream());};c.prototype.Yab=function(y,x){var z,A,B,C;if(!this.closed && y.oi){A=y.oi;B=y.Wu;!A.mh() && 0 < B.length && (y.uja=B[B.length - 1]);if(y.Sua){if(A.mh())return;y.Sua=!1;C=null === (z=this.Ob) || void 0 === z?void 0:z.fYa().Y5a(q.fm);C && 0 < C && A.remove(0,C);}for(z=y.Jk[0];z && z.response && (z.Ad || z.CG - x <= this.jy);){if((this.dka=!1,this.X2b(z)))(y.Jk.shift(),z=y.Jk[0]);else break;}!A.mh() && 0 < B.length && (y.uja=B[B.length - 1]);}};c.prototype.X2b=function(y){var x,z,A;!1;(0,f.ma)(y && !!y.response);x=y.response;z=y.mediaType;A=this.tH[z];if(!this.closed && A.oi && !A.oi.mh()){try{y.Ad && y.profile && A.oi.Ttb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.oi.MPa(x,y);y.Ad || A.Wu.push(this.wxb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.P2=this.j.P2?this.j.P2 + 1:1,this.xQa=!1,A.iM=!0):(this.log.error("Exception while appending media",y,B),this.dd("CodecSwitchingError" === B.name?d.V.TGa:d.V.vjb,(0,p.m4)(z)));return;}return !0;}};c.prototype.pxb=function(y){var x;if(w.Fda[y.Wb])return w.Fda[y.Wb];x=this.j.qZa(y.Rc);x || (this.log.warn("Could not find CDN",{cdnId:y.Rc}),x={id:y.Rc,I1a:y.location});return x;};c.prototype.hTa=function(y){var x,z;x=y.Wb;if(w.Gda[x])return w.Gda[x];y.mediaType === u.v.ga?z=this.j.mZa(x):y.mediaType === u.v.Z && (z=this.j.CZa(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.wxb=function(y){var x;x=this.hTa(y);return {A6:y,stream:x,JJ:{startTime:Math.floor(y.CG),endTime:Math.floor(y.Cy)},qc:this.pxb(y)};};c.prototype.cia=function(y){this.FRa(y,u.v.ga);this.FRa(y,u.v.Z);};c.prototype.FRa=function(y,x){var z,A,B,C,D,E,G,F,H;z=this;A=y;this.xQa && (A-=l.config.zta);B=this.tH[x];C=B.Wu;G=!1;C.some(function(K,O){var I;I=K.A6;if(y < I.CG)return ((0,f.ma)(!1,"decoder content does not contain media time"),!0);A >= I.Cy && (D=O);if(y < I.Cy)return (E=O,O=x === u.v.ga?z.j.gf:z.j.Ld,K !== O.value && (O.set(K),G=!0),!0);});if((B.iM || G) && void 0 !== D && !this.dka){if(D + 1 === E){if(0 === D)return;D--;}F=C[D].A6.Cy - 1;if(0 < F){H=B.oi;H && !H.mh()?(H.remove(0,F / k.Jr),B.iM=!1,C.splice(0,D + 1)):(B.iM=!0,!1);}}};c.prototype.W7a=function(){!1;[this.audio,this.video].forEach(function(y){y.Wu=[];y.uja=void 0;y.Jk=[];});this.HX=this.oR=!1;this.j.fireEvent(m.ea.v6);};c.prototype.Nma=function(){return [this.audio,this.video].filter(function(y){return y.oi;});};c.prototype.rFb=function(){var y,x;if(this.mh())(0,f.ma)(!1,"should not be busy while checking buffer ranges");else {y=this.Nma().map(function(z){var A,B,C,D,E;D=z.Jk.filter(function(G){return G.oB;});E=z.oi.buffered();z=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.CG;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.Cy) && void 0 !== C?C:E;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ea(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ea(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Jb)(x),end:(0,q.Jb)(y)};}}};c.prototype.skip=function(y){(0,f.ma)(!this.mh(),"should not be busy while skipping");this.Nma().forEach(function(x){x.iM=!0;});this.cia(y);this.Nma().forEach(function(x){0 < x.Wu.length || (x.Jk=x.Jk.filter(function(z){return z.Ad || z.Cy > y?!0:!1;}));});};b.lFa=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Gda=b.Fda=void 0;r=a(36);a={};b.Fda=(a[r.gn]={id:-1,name:"hardcoded",$b:1,type:"hardcoded",I1a:"-1",NLb:!1,location:{id:"-1",$b:1,level:100,weight:1}},a);a={};b.Gda=(a[r.gn]={track:{type:"padding",trackId:"padding",uh:"padding",rf:"padding",YB:"other",Re:"padding",gC:"padding",GF:"padding",sg:{}},type:"padding",Sb:"-1",bitrate:1,zb:100,Ue:"unknown",size:1,Mja:{},sg:{},Bk:"",framerate:0,ai:!1,ri:[],height:1,width:1},a);},function(r,b){function a(c,l){this.j=l;this.nG=!0;this.c$=!1;this.$=c;}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;a.prototype.$qa=function(){this.nG && (this.nG=!1,this.j.paused.set(!1));};a.prototype.Zqa=function(){this.nG || (this.nG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.nG=!0,null === (c=this.$) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.c$?(this.c$=!0,Promise.resolve(null === (l=this.$) || void 0 === l?void 0:l.play()).then(function(){c.c$=!1;}).catch(function(g){var h;c.c$=!1;c.nG=!(null === (h=c.$) || void 0 === h || !h.paused);throw g;})):Promise.resolve();};a.prototype.close=function(){this.$=void 0;};Sa.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.nG;}}});b.TLa=a;},function(r,b){function a(l,g,h){var d,f,n,k;d=[];l.forEach(function(m){-1 == d.indexOf(m.Ue) && d.push(m.Ue);});f=null;n=null;g.forEach(function(m){null === f?n=f=m.bitrate:n < m.bitrate?n=m.bitrate:f > m.bitrate && (f=m.bitrate);});k=[];d.forEach(function(m){var p;p={ranges:[],profile:m};f && n && (p.ranges.push({min:f,max:n}),h && (p.disallowed=h.filter(function(q){return q.stream.Ue === m;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.b3};})),k.push(p));});return k;}function c(l,g){var h;h=void 0;return {OVa:l.filter(function(d){var f;f=g(d);f && (h=h || [],h.push({stream:d,b3:f}));return !f;}),kAb:h};}Object.defineProperty(b,"__esModule",{value:!0});b.jAb=b.rs=b.pyb=b.dZa=void 0;b.dZa=function(l,g){g=c(l,g);return a(l,g.OVa,g.kAb);};b.pyb=a;b.rs=c;b.jAb=function(l){if(l.ai && l.lower && 1080 < l.height)return ["Prefetch UHD"];};},function(r,b,a){var l,g;function c(h,d){h=l.Fb.call(this,h) || this;h.Mpa=d;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;l=a(70);g=a(76);ha(c,l.Fb);c.prototype.set=function(h){l.Fb.prototype.set.call(this,(0,g.Aw)(h,0,this.Mpa));};b.uIa=c;},function(r,b,a){var g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x,z){var A;A=this;this.Qg=t;this.config=u;this.tb=y;this.debug=x;this.nE={};this.sUa=!1;this.rR={};this.Vna=0;this.l4=function(B){var C,D,E;C=B.stream;if(C){B=C.Sb;D=C.bitrate;E=C.zb;}else B=B.track.Sb;return {key:B + "$" + D + "$" + E,Sb:B,bitrate:D,zb:E};};this.tXa=function(B){var C,D,E;D=A.l4(B);E=null === (C=B.qc) || void 0 === C?void 0:C.id;B=B.track.rf;return Object.assign({},D,{key:D.key + "$" + E + "$" + B,sm:E,rf:B});};this.pFb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Sb;C=null === C || void 0 === C?void 0:C.bitrate;return {key:B + "$" + C,Sb:null !== B && void 0 !== B?B:"",NL:C};};this.NIb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Sb;C=null === C || void 0 === C?void 0:C.zb;return {key:B + "$" + C,Sb:null !== B && void 0 !== B?B:"",NL:C};};this.log=w.Sa("PlayTimeTracker");this.T7=z(t);this.mt=z(t);this.Ura=z(t);this.startTime=this.Qg.mediaTime.value;this.h6=this.config().dpb;this.HH();this.nE.abrdel=0;this.h6.forEach(function(B){B="abrdel" + B;A.rR[B]=0;A.nE[B]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;r=a(0);g=a(1);h=a(6);d=a(11);f=a(78);a(3);n=a(25);k=a(108);m=a(16);p=a(22);q=a(554);v=a(189);l.prototype.encode=function(t){return {downloadableId:t.Sb,correlationId:t.rf,bitrate:t.bitrate,vmaf:t.zb,duration:t.duration,metric:t.NL,cdnId:t.sm};};l.prototype.decode=function(t){return {Sb:t.downloadableId,rf:t.correlationId,bitrate:t.bitrate,zb:t.vmaf,duration:t.duration,NL:t.metric,sm:t.cdnId};};c.prototype.mp=function(t){t=void 0 === t?"content":t;this.tC(this.Qg.mediaTime.value);return Math.floor(this.mt.mp(function(w){return w.track.YB === t;}));};c.prototype.AXa=function(t){this.tC(this.Qg.mediaTime.value);return Math.floor(this.mt.mp(t));};c.prototype.oT=function(t){var w;t=void 0 === t?"content":t;this.tC(this.Qg.mediaTime.value);w=this.mt.oT(function(u){return u.track.YB === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.hFb=function(){this.tC(this.Qg.mediaTime.value);return {audio:this.ZS(this.T7,this.tXa),video:this.ZS(this.mt,this.tXa)};};c.prototype.zHb=function(){var t,w,u;t=this.mp("content");w=this.mp("ads");u=this.mp("other");t={total:t,totalAdDuration:w,totalOtherDuration:u,totalCombinedDuration:t + w + u,totalContentTime:this.oT("content"),totalStartSlateDuration:this.AXa(function(y){return !0 === y.coa;}),totalLiveEdgeDuration:this.AXa(function(y){return !0 === y.nB;}),audio:this.ZS(this.T7,this.l4),video:this.ZS(this.mt,this.l4),timedtext:this.ZS(this.Ura,this.l4)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.xla=function(){var t,w;this.tC(this.Qg.mediaTime.value);t=this.mt.sla(this.pFb);try{w=this.RWa(t);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.nE.abrdel=Math.round(w);return this.nE.abrdel;};c.prototype.SWa=function(){var t,w;this.tC(this.Qg.mediaTime.value);t=this.mt.sla(this.NIb);try{w=this.RWa(t);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.QWa=function(){var t,w;t=this;if(!this.sUa){w=this.mp();this.h6.forEach(function(u){var y,x,z;if(0 === t.rR["abrdel" + u] && w > u * m.Jr){y=0;x=0;z=0;t.mt.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > u * m.Jr;});y && (t.rR["abrdel" + u]=Math.round((y - z * (x - u * m.Jr)) / (u * m.Jr)));}});0 !== this.rR["abrdel" + this.h6[this.h6.length - 1]] && (this.sUa=!0);(0,p.Wf)(this.rR,function(u,y){t.nE[u]=0 === y?t.nE.abrdel:y;});}return this.nE;};c.prototype.Ipb=function(t){this.Vna+=t;};c.prototype.W4=function(){return this.mt.W4();};c.prototype.HH=function(){var t;t=this;this.Qg.gf.addListener(function(w){t.UJ=t.uRa(t.UJ,t.T7,w.newValue);});this.Qg.Ld.addListener(function(w){t.WJ=t.uRa(t.WJ,t.mt,w.newValue);});this.Qg.playbackRate.addListener(function(w){t.tC(t.Qg.mediaTime.value,w.oldValue);});this.Qg.Uh.addListener(this.uRb.bind(this));};c.prototype.Jqa=function(t,w){this.tC(t);this.startTime=w;this.WJ=this.UJ=void 0;this.VJ && (this.VJ.startTime=this.startTime);!1;};c.prototype.uRb=function(t){this.Ura.pf(this.VJ,this.Qg.mediaTime.value);this.VJ=(t=t.newValue)?{track:t,startTime:this.Qg.mediaTime.value,endTime:f.tw}:void 0;};c.prototype.tC=function(t,w){w=void 0 === w?this.Qg.playbackRate.value:w;t && this.UJ && this.WJ && (t=Math.min(t,this.UJ.endTime,this.WJ.endTime),this.T7.pf(this.UJ,t,w),this.UJ.startTime=t,this.mt.pf(this.WJ,t,w),this.WJ.startTime=t,this.VJ && (this.Ura.pf(this.VJ,t,w),this.VJ.startTime=t),this.startTime=t,!1);};c.prototype.uRa=function(t,w,u){var y;t && w.pf(t,Math.min(t.endTime,this.Qg.mediaTime.value));if(u && u.stream){t=u.JJ;w=u.stream;y=this.Qg.Zc;return {qc:u.qc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,coa:y.ha?y.UA(t.endTime) === v.Ir.uP:void 0,nB:y.ha?y.xT():void 0};}};c.prototype.ZS=function(t,w){return t.sla(w,"content").map(function(u){return new l().encode(u);});};c.prototype.RWa=function(t){var w,u,y;w=this;u=0;t.forEach(function(x){if(w.tb.qg(x.duration) && w.tb.qg(x.NL))u+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;y=0;t.forEach(function(x){y+=x.NL * x.duration / u;});return y;};a=c;a=r.__decorate([(0,g.U)(),r.__param(1,(0,g.l)(h.Va)),r.__param(2,(0,g.l)(d.ac)),r.__param(3,(0,g.l)(n.Qf)),r.__param(4,(0,g.l)(k.gw)),r.__param(5,(0,g.l)(q.bda))],a);b.gIa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fIa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var l,g,h;function c(d,f,n,k,m,p,q,v,t,w,u,y,x,z){this.index=d;this.O=f;this.J=n;this.Ua=k;this.ja=m;this.Lh=p;this.P1a=q;this.yvb=t;this.b3a=u;this.Ef=x;this.jc=new l.Fb(null);this.Fg=new l.Fb(null);this.yb=new l.Fb(null);this.Uh=new l.Fb(null);this.At=new l.Fb(void 0);this.Ke=new l.Fb(null);this.Jg=new l.Fb(null);this.gf=new l.Fb(null);this.Ld=new l.Fb(null);this.qc=[new l.Fb(null),new l.Fb(null)];this.mediaTime=new l.Fb(void 0);this.playbackRate=new l.Fb(1);this.Yo=new l.Fb(null);this.background=new l.Fb(!1);this.sE=this.rE="notcached";this.a3=!1;v && (this.Ke.set(v.Ke.value),this.Jg.set(v.Jg.value));this.Kk=w(this);this.Ll=this.b3a.LWb(this.ja,this.Lh);this.Zc=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;l=a(70);g=a(3);h=a(20);c.prototype.fe=function(d){this.Ll.Ro(d);};c.prototype.Tx=function(d){var f;f=this;Object.entries(d).forEach(function(n){var k;k=ma(n);n=k.next().value;k=k.next().value;f.Ll.Ro(n,(0,g.Jb)(k - f.Lh.ca(g.na)));});};c.prototype.g7=function(){this.b3a.fXb(this.ja);};Sa.Object.defineProperties(c.prototype,{od:{configurable:!0,enumerable:!0,get:function(){return this.Ua.od;}},o$:{configurable:!0,enumerable:!0,get:function(){return this.Ua.o$;}},Bk:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.Bk;}},Vh:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.vc && this.vc.Vh) && void 0 !== d?d:[];}},Xv:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.vc && this.vc.Xv) && void 0 !== d?d:[];}},Vy:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.vc && this.vc.Vy) && void 0 !== d?d:[];}},Xg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.vc && this.vc.Xg) && void 0 !== d?d:[];}},xf:{configurable:!0,enumerable:!0,get:function(){return this.vc && this.vc.xf;}},NF:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.vc && this.vc.NF) && void 0 !== d?d:!1;}},pt:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.vc && this.vc.pt) && void 0 !== d?d:[];}},ng:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.vc && this.vc.ng) && void 0 !== d?d:[];}},xx:{configurable:!0,enumerable:!0,get:function(){var d,f,n,k,m;return this.Zc.ha?((0,h.ma)(void 0 === this.GI || Infinity === this.GI.ca(g.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.Zc.ha + ", contentDuration:" + (null === (d=this.GI) || void 0 === d?void 0:d.display)),(0,g.Jb)(Math.max(null !== (f=this.Zc.ev()) && void 0 !== f?f:0,null !== (n=this.mediaTime.value) && void 0 !== n?n:0))):this.GI && 0 < this.GI.ca(g.na)?this.GI:(0,g.Jb)(null !== (m=null === (k=this.X) || void 0 === k?void 0:k.Ha.duration) && void 0 !== m?m:0);},set:function(d){this.GI=d;}},I2a:{configurable:!0,enumerable:!0,get:function(){var d;return this.Zc.ha?((0,h.ma)(void 0 === this.F0 || Infinity === this.F0.ca(g.na),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.Zc.ha + ", maxSeekPts:" + (null === (d=this.F0) || void 0 === d?void 0:d.display)),(0,g.Jb)(this.Zc.UGb())):this.F0;},set:function(d){this.F0=d;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.Ua.Hj || 0;}},QR:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.LR?this.LR:void 0 === this.mediaTime.value?null:this.yvb(this.mediaTime.value,this.J);}},rf:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.X) || void 0 === d?void 0:d.Ha.tA) || void 0 === f?void 0:f.Ap;}},TG:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.X) || void 0 === d?void 0:d.Ha.tA) || void 0 === f?void 0:f.TG;}},Oc:{configurable:!0,enumerable:!0,get:function(){return this.Ll.Oc;}}});b.vIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BLa="TrickPlayParserSymbol";},function(r,b,a){var l,g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;r=a(0);g=a(164);a=a(1);c.prototype.parse=function(d){var f,n;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);n=new g.wO(f);d=this.WSb(n);f=this.XSb(n,f,d);return {header:d,images:f};};c.prototype.WSb=function(d){var f,n,k,m;if(d.qma() < this.GXb())throw Error("array buffer too short");l.PEa.forEach(function(p){if(p != d.Ey())throw Error("BIF has invalid magic.");});f=d.yM();if(f > l.VERSION)throw Error("BIF version in unsupported");n=d.yM();if(0 == n)throw Error("BIF has no frames.");k=d.yM();m=d.uj(l.vJa);return {version:f,cRb:n,Aab:k,JXb:m};};c.prototype.XSb=function(d,f,n){var p,q;for(var k=[],m=0;m <= n.cRb;m++){p={timestamp:d.yM(),offset:d.yM()};void 0 != q && k.push(f.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.GXb=function(){return l.PEa.length + 4 + 4 + 4 + l.vJa;};h=l=c;h.PEa=[137,66,73,70,13,10,26,10];h.VERSION=0;h.vJa=44;h=l=r.__decorate([(0,a.U)()],h);b.ALa=h;},function(r,b,a){var l,g,h,d;function c(f,n,k){this.config=f;this.j=n;this.tf=k;this.wy=void 0;this.K7=!1;this.e1a=0;this.log=this.tf.Sa();}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;l=a(15);g=a(3);h=a(76);d=a(14);c.prototype.eHb=function(f,n,k,m,p){var q,v,t,w;k=void 0 === k?this.j.J:k;m=void 0 === m?!1:m;q=n === l.Sc.sI;v=this.rtb(q?f:this.wub(f,k),n,m,k);m=this.j.ab;q?(f=v,v=m.Ria(v)):f=m.Tia(k,v);n === l.Sc.Hr && (this.j.KQa=v);p=this.Wh(f,n,p);t=(q=q || p)?f:v;if(this.j.Ep){w=this.j.Ua.Yf?this.config().mra:this.config().TB;this.j.rZa(t,w) || n !== l.Sc.Gw && n !== l.Sc.PO || (t=this.j.Ep.ca(g.na) - w - 1E3,q?(f=t,v=m.Ria(t)):(f=m.Tia(k,t),v=t));}return {Z6:t,ep:v,VTb:f,Wh:p};};c.prototype.rtb=function(f,n,k,m){this.WLb() || k?f=Math.round(f):(k=this.j.ab.ttb(f,m),f=(0,d.sb)(k)?k:Math.round(f));this.j.Ua.Yf && (f=this.gEb(f));this.config().F8a && 0 !== f && n !== l.Sc.Hr && (f+=this.config().F8a);return f;};c.prototype.Wh=function(f,n,k){if(this.config().iAb || n === l.Sc.Hr || n === l.Sc.G_ || n === l.Sc.LY || !k || f < k.start.ca(g.na) || f >= k.end.ca(g.na))return !1;n=this.j.ab;return (null === n || void 0 === n?void 0:n.Ah) && n.Wh(f) || !1;};c.prototype.WLb=function(){return this.j.Ua.Yf?!0:"boolean" === typeof this.j.Ua.EV?this.j.Ua.EV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().EV && this.config().tUb:this.config().EV;};c.prototype.wub=function(f,n){var k;k=this.j.Zh(n);n=k.xx;k=k.I2a;!1;n=k || n;k=this.j.Zc.ha && !this.j.Zc.B5()?0:this.config().t5b;n=Math.max(0,n.ca(g.na) - k);return (0,h.Aw)(f,0,n);};c.prototype.gEb=function(f){var n,k,m;n=this.j.TS();if(Object.values(n).find(function(p){var q;q=p.qa;q=f < (null !== q && void 0 !== q?q:Infinity);return p.sa <= f && q;}))return (!1,f);m=f;Object.entries(n).forEach(function(p){var q;p=ma(p);p.next();p=p.next().value.sa;q=p - f;0 < q && (void 0 === k || q < k) && (k=q,m=p);});!1;return m;};Sa.Object.defineProperties(c.prototype,{D5:{configurable:!0,enumerable:!0,get:function(){return this.K7 || !!this.wy;}}});b.hKa=c;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u;function c(y,x,z,A,B,C){var D;D=this;this.j=y;this.Ak=x;this.uX=z;this.vh=A;this.GW=B;this.Am=C;this.zTa={};this.update=function(){var E;if(D.oo.selectionStart == D.oo.selectionEnd){E="";D.aT().forEach(function(G){E=E?E + "\n":"";Object.entries(G).forEach(function(F){var H;H=ma(F);F=H.next().value;H=H.next().value;E+=F + ": " + H + "\n";});});D.oo.style.fontSize=(0,h.Aw)((0,f.gI)(D.element.clientHeight / 60),8,18) + "px";D.oo.value=E;}};this.LRb=function(){var E,G;if(D.j.ee){G=D.j.ee.mF();G && (D.fja=G - (null !== (E=D.Jab) && void 0 !== E?E:0),D.Jab=G,D.YL());}};this.YL=function(){D.uX.Qk(D.update);};this.onkeydown=function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == m.rz.$eb || E.keyCode == m.rz.Q) && D.toggle();};this.D5a=[y.mediaTime,y.qc[q.v.ga],y.qc[q.v.Z],y.gf,y.Ld,y.Jg,y.Ke,y.Uh,y.state,y.jq,y.lb,y.volume,y.muted];this.element=this.vh.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.oo=this.vh.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.oo);this.controls=this.vh.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);x=this.vh.createElement("button",void 0,"X");x.addEventListener("click",function(){return D.hv();},!1);this.controls.appendChild(x);g.$d.addListener(g.ZA,this.onkeydown);y.addEventListener(k.ea.og,function(){g.$d.removeListener(g.ZA,D.onkeydown);D.hv();});}Object.defineProperty(b,"__esModule",{value:!0});b.rIa=void 0;l=a(64);g=a(58);h=a(76);d=a(289);f=a(12);n=a(14);k=a(15);m=a(192);p=a(3);q=a(47);r={};v=(r[k.Rb.iI]="Not Loaded",r[k.Rb.LOADING]="Loading",r[k.Rb.Sd]="Normal",r[k.Rb.CLOSING]="Closing",r[k.Rb.CLOSED]="Closed",r);r={};t=(r[k.lf.Sd]="Normal",r[k.lf.ie]="Pre-buffering",r[k.lf.WJa]="Network stalled",r);r={};w=(r[k.Ya.Bf]="Waiting for decoder",r[k.Ya.Td]="Playing",r[k.Ya.Rh]="Paused",r[k.Ya.Up]="Media ended",r);u=[k.ea.v6];c.prototype.xZb=function(y){this.zTa.DFR=y;};c.prototype.show=function(){var y;y=this;this.visible || (this.NT=mb.setInterval(this.LRb,1E3),document.body.appendChild(this.element),this.D5a.forEach(function(x){x.addListener(y.YL);}),u.forEach(function(x){y.j.addEventListener(x,y.YL);}),this.visible=!0,this.Am.TW().then(function(x){y.cna=x;y.YL();}));this.update();};c.prototype.hv=function(){var y;y=this;this.visible && (clearInterval(this.NT),this.Jab=this.fja=void 0,document.body.removeChild(this.element),this.D5a.forEach(function(x){x.removeListener(y.YL);}),u.forEach(function(x){y.j.removeEventListener(x,y.YL);}),this.uX.Qk(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.hv():this.show();};c.prototype.aT=function(){var y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T,aa,Q,M,S,ra,oa,Ca,Ua,Pa,Ya,ob,pb,Db,Na,ab,fb,ib,kb,Ab,Bb,Hb,Kb,Qb;L=[];R=this.Ak();L.push({Version:"6.0039.950.911",Esn:R?R.Wj:"UNKNOWN",PBCID:this.j.rf,UserAgent:f.fD});try{ka=this.j.mediaTime.value;la={MovieId:this.j.O,PackageId:null === (x=null === (y=this.j.X) || void 0 === y?void 0:y.Ha) || void 0 === x?void 0:x.Rm,Xid:this.j.ja + " (" + l.jn.map(function(Tb){return Tb.ja;}).join(", ") + ")",Position:(0,h.bh)(ka),Duration:(0,h.bh)(this.j.xx.ca(p.na)),PlayerDuration:(0,h.bh)(this.j.Ep.ca(p.na)),Volume:(0,f.dn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.lma()};if(this.j.Ua.Yf || this.j.Ua.lL)la["Segment Position"]=(0,h.bh)(this.j.VA());this.j.Zc.ha && (la["Is Live"]="true",la["Live Event Slate"]=this.j.Zc.UA(),la["Is At Live Edge"]="" + this.j.Zc.nB(),la["Adjusted Live Edge Target"]=(0,h.bh)(this.j.Zc.ev()),la["Live Adjusted Duration"]=(0,h.bh)(this.j.Zc.WXa()),la["Live Adjusted Playback Position"]=(0,h.bh)(this.j.Zc.G4()),la["Live Event Time Playback Position"]=this.j.Zc.dGb());L.push(la);}catch(Tb){}try{L.push({"Player state":v[this.j.state.value],"Buffering state":t[this.j.jq.value],"Rendering state":w[this.j.lb.value]});}catch(Tb){}try{X=this.j.Iwa() + this.j.cha();da=this.j.gf.value;ta=null === da || void 0 === da?void 0:da.stream;Ba=this.j.Ld.value;Ja=null === Ba || void 0 === Ba?void 0:Ba.stream;Va=null !== (z=null === ta || void 0 === ta?void 0:ta.bitrate) && void 0 !== z?z:"?";Ta=Ja?Ja.bitrate + " (" + Ja.width + "x" + Ja.height + ")":"?";T=null !== (A=null === ta || void 0 === ta?void 0:ta.Sb) && void 0 !== A?A:"?";aa=null !== (B=null === Ja || void 0 === Ja?void 0:Ja.Sb) && void 0 !== B?B:"?";Q=null !== (C=null === Ja || void 0 === Ja?void 0:Ja.zb) && void 0 !== C?C:"?";M=null !== (E=null === (D=this.j.Ke.value) || void 0 === D?void 0:D.zb) && void 0 !== E?E:"?";S=null !== (F=null === (G=this.j.Jg.value) || void 0 === G?void 0:G.bitrate) && void 0 !== F?F:"?";ra=null !== (K=null === (H=this.j.Ke.value) || void 0 === H?void 0:H.bitrate) && void 0 !== K?K:"?";oa=this.j.qc[q.v.Z].value;Ca=this.j.qc[q.v.ga].value;L.push({"Playing bitrate (a/v)":Va + " / " + Ta,"Playing/Buffering vmaf":Q + "/" + M,"Buffering bitrate (a/v)":S + " / " + ra,"Buffer size in Bytes (a/v)":this.j.cha() + " / " + this.j.Iwa(),"Buffer size in Bytes":"" + X,"Buffer size in Seconds (a/v)":(0,h.bh)(this.j.jR()) + " / " + (0,h.bh)(this.j.BX()),"Downloadables (a/v)":T + " / " + aa,"Current CDN (a/v)":(Ca?Ca.name + ", Id: " + Ca.id:"?") + " / " + (oa?oa.name + ", Id: " + oa.id:"?")});}catch(Tb){}try{Ua=this.j.gf.value;y={};if(Ua && Ua.stream){Pa=Ua.stream;Ya=Pa.track;ob=this.GW.B2(Ya.streams);pb=Pa.Ue;Db=(/xheaac/).test(pb)?"xhe-aac":(/heaac/).test(pb)?"he-aac":(/ddplus/).test(pb)?"ddplus":"unknown";(/atmos/).test(pb) && (Db+=", atmos");y["Audio Track"]=Ya.Re + ", Id: " + Ya.trackId + ", Channels: " + Ya.channels + ", Codec: " + ob + " (" + Db + ")";y["Audio Tags"]=null === (O=Ua.stream) || void 0 === O?void 0:O.ri.toString();}Na=this.j.Ld.value;if(Na && Na.stream){ab=Na.stream;fb=this.GW.I2(this.j.Fg.value?this.j.Fg.value.streams:[]);ib=ab.Ue;kb=(/hevc/).test(ib)?"hevc":(/vp9/).test(ib)?"vp9":(/h264hpl/).test(ib)?"avchigh":(/av1/).test(ib)?"av1":"avc";(/hdr/).test(ib) && (kb+=", hdr");(/dv/).test(ib) && (kb+=", dv");(/prk/).test(ib) && (kb+=", prk");y["Video Track"]="Codec: " + fb + " (" + kb + ")";y["Video Tags"]=null === (I=Na.stream) || void 0 === I?void 0:I.ri.toString();}Ab=this.j.Uh.value;y["Timed Text Track"]=Ab?Ab.Re + ", Profile: " + Ab.profile + ", Id: " + Ab.trackId:"none";L.push(y);}catch(Tb){}try{Bb=this.j.ee;Hb=this.j.Ke.value?this.j.Ke.value.framerate:0;Kb=a(555).X1a;L.push({Framerate:Hb.toFixed(3),"Current Dropped Frames":(0,n.sb)(this.fja)?this.fja:"","Total Frames":Bb.dv(),"Total Dropped Frames":Bb.mF(),"Total Corrupted Frames":Bb.XS(),"Main Thread stall/sec":Kb?Kb.tGb().join(" "):"DISABLED",KeySystem:null === (P=this.j.Zd) || void 0 === P?void 0:P.MK(),KeyStatus:null === (J=null === (N=this.j.Zd) || void 0 === N?void 0:N.QXa) || void 0 === J?void 0:J.call(N),VideoDiag:(0,d.wpa)(this.j.J4()),"HDR support":this.cna?this.cna.result + " (" + this.cna.reason + ")":"unknown"});}catch(Tb){}try{L.push({Throughput:this.j.ub + " kbps"});}catch(Tb){}Qb=void 0;try{Object.entries(this.zTa).forEach(function(Tb){var Fb;Fb=ma(Tb);Tb=Fb.next().value;Fb=Fb.next().value;Qb=Qb || ({});Qb[Tb]=JSON.stringify(Fb);});Qb && L.push(Qb);}catch(Tb){}return L;};b.rIa=c;},function(r,b,a){var g,h,d,f;function c(n,k,m,p){this.ja=n;this.CXb=k;this.la=m;this.Sf=p;this.Oc={};}function l(n,k){this.tf=n;this.Sf=k;this.ud={};this.la=n.Sa("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Jjb=b.tIa=void 0;r=a(0);g=a(1);h=a(6);d=a(17);f=a(3);l.prototype.LWb=function(n,k){this.ud[n] && this.la.warn("registerPlayback: xid " + n + " already registered, overriding");k=(k?k:this.Sf.Db()).ca(f.na);this.la.trace("registerPlayback: xid " + n + " at " + k);this.ud[n]=new c(n,k,this.la,this.Sf);return this.ud[n];};l.prototype.AHb=function(n){this.ud[n] || this.la.warn("getPlaybackMilestones: xid " + n + " is not registered");return this.ud[n];};l.prototype.fXb=function(n){this.la.trace("removePlayback: xid " + n);delete this.ud[n];};a=l;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.Va)),r.__param(1,(0,g.l)(d.Gc))],a);b.tIa=a;c.prototype.Ro=function(n,k){k=k?k.ca(f.na):this.Sf.Db().ca(f.na) - this.CXb;this.la.trace("addMilestone: xid " + this.ja + " " + n + " at " + k);this.Oc[n]=k;};b.Jjb=c;},function(r,b,a){var l,g,h,d;function c(f){this.Ea=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(0);l=a(15);g=a(1);h=a(17);d=a(3);c.prototype.vj=function(f){f.cause !== l.Sc.Hr && (this.trace.unshift({time:this.Ea.Db(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.SYa=function(){var f,n;f=this;if(0 === this.trace.length)return {};n=this.trace[0];return {timeSinceLastRepositionMs:this.wab(n.time),lastRepositionCause:this.dXa(n.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:f.wab(k.time),cause:f.dXa(k.event.cause),newMediaTime:k.event.Z6,oldMediaTime:k.event.Qqa,contentPts:k.event.ep,skip:k.event.skip};})};};c.prototype.wab=function(f){return this.Ea.Db().wa(f).ca(d.na);};c.prototype.dXa=function(f){switch(f){case l.Sc.Hr:return "initial";case l.Sc.Gw:return "seek";case l.Sc.PO:return "live_edge";case l.Sc.sI:return "segment_changed";case l.Sc.G_:return "track_changed";case l.Sc.LY:return "force_rebuffer";}};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(h.Gc))],a);b.IJa=a;},function(r,b,a){var l,g,h;function c(d,f,n){this.Qg=d;this.tb=n;this.L=[];this.log=f.Sa("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;l=a(0);r=a(1);g=a(25);h=a(6);a(3);c.prototype.some=function(d){return this.L.some(d);};c.prototype.W4=function(){return !!(this.L[0] && this.L[0].stream && this.tb.qg(this.L[0].stream.zb));};c.prototype.mp=function(d){return this.L.filter(d).reduce(function(f,n){return f + (n.endTime - n.startTime) / n.rate;},0);};c.prototype.oT=function(d){return this.L.filter(d).reduce(function(f,n){return f + n.endTime - n.startTime;},0);};c.prototype.sla=function(d,f){var n,k;n=this;k={};return this.L.filter(function(m){return !f || m.track.YB === f;}).reduce(function(m,p){var q,v,t;q=d.bind(n,p)();v=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=k[v];t?t.duration+=p:(t=q,t.duration=p,m.push(t),k[v]=t);return m;},[]);};c.prototype.pf=function(d,f,n){var k;n=void 0 === n?this.Qg.playbackRate.value:n;k=this.L;d && f && f >= d.startTime && (d={qc:d.qc,track:d.track,stream:d.stream,startTime:d.startTime,nB:d.nB,coa:d.coa,endTime:f,rate:n},(f=k[k.length - 1]) && f.track === d.track && f.stream === d.stream && f.qc === d.qc && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:k.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(h.Va)),l.__param(2,(0,r.l)(g.Qf))],a);b.zIa=a;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q,v,t,w,u,y){var x;x=this;this.ab=k;this.j=m;this.log=p;this.config=q;this.NYb=v;this.lab=t;this.ql=new l.Fb(!1);this.Cb=new f.Vi();this.CQa=!1;this.cV=function(){x.CQa=!0;n.$d.removeListener(n.Ek,x.cV);};this.VBb=u(this);k=k.Mn();this.Gu=w({ja:m.ja.toString()});w=null === k || void 0 === k?void 0:k.I5a.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;x.JVa();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;y.QL(m);x.ql.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;x.ql.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var A;!1;A=x.j.Zh(z.segmentId);x.NYb.wVb(z,A);});this.Cp=new h.rP();this.j.addEventListener("playbackStart",function(){x.Cp.resolve();});w=null === k || void 0 === k?void 0:k.wna.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){x.Cp.promise.then(function(){var A,B,C;z.event === g.V$.xpb && z.Rs && x.lab.forEach(function(D){return D.start(x.j);});B=null === (A=m.X) || void 0 === A?void 0:A.Ha.xf;A=x.vIb(z);if(z.event === g.V$.ypb && A){C=x.CQa?g.W$.lbb:m.kh?g.W$.error:g.W$.ACb;A=Object.assign(Object.assign({},A),{reason:C});}x.Gu.aZb(z,B,A);});});n.$d.addListener(n.Ek,this.cV);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === g.jxa.eA && x.Cb.zc(d.ZX.eA);x.Cp.promise.then(function(){x.Gu.$Yb(z,m);});});}Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;l=a(70);g=a(291);h=a(332);d=a(15);f=a(71);n=a(58);c.prototype.addEventListener=function(k,m,p){this.Cb.addListener(k,m,p);};c.prototype.removeEventListener=function(k,m){this.Cb.removeListener(k,m);};c.prototype.SK=function(){var k,m;return null === (m=null === (k=this.ab) || void 0 === k?void 0:k.Mn()) || void 0 === m?void 0:m.pM.zy;};c.prototype.NGb=function(){var k,m,p,q;p=this.SK();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (k=null === p || void 0 === p?void 0:p.fA) || void 0 === k?void 0:k.af.endTime.G,adIndex:null === (m=p.fA) || void 0 === m?void 0:m.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Wd.duration.G};(k=p.b5a) && (q.padding={type:k.ura,duration:k.E7.G});return q;}};c.prototype.rla=function(){var k,m,p,q,v;q=this.j.aa.O.toString();v=null === (m=null === (k=this.ab) || void 0 === k?void 0:k.Mn()) || void 0 === m?void 0:m.I5a.rla({zcb:[q]});return null !== (p=null === v || void 0 === v?void 0:v.result[q]) && void 0 !== p?p:[];};c.prototype.JVa=function(){};c.prototype.vIb=function(k){var m;if(k.Rs){m=this.lab.reduce(function(p,q){return Object.assign(Object.assign({},p),q.E4(k));},{});return Object.assign(Object.assign({},m),{thirdPartyVerificationToken:k.rN});}};b.wxa=c;},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v,t,w,u){this.context=m;this.log=p;this.ta=q;this.config=v;this.Ea=t;this.vpb=w;this.opb=u;this.wua={};}Object.defineProperty(b,"__esModule",{value:!0});b.rxa=void 0;r=a(0);l=a(1);g=a(17);h=a(27);d=a(3);f=a(11);n=a(292);k=a(291);c.prototype.$Yb=function(m,p){var q,v,t;q=this;v=m.event;if(Object.values(k.jxa).includes(v)){t=p.Wx?p.Wx.ca(d.na):-1;m={href:p.X.di.NK("events").href,ja:this.context.ja.toString(),event:v,Fu:m.Fu,dE:m.dE,position:m.oh.offset.G,Sl:t,zv:{},rx:this.ta.SG.ca(d.na),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.opb.sf(this.log,m).catch(function(w){q.log.error("Failed to send event",{eventKey:v,xid:p.ja,error:w});});}else this.log.debug("Ignoring unsupported event " + m.event);};c.prototype.aZb=function(m,p,q){var v,t,w;v=this;t=m.event;if(Object.values(k.V$).includes(t)){w=m.X.links.events.href;this.wua[m.Sl] || (this.wua[m.Sl]=this.ta.lqb((0,d.Jb)(m.Sl)).ca(d.na));m={href:w,ja:this.context.ja.toString(),event:t,Fu:m.Fu,dE:m.dE,position:m.oh.offset.G,Sl:this.wua[m.Sl],zv:m.zv,rx:this.ta.SG.ca(d.na),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,jOb:p,P1b:null !== q && void 0 !== q?q:void 0};this.vpb.sf(this.log,m).catch(function(u){v.log.error("Failed to send event",{eventKey:t,xid:v.context.ja,error:u});});}else this.log.debug("Ignoring unsupported event " + m.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(h.wg)),r.__param(3,(0,l.l)(f.ac)),r.__param(4,(0,l.l)(g.Gc)),r.__param(5,(0,l.l)(n.U$)),r.__param(6,(0,l.l)(n.T$))],a);b.rxa=a;},function(r,b){function a(p){this.af=p;}function c(p){this.padding=p;}function l(p){this.XQ=p;}function g(p){this.oh=p;}function h(p){this.d8=p;}function d(p){this.lsa=p;}function f(p){this.ksa=p;}function n(p){this.pJ=p;}function k(p){this.zy=p;}function m(p){this.Dd=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Hdb=b.Djb=b.Gdb=b.Dgb=b.Njb=b.Ojb=b.Mjb=b.Fdb=b.Ljb=b.uxa=void 0;m.prototype.getPresentingAdBreak=function(){var p;p=this.Dd.SK();if(p)return new k(p);};m.prototype.getAds=function(){return this.Dd.rla();};m.prototype.getLogInfo=function(){return this.Dd.NGb();};b.uxa=m;Sa.Object.defineProperties(k.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new n(this.zy.Wd);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.zy.fA;if(p)return new f(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.zy.b5a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new h(this.zy.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new g(this.zy.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.zy.index;}}});b.Ljb=k;Sa.Object.defineProperties(n.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.pJ.XQ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.pJ.D9);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.pJ.rS);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.pJ.tJb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.pJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.pJ.E7.G};}}});b.Fdb=n;Sa.Object.defineProperties(f.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.ksa.af);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.ksa.UOa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ksa.index;}}});b.Mjb=f;Sa.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.lsa.ura;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.lsa.PSb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.lsa.E7.G};}}});b.Ojb=d;Sa.Object.defineProperties(h.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.d8.rpb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.d8.ppb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.d8.tpb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.d8.spb.G};}}});b.Njb=h;Sa.Object.defineProperties(g.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.oh.J;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.oh.offset.G};}}});b.Dgb=g;Sa.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.XQ.xe.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.XQ.duration.G};}}});b.Gdb=l;Sa.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.Djb=c;Sa.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.af.pp;}},id:{configurable:!0,enumerable:!0,get:function(){return this.af.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.af.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.af.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.af.Rs;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.af.rN;}}});b.Hdb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mKa="SegmentDroppedLoggerSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lKa=void 0;r=a(0);a=a(1);c.prototype.wVb=function(g,h){h.AL.$a.hua({xid:h.ja,auxPlaybackcontextid:h.xf,auxMid:g.auxMid,auxMidType:g.auxMidType,reason:g.reason,adBreakLocationMs:g.adBreakLocationMs},"error" === g.sev);};l=c;l=r.__decorate([(0,a.U)()],l);b.lKa=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fxa="AdFocusMonitorSymbol";},function(r,b,a){var l,g;function c(h){var d;d=this;this.vE=function(){var f,n,k;n=!document.hidden;k=null === (f=d.j.Mn()) || void 0 === f?void 0:f.ql.value;f=d.j.paused.value;n || !k || f || (d.la.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{VL:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.vE);d.j.Mn().ql.removeListener(d.vE);d.j.paused.removeListener(d.vE);};this.la=h.Sa("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.Exa=void 0;r=a(0);l=a(1);a=a(6);c.prototype.QL=function(h){this.$Pb || (this.la.debug("Starting to monitor playback for visibility"),this.j=h,this.$Pb=!0,document.addEventListener("visibilitychange",this.vE),this.j.Mn().ql.addListener(this.vE),this.j.paused.addListener(this.vE),this.j.addEventListener("closing",this.unsubscribe),this.vE());};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Va))],g);b.Exa=g;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q,v,t){var w,u,y,x;w=this;this.config=k;this.oc=p;this.u=v;this.j=t;this.gL=new n.Fb(!1);this.bha=new n.Fb(!1);this.ip=this.Ji=void 0;this.Uua=!1;this.cF=void 0;this.log=q.Sa("LivePlaybackManager");this.cF=this.config().$Db;u=this.config().x0b;y=this.config().ENb;this.Uua=(0,h.sb)(u) && (0,h.sb)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ea.Lk,function(){var z,A,B;if(w.ha){(0,g.ma)(w.j && w.j.aa === w.u,"Unexpected playback segment on playbackReady");if("true" === (null === (A=null === (z=w.j.X) || void 0 === z?void 0:z.Ha.C0b) || void 0 === A?void 0:A.Q0b.enableLivePlaybackRateDriftCorrection) || w.config().uBb)w.E5a=m(function(C){(0,g.ma)(w.ha && w.j && w.j.aa === w.u,"Unexpected playback segment on playback rate update");w.u.playbackRate.set(C);w.j.fireEvent(d.ea.BB);});if(w.Uua){B=w.ev();x=w.oc.QM((0,l.Jb)(500),function(){var C,D,E,G;C=w.ev();E=B + u;C >= E - 500 && (D=w.Sia(E));E=B + u + y;if(C >= E - 500){G=w.Sia(E);null === x || void 0 === x?void 0:x.cancel();}w.Bua(D,G,!0);});}}});null === t || void 0 === t?void 0:t.addEventListener(d.ea.og,function(){var z;w.ha && ((0,g.ma)(w.j && w.j.aa === w.u,"Unexpected playback segment on closing"),w.E5a=void 0,null === (z=w.lU) || void 0 === z?void 0:z.cancel(),w.lU=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ea.iC,function(z){w.ha && ((0,g.ma)(w.j && w.j.aa === w.u,"Unexpected playback segment on repositioning"),z.cause !== d.Sc.Hr && w.gL.set(z.cause === d.Sc.PO && !w.n0a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ea.fcb,function(){w.ha && ((0,g.ma)(w.j && w.j.aa === w.u,"Unexpected playback segment on userInitiatedPause"),w.gL.set(!1));});null === t || void 0 === t?void 0:t.rh.addListener(function(){w.ha && ((0,g.ma)(w.j && w.j.aa === w.u,"Unexpected playback segment on playing update"),w.j.rh.value && w.qWa());});null === t || void 0 === t?void 0:t.background.addListener(function(){var z;w.ha && ((0,g.ma)(w.j && w.j.aa === w.u,"Unexpected playback segment on background update"),!w.j.background.value && w.xT() && void 0 === w.cF && (w.B5()?null === (z=w.j.ee) || void 0 === z?void 0:z.seek(w.Ji,d.Sc.Gw):w.Z8()));});this.u.mediaTime.addListener(function(z){var A,B;if(w.ha){(0,g.ma)(w.j && w.j.aa === w.u,"Unexpected playback segment on mediaTime update");w.c2();B=w.UA(z.oldValue);z=w.UA(z.newValue);B !== z && (!1,w.j.fireEvent(d.ea.BB));void 0 !== w.Ji && w.qWa();null === (A=w.E5a) || void 0 === A?void 0:A.GN(w.j.rh.value && w.xT(),w.u.mediaTime.value,w.ev());}});this.gL.addListener(function(){(0,g.ma)(w.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.ha);(0,g.ma)(w.j && w.j.aa === w.u,"Playback is required for live.");w.c2();});this.bha.addListener(function(){(0,g.ma)(w.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.ha);(0,g.ma)(w.j && w.j.aa === w.u,"Playback is required for live.");!1;w.j.fireEvent(d.ea.BB);});}Object.defineProperty(b,"__esModule",{value:!0});b.iEa=void 0;l=a(3);g=a(20);h=a(14);d=a(15);f=a(189);n=a(70);c.prototype.y_b=function(){var k,m;(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");return (null === (m=null === (k=this.u.X) || void 0 === k?void 0:k.Ha.sj) || void 0 === m?void 0:m.hAb) || this.config().bEb || this.config().cEb.includes(this.u.O);};c.prototype.oVb=function(){var k;(0,g.ma)(this.ha,"Unexpected call to processManifest(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,g.ma)(null === (k=this.u.X) || void 0 === k?void 0:k.Ha.sj,"Live manifest is unavailable.");k=this.u.X.Ha.sj;this.Bua(k.uka,k.w3);k=this.config().dEb;void 0 !== k && void 0 !== this.Ji && (this.cF=this.Ji + k);};c.prototype.Bua=function(k,m,p){var q,v,t,w,u,y,x;q=this;(0,g.ma)(this.ha,"Unexpected call to setLiveEventTimes(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");if(!this.Uua || p){u=this.j;p=this.Ji;y=this.ip;x=null !== (v=this.JSa(k)) && void 0 !== v?v:p;v=null !== (t=this.JSa(m)) && void 0 !== t?t:y;if(void 0 === x && void 0 === v || void 0 !== x && 0 <= x && void 0 === v || void 0 !== x && 0 <= x && void 0 !== v && v > x){this.Ji=x;this.ip=v;if(p !== this.Ji || y !== this.ip)(!1,u.fireEvent(d.ea.BB));this.B5()?(null === (w=this.lU) || void 0 === w?void 0:w.cancel(),this.lU=void 0):this.lU || (this.lU=this.oc.QM((0,l.Jb)(1E3),function(){q.c2();u.fireEvent(d.ea.BB);}));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (k + ", startPts:") + (x + ", endTime:") + (m + ", endPts:") + v);}};c.prototype.dGb=function(){var k;(0,g.ma)(this.ha,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");k=this.u.mediaTime.value;if(void 0 !== k)return this.Sia(k);};c.prototype.G4=function(){var k;(0,g.ma)(this.ha,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");k=this.u.mediaTime.value;if(void 0 !== k)switch(this.UA(k)){case f.Ir.uP:return 0;case f.Ir.Mba:return ((0,g.ma)(void 0 !== this.Ji,"eventStartPts should be defined in LIVE_EVENT slate."),k - this.Ji);case f.Ir.dba:return ((0,g.ma)(void 0 !== this.Ji && void 0 !== this.ip,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.ip - this.Ji);}};c.prototype.i8a=function(k){var m,p;(0,g.ma)(this.ha,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");return void 0 === this.Ji?null !== (p=null !== (m=this.ev()) && void 0 !== m?m:this.u.mediaTime.value) && void 0 !== p?p:k:this.Ji + k;};c.prototype.B0a=function(k){var m;(0,g.ma)(this.ha,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");m=this.ev();return void 0 !== m && k >= m - this.config().vNb;};c.prototype.Zla=function(k,m){var p,q;(0,g.ma)(this.ha,"Unexpected call to getLiveBookmark(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");if(void 0 !== this.cF)return {tl:this.cF,ZB:Number.MAX_SAFE_INTEGER,QTa:this.cF};m || void 0 === this.Ji || void 0 === this.ip && 0 === k?(this.gL.set(!0),k=36E7):(k=this.Ji + k,void 0 !== this.ip && k > this.ip && (k=this.Ji));return {tl:k,ZB:null !== (p=this.ip) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,QTa:null !== (q=this.Ji) && void 0 !== q?q:36E7};};c.prototype.WXa=function(){var k,m;(0,g.ma)(this.ha,"Unexpected call to getLiveContentDuration(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");m=null !== (k=this.ip) && void 0 !== k?k:this.nB()?this.u.mediaTime.value:this.ev();return void 0 !== m && void 0 !== this.Ji?m - this.Ji:0;};c.prototype.UGb=function(){var k,m,p;(0,g.ma)(this.ha,"Unexpected call to getMaxSeekPts(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");p=null !== (m=null !== (k=this.ip) && void 0 !== k?k:this.ev()) && void 0 !== m?m:0;!1;return p;};c.prototype.ev=function(){var k,m;(0,g.ma)(this.ha,"Unexpected call to getLiveEdge(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");return null === (m=null === (k=this.j.ab) || void 0 === k?void 0:k.TA(this.u.J)) || void 0 === m?void 0:m.G;};c.prototype.Z8=function(){var k;(0,g.ma)(this.ha,"Unexpected call to seekToLiveEdge(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");this.gL.set(!this.n0a());if(this.j.ee){k=this.ev();void 0 !== k?this.j.ee.seek(k,d.Sc.PO,this.u.J):!1;}else this.u.tl=this.Zla(0,!0).tl;};c.prototype.nB=function(){(0,g.ma)(this.ha,"Unexpected call to isAtLiveEdge(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");this.c2();return this.bha.value;};c.prototype.xT=function(){(0,g.ma)(this.ha,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.gL.value;};c.prototype.UA=function(k){var m,p,q;(0,g.ma)(this.ha,"Unexpected call to getLiveEventState(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");k=null !== (m=null !== k && void 0 !== k?k:this.u.mediaTime.value) && void 0 !== m?m:0;m=null !== (p=this.Ji) && void 0 !== p?p:Infinity;p=null !== (q=this.ip) && void 0 !== q?q:Infinity;return k < m?f.Ir.uP:k > p?f.Ir.dba:f.Ir.Mba;};c.prototype.B5=function(){(0,g.ma)(this.ha,"Unexpected call to isLiveEventEnded(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");return void 0 !== this.ip;};c.prototype.n0a=function(){var k;(0,g.ma)(this.ha,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.j.paused.value && !(null === (k=this.j.paused.Eh) || void 0 === k?0:k.VL);};c.prototype.qWa=function(){this.nB() || this.UA() !== f.Ir.uP || void 0 !== this.cF || this.Z8();};c.prototype.c2=function(){var k;(0,g.ma)(this.ha,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");this.bha.set(this.xT() && this.B0a(null !== (k=this.u.mediaTime.value) && void 0 !== k?k:0));};c.prototype.Sia=function(k){var m,p;(0,g.ma)(this.ha,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,g.ma)(null === (m=this.u.X) || void 0 === m?void 0:m.Ha.sj,"Live manifest is unavailable.");m=this.u.X.Ha.sj;p=new Date(m.jua[m.Nja[this.u.X.Ha.Ht[0].streams[0].Bm]].R1).getTime();return new Date(p - m.v3 + k).toISOString();};c.prototype.JSa=function(k){var m,p,q;(0,g.ma)(this.ha,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ha);(0,g.ma)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,g.ma)(null === (m=this.u.X) || void 0 === m?void 0:m.Ha.sj,"Live manifest is unavailable.");if(k){m=this.u.X.Ha.sj;p=m.jua[m.Nja[this.u.X.Ha.Ht[0].streams[0].Bm]];q=new Date(k).getTime() + m.v3 - new Date(p.R1).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (k + ", eventAvailabilityOffsetMs:") + (m.v3 + ", availabilityStartTime:") + p.R1);else return q;}};Sa.Object.defineProperties(c.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){var k,m;k=this.u;m=k.X;return m?(k=m.Ha,m=k.sj,"LIVE" === k.bg && !!m):"live" === k.od;}}});b.iEa=c;},function(r,b,a){var l,g,h,d,f;function c(n,k){var m;m=f.pk.call(this) || this;m.Ea=n;m.paused=!1;m.nq=function(){var p,q,v;v=m.Dd.SK();m.Dd.ql.value && null !== (p=null === v || void 0 === v?void 0:v.fA) && void 0 !== p && p.af.Rs?(p=null === (q=v.fA) || void 0 === q?void 0:q.af.id,q=m.paused,m.paused=m.j.paused.value,q !== m.paused && (m.paused?(m.I7=m.Ea.Db(),m.YQ=v.position.offset.G,m.la.debug("Ad " + p + " paused at " + m.YQ + " ms into the ad")):void 0 !== m.I7 && void 0 !== m.YQ && (v=m.Ea.Db().wa(m.I7).ca(d.na),m.la.debug("Ad " + p + " resumed. Pause duration: " + v),m.trace.push([m.YQ,v]),m.YQ=void 0,m.I7=void 0))):m.unsubscribe();};m.la=k.Sa("AdPauseStateTracker");return m;}Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;r=a(0);l=a(1);g=a(17);h=a(6);d=a(3);f=a(196);ha(c,f.pk);c.prototype.start=function(n){f.pk.prototype.start.call(this,n);this.kv || (this.j.paused.addListener(this.nq),this.kv=!0);};c.prototype.E4=function(){return {pauseTrace:this.trace};};c.prototype.jW=function(){this.YQ=void 0;this.paused=this.j.paused.value;this.I7=void 0;this.trace=[];};c.prototype.unsubscribe=function(){f.pk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.nq);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Gc)),r.__param(1,(0,l.l)(h.Va))],a);b.xxa=a;},function(r,b,a){var l,g,h,d,f;function c(n,k){var m;m=f.pk.call(this) || this;m.tf=n;m.mja=k;m.nq=function(){var p,q;q=m.Dd.SK();m.Dd.ql.value && null !== (p=null === q || void 0 === q?void 0:q.fA) && void 0 !== p && p.af.Rs?(p=m.trace[m.trace.length - 1],q=q.position.offset.G,p && p[0] === q && m.trace.pop(),(p=m.trace[m.trace.length - 1]) && p[1] === m.j.jja || m.trace.push([q,m.j.jja])):m.unsubscribe();};m.la=n.Sa("AdVolumeTracker");m.qka=k((0,d.th)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Hxa=void 0;r=a(0);l=a(1);g=a(170);h=a(6);d=a(3);f=a(196);ha(c,f.pk);c.prototype.start=function(n){f.pk.prototype.start.call(this,n);this.kv || (this.j.volume.addListener(this.L2),this.j.muted.addListener(this.L2),this.kv=!0);};c.prototype.E4=function(){return {volumeChangeTrace:this.trace,volume:this.j.jja};};c.prototype.jW=function(){this.trace=[];};c.prototype.unsubscribe=function(){f.pk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.L2);this.j.muted.removeListener(this.L2);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(g.AY))],a);b.Hxa=a;},function(r,b,a){var l,g,h,d,f;function c(n,k){var m;m=f.pk.call(this) || this;m.mja=k;m.MXb=function(){0 === m.trace.length?m.nq():m.qka.Qk(function(){m.nq();});};m.nq=function(){var p,q,v,t;q=m.Dd.SK();if(m.Dd.ql.value && null !== (p=null === q || void 0 === q?void 0:q.fA) && void 0 !== p && p.af.Rs){(p=m.trace[m.trace.length - 1]) && p[0] === q.position.offset.G && m.trace.pop();p=m.trace[m.trace.length - 1];v=m.j.ik.getBoundingClientRect();t=v.height;v=v.width;0 < t && 0 < v && (!p || p[1] !== v || p[2] !== t) && m.trace.push([q.position.offset.G,v,t]);}else m.unsubscribe();};m.la=n.Sa("AdResizeTracker");m.qka=k((0,d.th)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;r=a(0);l=a(1);g=a(170);h=a(6);d=a(3);f=a(196);ha(c,f.pk);c.prototype.start=function(n){f.pk.prototype.start.call(this,n);this.kv || (this.p4a=new ResizeObserver(this.MXb),this.p4a.observe(this.j.ik),this.kv=!0);};c.prototype.E4=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.jW=function(){this.trace=[];};c.prototype.unsubscribe=function(){var n;f.pk.prototype.unsubscribe.call(this);null === (n=this.p4a) || void 0 === n?void 0:n.disconnect();};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(g.AY))],a);b.Cxa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aO="AdTrackerBaseSymbol";},function(r,b,a){var l,g,h;function c(d){var f;f=h.pk.call(this) || this;f.Ppa=0;f.tTa=[0];f.XF=[0];f.visibility=0;f.nq=function(){var n,k;k=f.Dd.SK();f.Dd.ql.value && null !== (n=null === k || void 0 === k?void 0:k.fA) && void 0 !== n && n.af.Rs?(n=f.visibility,f.visibility=document.hidden?0:1,n !== f.visibility && (1 === f.visibility?(f.Ppa=f.visibility,f.s6=k.position.offset.G):(k=k.position.offset.G - (f.s6 || 0),k > f.XF[0] && (f.XF[0]=k),f.s6=void 0))):f.unsubscribe();};f.la=d.Sa("AdVisibilityTracker");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Gxa=void 0;r=a(0);l=a(1);g=a(6);h=a(196);ha(c,h.pk);c.prototype.start=function(d){h.pk.prototype.start.call(this,d);this.kv || (document.addEventListener("visibilitychange",this.nq),this.kv=!0);};c.prototype.E4=function(d){var f,n,k;n=this.j.ik.getBoundingClientRect();k=n.height;n=n.width;"adStart" === d.event && (k=0 === k?document.documentElement.clientHeight:k,n=0 === n?document.documentElement.clientWidth:n);d=d.oh.offset.G - (null !== (f=this.s6) && void 0 !== f?f:0);d > this.XF[0] && (this.XF[0]=d);f=document.fullscreenElement?!0:screen.height === mb.outerHeight && screen.width === mb.outerWidth;this.tTa=this.XF;return {cumulativeTimeByVisibilityMs:this.tTa,maxContinuousTimeByVisibilityMs:this.XF,visibility:this.visibility,maxVisibility:this.Ppa,screenHeight:screen.height,screenWidth:screen.width,adHeight:k,adWidth:n,fullScreen:f};};c.prototype.jW=function(){this.s6=void 0;this.XF=[0];this.Ppa=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){h.pk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.nq);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va))],a);b.Gxa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jEa="LivePlaybackRateControllerFactorySymbol";},function(r,b,a){var l,g;function c(h,d,f,n){this.config=h;this.n9=n;this.log=d.Sa("LivePlaybackRateController");this.Q1b=f((0,l.Jb)(this.config().zNb));}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;l=a(3);g=a(76);c.prototype.GN=function(h,d,f){var n,k;n=this;if(!h || void 0 === d || void 0 === f || Math.abs(d - f) < this.config().ANb)k=1;else (h=f - d,h=1 + this.config().yNb / 1E3 * h,k=(0,g.Aw)(h,this.config().CNb,this.config().BNb));this.Q1b.Qk(function(){!1;n.n9(k);});};b.kEa=c;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y;function c(x,z,A){var B;B=this;this.fb=x;this.j=z;this.debug=A;this.jQ=this.Ah=this.Qw=!1;this.EQ=this.DQ=void 0;x={};this.mU=(x[u.v.ga]={},x[u.v.Z]={},x[u.v.Za]={},x);this.Nz=void 0;this.rm=function(){var C,D,E,G,F,H;B.debug.assert(B.Fa,"has access to asePlaygraph");B.debug.assert(B.xc,"has access to internalLogger");B.debug.assert(B.Us,"has access to mediaBufferGetLogFields");F=B.Bn;H=null === (D=null === (C=B.Kd.get()) || void 0 === C?void 0:C.ub) || void 0 === D?void 0:D.Da;C={type:"logdata",target:"startplay",fields:{hasasereport:B.j.kS,hashindsight:!1,buffCompleteReason:F.reason,actualbw:H,initSelReason:null !== (E=F.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:F.vBufferLevelMs,bcABufferLevelMs:F.aBufferLevelMs}};(0,f.G1)({vka:C,Ik:B.Ik,loadTime:B.loadTime});B.Fa.fwa("startplay",l.pc.Fj);null !== (G=B.xb) && void 0 !== G && G.ae?(B.xc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:F},B.Us()),B.j.Bn=F,B.j.jq.set(n.lf.Sd),B.RDb || (B.RDb=!0,B.j.fe("pb")),B.ue.value !== l.rb.w_ && B.ue.value !== l.rb.zo && B.play()):B.xc.error("Shim received buffering complete but player has no position (player " + (B.xb?"":"un") + "defined, state " + B.j.state + ")");};this.Nab=function(){var C,D;B.debug.assert(B.xc,"has access to internalLogger");!1;B.DQ=void 0;B.EQ=void 0;B.j.paused.value && B.mG && (B.mG=!1,B.j.paused.set(!1,{VL:!0}));null === (C=B.j.ee) || void 0 === C?void 0:C.fvb();null === (D=B.E4a) || void 0 === D?void 0:D.call(B);B.E4a=void 0;};this.events=new y();this.dg=new w.Yda(this.Uu.bind(this),function(C,D){return B.j.Jv(C,D);});}Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=void 0;l=a(66);g=a(13);h=a(59);d=a(2);f=a(1327);n=a(15);k=a(18);m=a(14);p=a(3);q=a(1328);v=a(76);t=a(70);w=a(520);a(130);u=a(47);y=a(102).EventEmitter;c.prototype.Te=function(){var x;!1;this.jQ=!1;this.Kd.m9(null);this.debug.assert(this.Nh,"has access to streamingEngine");this.Fa && this.Nh.Hy(this.Fa);this.xb && this.Nh.x7a(this.xb);this.Nh.z7a(this.dg.Nn(this.fb.aa.K));this.dg.clear();null === (x=this.bo) || void 0 === x?void 0:x.ys();};c.prototype.h_b=function(x){var z,A,B,C,D,E,G,F,H,K,O,I,P;z=x.config;A=x.So;B=x.xc;C=x.Qd;D=x.Us;E=x.Ki;G=x.yW;x=x.OG;this.xc=B;this.log=B.F2("AseIntegrationImpl");!1;this.Us=D;this.yW=G;this.OG=x;D=this.j.aa;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Nh,"has access to streamingEngine");this.debug.assert(D.vc,"has access to parsedManifest");this.debug.assert(D.X,"has access to manifest");this.config=z;this.Nh=A.Nh;A.Yd.set(a(172)(z),!0,E("ASE"));A.Yd.set({maxNumberTitlesScheduled:null !== (H=null === (F=z.rUb) || void 0 === F?void 0:F.maxNumberTitlesScheduled) && void 0 !== H?H:1},!0,B);z.Hvb && !D.Zc.ha && 3E5 > D.X.Ha.duration?A.Yd.pV({expandDownloadTime:!1},!0,B):A.Yd.pV({expandDownloadTime:A.Yd.s5a().expandDownloadTime},!0,B);z=D.background.value || z.pUb && "postplay" === D.od?"historical":A.Yd.s5a().initBitrateSelectorAlgorithm;A.Yd.pV({initBitrateSelectorAlgorithm:z},!0,B);z=null === (P=null === (I=null === (O=null === (K=D.Fg) || void 0 === K?void 0:K.value) || void 0 === O?void 0:O.streams) || void 0 === I?void 0:I[0]) || void 0 === P?void 0:P.Ue;A.Yd.pV((0,k.uSa)(!!D.Ua.Yf,!!D.Ua.lL,z),!0,B);B=C.JB({},(0,k.u2)(D.od));D.Zc.ha && (B=C.JB(B,(0,k.u2)("live")));this.Yd=A.Yd.Dn(B);l.platform.events.emit("networkchange",D.vc.oZb);this.Qw=!0;};c.prototype.o5=function(x){var z,A;this.debug.assert(this.Nh,"has access to streamingEngine");z=this.j.Zh(x.J);this.debug.assert(z.vc,"has access to playback parsedManifest");!1;A=x.flags;this.Kd.reset();this.$f=new Set([u.v.ga,u.v.Z]);(A.rcb || A.tac) && this.$f.delete(A.rcb?u.v.ga:u.v.Z);this.vH=[z.vc.gzb,z.vc.ozb,z.vc.nzb];this.Uu(z.O,void 0,x.sTa);this.RKb(x);this.RJ();};c.prototype.Gt=function(x){var z;!1;null === (z=this.Fa) || void 0 === z?void 0:z.Gt(x);};c.prototype.hsb=function(x){var z,A,B,C;z=this;A=x.loadTime;B=x.Ik;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;this.Ik=B;this.loadTime=A;x=this.Fa.events;C=this.xb.events;x.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.xc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.xc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Us())),(0,h.If)(function(){z.j.dd(d.V.mdb,{za:D.nativeCode,Ib:D.errormsg,yl:D.httpCode,W6:D.networkErrorCode});}));});x.addListener("logdata",function(D){var E;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=z.Fa) || void 0 === E?void 0:E.Eqb,(0,f.G1)({vka:D,Ik:B,loadTime:A}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,f.G1)({vka:D,Ik:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.jq.set(n.lf.ie);});x.addListener("bufferingComplete",function(D){!1;z.Bn=D;});this.j.paused.addListener(function(D){var E;z.debug.assert(z.xc,"has access to internalLogger");null !== (E=D.Eh) && void 0 !== E && E.VL || !z.Qw || (D.newValue && z.ue.value === l.rb.Td?(z.ue.set(l.rb.Rh),z.hi.emit("paused",{type:"paused",pts:z.hi.zd})):D.newValue || z.ue.value !== l.rb.Rh || (z.ue.set(l.rb.Td),z.hi.emit("playing",{type:"playing",pts:z.hi.zd})));D.newValue || (z.mG=!1);z.xc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,v.bh)(z.j.mediaTime.value)});});this.j.jc.addListener(function(D){var E,G,F,H;if(z.Qw)if((z.debug.assert(z.xc,"has access to internalLogger"),D.Eh && D.Eh.s1))z.xc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {H=D.newValue;z.bab({Vo:H.trackId,toJSON:function(){return H.sg;}})?z.xc.trace("ASE accepted the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.xc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== H.trackId && z.j.jc.set(D.oldValue,{s1:!0}));}});this.j.Zc.ha && this.j.yb.addListener(function(D){var E,G,F,H;if(z.Qw)if((z.debug.assert(z.xc,"has access to internalLogger"),D.Eh && D.Eh.s1))z.xc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {H=D.newValue;z.bab({jab:H.trackId,toJSON:function(){return H.sg;}})?z.xc.trace("ASE accepted the text track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.xc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== H.trackId && z.j.yb.set(D.oldValue,{s1:!0}));}});x.addListener("serverSwitch",function(D){var E;!1;z.j.fireEvent(n.ea.uW,D);if("video" === D.mediatype)E=u.v.Z;else "audio" === D.mediatype && (E=u.v.ga);(0,m.Nc)(E) && z.yW(D.segmentId,D.server,E);});x.addListener("streamSelected",function(D){var E,G,F,H;!1;if(z.jQ){G=D.manifest.xf;if(!z.j.uJb(G) && z.config.UCb)return z.j.dd(d.V.Nhb,{LA:G});G=(null === (E=z.Fa) || void 0 === E?void 0:E.tT(D.position)).pq.G;E=[];if(D.mediaType === u.v.Z){F=z.j.CZa(D.streamId);H=z.j.Ke;E=z.j.YA();}else D.mediaType === u.v.ga && (F=z.j.mZa(D.streamId),H=z.j.Jg,E=z.j.eFb());F && H?(!1,H.set(F,{wE:G,sR:D.bandwidth})):z.xc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:z.j.sE});}});x.addListener("segmentNormalized",function(D){var E,G,F,H,K;!1;E=D.segmentId;G=Math.floor(D.viewableContentEnd.G);D=Math.floor(D.viewableEarliestContentEnd.G);G=(0,p.Jb)(G);D=(0,p.Jb)(D);if(!z.j.xZa(E) && (!1,z.Gi && z.Gi.L[E])){F=z.Gi.L[E];H=z.Gi.L[E].Qb;if(H && z.fb.Nv(H)){H=z.j.Zh(H);K=H.X;(null === K || void 0 === K?0:K.Wo) && (null === K || void 0 === K?0:K.Wo.some(function(O){return O.Ha.O === F.K;})) && z.j.E2(F.K,{Tf:{Uc:K.Ha.Uc,Ie:K.Ha.O}},H.ja);}}if(E=z.j.Zh(E))(E.xx=G,E.I2a=D);z.j.Ep || (z.j.Zc.ha?(z.debug.assert(Infinity === G.ca(p.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.Zc.ha + ", contentDuration:" + G),z.j.Ep=p.Ia):z.j.Ep=G);});C.addListener("segmentPresenting",function(D){var E,G,F,H;!1;z.debug.assert(z.Fa,"has access to asePlaygraph");z.debug.assert(z.xb,"has access to asePlayer");z.debug.assert(z.OG,"has access to segmentPresentingHandler");G=z.Fa.tT(D.position);F=void 0;H=null === (E=D.inner) || void 0 === E?void 0:E.position;H && z.Gi && (F=z.Gi.L[H.J]);z.OG({K:G.K,yE:F,JF:!1});z.j.fireEvent(n.ea.NG,{type:"segmentPresenting",position:{segmentId:D.position.J,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.Nz=z.xb.Rn();});C.addListener("ptsChanged",function(D){var E;!1;z.j.ee.JVb({kla:null === (E=D.forcedTimestamp) || void 0 === E?void 0:E.yy,PKb:D.initialTimestamp.yy});z.hi.emit("skipped");});x.addListener("locationSelected",function(D){!1;z.j.fireEvent(n.ea.qU,D);});x.addListener("aseReportEnabled",function(){!1;z.j.kS=!0;});x.addListener("aseReport",function(D){!1;z.j.fireEvent(n.ea.jE,D);});x.addListener("liveReport",function(D){!1;z.j.fireEvent(n.ea.d6,D);});x.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.wXb;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(n.ea.OE,{response:D,O:z.j.aa.O});});x.addListener("transportReport",function(D){var E;(D=null === (E=D.qCb) || void 0 === E?void 0:E.cadmiumResponse) && z.j.fireEvent(n.ea.OE,{response:D,O:z.j.aa.O});});x.addListener("liveEventTimesUpdated",function(D){var E,G;E=D.J;G=D.startTime;D=D.endTime;z.j.xZa(E) && (E=z.j.Zh(E),E.Zc.ha && E.Zc.Bua(G,D));});x.addListener("liveLoggingInfoUpdated",function(D){var E,G;E=D.mediaType;G=z.mU[E];z.mU[E]=D.info;D=z.mU[E].XE !== G.XE && void 0 !== G.XE;(z.mU[E].WE !== G.WE && void 0 !== G.WE || D) && z.j.fireEvent(n.ea.c6,{mediaType:E,Ol:G,current:z.mU[E]});});};c.prototype.Rn=function(){var x,z,A,B,C,D,E,G,F;G=null === (x=this.xb) || void 0 === x?void 0:x.V4();x=(null !== (z=this.Nz) && void 0 !== z?z:G && this.xb.Rn()) || ({});z=x.u;G=x.pe;F=x.tG;x=x.$q;return {id:String(null === z || void 0 === z?void 0:z.id),vR:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,x2:null !== (B=null === z || void 0 === z?void 0:z.Je.G) && void 0 !== B?B:Infinity,vvb:null !== (C=null === z || void 0 === z?void 0:z.Ag.G) && void 0 !== C?C:0,STb:null !== (D=null === F || void 0 === F?void 0:F.G) && void 0 !== D?D:Infinity,Yra:null !== (E=null === x || void 0 === x?void 0:x.G) && void 0 !== E?E:0};};c.prototype.K_a=function(){var x,z;this.debug.assert(this.Fa,"has access to asePlaygraph");x={};z=this.Fa.iF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.MTb=function(){!1;this.hi.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.hi.zd});};c.prototype.lE=function(x,z){var A;this.debug.assert(this.j.X,"has access to playback manifest");A=this.vH[u.v.ga];return x.O === this.j.X.Ha.O?A:this.uDb(this.j.X.Ha.ls[A],z);};c.prototype.qN=function(x,z){var A;this.debug.assert(this.j.X,"has access to playback manifest");if(this.j.Zc.ha){this.debug.assert(x.O === this.j.X.Ha.O);A=this.vH[u.v.Za];if((x=this.j.Xg.find(function(B){return B.trackId === z[A].uf;})) && (!x.Un() || x.Lm()))return A;}};c.prototype.uDb=function(x,z){var A,B,C;this.debug.assert(this.xc,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === x.profile;}).sort(function(D,E){var G,F,H;G=(D.language === x.language || "zxx" === D.language?0:1) - (E.language === x.language || "zxx" === E.language?0:1);0 === G && (G=(D.uh === x.uh?0:1) - (E.uh === x.uh?0:1));if(0 === G){D=(null !== (F=D.$b) && void 0 !== F?F:0) - (null !== (H=E.$b) && void 0 !== H?H:0);}else D=G;return D;});B=0;C=ma(A).next().value;C && z.some(function(D,E){if(D === C)return (B=E,!0);});!1;return B;};c.prototype.bab=function(x){var z,A,B,C,D,E;this.debug.assert(this.xc,"has access to internalLogger");this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.j.X,"has access to playback manifest");if(this.Zva)return (!1,!1);A=x.Vo;B=this.vH[u.v.ga];if(void 0 === A)C=B;else if(!this.j.X.Ha.audio_tracks.some(function(G,F){if(G.new_track_id === A)return (C=F,!0);}))return (!1,!1);D=x.jab;x=this.vH[u.v.Za];if(void 0 === D)E=x;else if(!this.j.X.Ha.timedtexttracks.some(function(G,F){if(G.new_track_id === D)return (E=F,!0);}))return (!1,!1);!1;this.DQ=C;this.EQ=E;null === (z=this.j.ee) || void 0 === z?void 0:z.y0b();this.j.paused.value || (this.xb.pause([u.v.ga,u.v.Za]),this.mG=!0,this.j.paused.set(!0,{VL:!0}));this.debug.E1(this.DQ,"has access to valid requestedAudioTrackIndex number");this.vH[u.v.ga]=this.DQ;this.debug.E1(this.EQ,"has access to valid requestedTextTrackIndex number");this.vH[u.v.Za]=this.EQ;(this.Py() || this.mG) && this.xb.resume(this.mG?[u.v.ga,u.v.Za]:void 0);this.GH(this.Nab);return !0;};c.prototype.Py=function(){var x;x=this;this.debug.assert(this.Fa,"has access to asePlaygraph");return this.Fa.Py({VM:this.lE.bind(this)},{VM:function(){return x.vH[u.v.Z];}},{VM:this.qN.bind(this)});};c.prototype.Zl=function(){var x;!1;this.ue.set(l.rb.Kj);null === (x=this.Fa) || void 0 === x?void 0:x.fwa("intrplay",l.pc.Zl);this.hi.emit("underflow",{type:"underflow",pts:this.hi.zd});this.GH(this.rm);};c.prototype.p9=function(x,z){this.x$.p9(x,z);};c.prototype.open=function(){this.jQ || (this.debug.assert(this.Fa,"has access to asePlaygraph"),this.debug.assert(this.xb,"has access to asePlayer"),!1,this.jQ=this.Ah=!0,this.Fa.open(),this.debug.assert(this.Ov,"invalid start position relative to playgraph"),this.Fa.nC(this.Ov,l.N.Na(this.j.gb)),this.ue.set(l.rb.ie),this.GH(this.rm),this.Fa.Ou(this.xb),this.tNb());};c.prototype.play=function(){this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;0 !== this.Fa.state && (this.xb.resume(this.mG?[u.v.ga,u.v.Za]:void 0),this.ue.set(l.rb.Td),this.hi.emit("playing",{type:"playing",pts:this.hi.zd}));};c.prototype.stop=function(){var x;!1;this.ue.set(l.rb.w_);null === (x=this.xb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.hi.emit("paused",{type:"paused",pts:this.hi.zd});};c.prototype.flush=function(){this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.Nh,"has access to streamingEngine");!1;this.jQ && this.ue.value !== l.rb.zo && this.ue.value !== l.rb.w_ && this.stop();this.Fa.fwa("endplay",l.pc.mj);this.Fa.Gf();this.Nh.wp.save();this.Nh.TU.save();};c.prototype.Mn=function(){var x;return null === (x=this.Fa) || void 0 === x?void 0:x.Dd;};c.prototype.Ria=function(x){var z;this.debug.assert(this.Fa,"has access to asePlaygraph");z=l.N.Na(x);return (z=this.Fa.Mk(z,{a0b:!0,$_b:!0}))?this.Fa.fa.L[z.J].sa + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.Tia=function(x,z){this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xc,"has access to internalLogger");!1;this.Fa.fa.L[x] || (x=this.Oka(z));this.debug.F1(x,"has access to segmentId");x={J:x,offset:l.N.Na(z - this.Fa.fa.L[x].sa)};if(x=this.Fa.$K(x))return x.G;!1;return z;};c.prototype.ttb=function(x,z){var A,B,C,D;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Fa.fa.L[z] || (z=null !== (A=this.Oka(x)) && void 0 !== A?A:null === (B=this.xb) || void 0 === B?void 0:B.zg.J);z=this.j.Zh(z);x={pq:l.N.Na(x),K:z.O};return null === (D=null === (C=this.Fa.Fs(x)) || void 0 === C?void 0:C.La) || void 0 === D?void 0:D.G;};c.prototype.j3=function(x){var z;z=void 0 === z?!0:z;!1;this.Ah?Number.isFinite(x) && (this.debug.assert(this.xb,"has access to asePlayer"),z?this.xb.f9a(x):this.xb.e9a(x)):this.fail("Must call open prior to drmReady");};c.prototype.tZa=function(){var x;return null !== (x=this.xb) && void 0 !== x && x.ae?this.xb.IF(this.fb.aa.K):!1;};c.prototype.Wh=function(x){var z,A;!1;if(!this.xb)return (!1,!1);z=this.Mn();x=l.N.Na(x);A=this.xb.Wh(x);return z && this.j.vT()?A && z.Wh(x):A;};c.prototype.HYb=function(x,z){var A;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Fa.fa.L[z] || (z=null !== (A=this.Oka(x)) && void 0 !== A?A:this.fb.ih);this.debug.F1(z,"has access to segmentId");this.debug.assert(this.Fa.fa.L[z],"segment exists in playgraph map");z={J:z,offset:l.N.Na(x - this.Fa.fa.L[z].sa)};this.Fa.nC(z,l.N.Na(x));this.xb.resume();this.ue.set(l.rb.ie);this.GH(this.rm);x=this.Fa.u8a(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.x3b=function(x,z){var A;!1;A={};this.Fa.Ti((A[x]=z,A));};c.prototype.h2=function(x,z){var A,B;this.debug.assert(this.xc,"has access to internalLogger");this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;A=this.Rn().id;B=this.Fa.eT(A,x);if(z){if(!B.z4b)return (this.xc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.zqa)return (!1,B.zqa === x);this.Fa.Ej(A,x,!1,z);return !0;}if(void 0 !== B.zqa)return (!1,!1);B.xR && (this.xb.reset(),this.Fa.Ej(A,x,!1,z),this.xb.resume(),this.ue.set(l.rb.ie),this.GH(this.rm));return !!B.xR;};c.prototype.Ej=function(x,z,A,B){this.debug.assert(this.Fa,"has access to asePlaygraph");!1;this.Fa.Ej(x,z,A,B);};c.prototype.ZG=function(){var x;this.debug.assert(this.xc,"has access to internalLogger");!1;x=this.hi.zd;!1;this.hi.emit("skipped",{type:"skipped",pts:x});return new l.AP(Promise.resolve()).ZXb;};c.prototype.q4=function(x,z){var A;return null === (A=this.Fa) || void 0 === A?void 0:A.q4(x,z);};c.prototype.Oka=function(x){var z,A,B,C,D,E,G,F;this.debug.assert(this.Fa,"has access to asePlaygraph");this.debug.assert(this.xc,"has access to internalLogger");!1;z=this.Fa.fa;A=[];B=Infinity;for(C in z.L){D=z.L[C];E=D.sa;D=D.qa;G=x < Number(null !== D && void 0 !== D?D:Infinity);if(E <= x && G)(!1,A.push(C));else if((E=Math.min(Math.abs(x - E),Math.abs(x - D)),E < B)){B=E;F=C;}}x=A[0] || F;this.debug.F1(x,"has access to locatedSegmentId");!1;return x;};c.prototype.tNb=function(){var x,z;x=this;this.debug.assert(this.j.Ob,"has access to mediaElement");z=this.j.Ob.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.ue.value === l.rb.Rh && (x.ue.set(l.rb.Td),x.hi.emit("playing",{type:"playing",pts:x.hi.zd}));});z.addEventListener("pause",function(){x.ue.value === l.rb.Td && (x.ue.set(l.rb.Rh),x.hi.emit("paused",{type:"paused",pts:x.hi.zd}));});};c.prototype.fail=function(x){var z;null === (z=this.Fa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.GH=function(x){var z,A,B,C,D,E,G,F;z=this;if(x !== this.Nab && this.Zva)(!1,this.E4a=x);else {F=null === (A=this.xb) || void 0 === A?void 0:A.Tq.value;A=null === (B=this.Fa) || void 0 === B?void 0:B.Ff.value;B=!0 === F;F=A === l.yc.jl;!1;null === (C=this.xb) || void 0 === C?void 0:C.Tq.removeListener(this.M2a);null === (D=this.Fa) || void 0 === D?void 0:D.Ff.removeListener(this.SQa);B && F?x():(this.M2a=function(){return z.GH(x);},this.SQa=function(){return z.GH(x);},null === (E=this.xb) || void 0 === E?void 0:E.Tq.addListener(this.M2a),null === (G=this.Fa) || void 0 === G?void 0:G.Ff.addListener(this.SQa));}};c.prototype.IWa=function(x){var z,A;z=this;x=this.j.Dk(x);return Promise.resolve(null !== (A=x.X) && void 0 !== A?A:this.m8(x)).then(function(B){B=B.Ha;return {X:B,Su:B.O4 && !B.aB,config:z.Yd,$f:[].concat(ea(z.$f))};});};c.prototype.m8=function(x){var z,A,B,C,D;z=this;!1;B=Promise.resolve();if(x.Ef){C=x.Ef.Ie;(D=null === (A=this.j.Dk(C).X) || void 0 === A?void 0:A.Ha)?x.Ef.tV=D:B=this.dg.Nn(C).Rp.then(function(E){return E.X;}).then(function(E){x.Ef.tV=E;}).catch(function(){return z.j.dd(d.V.eI,d.R.xdb);});}return B.then(function(){return z.j.m8(x);}).then(function(){return x.X;});};c.prototype.Uu=function(x,z,A){var B,C,D,E,G,F,H,K,O,I;B=this;this.debug.assert(this.Nh,"has access to streamingEngine");!1;H={K:x,Ie:null === (C=null === z || void 0 === z?void 0:z.Tf) || void 0 === C?void 0:C.Ie,Uc:null === (D=null === z || void 0 === z?void 0:z.Tf) || void 0 === D?void 0:D.Uc};if(!this.dg.has(H)){!this.j.U4(x) && (null === (E=null === z || void 0 === z?void 0:z.Tf) || void 0 === E?0:E.Ie) && this.j.U4(null === (G=null === z || void 0 === z?void 0:z.Tf) || void 0 === G?void 0:G.Ie) && (C=this.j.Dk(null === (F=z.Tf) || void 0 === F?void 0:F.Ie),this.j.E2(x,z,C.ja));this.j.U4(x) && (K=this.j.Dk(x));O=A?A.ja:K?K.ja:void 0;F=A?A.Ap:K?K.rf:void 0;this.dg.store(H,{nRa:function(){},equals:function(P){return P && P.K === H.K && (O === P.ja || !P.ja || !O);},get Rp() {I || (I=B.IWa(x));return I;},set Rp(P) {I=P;},events:new g.EventEmitter(),ja:O,K:H.K,Bs:!1,Dva:!1});this.Yd.VE && this.Nh.YM(this.dg.Nn(H.K,z),{ja:O,Ap:F,Kja:null === A || void 0 === A?void 0:A.Yu});}};c.prototype.HN=function(x){var z,A,B;this.debug.assert(this.Nh,"has access to streamingEngine");!1;z=this.j.Zh(x);A=z.Ef;z={K:z.O,Ie:null === A || void 0 === A?void 0:A.Ie,Uc:null === A || void 0 === A?void 0:A.Uc};x=this.fb.Hd(x).K;if(!this.dg.has(z))return Promise.resolve();A && (B={Tf:{Uc:null === A || void 0 === A?void 0:A.Uc,Ie:A.Ie}});A=this.dg.Nn(x,B);A.Rp=this.IWa(x);return this.Nh.HN(A);};c.prototype.eT=function(x){var z;this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.Fa,"has access to asePlaygraph");return this.Fa.eT(null === (z=this.xb.Rn().u) || void 0 === z?void 0:z.id,x);};c.prototype.TA=function(x){var z;x=null === (z=this.Fa) || void 0 === z?void 0:z.TA(x);!1;return x;};c.prototype.RKb=function(x){var z,A;z=x.sTa;A=x.J;this.debug.assert(this.Nh,"has access to streamingEngine");this.debug.assert(this.xc,"has access to internalLogger");!1;x=this.j.Zh(A);x=this.fb.x4(x);A=x.L[A];this.debug.assert(A,"segment exists");this.Ov=(0,q.MYa)(A.K,x,this.j.gb,A.sa);z=Object.create(this.Yd,{Yu:{value:z.Yu},bka:{value:this.j.background.value}});this.ue=new t.Fb(l.rb.Lj);this.Fa=this.Nh.bR(x,this.Yd.aUb,z,this.dg);this.x$=new l.FP(this.xc);z=this.Fa.PJ(this.x$);x=this.Fa.OJ();this.Fa.Iua(x,z);this.Py();this.mG=!1;};c.prototype.RJ=function(){var x,z;x=this;this.debug.assert(this.Nh,"has access to streamingEngine");!1;z=Object.create(this.Yd,{$f:{value:[].concat(ea(this.$f))},bma:{value:function(){return x.rHb();}}});this.hi=Object.create(new g.EventEmitter(),{zd:{get:function(){x.debug.E1(x.j.mediaTime.value,"has access to mediaTime.value");return l.N.Na(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},YGb:{value:function(){x.debug.assert(x.j.Ob,"has access to mediaElement");return x.j.Ob;}}});this.xb=this.Nh.Vpb(this.hi,z);};c.prototype.rHb=function(){this.bo || (this.bo=new l.platform.MediaSource(this.hi),this.bo.re || (this.bo.re=l.platform.MediaSource.re));return this.bo;};Sa.Object.defineProperties(c.prototype,{Zva:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.DQ && void 0 !== this.EQ;}},Kd:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Nh,"has access to streamingEngine");return this.Nh.Kd;}},Gi:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.Fa) || void 0 === x?void 0:x.Gi;null === z || void 0 === z?0:z.Gi;){z=z.Gi;}return null === z || void 0 === z?void 0:z.fa;}},hSa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.xb;null === x || void 0 === x?0:x.LT;){x=x.LT;}return x;}},Dyb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.hSa) || void 0 === x?0:x.ae){A=(x=this.hSa.zg) && (null === (z=this.Gi) || void 0 === z?void 0:z.L[x.J]);if(A)return {pq:l.N.Na(x.offset.G + A.sa),K:A.K};}}}});b.Xxa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.G1=void 0;c=a(14);b.G1=function(l){var g,h,d,f;g=l.Ik;h=l.loadTime;l=l.vka;d=(0,c.sb)(h)?h:0;f=g[l.target] || ({});g[l.target] !== f && (g[l.target]=f);Object.entries(l.fields).forEach(function(n){var k,m,p,q;k=ma(n);n=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)f[n]=k;else {m=k.type;if("count" === m)(void 0 === f[n] && (f[n]=0),++f[n]);else if(void 0 !== k.value){if("array" === m){m=f[n];p=k.adjust;q=k.value;m || (m=f[n]=[]);p && 0 < p.length && p.forEach(function(v){q[v]-=d || 0;});m.push(q);}else f[n]="sum" === m?(f[n] || 0) + k.value:k.value;}else f[n]=k;}});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.MYa=void 0;c=a(66);l=a(20);b.MYa=function(g,h,d,f){return h.L[h.ce].sa === f?(g=(0,c.MR)(h,g,c.N.Na(d)),(0,l.ma)(g,"has valid start position relative to playgraph"),g):{J:h.ce,offset:c.N.Ia};};},function(r,b,a){var l,g,h,d,f,n,k;function c(m,p,q,v,t,w,u,y,x,z){var A;A=this;this.M2b=m;this.j=p;this.id=q;this.height=v;this.width=t;this.BTb=w;this.CTb=u;this.size=y;this.Os=x;this.urls=z;this.type=l.Jj.ewa;this.retry=!0;this.state=f.Bo.YZ;this.sg={};this.I1={};this.vVb=function(B){if(B.ia)try{A.data=A.M2b.parse(B.content);A.state=f.Bo.YC;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.sg);A.j.fireEvent(n.ea.nX);}catch(C){A.state=f.Bo.DGa;A.log.error("TrickPlay parse failed.",C);}else (A.state=f.Bo.YZ,A.log.error("TrickPlay download failed.",(0,k.ow)(B),A.sg));};this.log=(0,h.Gh)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;l=a(103);g=a(18);h=a(8);d=a(104);f=a(529);n=a(15);k=a(2);c.prototype.kGb=function(m){if(this.data && (this.Os && (m+=this.Os),m=Math.floor(m / this.data.header.Aab),0 <= m && m < this.data.images.length))return {image:this.data.images[m],time:m * this.data.header.Aab,height:this.height,width:this.width,pixelAspectHeight:this.BTb,pixelAspectWidth:this.CTb};};c.prototype.VK=function(){switch(this.state){case f.Bo.YC:return "downloaded";case f.Bo.LOADING:return "loading";case f.Bo.QO:return "downloadfailed";case f.Bo.DGa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var m;m=this.EIb();m?(this.state=f.Bo.LOADING,this.yAb(m)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.EIb=function(){var m,p,q;m=this;p=Object.keys(this.urls).find(function(v){return (m.I1[m.urls[v]] || 0) <= g.config.I2b;});if(p){q=this.urls[p];(q in this.I1)?this.I1[q]++:this.I1[q]=1;return {url:q,sm:p};}};c.prototype.yAb=function(m){var p,q;this.log.trace("Downloading",m.url,this.sg);q=this.d4(m.sm);m={responseType:d.BT,qc:q,url:m.url,track:this,hr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",DA:"trickplay"};this.j.Z4.download(m,this.vVb);};c.prototype.d4=function(m){return this.j.ng.find(function(p){return p && p.id === m;});};b.wLa=c;},function(r,b,a){var l;function c(g,h,d,f){this.Gja=g;this.debug=h;this.Ea=d;this.j=f;this.F7=[];this.R6={};this.Hja={};this.Tka=!1;this.gab=1;this.wya=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;l=a(3);a(15);a(14);a(104);c.prototype.register=function(g,h){this.debug.assert(!(0 <= this.F7.indexOf(g)),"panel already registered");this.R6[g]=h;this.F7.push(g);};c.prototype.f4a=function(g){var h;h=this;this.Hja[g]=!0;this.Tka || (this.Tka=!0,setTimeout(function(){return h.LDb();},0));};c.prototype.aHb=function(g){return (g=this.R6[g])?g():void 0;};c.prototype.aT=function(){var g;g=this.j.O7;return g?g.aT():[];};c.prototype.addEventListener=function(g,h){this.Gja.addListener(g,h);this.R6[g] && this.f4a(g);};c.prototype.removeEventListener=function(g,h){this.Gja.removeListener(g,h);};c.prototype.getTime=function(){return this.Ea.Db().ca(l.na);};c.prototype.LDb=function(){this.Tka=!1;for(var g=this.F7.length,h;g--;){h=this.F7[g];this.Hja[h] && (this.Hja[h]=!1,this.Gja.zc(h + "changed",{getModel:this.R6[h]}));}};b.CAa=c;},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q){var v;v=this;this.Ll=p;this.Is=q;this.Mab=function(t){var w,u,y,x,z,A,B;w=v.gab++;u=t.request.DA || "dl";y=v.$Ya(u,"start");if(y){x=t.request.GB;z=x.stream.pa.rec;x=ma(x.stream.pa.yD).next().value;if(z || x)if((z=null !== z && void 0 !== z?z:x.u.id,!v.q$a.has(z))){A=v.qYa(z);B=t.Ev;v.Ll.mark(y,A,B?u + "-" + B + "-" + w:u);t.l1(function(){var C,D;C=v.$Ya(u,"end");D=B?u + "-" + B + "-" + w:u;C && v.Ll.mark(C,A,D);});}}};this.gab=0;this.q$a=new Set();this.kua=new Map();q.qS && this.n5b();}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;r=a(0);l=a(1);g=a(56);h=a(83);d=a(3);f=a(104);n=a(37);k=a(238);m={start:{video:g.Oa.pO,audio:g.Oa.lO},end:{video:g.Oa.oO,audio:g.Oa.kO}};c.prototype.rYa=function(p){var v,t,w,u,y,x,z,A;function q(B){return (0,d.timestamp)(v.xPa((0,d.timestamp)(B),p,!0));}v=this;t=new Set();w=p.Oc;u=p.ja;y=void 0 === p.l$a?null:p.l$a;x=p.J;z=this.Ll.bYa(u);A=x && this.qYa(x);A && z.push.apply(z,ea(this.Ll.bYa(A)));this.Ll.u7a(p.ja);A && this.Ll.u7a(A);x && this.q$a.add(x);x=[];("pr_ats" in w) && x.push({name:g.Oa.p_,sr:q(w.pr_ats),ja:u,rf:"request-pre-manifest"});("ats" in w) && x.push({name:g.Oa.n_,sr:q(w.ats),ja:u,rf:"request-manifest"});("pr_at" in w) && x.push({name:g.Oa.o_,sr:q(w.pr_at),ja:u,rf:"request-pre-manifest"});("at" in w) && x.push({name:g.Oa.m_,sr:q(w.at),ja:u,rf:"request-manifest"});("lg" in w) && x.push({name:g.Oa.l_,sr:q(w.lg),ja:u,rf:"request-license"});("lr" in w) && (x.push({name:g.Oa.k_,sr:q(w.lr),ja:u,rf:"request-license"}),x.push({name:g.Oa.VX,sr:q(w.lr),ja:u,rf:"apply-license"}));("ld" in w) && x.push({name:g.Oa.UX,sr:q(w.ld),ja:u,rf:"apply-license"});("tt_start" in w) && x.push({name:g.Oa.nO,sr:q(w.tt_start),ja:u,rf:"request-timed-text"});("tt_comp" in w) && x.push({name:g.Oa.mO,sr:q(w.tt_comp),ja:u,rf:"request-timed-text"});return x.concat(z).map(function(B){return v.i2b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,C){return B.ts - C.ts;}).reduce(function(B,C){var D;D=C.eventName;delete C.eventName;D && (B[D]=C);return B;},{});};c.prototype.kqb=function(p,q,v){return (void 0 === v?0:v)?p.ca(d.na) + q.Lh.ca(d.na):p.ca(d.na) - q.Lh.ca(d.na);};c.prototype.xPa=function(p,q,v){v=void 0 === v?!1:v;if(q.Xl)if(v)p.ca(d.na) + q.Xl;else return p.ca(d.na) - q.Xl;return this.kqb(p,q,v);};c.prototype.i2b=function(p,q){var v,t;v=p.rf;t=p.name;return {eventName:this.DQb(t,v),eventId:v || t,ts:this.xPa(p.sr,q),comp:this.WS(t),cat:this.sFb(t),step:this.jIb(t)};};c.prototype.DQb=function(p,q){switch(p){case g.Oa.nO:case g.Oa.mO:case g.Oa.lO:case g.Oa.kO:case g.Oa.pO:case g.Oa.oO:return p + "-" + q;default:return p;}};c.prototype.WS=function(p){switch(p){case g.Oa.p_:case g.Oa.o_:case g.Oa.n_:case g.Oa.m_:return "manifest";case g.Oa.l_:case g.Oa.k_:case g.Oa.vda:case g.Oa.uda:case g.Oa.NY:case g.Oa.MY:case g.Oa.VX:case g.Oa.UX:return "license";case g.Oa.nO:case g.Oa.mO:case g.Oa.lO:case g.Oa.kO:case g.Oa.pO:case g.Oa.oO:case g.Oa.M$:case g.Oa.L$:return "buffering";case g.Oa.Aca:case g.Oa.zca:return "playback";default:return (0,k.vS)(p);}};c.prototype.sFb=function(p){switch(p){case g.Oa.p_:case g.Oa.o_:case g.Oa.n_:case g.Oa.m_:return "aws";case g.Oa.l_:case g.Oa.k_:return "mixed";case g.Oa.Aca:case g.Oa.zca:case g.Oa.vda:case g.Oa.uda:case g.Oa.NY:case g.Oa.MY:case g.Oa.VX:case g.Oa.UX:case g.Oa.M$:case g.Oa.L$:return "device";case g.Oa.nO:case g.Oa.mO:case g.Oa.lO:case g.Oa.kO:case g.Oa.pO:case g.Oa.oO:return "cdn";default:return (0,k.vS)(p);}};c.prototype.jIb=function(p){switch(p){case g.Oa.p_:case g.Oa.Aca:case g.Oa.n_:case g.Oa.l_:case g.Oa.M$:case g.Oa.nO:case g.Oa.lO:case g.Oa.pO:case g.Oa.vda:case g.Oa.NY:case g.Oa.VX:return "start";case g.Oa.o_:case g.Oa.zca:case g.Oa.m_:case g.Oa.k_:case g.Oa.uda:case g.Oa.MY:case g.Oa.UX:case g.Oa.L$:case g.Oa.mO:case g.Oa.kO:case g.Oa.oO:return "end";default:return (0,k.vS)(p);}};c.prototype.$Ya=function(p,q){if((p in m[q]))return m[q][p];};c.prototype.n3b=function(){f.De.removeEventListener(f.Y4,this.Mab);};c.prototype.n5b=function(){this.n3b();f.De.addEventListener(f.Y4,this.Mab);};c.prototype.qYa=function(p){var q;if(this.kua.has(p))return this.kua.get(p);q=Date.now();this.kua.set(p,q);return q;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.fP)),r.__param(1,(0,l.l)(n.$m))],a);b.RFa=a;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E,G,F,H,K,O,I,P,N,J,L,R,ka,la,X;Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;r=a(1);c=a(490);l=a(1333);g=a(98);h=a(1334);d=a(502);f=a(1335);n=a(507);k=a(1336);m=a(508);p=a(1337);q=a(276);v=a(1338);t=a(86);w=a(1339);u=a(1340);y=a(34);x=a(2);z=a(1341);A=a(1342);B=a(1343);C=a(50);D=a(1344);E=a(558);G=a(1345);F=a(487);H=a(1346);K=a(1347);O=a(1348);I=a(359);P=a(1349);N=a(82);J=a(557);L=a(1350);R=a(1351);ka=a(1352);la=a(292);X=a(1353);b.jSa=new r.Xc(function(da){da(C.il).to(D.jHa);da(c.yHa).to(l.xHa);da(E.eHa).to(G.dHa);da(F.gHa).to(H.fHa);da(g.Lca).to(h.zHa);da(J.AHa).Md(function(ta){return function(){var Ba;Ba=ta.eb.get(N.Dw);return Ba && Ba.ccb?ta.eb.resolve(R.THa):ta.eb.resolve(L.BHa);};});da(d.cHa).to(f.bHa);da(n.QHa).to(k.PHa);da(m.sHa).to(p.rHa);da(q.Kca).to(v.tHa);da(t.GKa).to(w.FKa);da(t.MKa).to(u.LKa);da(t.SDa).to(z.RDa);da(t.BKa).to(A.AKa);da(t.uBa).to(B.tBa);da(O.Fjb).to(K.CHa);da(I.qHa).to(P.pHa);da(la.U$).to(ka.oxa);da(la.T$).to(X.ixa);da(t.hba).Md(function(ta){return function(Ba){switch(Ba){case t.wo.start:return ta.eb.get(t.GKa);case t.wo.stop:return ta.eb.get(t.MKa);case t.wo.aU:return ta.eb.get(t.SDa);case t.wo.splice:return ta.eb.get(t.BKa);case t.wo.lK:return ta.eb.get(t.uBa);}throw new y.Jc(x.V.Rib,void 0,void 0,void 0,void 0,"The event key was invalid - " + Ba);};});});},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.Ihb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);a=a(50);ha(c,d.ah);c.prototype.sf=function(n,k){var m;m=this;return this.send(n,{url:"/" + h.xg.kpa,name:h.xg.kpa,wj:h.xg.kpa},k).then(function(p){return p.result;}).catch(function(p){throw m.Al(p);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.xHa=f;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v;function c(t,w,u,y,x){t=d.ah.call(this,t,g.V.eI,3) || this;t.platform=w;t.xU=u;t.$Mb=y;t.vOb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(0);l=a(98);g=a(2);h=a(67);a(130);d=a(73);f=a(50);n=a(43);k=a(37);m=a(129);p=a(276);q=a(1);a=a(557);ha(c,d.ah);c.prototype.SHb=function(t,w){var u,y;y=w?h.xg.aNb:h.xg.X;w=w?"licensedManifest":"manifest";t.xq === l.el.mI && (w="prefetch/" + w);"live" === t.Ua.od && (w+="/live");if(null === (u=t.Ef) || void 0 === u?0:u.Tj)w+="/adBreakHydration";return {wj:w,$ub:y};};c.prototype.sf=function(t,w){var u,y;u=this;y=w.xq === l.el.x_?k.Xt.dJa:k.Xt.pP;return this.vOb().transform(w,y).then(function(x){var z,A;z=ma(x);x=z.next().value;A=z.next().value;!1;z=u.SHb(w,"licensedManifest" === A.vm);return u.send(t,{url:A.vm,name:z.$ub,wj:z.wj},x,void 0,void 0,y).then(function(B){var C;B=u.xU.create(B.result);C=B.Ha;A.Gx && (C=C.Ht.map(function(D){return D.Og;}).filter(Boolean),0 < C.length?(C=u.$Mb.Rab(C),A.Gx.dPa(C),B.Gx=A.Gx,B.eoa=w.xq === l.el.mI,B.doa=!0):A.Gx.close());B.lR=A.lR;B.EX=A.EX;!1;return B;});}).catch(function(x){!1;throw u.Al(x);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are not supported with manifest command"));};v=c;v=r.__decorate([(0,q.U)(),r.__param(0,(0,q.l)(f.il)),r.__param(1,(0,q.l)(n.hn)),r.__param(2,(0,q.l)(m.fI)),r.__param(3,(0,q.l)(p.Kca)),r.__param(4,(0,q.l)(a.AHa))],v);b.zHa=v;},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.bI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);a=a(50);ha(c,d.ah);c.prototype.sf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.z4=function(n){var k;k="ldl" === n.u1a?"prefetch/license":"license";"LIVE" === n.bg && (k+="/live");return k;};c.prototype.Jn=function(n,k,m){var p;p=this;k={url:k.NK(m.u1a).href,name:h.xg.Og,wj:this.z4(m)};return this.send(n,k,m.inputs,"drmSessionId").then(function(q){q=q.result;p.$tb(q);return q;}).catch(function(q){throw p.Al(q);});};c.prototype.$tb=function(n){n.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.bHa=f;},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.oda,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);a=a(50);ha(c,d.ah);c.prototype.sf=function(n,k){var m;m=this;return this.send(n,{url:"/bundle",name:h.xg.Og,wj:"release/license"},k).then(function(p){return p.result;}).catch(function(p){throw m.Al(p);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.PHa=f;},function(r,b,a){var l,g,h,d,f;function c(n,k,m){this.ta=n;this.platform=k;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;r=a(0);l=a(1);g=a(27);h=a(3);d=a(43);a=a(11);c.prototype.B2b=function(n){var k,m;k=this;m=this.ta.se.ca(h.fm);return {inputs:n.kj.map(function(p){var q,v,t,w,u;return {drmSessionId:p.sessionId,clientTime:m,challengeBase64:p.dataBase64,xid:n.ja.toString(),clientVersion:k.platform.version,platform:null === (q=k.config().Vc) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (v=k.config().Vc) || void 0 === v?void 0:v.os) || void 0 === t?void 0:t.version,osName:null === (u=null === (w=k.config().Vc) || void 0 === w?void 0:w.os) || void 0 === u?void 0:u.name};}),u1a:"standard" === n.ff.toLowerCase()?"license":"ldl",bg:n.bg};};c.prototype.E2b=function(n){var k,m;k=this;m=[];return n.de.map(function(p){m.push(p.id);return {url:k.Nsb(p.TF,p.jU),echo:"drmSessionId",params:{drmSessionId:p.id,xid:n.ja.toString()}};});};c.prototype.Nsb=function(n,k){return "/releaseLicense?drmLicenseContextId=" + n + (k?"&licenseId=" + k:"");};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.wg)),r.__param(1,(0,l.l)(d.hn)),r.__param(2,(0,l.l)(a.ac))],f);b.rHa=f;},function(r,b,a){var l,g,h;function c(d,f){this.vh=d;this.nA=f;}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(0);l=a(1);g=a(30);a=a(29);c.prototype.Rab=function(d){var f,n;f=this;n=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return f.vh.uV(k.substring(k.indexOf("?") + 1));});return {ia:!0,de:d.map(function(k,m){return {id:k.drmSessionId,TF:n[m].drmlicensecontextid,jU:n[m].licenseid};}),Hk:d.map(function(k){return {data:f.nA.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};h=c;h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.dh)),r.__param(1,(0,l.l)(a.$g))],h);b.tHa=h;},function(r,b,a){var l,g,h,d,f;function c(n){return h.Tp.call(this,n,g.V.pkb,d.wo.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FKa=void 0;r=a(0);l=a(1);g=a(2);h=a(161);d=a(86);a=a(50);ha(c,h.Tp);f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.FKa=f;},function(r,b,a){var l,g,h,d,f;function c(n){return h.Tp.call(this,n,g.V.qkb,d.wo.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LKa=void 0;r=a(0);l=a(1);g=a(2);h=a(161);d=a(86);a=a(50);ha(c,h.Tp);f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.LKa=f;},function(r,b,a){var l,g,h,d,f;function c(n){return h.Tp.call(this,n,g.V.Hba,d.wo.aU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(0);l=a(1);g=a(2);h=a(161);d=a(86);a=a(50);ha(c,h.Tp);f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.RDa=f;},function(r,b,a){var l,g,h,d,f;function c(n){return h.Tp.call(this,n,g.V.VJa,d.wo.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AKa=void 0;r=a(0);l=a(1);g=a(2);h=a(161);d=a(86);a=a(50);ha(c,h.Tp);f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.AKa=f;},function(r,b,a){var l,g,h,d,f;function c(n){return h.Tp.call(this,n,g.V.ogb,d.wo.lK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;r=a(0);l=a(1);g=a(2);h=a(161);d=a(86);a=a(50);ha(c,h.Tp);c.prototype.qA=function(n){return Object.assign(Object.assign({},h.Tp.prototype.qA.call(this,n)),{action:n.action});};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.tBa=f;},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q,v,t,w,u,y,x,z,A){this.hh=q;this.De=v;this.Pg=t;this.mAb=w;this.Sx=u;this.g4b=y;this.xXb=z;this.ME=A;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(0);l=a(1);g=a(168);h=a(82);d=a(527);f=a(524);n=a(84);k=a(65);m=a(347);p=a(109);a=a(92);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.$X)),r.__param(1,(0,l.l)(k.Tt)),r.__param(2,(0,l.l)(h.Dw)),r.__param(3,(0,l.l)(f.mHa)),r.__param(4,(0,l.l)(n.qw)),r.__param(5,(0,l.l)(m.ILa)),r.__param(6,(0,l.l)(p.BY)),r.__param(7,(0,l.l)(d.SHa)),r.__param(8,(0,l.l)(a.jw))],c);b.jHa=c;},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.Rdb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);a=a(50);ha(c,d.ah);c.prototype.sf=function(n,k,m){var p;p=this;return this.send(n,{url:"/" + h.xg.bind,name:h.xg.bind,wj:h.xg.bind},k,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Al(q);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.dHa=f;},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.Sdb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);a=a(50);ha(c,d.ah);c.prototype.sf=function(n,k,m){var p;p=this;return this.send(n,{url:"/bindDevice",name:h.xg.bind,wj:h.xg.bind},k,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Al(q);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.fHa=f;},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.fjb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);a=a(50);ha(c,d.ah);c.prototype.sf=function(n,k,m){var p;p=this;return this.send(n,{url:"/" + h.xg.ping,name:h.xg.ping,wj:h.xg.ping},k,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Al(q);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.CHa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fjb="PboPingCommandSymbol";},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.Bgb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);a=a(50);ha(c,d.ah);c.prototype.sf=function(n,k){var m;m=this;return this.send(n,{url:"/generateScreenshots",name:h.xg.X,wj:"generateScreenshots"},k).then(function(p){return p.result;}).catch(function(p){throw m.Al(p);});};c.prototype.Jn=function(n,k,m){var p;p=this;k={url:k.NK("generateScreenshots").href,name:h.xg.X,wj:"generateScreenshots"};return this.send(n,k,m).then(function(q){return q.result;}).catch(function(q){throw p.Al(q);});};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.il))],f);b.pHa=f;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w,u,y;function c(x,z,A,B,C,D,E,G,F,H){this.Pg=x;this.platform=z;this.config=A;this.Ktb=B;this.LTb=C;this.ao=D;this.BR=E;this.ta=G;this.x6=F;this.Am=H;}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(0);l=a(1);g=a(98);h=a(11);d=a(470);f=a(468);n=a(556);k=a(96);m=a(43);p=a(27);q=a(3);v=a(166);t=a(82);w=a(349);u=a(26);y=a(57);c.prototype.transform=function(x,z){var A,B,C,D,E,G,F,H;A=this;B=x.Ua;C=Object.assign({},B.O1,B.Rl);D={};E=x.K;G=this.config();D[E]={unletterboxed:!!C.preferUnletterboxed || G.wUb};F=G.o4b?30:25;G=G.zr?this.ao.XFb():Promise.resolve(this.x6.Js());H={od:null === B || void 0 === B?void 0:B.od};return Promise.all([this.Am.TYa(H),this.Am.VYa(H),this.Am.iT(),this.Am.w4(),this.tFb(x.ja,z),this.ZFb(x),G]).then(function(K){var O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja,Va,Ta,T;O=ma(K);I=O.next().value;P=O.next().value;N=O.next().value;J=O.next().value;L=O.next().value;K=O.next().value;R=O.next().value;O=I.C4().concat(P.C4()).concat(A.config().Bt).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;T="postplay" === B.od?!0:!!C.isUIAutoPlay;N={type:"standard",manifestVersion:A.Pg.iVa?"v2":"v1",viewableId:E,profiles:O,flavor:x.xq,drmType:R,drmVersion:F,usePsshBox:!0,isBranching:!!x.Ua.Yf,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().u1b,imageSubtitleHeight:d.Mda.zYa(),uiVersion:A.Pg.Tv,uiPlatform:A.Pg.f$,clientVersion:A.platform.version,platform:null === (ka=A.config().Vc) || void 0 === ka?void 0:ka.version,osVersion:null === (X=null === (la=A.config().Vc) || void 0 === la?void 0:la.os) || void 0 === X?void 0:X.version,osName:null === (ta=null === (da=A.config().Vc) || void 0 === da?void 0:da.os) || void 0 === ta?void 0:ta.name,supportsPreReleasePin:A.config().gp.n1b,supportsWatermark:A.config().gp.o1b,packageId:A.vHb(B),deviceSecurityLevel:J,videoOutputInfo:N,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:T,challenge:L,isNonMember:A.Pg.h0a,pin:B.u5a,desiredVmaf:A.config().Xbb?A.config().cUa:A.config().dUa,desiredSegmentVmaf:A.config().Xbb?A.config().cUa:A.config().dUa,requestSegmentVmaf:A.config().BXb,supportsPartialHydration:A.Pg.jK,contentPlaygraph:x.Ua.Yf?[]:A.Pg.EE,supportsAdBreakHydration:x.Ua.Yf?!1:A.Pg.Q9,auxiliaryManifestToken:x.Ua.Yf?void 0:null === (Ba=x.Ef) || void 0 === Ba?void 0:Ba.Uc,adBreakToken:x.Ua.Yf?void 0:null === (Ja=x.Ef) || void 0 === Ja?void 0:Ja.Tj,originalPlaybackContextId:!x.Ua.Yf && (null === (Va=x.Ef) || void 0 === Va?0:Va.Uc)?null === (Ta=x.Ef) || void 0 === Ta?void 0:Ta.oV:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.BVa && (N.extraParams=B.BVa);B.bUa && (N.desiredDownloadables=B.bUa);B.sta && (N.requestReference=B.sta);ka={vm:N.adBreakToken?"adBreakHydration":K?"licensedManifest":"manifest",Gx:null === K || void 0 === K?void 0:K.Oy,lR:I,EX:P};K && (K={drmSessionId:K.Oy.Mx() || "session",clientTime:A.ta.SG.ca(q.fm),challengeBase64:K.Zha},N.challenges={"default":[K]},N.profileGroups=[{name:"default",profiles:O}],N.licenseType=x.ff == y.xh.bn?"limited":"standard",x.ja && (N.xid=x.ja.toString()));A.Pg.jK || (N.showAllSubDubTracks=A.config().gp.J_b || !!C.showAllSubDubTracks,A.Pg.aVa && x.xq === g.el.x_ && (N.maxSupportedLanguages=2));x.CN && (N.originalPlaybackContextId=x.CN.oV,N.requiredAudioTrackId=x.CN.FXb,N.requiredTextTrackId=x.CN.IXb);return [N,ka];});};c.prototype.vHb=function(x){if(this.config().k8.enabled){if(void 0 !== x.Rm)return x.Rm;if(void 0 !== this.config().k8.Rm)return Number(this.config().k8.Rm);}};c.prototype.tFb=function(x,z){var A;A=this;return this.Ktb.eXa(z).then(function(B){var C;C=x && A.LTb.AHb(x);C && C.Ro("cad");return B;});};c.prototype.ZFb=function(x){var z;if(void 0 === x.ff || !this.config().zr)return Promise.resolve(void 0);z=x.ff === y.xh.em && this.Pg.Tu;return x.ff === y.xh.bn && this.Pg.IA || z?this.BR.wma(x.ff):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(t.Dw)),r.__param(1,(0,l.l)(m.hn)),r.__param(2,(0,l.l)(h.ac)),r.__param(3,(0,l.l)(f.aza)),r.__param(4,(0,l.l)(n.Zca)),r.__param(5,(0,l.l)(k.vw)),r.__param(6,(0,l.l)(v.kY)),r.__param(7,(0,l.l)(p.wg)),r.__param(8,(0,l.l)(w.gca)),r.__param(9,(0,l.l)(u.iw))],a);b.BHa=a;},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q){this.platform=k;this.config=m;this.BR=p;this.Am=q;}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;r=a(0);l=a(1);g=a(11);h=a(43);d=a(166);f=a(26);n=a(57);c.prototype.transform=function(k){var m,p,q;m=this;p=k.Ua;q={od:void 0};return Promise.all([this.Am.TYa(q),this.Am.VYa(q),this.BR.wma(n.xh.em)]).then(function(v){var t,w;t=ma(v);v=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:k.K,packageId:p.Rm,assetId:p.aha,challenge:t.Zha,audioProfiles:v.C4(),textProfiles:m.config().Bt,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.C4(),audioLanguages:p.urb,textLanguages:p.M1b,videoLanguages:p.pcb?[p.pcb]:void 0,requestReference:p.sta,additionalAudioAssets:p.fqb,additionalTextAssets:p.jqb,useBetterTextUrls:!0},{Gx:null === t || void 0 === t?void 0:t.Oy,vm:"studioManifest",lR:v,EX:w}];});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.hn)),r.__param(1,(0,l.l)(g.ac)),r.__param(2,(0,l.l)(d.kY)),r.__param(3,(0,l.l)(f.iw))],a);b.THa=a;},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.axa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oxa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);f=a(50);a(130);ha(c,d.ah);c.prototype.sf=function(n,k){var m,p,q;m=this;p=k.event;q=this.qA(k);!1;!1;return this.send(n,{url:k.href,name:h.xg.events,wj:h.xg.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw m.Al(v);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.qA=function(n){return {xid:n.ja,event:n.event,adEventToken:n.Fu,adBreakLocationMs:n.dE,position:n.position,clientTime:n.rx,sessionStartTime:n.Sl,appId:n.appId,sessionId:n.sessionId,playTimes:this.Fha(n.zv),mainManifestPlaybackContextId:n.jOb,thirdPartyAdVerificationMetadata:n.P1b};};c.prototype.Fha=function(n){return {total:n.total,audio:n.audio.map(function(k){return {duration:k.duration,downloadableId:k.Sb,cdnId:k.sm};}),video:n.video.map(function(k){return {duration:k.duration,downloadableId:k.Sb,cdnId:k.sm};}),text:n.text.map(function(k){return {duration:k.duration,downloadableId:k.Sb,cdnId:k.sm};})};};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.il))],a);b.oxa=a;},function(r,b,a){var l,g,h,d,f;function c(n){return d.ah.call(this,n,g.V.axa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;r=a(0);l=a(1);g=a(2);h=a(67);d=a(73);f=a(50);a(130);ha(c,d.ah);c.prototype.sf=function(n,k){var m,p,q;m=this;p=k.event;q=this.qA(k);!1;!1;return this.send(n,{url:k.href,name:h.xg.events,wj:h.xg.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw m.Al(v);});};c.prototype.Jn=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.qA=function(n){return {xid:n.ja,event:n.event,adEventToken:n.Fu,adBreakLocationMs:n.dE,position:n.position,clientTime:n.rx,sessionStartTime:n.Sl,appId:n.appId,sessionId:n.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.il))],a);b.ixa=a;},function(r,b,a){var c,l,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(1);c=a(269);l=a(525);g=a(1355);h=a(1356);d=a(1357);f=a(37);b.transports=new r.Xc(function(n){n(c.K_).to(d.tLa).da();n(l.YFa).to(g.XFa);n(l.DKa).to(h.CKa);n(l.uLa).Md(function(k){return function(m){var p;return k.eb.get(c.K_).s9(null !== (p=null === m || void 0 === m?void 0:m.hQb) && void 0 !== p?p:f.Xt.pP)?k.eb.get(l.YFa):k.eb.get(l.DKa);};});});},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p){var q;q=this;this.MB=m;this.profile=p;this.log=k.Sa("MslTransport");this.MB().then(function(v){return q.T6=v;});}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;r=a(0);l=a(1);g=a(6);h=a(157);d=a(3);a=a(78);f={license:!0};c.prototype.send=function(k,m){var p,q;p=this;q={pqa:Object.assign({De:k.De,log:k.log,profile:this.profile},k.gsb),method:k.vm,url:k.url.href,body:JSON.stringify(m),timeout:k.timeout.ca(d.na),ecb:this.profile,nXb:!f[k.vm],V3a:!!f[k.vm],YE:!0,K8:k.Ita,headers:k.headers};!1;return this.MB().then(function(v){return v.send(q).catch(function(t){var w;if(!t.error)throw (t.cc=t.za || t.cc,t);w=t.error;w.kC=t.kC;p.log.error("Error sending MSL request",{mslCode:w.oy,subCode:w.cc,data:w.data,message:w.message});throw w;});});};c.prototype.Oia=function(){var k;return {userTokens:null === (k=this.T6) || void 0 === k?void 0:k.RU.getUserIdTokenKeys()};};n=c;n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Va)),r.__param(1,(0,l.l)(h.gP)),r.__param(2,(0,l.l)(a.qI))],n);b.XFa=n;},function(r,b,a){var l,g,h,d;function c(f,n){this.De=n;this.log=f.Sa("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;r=a(0);l=a(1);g=a(3);h=a(6);a=a(65);c.prototype.send=function(f,n){var k,m;k=this;m={url:f.url.href,DA:"nq-" + f.vm,V5a:JSON.stringify(n),v2:f.timeout.ca(g.na),headers:f.headers,withCredentials:!0,hr:"pbo"};!1;return new Promise(function(p,q){k.De.download(m,function(v){v.ia?p(v):q(v);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.cc=p.za || p.cc,p);q=p.error;q.kC=p.kC;k.log.error("Error sending SSL request",{subCode:q.cc,data:q.content,message:q.message});throw q;});};c.prototype.Oia=function(){return {};};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(a.Tt))],d);b.CKa=d;},function(r,b,a){var l,g,h,d,f;function c(n){return g.Le.call(this,n,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;r=a(0);l=a(1);g=a(45);h=a(31);d=a(44);f=a(37);ha(c,g.Le);c.prototype.s9=function(n){var k,m;k=this.KN;m=this.BPa;switch(n){case f.Xt.pP:return k;case f.Xt.dJa:return k && !m;case f.Xt.zib:return !1;}};Sa.Object.defineProperties(c.prototype,{KN:{configurable:!0,enumerable:!0,get:function(){return !0;}},BPa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Kc,"usesMsl")],a.prototype,"KN",null);r.__decorate([d.config(d.Kc,"allowRequestsWithoutMsl")],a.prototype,"BPa",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ll))],a);b.tLa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Gk=void 0;r=a(1);c=a(541);l=a(1359);b.Gk=new r.Xc(function(g){g(c.dEa).to(l.cEa);});},function(r,b,a){var l,g,h,d,f,n,k,m;function c(p,q,v,t,w){this.SE=p;this.Yh=q;this.config=v;this.KL=t;this.Wc=w;}Object.defineProperty(b,"__esModule",{value:!0});b.cEa=void 0;r=a(0);l=a(1);g=a(124);h=a(1360);d=a(1361);f=a(62);n=a(11);k=a(136);a=a(116);c.prototype.create=function(p,q,v){return p?new h.eEa(this.config(),this.Yh,this.Wc,q,v,this.SE,this.KL()):new d.ZDa(this.config,this.Yh,this.Wc,q,v);};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.FY)),r.__param(1,(0,l.l)(f.Vp)),r.__param(2,(0,l.l)(n.ac)),r.__param(3,(0,l.l)(k.aP)),r.__param(4,(0,l.l)(a.tD))],m);b.cEa=m;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u,y,x,z){u=k.iO.call(this,u,y) || this;u.config=v;u.Yh=t;u.Wc=w;u.SE=x;u.y6=z;u.log=(0,g.Gh)(u.j,"LicenseBroker");u.hU=new Set();u.Upa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;r=a(0);l=a(2);g=a(8);h=a(331);d=a(3);f=a(1);n=a(559);k=a(560);m=a(57);p=a(15);q=a(41);ha(c,k.iO);c.prototype.w7=function(){var v,t;v=this;t=this.j.aa;this.hU.has(t.O) || (this.hU.add(t.O),this.Lqb(t).catch(function(){return v.L7a(t);}).then(function(){return v.UPa(t);}).catch(function(w){return v.TPa(t,w);}).catch(function(w){return v.dd(w.code,w,w.Lc);}));};c.prototype.Lqb=function(v){var t;t=this;return Promise.all([this.Wc.$Wa(v.O),this.SE()]).then(function(w){var u,y;w=ma(w);u=w.next().value;y=w.next().value;return u.h9.then(function(x){var z;z=t.y6.mediaKeys;if(z && z !== x.mediaKeys)return (t.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === u.source && (z=t.VXa(v),y.s3a(z,x));return x;}).then(function(x){return t.x1(x,v,u.source);});}).catch(function(w){t.log.warn("eme not in cache",w);throw w;});};c.prototype.x1=function(v,t,w){this.n6a(v,t);t.rE=w;this.y6.fPa(v.mediaKeys);return v.Tga();};c.prototype.jEb=function(v){var t;t={};v.forEach(function(w){t[(0,h.EUa)(w.LU)]=w.time.ca(d.na);});return t;};c.prototype.n6a=function(v,t){var w;w=this;t.Zd=v;v.BZb(function(u){w.dd(u.code,u,u.Lc);});};c.prototype.UPa=function(v){this.log.info("Successfully applied license for xid: " + v.ja + ", viewable: " + v.O + ", segment: " + v.J);this.Tx(v);this.Upa?this.J3(v.O):this.setMediaKeys(v);};c.prototype.TPa=function(v,t){this.Tx(v);throw t;};c.prototype.Tx=function(v){v.Zd && v.Tx(this.jEb(v.Zd.Oc));};c.prototype.VXa=function(v){var t,w;t=v.Xv[0];w=t.streams[0].Ue;w=(0,q.Yna)(w);t=(0,q.Yla)(t.streams);return {type:this.p4(!1),initData:v.pt.map(function(u){return (0,g.kq)(u);}),t5:w,context:{$:this.Ob.$,M5:t},ki:{O:v.O,ja:v.ja,xf:v.xf,Bk:v.Bk,di:v.X.di,bg:v.X.Ha.bg}};};c.prototype.L7a=function(v){var t;t=this;return this.SE().then(function(w){var u;u=t.VXa(v);t.hU.add(v.O);return w.Og(u,t.y6).then(function(y){t.n6a(y,v);t.j.fireEvent(p.ea.kU,{O:v.O});return y.Tga();});});};c.prototype.setMediaKeys=function(v){var t;t=this;if(this.Upa)this.log.trace("Media Keys already set");else try{this.Ob.$?(this.Upa=!0,this.Ob.$.setMediaKeys(v.Zd.mediaKeys).then(function(){t.J3(v.O);}).catch(function(w){w=t.bZa(w);t.dd(l.V.lI,w,w.Ve);})):this.J3(v.O);}catch(w){this.dd(l.V.lI,w,void 0);}};c.prototype.Gy=function(){var v,t;v=this;t=this.j.aa.Zd;return t?this.SE().then(function(w){return w.release(t,v.y6).then(function(u){v.log.trace("Successfully released the license");return u.close();}).catch(function(u){v.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.K7a=function(v){var t;t=this;v=void 0 === v?this.j:v;return this.L7a(v).then(function(){return t.UPa(v);}).catch(function(w){return t.TPa(v,w);});};c.prototype.p4=function(v){return this.Yh.KS?m.xh.bn:v?m.xh.bn:m.xh.em;};Sa.Object.defineProperties(c.prototype,{NB:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Fl:{configurable:!0,enumerable:!0,get:function(){return this.config.Fl;}}});a=c;r.__decorate([n.X5],a.prototype,"NB",null);a=r.__decorate([(0,f.U)()],a);b.eEa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t;function c(w,u,y,x,z){x=p.iO.call(this,x,z) || this;x.config=w;x.Yh=u;x.Wc=y;x.log=(0,g.Gh)(x.j,"LegacyLicenseBroker");x.Fl=x.config().Fl;x.config().w6a?(0,d.q0a)()?x.n$=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:f.fD}):x.n$=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;r=a(0);l=a(2);g=a(8);h=a(156);d=a(42);f=a(12);n=a(1);k=a(559);m=a(43);p=a(560);q=a(57);v=a(3);ha(c,p.iO);c.prototype.SSa=function(w){var u;u=void 0 === u?this.j:u;return new this.Zq.SH(w,function(y){return u.y2.qF(y);},function(y){return u.y2.release(y);},{df:!1,$j:!1});};c.prototype.xA=function(w){var u,y,x,z,A,B;u=this;w=void 0 === w?this.j:w;y=a(61).um;this.Zq.SH || this.dd(l.V.bI,l.R.dgb);x=(0,g.Gh)(w,"Eme");z=this.SSa(x);A=g.Aa.get(h.wP);B=A.B2(w.jc.value.streams);A=A.I2(w.Fg.value.streams);return this.Zq.UH(x,function(C){return w.fe(C);},{df:!1,$j:!1,ta:{getTime:y},mo:z,MV:!!this.n$,$:this.Ob.$,az:this.config().VUa,onerror:function(C,D,E){return u.dd(C,D,E);},Hqa:function(){},pG:!0,trb:B,P4b:A,Roa:this.Yh.v1.ca(v.na)});};c.prototype.setMediaKeys=function(w){var u;u=this;return this.n$?new Promise(function(y,x){if(u.Ob.$)u.Ob.$.setMediaKeys(w).then(function(){y();}).catch(function(z){var A;A=u.bZa(z);x({ia:!1,code:l.V.lI,cc:A.za,Lc:A.Ve,Ib:A.Ib,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.uVa=function(w){return {code:w.code,subCode:w.cc,extCode:w.Lc,edgeCode:w.Dm,message:w.message,errorDetails:w.Ib,errorData:w.LA,state:w.state};};c.prototype.Aua=function(w,u,y){var z,A,B;function x(){A.DG().catch(function(C){z.log.error("Unable to set the license",z.uVa(C));C.cause && C.cause.Ib && (C.Ib=C.Ib?C.Ib + C.cause.Ib:C.cause.Ib);z.dd(C.code,C,C.Lc);});}z=this;y=void 0 === y?this.j:y;A=y.Zd;this.log.info("Setting the license");B=u?function(){return Promise.resolve();}:function(){return A.Og(z.p4(!1),w);};return (u?function(){return A.x1(z.Ob.$);}:function(){return A.create(z.Fl).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.J3(y.O);z.Ob.Hcb.then(function(){z.config().zB && (u || z.config().KS) && (z.E7a=mb.setTimeout(x,z.config().zB));});}).catch(function(C){z.log.error("Unable to set the license",z.uVa(C));C.cause && C.cause.Ib && (C.Ib=C.Ib?C.Ib + C.cause.Ib:C.cause.Ib);if(u)throw Error(C && C.message?C.message:"failed to set license");z.dd(C.code,C,C.Lc);});};c.prototype.Gy=function(){return Promise.resolve();};c.prototype.w7=function(){var u;function w(){var y;u.j.Zd=u.xA();y=[];u.j.pt.forEach(function(x){y.push((0,g.kq)(x));});u.Aua(y);}u=this;this.hU || (this.hU=!0,this.Zq.UH?this.j.pt?this.config().pS && this.config().ar?this.Wc.$Wa(this.j.O).then(function(y){u.j.Zd=y;return y.Rwa.then(function(){var x;x=[];u.j.pt.forEach(function(z){x.push((0,g.kq)(z));});return u.Aua(x,!0).then(function(){var z;if(y.Yac)u.dd(l.V.hgb);else {z=(0,g.Gh)(u.j,"Eme");y.Fbb({log:z,Nm:function(A){return u.j.fe(A);}},{mo:u.SSa(z),onerror:function(A,B,C){return u.dd(A,B,C);}});u.j.Tx(y.Oc || ({}));u.j.rE="videopreparer";}});});}).catch(function(y){u.log.warn("eme not in cache",y);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.dd(l.V.rjb)):this.dd(l.V.bI,l.R.egb));};c.prototype.K7a=function(w){var u;w=void 0 === w?this.j:w;w.Zd=this.xA();u=[];w.pt.forEach(function(y){u.push((0,g.kq)(y));});return this.Aua(u,!1,w);};c.prototype.p4=function(w){return this.config().KS?q.xh.bn:w?q.xh.bn:q.xh.em;};Sa.Object.defineProperties(c.prototype,{Zq:{configurable:!0,enumerable:!0,get:function(){return g.Aa.get(m.h_);}},NB:{configurable:!0,enumerable:!0,get:function(){return this.n$?"encrypted":this.Ob.kBa + "needkey";}}});t=c;r.__decorate([k.X5],t.prototype,"Zq",null);r.__decorate([k.X5],t.prototype,"NB",null);t=r.__decorate([(0,n.U)()],t);b.ZDa=t;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});b.Dg=void 0;r=a(1);c=a(293);l=a(1363);g=a(294);h=a(1368);d=a(117);f=a(1370);n=a(1371);k=a(159);m=a(561);p=a(1372);q=a(562);v=a(1374);t=a(84);w=a(563);u=a(1375);b.Dg=new r.Xc(function(y){y(c.fda).to(l.PIa).da();y(g.hda).to(h.aJa).da();y(d.oI).to(f.NIa).da();y(k.kD).to(n.LIa).da();y(m.VIa).to(p.UIa).da();y(q.ZIa).Md(function(x){var z;z=x.eb;return function(A){return new v.$Ia(A,z.get(t.qw),z.get(k.kD));};});y(w.aEa).Md(function(x){var z;z=x.eb;return function(A,B,C){return new u.bEa(A,B,C,z.get(k.kD),z.get(d.oI));};});});},function(r,b,a){var l,g,h,d,f,n,k,m,p;function c(q,v,t,w,u,y,x){this.tf=q;this.tka=v;this.li=t;this.awa=w;this.cUb=u;this.eUb=y;this.dUb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.PIa=void 0;r=a(0);l=a(1);g=a(1364);h=a(6);d=a(159);f=a(350);n=a(561);k=a(357);m=a(562);a=a(294);c.prototype.create=function(q){return new g.QIa(q,this.tf,this.tka,this.li,this.awa,this.cUb,this.eUb,this.dUb);};p=c;p=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Va)),r.__param(1,(0,l.l)(f.BO)),r.__param(2,(0,l.l)(d.kD)),r.__param(3,(0,l.l)(k.sLa)),r.__param(4,(0,l.l)(n.VIa)),r.__param(5,(0,l.l)(m.ZIa)),r.__param(6,(0,l.l)(a.hda))],p);b.PIa=p;},function(r,b,a){var l,g,h;function c(d,f,n,k,m,p,q,v){this.awa=m;this.Nwa=v;this.IS=!1;k.m$ && (d=new h.RIa().D2b(d));this.fb=q(d);this.Ij=new g.bJa(this.fb);this.Ij.d9a(this.fb.aa.K);this.log=f.Sa("PlaygraphManager");this.Cb=n.create();this.jt=p.create(this.fb,this.Ij,this.log,this.Cb);this.k_b();}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;l=a(15);g=a(1365);h=a(1367);c.prototype.CHb=function(){return this.fb.V7;};c.prototype.Gla=function(){return this.fb.aa;};c.prototype.mXa=function(){return this.fb.ih;};c.prototype.uF=function(){return this.fb.fk;};c.prototype.Ej=function(d){for(var f=[],n=0;n < arguments.length;++n){f[n - 0]=arguments[n];}this.fb.Ej.apply(this.fb,ea(f));};c.prototype.Bub=function(d){for(var f=[],n=0;n < arguments.length;++n){f[n - 0]=arguments[n];}this.fb.gQa(f);};c.prototype.Gt=function(d){this.fb.fk=d;};c.prototype.Ti=function(d,f){this.fb.Ti(d,f);};c.prototype.Qma=function(d,f,n,k){var m,p;n=void 0 === n?{}:n;k=void 0 === k?!0:k;if(d !== this.fb.ih)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (m=this.uF().L[d].next) && void 0 !== m?m:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.H9a();null === (p=n.Rl) || void 0 === p?void 0:p.isUIAutoPlay;return this.jt.Rma(f,n,k);};c.prototype.isReady=function(){return this.jt.isReady();};c.prototype.addListener=function(d,f,n){this.Cb.addListener(d,f,n);};c.prototype.removeListener=function(d,f){this.Cb.removeListener(d,f);};c.prototype.Gm=function(){return this.jt.Gm();};c.prototype.wb=function(){return this.jt.sF();};c.prototype.eyb=function(d,f,n){var k;d=void 0 === d?this.uF().ce:d;f=void 0 === f?{}:f;k=this.Nwa.fTa(this);this.IUb(null !== d && void 0 !== d?d:this.uF().ce,f,n);return k;};c.prototype.eqb=function(d){var f;this.log.info("Adding segment - movieId: " + d.O + ", startPts: " + d.gb + ", logicalEnd: " + d.Mi);f=Object.assign({},d.qb,d.gb?{gb:d.gb}:{},d.Mi?{Mi:d.Mi}:{});this.z$a(d.O,f,d.X);d=this.jt.rPa(d);this.H9a();return d;};c.prototype.transition=function(d){var f;f=this.fb.dT(this.fb.ih);return f?this.Qma(this.fb.ih,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.jt.close(d);};c.prototype.IUb=function(d,f,n){var k;void 0 === d && (d=null === (k=this.uF()) || void 0 === k?void 0:k.ce);(f || n) && this.z$a(this.uF().L[d].K,null !== f && void 0 !== f?f:{},n);this.jt.wG(d);};c.prototype.z$a=function(d,f,n){n && this.Ij.m1(d,n);this.Ij.Tpb(d,f);};c.prototype.k_b=function(){var d;d=this;this.fb.b1b(function(){d.Ij.wv();d.jt.wv();});this.fb.c1b(function(f){d.jt.gra(f);});this.fb.a1b(function(f){d.jt.iG(f);});this.addListener(l.lD.rW,function(){return d.eSb();});this.addListener(l.Ka.J_a,function(f){return d.URb(f);});};c.prototype.H9a=function(){var d;d=this;this.IS || (this.wb().uga(l.ea.NG,function(f){return d.xv(f);}),this.IS=!0);};c.prototype.URb=function(d){var f;f=this;this.jt.bbb(d).catch(function(){return f.Cb.zc(l.Ka.error,d.kX());});};c.prototype.eSb=function(){var d;d=this.wb().getError();d?this.Cb.zc(l.Ka.zJ,d):(this.Cb.zc(l.Ka.M1),this.Cb.zc(l.Ka.sl),this.Cb.zc(l.Ka.Ct),this.Cb.zc(l.Ka.Wk),this.Cb.zc(l.Ka.nX),this.Cb.zc(l.Ka.zJ));};c.prototype.xv=function(d){var f,n,k;!1;f=d.metrics;if(f){n=this.wb();k=n.Zh(d.position.segmentId);f=n.Zh(f.srcsegment);this.awa.zVb(d,k,f,!!n.sYa().Yf);}};b.QIa=c;},function(r,b,a){var l;function c(g){this.fa=g;this.PN={};this.wv();}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;l=a(1366);c.prototype.wv=function(){var g;g=this;Object.values(this.fa.fk.L).forEach(function(h){h=h.K;g.PN[h] || g.B_a(h);});this.h$();};c.prototype.ZK=function(g){return this.PN[g];};c.prototype.DZb=function(g){this.gT(g).state=l.Lw.NBa;this.h$();};c.prototype.CZb=function(g,h){g=this.gT(g);g.state=l.Lw.Error;g.error=h;g.b8a(!1);this.h$();};c.prototype.d9a=function(g){g=this.gT(g);g.state=l.Lw.Vfb;g.b8a(!0);this.h$();};c.prototype.Tpb=function(g,h){this.gT(g).qb=h;};c.prototype.m1=function(g,h){this.gT(g).X=h;};c.prototype.gT=function(g){var h;return null !== (h=this.ZK(g)) && void 0 !== h?h:this.B_a(g);};c.prototype.B_a=function(g){var h,d;h=void 0;d=new Promise(function(f,n){h=function(k){(k?f:n)();};});return this.PN[g]={state:l.Lw.mGa,aWb:d,b8a:h};};c.prototype.h$=function(){var h;for(var g=this.fa.ih;g=this.fa.dT(g);){h=this.Jm(g);if(this.PN[h].state === l.Lw.Error)break;if(this.PN[h].state === l.Lw.NBa)break;if(this.PN[h].state === l.Lw.mGa)break;}};c.prototype.Jm=function(g){return this.fa.fk.L[g].K;};b.bJa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lw=void 0;r=b.Lw || (b.Lw={});r[r.mGa=0]="None";r[r.NBa=1]="Fetching";r[r.Vfb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RIa=void 0;l=a(36);c.prototype.D2b=function(g){var h;if(!this.bMb(g.L))return g;h=new l.$t().UG(g.ce);Object.entries(g.L).forEach(function(d){var f;f=ma(d);d=f.next().value;f=f.next().value;d === g.ce?h.pf(d,Object.assign(Object.assign({},f),{next:void 0,qa:void 0,Hb:void 0})):h.pf(d,f);});return h.Dh();};c.prototype.bMb=function(g){g=Object.values(g).map(function(h){return h.K;});return 1 === new Set(g).size;};b.RIa=c;},function(r,b,a){var l,g,h,d;function c(f,n){this.Ea=f;this.YMb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;r=a(0);l=a(1);g=a(17);h=a(563);c.prototype.create=function(f){return new (a(295).P_)(this.Ea.Db(),f);};c.prototype.fTa=function(f){return new (a(1369).ULa)(this.Ea.Db(),f,this.YMb);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Gc)),r.__param(1,(0,l.l)(h.aEa))],d);b.aJa=d;},function(r,b,a){var l;function c(g,h,d){var f;f=l.P_.call(this,g,h) || this;f.seek=function(n){return f.wb().seek(n);};f.addEpisode=function(n){return f.Qoa.Dpb(n);};f.playNextEpisode=function(n){n=void 0 === n?{}:n;return f.Qoa.JTb(n);};f.watchCredits=function(n){return f.Qoa.g5b(n);};f.playSegment=function(n){return f.wb().C5a(n);};f.queueSegment=function(n){return f.wb().I6a(n);};f.updateNextSegmentWeights=function(n,k){return f.wb().Ti(n,k);};f.setNextSegment=function(n){for(var k=[],m=0;m < arguments.length;++m){k[m - 0]=arguments[m];}k=k.map(function(p){return {J:p.segmentId,TL:p.nextSegmentId};});f.Dg.Ej.apply(f.Dg,ea(k));};f.clearNextSegment=function(n){for(var k=[],m=0;m < arguments.length;++m){k[m - 0]=arguments[m];}return f.Dg.Bub.apply(f.Dg,ea(k));};f.goToNextSegment=function(n,k){return f.Dg.Qma(n,k);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return !!f.wb().nT().visibility;};f.setTimedTextVisibility=function(n){return f.setTimedTextVisible(n);};f.setTimedTextSize=function(n){return f.wb().$M({size:n});};f.setTimedTextBounds=function(n){return f.wb().$M({bounds:n});};f.setTimedTextMargins=function(n){return f.wb().$M({margins:n});};f.setTimedTextVisible=function(n){return f.wb().$M({visibility:n});};f.getCongestionInfo=function(n){n && n({success:!1,name:null,isCongested:null});};f.Qoa=d(g,h,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;l=a(295);ha(c,l.P_);b.ULa=c;},function(r,b,a){var l,g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;r=a(0);l=a(117);g=a(1);h=a(36);c.prototype.byb=function(d){var k,m,p;for(var f=[],n=0;n < arguments.length;++n){f[n - 0]=arguments[n];}k=this;if(0 === f.length)throw Error("Empty playgraph");m=new h.$t().UG(this.yq(f[0]));f.reverse().forEach(function(q){var v;v=k.yq(q);m.pf(v,Object.assign({K:q,sa:0,qa:Infinity},p?{Hb:p}:{}));p=v;});return m.Dh();};c.prototype.yq=function(d,f){f=void 0 === f?l.mD.Yba:f;return d + ":" + f;};c.prototype.Jqb=function(d,f){var n,k,m,p;if(void 0 === m)m=null !== (n=f.id) && void 0 !== n?n:this.yq(f.O);n=this.RXa(d);p=new h.$t(d);p.pf(m,{K:f.O,sa:null !== (k=f.gb) && void 0 !== k?k:0,qa:Infinity});d=d.L[n];f={};p.pf(n,Object.assign({},d,{Hb:m,next:Object.assign({},d.next || ({}),(f[m]={},f))}));return p.Dh();};c.prototype.RXa=function(d){for(var f=d.ce,n=f;n=d.L[n].Hb;){f=n;}return f;};a=c;a=r.__decorate([(0,g.U)()],a);b.NIa=a;},function(r,b,a){var l,g,h,d,f;function c(n){return g.Le.call(this,n,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;r=a(0);l=a(1);g=a(45);h=a(31);d=a(44);f=a(3);ha(c,g.Le);Sa.Object.defineProperties(c.prototype,{OUb:{configurable:!0,enumerable:!0,get:function(){return 2;}},NUb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Q6)(3);}},Fwa:{configurable:!0,enumerable:!0,get:function(){return !1;}},m$:{configurable:!0,enumerable:!0,get:function(){return !1;}},bcb:{configurable:!0,enumerable:!0,get:function(){return !1;}},rWa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Y7:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.Wy,"prepareSegmentsUpfront")],a.prototype,"OUb",null);r.__decorate([d.config(d.ck,"prepareSegmentsDuration")],a.prototype,"NUb",null);r.__decorate([d.config(d.Kc,"usePlaygraphForPostPlay")],a.prototype,"Fwa",null);r.__decorate([d.config(d.Kc,"usePlaygraphForSkipSegment")],a.prototype,"m$",null);r.__decorate([d.config(d.Kc,"useSinglePlayerPlayback")],a.prototype,"bcb",null);r.__decorate([d.config(d.Kc,"forcePlaygraphTrace")],a.prototype,"rWa",null);r.__decorate([d.config(d.Kc,"postPlayDefaultNextEpisode")],a.prototype,"Y7",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.ll))],a);b.LIa=a;},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u,y,x,z){this.Ea=v;this.OYb=w;this.li=y;this.Ml=z;this.MYb=t.jF(!1,"6.0039.950.911",v.id,x,u);}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;r=a(0);l=a(1);g=a(17);h=a(159);d=a(1373);f=a(354);n=a(223);k=a(11);m=a(564);p=a(35);a=a(117);c.prototype.create=function(v,t,w,u){var y,x;y=this.OYb.Qxb(v,this.MYb,t);x=v.Gwa;w.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.yKa(this.li,v,t,w,y,u,this.Ml):new m.eD(v,t,y,u,this.Ml);};q=c;q=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.Gc)),r.__param(1,(0,l.l)(f.jKa)),r.__param(2,(0,l.l)(n.Ada)),r.__param(3,(0,l.l)(k.ac)),r.__param(4,(0,l.l)(h.kD)),r.__param(5,(0,l.l)(p.g_)),r.__param(6,(0,l.l)(a.oI))],q);b.UIa=q;},function(r,b,a){var l,g,h,d,f;function c(n,k,m,p,q,v,t){var w;w=d.eD.call(this,k,m,q,v,t) || this;w.li=n;w.la=p;w.IS=!1;w.lka=new Map();w.XRb=function(){w.sF().uga(g.ea.NG,function(u){w.Cb.zc(g.lD.rW);w.fb.ih=u.position.segmentId;});};w.DKb();v.addListener(g.Ka.loaded,w.XRb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.yKa=void 0;l=a(36);g=a(15);h=a(2);d=a(564);f=a(117);ha(c,d.eD);c.prototype.rPa=function(n){var k,m,p,q,v,t,w,u,y,x,z;k=this;p=this.fb.fk;q=this.Ml.yq(n.O,"ident");v=this.Ml.yq(n.O,"main");t=this.Ml.yq(n.O,"credits");w=isFinite(n.Mi);u=isFinite(n.gb) && n.O !== p.L[p.ce].K;y={};x=new l.$t(p).pf(v,Object.assign({K:n.O,sa:u && n.gb || 0,qa:null !== (m=n.Mi) && void 0 !== m?m:Infinity},w?{next:(y[t]={},y),Hb:t}:{}));u && (m={},x.pf(q,{K:n.O,sa:0,qa:n.gb,next:(m[v]={},m),Hb:v}));w && x.pf(t,{K:n.O,sa:n.Mi,qa:Infinity});if(!this.fb.Nv(v)){n=p.L[this.Ml.RXa(p)].K;z=this.Ml.yq(n,f.mD.mza);[this.Ml.yq(n,f.mD.Yba),z].filter(function(A){return k.fb.Nv(A);}).forEach(function(A){var B,C,D;B=k.fb.Hd(A);C=A === z || k.li.Y7;D={};x.pf(A,Object.assign({},B,{next:Object.assign({},B.next,(D[v]={},D))},C?{Hb:v}:{}));});}this.fb.fk=x.Dh();return this.wG(v);};c.prototype.wv=function(){this.isReady() && this.sF().wv();};c.prototype.gra=function(){};c.prototype.iG=function(n){this.sF().iG(n);};c.prototype.Rma=function(n,k,m){k=void 0 === k?{}:k;this.la.debug("goToSegment " + n);return this.sF().sT(n,k,m);};c.prototype.wG=function(n){if(n === this.LYb)return null;this.LYb=n;return this.IS?this.Ij.ZK(this.fb.Hd(n).K).aWb:(this.IS=!0,d.eD.prototype.wG.call(this,n));};c.prototype.bbb=function(n){return n.errorCode && this.lka.has(n.errorCode)?this.lka.get(n.errorCode)(n):Promise.reject(Error("Error " + n.errorCode + " isn't recoverable"));};c.prototype.DKb=function(){var n;n=this;this.lka.set(h.V.TGa,function(){var k,m;return null !== (m=null === (k=d.eD.prototype.wG.call(n,n.fb.ih)) || void 0 === k?void 0:k.then(function(){var p,q;d.eD.prototype.Rma.call(n,n.fb.ih,null !== (q=null === (p=n.Ij.ZK(n.fb.aa.K)) || void 0 === p?void 0:p.qb) && void 0 !== q?q:{});})) && void 0 !== m?m:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.yKa=c;},function(r,b,a){var l,g;function c(h,d,f){this.Sx=d;this.li=f;this.H0={};this.xbb=[];this.Y9a=[];this.M3a=[];this.Yga=new WeakMap();this.reset(h);}Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;l=a(36);g=a(36);c.prototype.reset=function(h){var d;d=1 < Object.keys(h.L).length && 1 === new Set(Object.values(h.L).map(function(f){return f.K;})).size;this.Rob=this.li.bcb || d;this.s9a(h);this.ih=h.ce;this.Pnb=this.Sx.zx();this.eva=new Map();};c.prototype.x4=function(h){if(this.Gwa)return this.fk;this.Yga.has(h) || this.Yga.set(h,(0,l.y9)(h.O,h.J));return this.Yga.get(h);};c.prototype.s9a=function(h){this.Qnb=h;this.H0={};h=Object.keys(h.L);this.gQa(h);this.UQb();};c.prototype.Ej=function(h){var n;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}n=this;d.filter(function(k){return n.Nv(k.J);}).filter(function(k){k=k.TL;return !k || n.Nv(k);}).forEach(function(k){var m;m=k.J;n.H0[m]=n.g4a(k.TL);n.NQb(m);});};c.prototype.gQa=function(h){var d;d=this;h.filter(function(f){return d.Nv(f);}).forEach(function(f){d.H0[f]=d.g4a(d.Hd(f).Hb);});};c.prototype.Ti=function(h,d){var f,n,k;f=this.Hd(h);if(f && f.next){n=new g.$t(this.fk);k=Object.keys(f.next).reduce(function(m,p){m[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return m;},{});k=Object.assign({},f,{next:k});n.pf(h,k);this.fk=n.Dh();}};c.prototype.Nv=function(h,d){d=void 0 === d?this.fk.L:d;return (h in d);};c.prototype.dT=function(h){return this.H0[h];};c.prototype.Hd=function(h){return this.fk.L[h];};c.prototype.cIb=function(h){if(this.eva.has(h))return this.eva.get(h);h=this.Hd(h);return isFinite(h.qa)?h.qa:void 0;};c.prototype.R3b=function(h,d){this.eva.set(h,d);this.RQb(h);};c.prototype.b1b=function(h){this.xbb.push(h);};c.prototype.c1b=function(h){this.Y9a.push(h);};c.prototype.a1b=function(h){this.M3a.push(h);};c.prototype.UQb=function(){var h;h=this;this.xbb.forEach(function(d){return d(h.fk);});};c.prototype.NQb=function(h){this.M3a.forEach(function(d){return d(h);});};c.prototype.RQb=function(h){this.Y9a.forEach(function(d){return d(h);});};c.prototype.g4a=function(h){return null === h?void 0:h;};Sa.Object.defineProperties(c.prototype,{V7:{configurable:!0,enumerable:!0,get:function(){return this.Pnb;}},Gwa:{configurable:!0,enumerable:!0,get:function(){return this.Rob;}},fk:{configurable:!0,enumerable:!0,get:function(){return this.Qnb;},set:function(h){if(this.ih && !this.Nv(this.ih,h.L))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ih);this.s9a(h);}},ih:{configurable:!0,enumerable:!0,get:function(){return this.Llb;},set:function(h){if(!this.Nv(h))throw Error("Provided currentSegmentId " + h + " does not exist in the current playgraph");this.Llb=h;}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Hd(this.ih);}}});b.$Ia=c;},function(r,b,a){var l,g;function c(h,d,f,n,k){this.Lh=h;this.Dg=d;this.log=f;this.li=n;this.Ml=k;this.Q7=new l.$ca();}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;l=a(565);g=a(117);c.prototype.Dpb=function(h){var d,f,n,k,m,p,q;this.log.info("Next episode added",h);p=this.Q7.Apa(h.playbackParams);q=Math.max(0,null !== (n=null !== (f=null !== (d=h.startPts) && void 0 !== d?d:h.nextStartPts) && void 0 !== f?f:p.gb) && void 0 !== n?n:0);d=null !== (m=null !== (k=h.endPts) && void 0 !== k?k:h.currentEndPts) && void 0 !== m?m:p.Mi;return this.Dg.eqb({O:h.movieId,gb:q,Mi:d,qb:p,X:h.manifest,Lh:this.Lh});};c.prototype.JTb=function(h){var d,f,n,k,m,p;h=this.Q7.Apa(h);this.log.info("Playing the next episode",h);n=this.Dg.mXa();k=this.Dg.uF();m=k.L[n];p=Object.keys(null !== (d=m.next) && void 0 !== d?d:{}).find(function(q){return m.K !== k.L[q].K;});d=!this.li.Y7 || !(null === (f=h.Rl) || void 0 === f?0:f.isUIAutoPlay);return p?this.Dg.Qma(n,p,h,d):Promise.reject(Error("Next episode not found"));};c.prototype.g5b=function(h){var d,f;d=this.Ml.yq(h,g.mD.Yba);h=this.Ml.yq(h,g.mD.mza);f=this.Dg.fb;this.li.Y7 && f.ih !== h && f.Nv(h) && f.dT(d) !== h && this.Dg.Ej({J:d,TL:h});};b.bEa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.jQa=void 0;r=a(1);c=a(1377);l=a(32);b.jQa=new r.Xc(function(g){g(l.Oh).to(c.nya).da();});},function(r,b,a){var l,g,h,d,f,n,k,m,p,q,v,t,w;function c(u,y,x,z,A,B){var C;C=this;this.nk=u;this.config=x;this.lo=z;this.debug=A;this.Ea=B;this.Eab=[];this.Oc={};this.log=y.Sa("loadAsync");this.qOb=(0,v.VBa)(function(D){C.OWb=!0;C.startTime=C.Ea.Db().ca(p.na);C.load(C.Eab).then(function(){C.endTime=C.Ea.Db().ca(p.na);D(w.eg);}).catch(function(E){C.endTime=C.Ea.Db().ca(p.na);D(E);});});}Object.defineProperty(b,"__esModule",{value:!0});b.nya=void 0;r=a(0);l=a(83);g=a(2);h=a(1378);d=a(56);f=a(1);n=a(6);k=a(11);m=a(63);p=a(3);q=a(108);v=a(566);t=a(17);w=a(16);c.prototype.oU=function(u){this.qOb(u);};c.prototype.register=function(u,y){this.debug.assert(!this.OWb);this.Eab.push({NNb:this.xtb(y),errorCode:u});};c.prototype.fe=function(u){this.debug.assert(void 0 === this.Oc[u]);this.Oc[u]=this.Ea.Db().ca(p.na);};c.prototype.load=function(u){var y;y=this;return (0,h.i6a)(u).then(function(x){y.nk.mark(d.cm.$i.udb);return x.reduce(function(z,A){return z.then(function(){return y.LNb(A);});},Promise.resolve()).then(function(){y.nk.mark(d.cm.$i.sdb);});});};c.prototype.LNb=function(u){var y,x;y=this;x=u.NNb;!1;return this.lo.Lp((0,p.Jb)(this.config().irb),x()).catch(function(z){y.log.error("Failed to load component " + u.errorCode,z);y.nk.mark(d.cm.$i.tdb);if(z instanceof m.Xp)throw {za:g.R.rdb,errorCode:u.errorCode};z.errorCode=z.errorCode || u.errorCode;z.za=z.za || g.R.qdb;throw z;});};c.prototype.xtb=function(u){return function(){return new Promise(function(y,x){u(function(z){z.ia?y():x(z);});});};};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.vI)),r.__param(1,(0,f.l)(n.Va)),r.__param(2,(0,f.l)(k.ac)),r.__param(3,(0,f.l)(m.Bz)),r.__param(4,(0,f.l)(q.gw)),r.__param(5,(0,f.l)(t.Gc))],a);b.nya=a;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.i6a=void 0;c=a(2);l=[c.V.ghb,c.V.jDa,c.V.kDa,c.V.oDa,c.V.gDa,c.V.eDa,c.V.Aba,c.V.khb,c.V.hDa,c.V.fDa,c.V.qz,c.V.bDa,c.V.dDa,c.V.lDa,c.V.mDa,c.V.nDa,c.V.iDa,c.V.cDa];(function(h){h.xib=function(d){var k;for(var f={},n=0;n < d.length;n++){k=d[n];if(f[k.errorCode])return {errorCode:k.errorCode,za:c.R.odb};f[k.errorCode]=1;}};h.yib=function(d){var n;for(var f=0;f < d.length;f++){n=d[f];if(-1 === l.indexOf(n.errorCode))return {errorCode:n.errorCode,za:c.R.pdb};}};})(g || (g={}));b.i6a=function(h){return new Promise(function(d,f){var n;n=g.yib(h);n && f(n);(n=g.xib(h)) && f(n);d(h.sort(function(k,m){return l.indexOf(k.errorCode) - l.indexOf(m.errorCode);}));});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.X=void 0;r=a(1);c=a(1380);l=a(112);b.X=new r.Xc(function(g){g(l.bD).to(c.bFa).da();});},function(r,b,a){var l,g,h,d,f,n,k,m,p,q;function c(v,t,w,u,y,x){this.Sf=t;this.d2a=u;this.xU=x;this.XV=new Map();this.log=v.Sa("ManifestFetcher");this.mg=w.mg;this.Wsb=y().xBb;}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;r=a(0);l=a(1);g=a(17);h=a(34);d=a(6);f=a(3);n=a(11);k=a(98);m=a(61);p=a(281);a=a(129);c.prototype.Nx=function(v,t,w){var u;u=this;t=void 0 === t?!0:t;w && this.Wpb(v.K,w);return t && this.N4(v.K)?this.c4(v.K).catch(function(){return u.N7a(v,t);}):this.N7a(v,t);};c.prototype.N4=function(v){return this.mg.wT(v,"manifest");};c.prototype.PW=function(v,t){var w;w=this;this.Wsb && this.mg.setData(v,"manifest",t,function(){return w.YIb(v,t?Promise.resolve(t):void 0);});};c.prototype.c4=function(v){var t;t=this;return this.mg.getData(v,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Ha.expiration <= (0,m.m2)())throw (t.mg.clearData(v,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.YIb=function(v,t){var w;null === (w=this.XV.get(v)) || void 0 === w?void 0:w.forEach(function(u){return u(t);});this.XV.delete(v);};c.prototype.Wpb=function(v,t){this.XV.has(v) || this.XV.set(v,[]);this.XV.get(v).push(t);};c.prototype.N7a=function(v,t){var w,u,y;w=this;this.log.trace("Requesting a new manifest",v.K);u=this.Sf.Db().ca(f.na);y=(v.Ef && !v.Ef.Tj?this.Y2b(v).catch(function(x){w.log.warn(x.message);return w.d2a.sf(w.log,v);}):this.d2a.sf(this.log,v)).then(function(x){var z,A;if(x.Gx && (null === (z=v.Ef) || void 0 === z || !z.Tj)){A=x.Gx;z={h9:Promise.resolve(A),source:"manifest"};delete x.Gx;w.mg.setData(v.K,"ldl",z,function(){A.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}v.xq === k.el.mI && (x.GG=u,x.IM=w.Sf.Db().ca(f.na));return x;}).catch(function(x){t && w.PW(v.K,void 0);w.log.error("Failed to fetch manifest",h.Jc.te(x));throw x;});t && this.PW(v.K,y);return y;};c.prototype.Y2b=function(v){var t;t=this;return new Promise(function(w,u){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",v.K);A=null === (y=v.Ef) || void 0 === y?void 0:y.tV;if(!A)return u(Error("Parent manifest does not exist."));B=null === (x=v.Ef) || void 0 === x?void 0:x.Uc;y=null === (z=A.Wo) || void 0 === z?void 0:z.find(function(C){return C.O === v.K && (void 0 === B || C.Uc === B);});if(!y)return u(Error("Auxiliary manifest not found in parent manifest."));w(t.xU.create(y));});};q=c;q=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.Va)),r.__param(1,(0,l.l)(g.Gc)),r.__param(2,(0,l.l)(p.Caa)),r.__param(3,(0,l.l)(k.Lca)),r.__param(4,(0,l.l)(n.ac)),r.__param(5,(0,l.l)(a.fI))],q);b.bFa=q;},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.JPa=void 0;c=a(1382);l=a(168);r=a(1);g=a(78);h=a(11);b.JPa=new r.Xc(function(d){d(l.$X).to(c.Kxa).da();});b.profile=new r.Xc(function(d){d(g.qI).AC(function(f){return (f=f.eb.get(h.ac)()) && f.Jx?"browsertest":"browser";});});},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q){k=d.Le.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=m;k.b$=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Kxa=void 0;r=a(0);l=a(1);g=a(37);h=a(44);d=a(45);f=a(31);a=a(269);ha(c,d.Le);c.prototype.nHb=function(k){return "" + this.nVa + (this.b$.s9(k)?"/msl_v1":"");};c.prototype.yHb=function(k){return "" + this.host + (this.b$.s9(k)?"/msl":"") + "/playapi";};Sa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},nVa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.qK){case g.nw.Akb:k="www.stage";break;case g.nw.cLa:k="www-qa.test";break;case g.nw.JDa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},EQa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});n=c;r.__decorate([h.config(h.string,"apiEndpoint")],n.prototype,"endpoint",null);r.__decorate([h.config(h.string,"nqEndpoint")],n.prototype,"nVa",null);r.__decorate([h.config(h.string,"bindService")],n.prototype,"EQa",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ll)),r.__param(1,(0,l.l)(g.$m)),r.__param(2,(0,l.l)(a.K_)),r.__param(3,(0,l.l)(f.lY)),r.__param(3,(0,l.optional)())],n);b.Kxa=n;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.u4b=b.Gkb=b.Ekb=b.Dkb=b.Fkb=void 0;c=a(14);l=a(12);b.Fkb=function(g,h,d){for(d=(d - g.length) / h.length;0 < d--;){g+=h;}return g;};b.Dkb=function(g,h,d){d=(0,c.rg)(d)?d:"...";return g.length <= h?g:g.substr(0,g.length - (g.length + d.length - h)) + d;};b.Ekb=function(g,h){var f;for(var d=1;d < arguments.length;++d){;}f=l.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(n,k){return "undefined" != typeof f[k]?f[k]:n;});};b.Gkb=function(g){for(var h=g.length,d=new Uint16Array(h),f=0;f < h;f++){d[f]=g.charCodeAt(f);}return d.buffer;};b.u4b=function(g){var h;h=new Uint8Array(g.length);Array.prototype.forEach.call(g,function(d,f){h[f]=d.charCodeAt(0);});return h;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(8);b=a(111);a=a(279);r.Aa.get(b.dI).u8(a.Uba.Reb,function(c){var l,g;l=c.level;if(!mb._cad_global.config || l <= mb._cad_global.config.$Nb){c=c.X9();g=mb.console;1 >= l?g.error(c):2 >= l?g.warn(c):g.log(c);}});},function(r,b,a){var n,k,m,p,q;function c(v){var t,u;(0,k.UR)(v);if((0,p.rg)(v) && b.sDa.test(v)){t=v.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){u=(0,q.Ni)(t[w]);if(0 > u || !(0,p.tB)(u,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return v;}}}function l(v){var t;t=0;if(c(v) === v)return (v=v.split("."),t+=(0,q.Ni)(v[0]) << 24,t+=(0,q.Ni)(v[1]) << 16,t+=(0,q.Ni)(v[2]) << 8,t + (0,q.Ni)(v[3]));}function g(v){var t,w;(0,k.UR)(v);if((0,p.rg)(v) && v.match(b.tDa)){t=v.split(":");-1 !== t[t.length - 1].indexOf(".") && (v=h(t[t.length - 1]),t.pop(),t.push(v[0]),t.push(v[1]),v=t.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== t.length) && (t=1 < v.length?d(v):t,v=t.length,8 === v)){for(;v--;){w=parseInt(t[v],16);if(!(0,p.tB)(w,0,n.SEa))return;}return t.join(":");}}}function h(v){var t;v=l(v) >>> 0;t=[];t.push((v >>> 16 & 65535).toString(16));t.push((v & 65535).toString(16));return t;}function d(v){var t,w,u;t=v[0].split(":");v=v[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === v.length && "" === v[0] && (v=[]);w=8 - (t.length + v.length);if(1 > w)return [];for(u=0;u < w;u++){t.push("0");}for(u=0;u < v.length;u++){t.push(v[u]);}return t;}function f(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.uhb=b.zhb=b.whb=b.vhb=b.yhb=b.thb=b.xhb=b.VC=b.tDa=b.sDa=void 0;n=a(16);k=a(20);m=a(12);p=a(14);q=a(22);b.sDa=/^[0-9.]*$/;b.tDa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.VC="0000000000000000";b.xhb=c;b.thb=l;b.yhb=g;b.vhb=h;b.whb=d;b.zhb=function(v,t,w){var u,y,x,z;u=c(v);y=g(v);x=c(t);z=g(t);if(!u && !y || !x && !z || u && !x || y && !z)return !1;if(v === u)return (w=f(w),(l(v) & w) !== (l(t) & w)?!1:!0);if(v === y){v=v.split(":");t=t.split(":");for(u=(0,m.gI)(w / b.VC.length);u--;){if(v[u] !== t[u])return !1;}w%=b.VC.length;if(0 !== w)for((v=parseInt(v[u],16).toString(2),t=parseInt(t[u],16).toString(2),v=b.VC.substring(0,b.VC.length - v.length) + v,t=b.VC.substring(0,b.VC.length - t.length) + t,u=0);u < w;u++){if(v[u] !== t[u])return !1;}return !0;}return !1;};b.uhb=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(18);a(16);r=a(8);a(111);a(279);a(2);a(110);a(3);a=a(32);r.Aa.get(a.Oh);!1;},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);l=a(16);g=a(2);h=a(12);r=a(8);a=a(32);d=r.Aa.get(a.Oh);d.register(g.V.oDa,function(f){h.fp && h.fp.generateKey && h.fp.importKey && h.fp.unwrapKey?(d.fe("wcs"),(0,c.jG)(h.fp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.fe("wcdone");f(l.eg);},function(n){var k;n="" + n;if(0 <= n.indexOf("missing crypto.subtle"))k=g.R.$da;else 0 <= n.indexOf("timeout waiting for iframe to load") && (k=g.R.Vkb);f({za:k,Ib:n});})):f({za:g.R.$da});});},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);c=a(8);l=a(514);a=a(32);c.Aa.get(a.Oh).register(r.V.eDa,function(g){c.Aa.get(l.UAa)().then(function(){g({ia:!0});}).catch(function(h){c.log.error("error in initializing indexedDb debug tool",h);g({ia:!0});});});},function(r,b,a){var h,d,f,n;function c(k,m,p,q){var v,t,w;(0,h.ma)((0,n.Mq)(k) && !(0,n.isArray)(k));q=q || "";v="";t=k.hasOwnProperty(f.QX) && k[f.QX];t && (0,d.Wf)(t,function(u,y){v && (v+=" ");v+=u + '="' + g(y) + '"';});p=(m?m + ":":"") + p;t=q + "<" + p + (v?" " + v:"");w=k.hasOwnProperty(f.aw) && k[f.aw].trim && "" !== k[f.aw].trim() && k[f.aw];if(w)return t + ">" + g(w) + "</" + p + ">";k=l(k,m,q + "  ");return t + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function l(k,m,p){var q;(0,h.ma)((0,n.Mq)(k) && !(0,n.isArray)(k));p=p || "";q="";(0,d.Wf)(k,function(v,t){var y;if("$" != v[0])for(var w=(0,d.ov)(t),u=0;u < w.length;u++){if((t=w[u],q && (q+="\n"),(0,n.Mq)(t)))q+=c(t,m,v,p);else {y=(m?m + ":":"") + v;q+=p + "<" + y + ">" + g(t) + "</" + y + ">";}}});return q;}function g(k){if((0,n.rg)(k))return (0,d.mna)(k);if((0,n.sb)(k))return ((0,h.TR)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,h.ma)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.t2b=b.yMb=b.xMb=void 0;h=a(20);d=a(22);f=a(191);n=a(14);b.xMb=c;b.yMb=l;b.t2b=g;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C,D,E;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(284);g=a(197);h=a(18);d=a(16);f=a(2);n=a(20);k=a(8);m=a(83);p=a(56);q=a(81);v=a(22);t=a(12);w=a(14);u=a(42);y=a(110);x=a(3);r=a(32);z=a(483);A=a(132);B=a(65);C=a(78);D={};E=k.Aa.get(r.Oh);E.register(f.V.hDa,function(G){var O,I,P,N,J,L,R,ka,la,X,da,ta,Ba,Ja;function F(Va){Va && Va.userList && h.config.w_b && (Va.userList=[]);N({esn:g.Ak.Wj,esnPrefix:g.Ak.Hn,authenticationKeyNames:h.config.Mrb,systemKeyWrapFormat:h.config.z1b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Ba,storeState:Va,notifyMilestone:E.fe.bind(E),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.R.eib,MSL_READ_TIMEOUT:f.R.dib}},{result:function(Ta){H(Ta);},timeout:function(){G({za:f.R.XEa});},error:function(Ta){G(K(f.R.XEa,void 0,Ta));}});}function H(Va){var T,aa,Q,M;function Ta(){ta && k.Aa.get(q.dw).create().then(function(S){return S.save(X,Q,!1);}).catch(function(S){R.error("Error persisting msl store",(0,f.ow)(S));});}T=this;aa=k.Aa.get(y.qD)((0,x.Jb)(100));M=J.extend({init:function(S){this.GNa=S;},getResponse:function(S,ra,oa){var Ca,Ua;ra=this.GNa;Ca=ra.pqa.De || Ca;S=(0,w.uoa)(S.body)?(0,k.xX)(S.body):S.body;(0,n.UR)(S,"Msl should not be sending empty request");S={url:ra.url,V5a:S,withCredentials:!0,DA:"nq-" + ra.method,headers:ra.headers};ra=this.GNa.timeout;S.v2=ra;S.Bqa=ra;Ua=Ca.download(S,function(Pa){try{if(Pa.ia)oa.result({body:Pa.content});else if(400 === Pa.yl && Pa.Ib)oa.result({body:Pa.Ib});else throw (0,v.Jd)(new L("HTTP error, SubCode: " + Pa.za + (Pa.yl?", HttpCode: " + Pa.yl:"")),{cadmiumResponse:Pa});}catch(Ya){oa.error(Ya);}});return {abort:function(){Ua.abort();}};}});la && Va.addEventHandler("shouldpersist",function(S){Q=S.storeState;aa.Qk(Ta);});(0,v.Jd)(D,{Rcc:function(){da=!0;},send:function(S){function ra(){var oa,Ca;oa=S.pqa;Ca={method:S.method,nonReplayable:S.V3a,encrypted:S.YE,userId:S.ecb,body:S.body,timeout:2 * S.timeout,url:new M(S),allowTokenRefresh:ta,sendUserAuthIfRequired:Ja,shouldSendUserAuthData:h.config.D_b};oa.email?(Ca.email=oa.email,Ca.password=oa.password || ""):da && (Ca.useNetflixUserAuthData=!0);return Ca;}return new Promise(function(oa,Ca){var Ua;Ua=ra();Va.send(Ua).then(function(Pa){da && (da=!1);oa({ia:!0,body:Pa.body});}).catch(function(Pa){var Ya,ob;if(Pa.error){Ya=Pa.error.cadmiumResponse && Pa.error.cadmiumResponse.za?Pa.error.cadmiumResponse.za:Va.isErrorReauth(Pa.error)?f.R.WEa:Va.isErrorHeader(Pa.error)?f.R.Yhb:f.R.Xhb;ob=Va.getErrorCode(Pa.error);Ca(K(Ya,ob,Pa.error));}else (R.error("Unknown MSL error",Pa),Pa.cc=Pa.subCode,Ca({za:Pa.cc?Pa.cc:f.R.fib}));});});},RU:Va});A.uD.uJ.mslFetch=function(S,ra){return c.__awaiter(T,void 0,void 0,function Ca(){var Ua,Pa,Ya;return Ga(Ca,function(ob){if(1 == ob.PB)return (Ua=k.Aa.get(C.qI),Ia(ob,D.send({pqa:{De:k.Aa.get(B.Tt),profile:Ua},timeout:3E3,url:S.toString(),body:null === ra || void 0 === ra?void 0:ra.body,headers:{"Content-Type":"application/x-msl+json"},ecb:Ua,nXb:!1,V3a:!0,YE:!0})));Pa=ob.F$;Ya={get body() {this.bodyUsed=!0;return Pa.body;}};return ob.return((Ya.bodyUsed=!1,Ya.ok=Pa.ia,Ya.status=Pa.ia?200:400,Ya.statusText=Pa.ia?"OK":"Bad Request",Ya.type="basic",Ya.url=S.toString(),Ya.headers=new Headers({"Content-Type":"application/json"}),Ya.text=function(){return Promise.resolve(this.body);},Ya.json=function(){return Promise.resolve(JSON.parse(this.body));},Ya.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Ya.clone=function(){return Object.assign({},this);},Ya.blob=function(){return this.arrayBuffer().then(function(pb){return new Blob([pb]);});},Ya.formData=function(){throw Error("Not implemented");},Ya.redirected=!1,Ya));});});};G(d.eg);k.Aa.get(z.nca).kQb(D);}function K(Va,Ta,T){var aa,Q,M,S;M={za:Va,r3:Ta};if(T){S=function(ra){var oa;ra=ra || "" + T;if(T.stack){oa="" + T.stack;ra=0 <= oa.indexOf(ra)?oa:ra + oa;}return ra;};if(Q=T.cadmiumResponse){if(aa=Q.Ve && Q.Ve.toString())Q.Ve=aa;Q.za=Va;Q.r3=Ta;Q.Ib=S(T.message);Q.error={cc:Va,Lc:aa,oy:Ta,data:T.cause,message:T.message};return Q;}S=S(T.errorMessage);aa=(0,v.Ni)(T.internalCode) || (0,v.Ni)(T.error && T.error.internalCode);Q=void 0 !== T.sCb?(0,u.Oqa)(T.sCb):void 0;}S && (M.Ib=S);aa && (M.Ve=aa);M.error={cc:Va,Lc:aa.toString(),oy:Ta,data:Q,message:S};return M;}(0,n.ma)(h.config);O=k.Aa.get(m.vI);I=p.cm.$i;if(t.yz && t.fp && t.fp.unwrapKey){try{P=mb.netflix.msl;N=P.createMslClient;J=P.IHttpLocation;L=P.MslIoException;}catch(Va){G({za:f.R.Zhb});return;}R=(0,k.Ki)("Msl");ka=h.config.gQb;la=h.config.iQb;X=h.config.Jx?"mslstoretest":"mslstore";P=l.dH.Y8a;da=!0;ta=!P || P.ia;Ba=(0,k.kq)(h.config.Jx?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ja=!!h.config.rua;k.Aa.get(q.dw).create().then(function(Va){ka?Va.remove(X).then(function(){F();}).catch(function(Ta){R.error("Unable to delete MSL store",(0,f.ow)(Ta));F();}):la?Va.load(X).then(function(Ta){O.mark(I.aib);F(Ta.value);}).catch(function(Ta){Ta.za == f.R.Iw?(O.mark(I.cib),F()):(R.error("Error loading msl store",(0,f.ow)(Ta)),O.mark(I.bib),Va.remove(X).then(function(){F();}).catch(function(T){G(T);}));}):F();}).catch(function(Va){R.error("Error creating app storage while loading msl store",(0,f.ow)(Va));G(Va);});}else G({za:f.R.$hb});});},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(275);l=a(16);g=a(18);h=a(64);d=a(61);r=a(2);f=a(8);n=a(83);k=a(12);m=a(59);p=a(14);q=a(48);v=a(85);a=a(32);u=f.Aa.get(a.Oh);u.register(r.V.fDa,function(y){var z;function x(){var A,B,C;A=u.startTime;B={browserua:k.fD,browserhref:k.WZ.href,initstart:A,initdelay:u.endTime - A};(A=k.Ig.documentMode) && (B.browserdm="" + A);(0,p.qL)(g.config.LVa) && (B.fesn=g.config.LVa);Object.assign(B,(0,c.sma)());C=k.Yt && k.Yt.timing;C && g.config.YNb.map(function(D){var E;E=C[D];E && (B["pt_" + D]=E - (0,d.ZRa)());});A=z.SGb();Object.entries(A).forEach(function(D){var E;E=ma(D);D=E.next().value;E=E.next().value;return B["m_" + D]=E;});A=w.ss("startup","info",B,h.Az.$ka);t.mc(A);}w=f.Aa.get(v.rw);t=f.Aa.get(q.dm);z=f.Aa.get(n.vI);u.oU(function(){t.oa();(0,m.If)(x);});y(l.eg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t,w,u,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(66);g=a(523);h=a(1394);d=a(288);f=a(18);n=a(16);k=a(194);m=a(567);p=a(61);r=a(2);q=a(8);v=a(499);t=a(12);w=a(285);b=a(32);u=a(64);y=a(160);x=a(29);z=a(69);q.Aa.get(b.Oh).register(r.V.bDa,function(A){var B,C,D,E,G,F,H,K,O;B=q.Aa.get(v.jGa).Xxb();C=q.Aa.get(k.Yaa).yO;D=q.Aa.get(g.EFa).Wt;E=q.Aa.get(x.$g);G=q.Aa.get(z.Yp);F={P7:(0,q.QS)("ASE"),Tqb:(0,q.QS)("JS-ASE",void 0,"Platform"),Ki:q.QS,storage:w.storage,mHb:t.hAa,getTime:p.um,M2:function(I){return E.decode(I).buffer;},sja:function(I){return G.encode(I);},wL:{},Wt:D,au:h.au,yO:C,MediaSource:m.HFa,SourceBuffer:d.hca,cT:function(){return [f.config.A1,f.config.D1];},rs:function(I){u.jn.forEach(function(P){P.A9a(I);});}};C=new Promise(function(I){w.storage.load("nh",function(P){F.wL.nh=P.ia?P.data:void 0;I();});});D=new Promise(function(I){w.storage.load("lh",function(P){F.wL.lh=P.ia?P.data:void 0;I();});});H=new Promise(function(I){w.storage.load("gh",function(P){F.wL.gh=P.ia?P.data:void 0;I();});});K=new Promise(function(I){w.storage.load("sth",function(P){F.wL.sth=P.ia?P.data:void 0;I();});});O=new Promise(function(I){w.storage.load("vb",function(P){F.wL.vb=P.ia?P.data:void 0;I();});});Promise.all([C,D,O,K,H]).then(function(){return c.__awaiter(this,void 0,void 0,function P(){var N,J;return Ga(P,function(L){if(1 == L.PB)return (N=a(1396)(F),y.So.Yd=a(568),y.So.Yd.declare(l.Hf),y.So.Yd.set(a(172)(f.config),!0,(0,q.QS)("ASE")),Ia(L,l.QK(N)));J=L.F$;J.open(y.So.Yd,B);J.sZb({audio:f.config.A1,video:f.config.D1},{G:f.config.zta,va:void 0});y.So.Nh=J;A(n.eg);L.PB=0;});});}).catch(function(I){F.P7.error("Exception loading location history from local storage",I);});});},function(r,b,a){var l,g,h,d,f,n,k;function c(){var m;m=new g.Vi();this.addEventListener=m.addListener.bind(this);this.removeEventListener=m.removeListener.bind(this);this.emit=m.zc.bind(this);this.M0=n++;this.yi=(0,h.Ki)("ProbeRequest");this.XNa=l.oJa;(0,d.ma)(void 0 !== this.XNa);this.fh=b.au.Cc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.au=void 0;l=a(1395);g=a(71);h=a(8);d=a(20);f=a(22);n=0;(function(){function m(){return JSON.stringify({url:this.xk,id:this.M0,affected:this.T_,readystate:this.fh});}(0,f.Jd)(c.prototype,{WL:function(p){p.affected=this.T_;p.probed={requestId:this.M0,url:this.xk,Rc:this.HQ,groupId:this.p0};this.emit(b.au.Ph.jP,p);},Iqa:function(p){this.zob=p.httpcode;p.affected=this.T_;p.probed={requestId:this.M0,url:this.xk,Rc:this.HQ,groupId:this.p0};this.emit(b.au.Ph.hD,p);},open:function(p,q,v,t){if(!p)return (!1,!1);this.xk=p;this.T_=q;this.HQ=v;this.fh=b.au.Cc.OPENED;this.Nmb=t;this.XNa.OS(this);return !0;},Te:function(){!1;return !0;},Hh:function(){return this.M0;},toString:m,toJSON:m});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.fh;},set:function(){}},status:{get:function(){return this.zob;}},url:{get:function(){return this.xk;}},lac:{get:function(){return this.T_;}},RNb:{get:function(){return this.Nmb;}}});})();(function(m){m.Ph={jP:"pr0",hD:"pr1"};m.Cc={UNSENT:0,OPENED:1,Hw:2,DONE:3,VH:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.au=Object.assign(c,k);},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.oJa=void 0;c=a(8);l=a(104);b.oJa=(function(){(0,c.Ki)("ProbeDownloader");return {OS:function(g){g={url:g.url,hVb:g};!1;l.De.kVb(g);}};})();},function(r,b,a){var f,n,k,m,p,q,v,t,w,u,y,x,z,A,B,C;function c(D,E,G){this.Cn=D;this.groups=E;this.prefix=G;D=u(D,E,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function l(){}function g(){}function h(){return w?w:"0.0.0.0";}function d(D){D({hec:0,vfc:0,Bcc:0,Zbc:0});}f=a(13);l.prototype.set=function(D,E){m[D]=E;p.save(D,E);};l.prototype.get=function(D,E){if(m.hasOwnProperty(D))return m[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ia?(m[D]=G.data,E && E(G.data)):m[D]=void 0;});};l.prototype.remove=function(D){p.remove(D);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};g.prototype.now=function(){return q();};g.prototype.Ca=function(){return v();};g.prototype.nqa=function(D){return D + q() - v();};g.prototype.Lqa=function(D){return D + v() - q();};c.prototype.iTa=function(D){var E;E=[];this.prefix && Array.isArray(this.prefix)?E.push.apply(E,ea(this.prefix)):this.prefix && E.push(this.prefix);E.push(D);return new c(this.Cn,this.groups,E);};y=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){n=D.P7;u=D.Ki;p=D.storage;m=D.wL;q=D.mHb;v=D.getTime;t=D.Tqb;x=D.Wt;C=D.au;z=D.yO;A=D.SourceBuffer;B=D.MediaSource;w=D.Tcc;k=D.rs;return {name:"cadmium",rs:k,P7:n,storage:new l(),Storage:l,time:new g(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,Wt:x,yO:z,E8b:A,MediaSource:B,au:C,eo:{name:h},memory:{ncc:d},cT:D.cT,M2:D.M2,sja:D.sja,ping:function(E){fetch(E).catch(function(){});}};};},function(r,b,a){r.exports={EventEmitter:a(1398),Af:a(1399)};},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.jg)return (this.jg={},this.jg[c]=[l],!0);g=this.jg[c];return void 0 === g?(this.jg[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.jg?this.jg[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.jg)return !1;g=this.jg[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.jg[c],!0);g.splice(l,1);return !0;},$o:a,emit:a,removeAllListeners:function(c){this.jg && (void 0 === c?delete this.jg:delete this.jg[c]);return this;}};},function(r){function b(c,l,g,h){c.trace(":",g,":",h);l(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,h){g=h?g.bind(h):g;h=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)h=c.addEventListener(l,g);else if("function" === typeof c.addListener)h=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,h;g=l[0];h=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(h,l):"function" === typeof g.removeListener && g.removeListener(h,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var l,g;function c(h,d){var f,n;f=(0,g.Gh)(h,"MSS");if(l.config.CPb)return {E3:"mss",Qy:function(k){var m,p;if(k.lower && 2160 <= k.height)a:{for(m=k;m.lower;){if(2160 > m.height && 1080 < m.height){m=!0;break a;}if(1080 >= m.height)break;m=m.lower;}m=!1;}else m=void 0;if(m){if(void 0 === n){try{p=mb.MSMediaKeys;n=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");n=!0;}n || (f.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.Yo.set({reason:"microsoftScreenSize",height:k.height}));}return !n;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.jib=void 0;r=a(131);l=a(18);g=a(8);(0,r.bP)(c);b.jib=c;},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(131);c=a(8);l=a(11);g=a(1402);h=a(17);(0,r.bP)(function(d,f){var n,k;n=c.Aa.get(l.ac);if(n().JAb){k=c.Aa.get(h.Gc);return new g.RAa(d,f,c.tf,k,n);}});},function(r,b,a){var l,g,h,d,f,n;function c(k,m,p,q,v){var t;t=this;this.j=k;this.Ba=m;this.la=p;this.Ea=q;this.m7={};this.dK={};this.eN=[];this.M_a=1E3;this.J9=l.REa;this.hra=function(){var w;w=t.j.lb.value === d.Ya.Td && t.j.state.value === d.Rb.Sd && t.j.O === t.Ba.O;t.NT?w || (clearInterval(t.NT),t.NT=void 0,t.eU=void 0):w && (t.NT=mb.setInterval(t.b2b,t.M_a));};this.b2b=function(){var w,u,y,x;u=t.j.Ld.value;u=u && u.stream;u=null !== (w=u && u.height) && void 0 !== w?w:null;if(null !== u && 0 < u){w=t.Ea.Db().ca(n.na);y=t.j.ee.mF();if(y){if(t.eU && w - t.eU.time < 2 * t.M_a && u === t.eU.height){x=y - t.eU.IAb;t.tga(u,x);t.Ppb(u,x);}t.eU={time:w,IAb:y,height:u};t.j.O7 && t.j.O7.xZb(t.m7);}}};this.yla=function(){var w;w={};t.dK && t.eN.forEach(function(u){var y,x,z;y=t.dK[u];if(y){x=0;z=0;(0,f.Wf)(y,function(A,B){z+=(0,f.Ni)(A);x+=B;});w[u]=z / x;}});return w;};this.hT=function(w){var u;u={};w.forEach(function(y){u[y]={};});t.dK && ((0,g.aY)(w),t.eN.forEach(function(y){var x,z,A,B;x=t.dK[y];if(x){z=0;A=0;(0,f.Wf)(x,function(F,H){z+=H;});B=Object.keys(x).map(Number);(0,g.aY)(B);for(var C=B.length - 1,D=B[C],E=w.length - 1;0 <= E;E--){for(var G=w[E];D >= G && 0 <= C;){(D=x[D]) && (A+=D);D=B[--C];}u[G][y]=(0,h.dn)(A / z * 100);}}}));return u;};this.log=this.la.Sa("DFF",k);this.jUb=v().MAb;this.SOb=v().KAb;this.l3a=v().LAb;this.Ba.Tja={yla:this.yla,hT:this.hT};k.state.addListener(this.hra);k.lb.addListener(this.hra);k.addEventListener(d.ea.VF,this.hra);}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;l=a(16);g=a(42);h=a(12);d=a(15);f=a(22);n=a(3);c.prototype.Qy=function(k){return k.lower && k.height > this.l3a?k.height >= this.kIb():!1;};c.prototype.tga=function(k,m){var p;p=this.m7[k];p || (this.m7[k]=p=[],k > this.l3a && (this.eN.push(k),(0,g.aY)(this.eN)));0 < m && !(this.NU && this.NU < k) && (this.NU=k);p.push(m);p.length > this.SOb && p.shift();};c.prototype.Ppb=function(k,m){var p;p=this.dK[k];p || (this.dK[k]=p={});k=p[m];p[m]=k?k + 1:1;};c.prototype.kIb=function(){var p,q;if(this.NU){for(var k=this.eN.length,m=0;m < k;m++){p=this.eN[m];if(p >= this.NU && p < this.J9){q=this.m7[p];if(q && this.eub(this.jUb,q) && this.J9 != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ba.Yo.set({reason:"droppedFrames",height:p}),this.J9=p);}}this.NU=void 0;}return this.J9;};c.prototype.eub=function(k,m){var t,w;for(var p=k.length,q=m.length,v=0;v < p;v++){t=k[v];w=t[0];t=t[1];for(var u=0;u < q;u++){if(m[u] >= t && 0 >= --w)return !0;}}return !1;};Sa.Object.defineProperties(c.prototype,{E3:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.RAa=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(131);c=a(18);l=a(8);g=a(1404);(0,r.bP)(function(h,d){if(c.config.BMb)return new g.TDa(h,d,l.tf,c.config,l.ta,l.oc);});},function(r,b,a){var l,g,h;function c(d,f,n,k,m,p){var q;q=this;this.j=d;this.Ba=f;this.la=n;this.config=k;this.ta=m;this.oc=p;this.yqb=function(v){!0 === v.oldValue && !1 === v.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.XXb());};this.a3b=function(v){var t,w,u;q.log.trace("UhdKeyStatus: " + v.oldValue + " -> " + v.newValue);w=null === v || void 0 === v?void 0:v.newValue;u=null === v || void 0 === v?void 0:v.oldValue;"usable" !== w && (q.rZb(w,(null === (t=null === v || void 0 === v?void 0:v.Eh) || void 0 === t?void 0:t.height) || 0),"usable" === u && (v=q.ta.se.wa(q.DMb),q.log.error("UHD KeyStatus unexpectedly changed: " + v.ca(h.na))));};this.y0a=!1;this.log=this.la.Sa("KeyStatusStreamFilter",this.j);this.CPa=new g.Fb(!1,this.yqb);this.$2b=new g.Fb(void 0,this.a3b);}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;l=a(217);g=a(70);h=a(3);c.prototype.Qy=function(d){return d.ai && (this.Z0b(),this.CPa.set(this.y0a && this.yJb),d.lower && 1080 < d.height && !this.CPa.value)?!0:!1;};c.prototype.evb=function(){this.yJb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.GZa);};c.prototype.K3a=function(d){var f;f=this;Object.entries(d).forEach(function(n){var k,m,p;k=ma(n);n=k.next().value;k=k.next().value;n=null !== (p=null === (m=f.CMb) || void 0 === m?void 0:m[n]) && void 0 !== p?p:0;1080 < n && (f.y0a="usable" === k,f.$2b.set(k,{height:n}));});};c.prototype.Z0b=function(){var d,f,n;d=this;n=this.Ba.Zd;!this.eMb && (0,l.$na)(n) && (this.eMb=!0,this.CMb=null === (f=null === n || void 0 === n?void 0:n.context) || void 0 === f?void 0:f.M5,this.K3a(n.keyStatuses.value),n.keyStatuses.addListener(function(k){return d.K3a(k.newValue);}),this.oc.Cj((0,h.Jb)(this.config.GZa),function(){return d.evb();}),this.DMb=this.ta.se);};c.prototype.rZb=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.Ba.Yo.set({reason:"keyStatus",height:f});};Sa.Object.defineProperties(c.prototype,{E3:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.TDa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(131);c=a(18);l=a(8);(0,r.bP)(function(g,h){var d,f,n,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.b3b);f=d[h.od];if(c.config.c3b && f){n={};k=(0,l.Gh)(g,"MediaStreamFilter");return {E3:"uiLabel",Qy:function(m){if(m.lower && m.height > f)return (n[m.height] || (n[m.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:m.height}),h.Yo.set({reason:"uiLabel",height:m.height})),!0);}};}});},function(r,b,a){var c,l,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(18);l=a(16);r=a(2);g=a(8);h=a(167);a=a(32);g.Aa.get(a.Oh).register(r.V.dDa,function(d){c.config.X3 && g.Aa.get(h.UBa).start();d(l.eg);});},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(197);l=a(132);g=a(16);h=a(18);r=a(2);d=a(8);f=a(20);n=a(22);k=a(14);m=a(48);p=a(85);a=a(32);d.Aa.get(a.Oh).register(r.V.lDa,function(q){var v,t;v=(0,d.Ki)("NccpApi");t=(0,n.aQa)(["info","warn","trace","error"]);l.uD.uJ.nccp={getEsn:function(){return c.Ak.Wj;},getPreferredLanguages:function(){return h.config.gp.hsa;},setPreferredLanguages:function(w){(0,f.ma)((0,k.isArray)(w) && (0,k.qL)(w[0]));h.config.gp.hsa=w;},queueLogblob:function(w,u,y){var x;if(w && u)if((u=u.toLowerCase(),t[u])){x=d.Aa.get(m.dm);w=d.Aa.get(p.rw).ss(w,u,y);x.mc(w);}else v.warn("Invalid severity",{severity:u});},flushLogblobs:function(){d.Aa.get(m.dm).flush(!0);}};q(g.eg);});},function(r,b,a){var c,l,g,h,d,f,n,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(32);b=a(2);c=a(6);l=a(43);g=a(283);h=a(16);d=a(18);f=a(8);n=a(64);k=a(132);m=a(558);p=a(116);f.Aa.get(r.Oh).register(b.V.nDa,function(q){var w,u,y;function v(x,z){return void 0 === x || void 0 === z?Promise.reject("Invalid email and/or password"):f.Aa.get(m.eHa).sf(this.log,{},{email:x,password:z}).then(function(){});}function t(x){var z;z=f.Aa.get(p.tD);return z.NVa.fetch(x,z);}if(d.config.HCb){w=f.Aa.get(g.Nca);u=f.Aa.get(l.hn);y=f.Aa.get(c.Va).Sa("Test");k.uD.uJ.test={setPboRequestsListener:function(x){return w.IZb(x);},playbacks:n.jn,getPlayback:function(x){return n.jn.find(function(z){return z.ja === x;});},playgraphManager:{isNextSegmentReady:function(x){var z,A;return void 0 !== (null === (A=null === (z=n.jn.find(function(B){return B.ja === x;})) || void 0 === z?void 0:z.ab) || void 0 === A?void 0:{vR:0});},isNextSegmentBuffering:function(x,z){var A,B;return null === (B=null === (A=n.jn.find(function(C){return C.ja === x;})) || void 0 === A?void 0:A.ab) || void 0 === B?void 0:B.eT(z).xR;}},device:{esn:mb._cad_global.device.Wj,esnPrefix:u.Hn,errorPrefix:u.tq},log:{info:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.info(x,A);},error:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.error(x,A);},warn:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.warn(x,A);},trace:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.trace(x,A);},log:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.log(x,A);},debug:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.debug(x,A);}},login:v,getManifest:t};}q(h.eg);});},function(r,b,a){var c,l,g,h,d,f,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(1410);c=a(18);l=a(64);b=a(6);g=a(8);h=a(48);d=a(111);f=a(20);n=a(14);mb.netflix=mb.netflix || ({});(0,f.ma)(!mb.netflix.player);mb.netflix.player={VideoSession:r.aMa,diag:{togglePanel:function(k,m){var p;p=[];if(!c.config || c.config.ZV){switch(k){case "info":p=l.jn.map(function(q){return q.O7;});break;case "streams":p=l.jn.map(function(q){return q.R7;});break;case "log":p=[];}p.forEach(function(q){(0,n.Nc)(m)?m?q.show():q.hv():q.toggle();});}},addLogMessageSink:function(k){g.Aa.get(h.dm).addListener({dfc:function(){},tPb:function(m){k({data:m.data});}});}},log:(0,g.Ki)("Ext"),LogLevel:b.Wi,addLogSink:function(k,m){g.Aa.get(d.dI).u8(k,m);},getVersion:function(){return "6.0039.950.911";},getMostRecentPlaybackDiagnosticGroups:function(){var k;return null === (k=l.Az.w3a) || void 0 === k?void 0:k.hUa.aT();}};},function(r,b,a){var l,g,h,d,f,n;function c(k){var m;m=h.uD.call(this,k) || this;m.createPlayer=function(p,q){var v,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Hj:q}:q;v=l.Aa.get(g.oI);t=l.Aa.get(f.fI).create(q.manifest);w=l.Aa.get(d.hda);p=v.byb(p);v=l.Aa.get(n.fda).create(p);p=v.Gla();w=w.fTa(v);w.addEpisode({movieId:p.K,playbackParams:m.pQa(q,p),manifest:t});return w;};return m;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;l=a(8);g=a(117);h=a(132);d=a(294);f=a(129);n=a(293);ha(c,h.uD);b.aMa=c;},function(r,b,a){var c,l,g,h,d,f,n,k,m,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(132);l=a(197);g=a(16);h=a(42);r=a(2);d=a(8);f=a(164);n=a(20);k=a(14);m=a(12);b=a(32);p=a(61);q=a(78);v=a(157);t=a(162);d.Aa.get(b.Oh).register(r.V.mDa,function(w){var B;function u(){return l.Ak.Wj;}function y(C){var D;D=d.Aa.get(q.qI);d.Aa.get(v.gP)().then(function(E){var G,F;G=E.RU.getStateForMdx(D);F=G.cryptoContext;E=G.masterToken;G=G.userIdToken;E && G?((0,n.ma)(F),E=["1",(0,d.hx)(JSON.stringify(E.toJSON())),(0,d.hx)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(H,K){H=(0,k.rg)(H)?(0,d.LN)(H):H;F.encrypt(H,{result:function(O){O=(0,d.hx)(O);K({success:!0,mslEncryptionEnvelopeBase64:O});},timeout:function(){K({success:!1});},error:function(O){(0,n.ma)(!1,"Encrypt error: " + O);K({success:!1});}});},decrypt:function(H,K){H=(0,d.kq)(H);F.decrypt(H,{result:function(O){K({success:!0,text:(0,d.xX)(O)});},timeout:function(){K({success:!1});},error:function(O){(0,n.ma)(!1,"Decrypt error: " + O);K({success:!1});}});},hmac:function(H,K){H=(0,k.rg)(H)?(0,d.LN)(H):H;F.sign(H,{result:function(O){K({success:!0,hmacBase64:(0,d.hx)(O)});},timeout:function(){K({success:!1});},error:function(O){(0,n.ma)(!1,"Hmac error: " + O);K({success:!1});}});}}})):((0,n.ma)(!1,"Must login first"),C({success:!1}));});}function x(C,D){var E;E=(0,d.kq)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,h.jG)(m.fp.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,h.jG)(m.fp.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function E(G){G=new f.wO((0,d.kq)(G));G.Ey();return {iv:G.N6a(),WBb:G.N6a()};}return {encrypt:function(G,F){var H;G=(0,k.rg)(G)?(0,d.LN)(G):G;H=m.yz.getRandomValues(new Uint8Array(16));(0,h.jG)(m.fp.encrypt({name:"AES-CBC",iv:H},C,G)).then(function(K){var O,I;K=new Uint8Array(K);O=[];I=new f.wO(O);I.E$(2);I.Rcb(H);I.Rcb(K);K=(0,d.hx)(O);F({success:!0,encryptedDataAsn1Base64:K});},function(K){(0,n.ma)(!1,"Encrypt error: " + K);F({success:!1});});},decrypt:function(G,F){var H;H=E(G);G=H.iv;H=H.WBb;(0,h.jG)(m.fp.decrypt({name:"AES-CBC",iv:G},C,H)).then(function(K){K=new Uint8Array(K);F({success:!0,text:(0,d.xX)(K)});},function(K){(0,n.ma)(!1,"Decrypt error: " + K);F({success:!1});});},hmac:function(G,F){G=(0,k.rg)(G)?(0,d.LN)(G):G;(0,h.jG)(m.fp.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(H){H=new Uint8Array(H);F({success:!0,hmacBase64:(0,d.hx)(H)});},function(H){(0,n.ma)(!1,"Hmac error: " + H);F({success:!1});});}};}function A(){return (0,p.m2)();}B=d.Aa.get(t.LC);if(B.W_a || B.Zx)c.uD.uJ.mdx={getEsn:u,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};w(g.eg);});},function(r,b,a){var c,l,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(18);l=a(16);r=a(2);g=a(8);b=a(32);h=a(116);g.Aa.get(b.Oh).register(r.V.iDa,function(f){var n,k,m;if(c.config.ar){n=(0,g.Ki)("PlayerPredictionModel");k=g.Aa.get(h.tD);m=a(1413);n.log=n.trace.bind(n);d=new m({},n,{bW:function(){},oXb:function(){}},k,{vG:function(){}});mb._cad_global.playerPredictionModel=d;n.info("ppm v2 initialized");}f(l.eg);});},function(r,b,a){var h,d,f,n,k,m,p;function c(q,v,t,w,u,y){this.O=this.K=q;this.priority=v;this.hf=t;y && y.od && (this.od=y.od);void 0 !== w && (this.kM=w);this.Ck=u;this.qb=y;}function l(q,v,t,w,u){f(void 0 !== w,"video preparer is null");f(void 0 !== u,"ui preparer is null");this.S=v || console;this.S=v;this.ya=t;this.Sob=w;this.Iob=u;this.UNa=m.fsa;this.jJ=[];this.Ufa=!1;this.VP=0;new p().on(m,"changed",g,this);this.reset();}function g(){this.S.log("config changed");m.fsa && (this.UNa=m.fsa);m.QU !== this.XI && (this.reset(),this.jta());}h=a(296);d=a(297);b=a(569);f=b.assert;n=b.YVa;k=a(1414);m=a(570).config;p=a(1415).Af;m.declare({fsa:["ppmConfig",{C6b:{l4a:0,k4a:2,i4a:0,j4a:5,E9a:0},l$b:{l4a:0,k4a:1,i4a:0,j4a:3,E9a:1E3},O6b:{l4a:0,k4a:1,i4a:0,j4a:3,E9a:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.Nea=!0;this.XI=m.QU;this.S.log("create model: " + m.QU,m.l8a,m.cSa);switch(m.QU){case "modelone":this.XI=new k(this.S);break;default:this.XI=new k(this.S);}};l.prototype.jta=function(){var v,t;if(!1 === this.Ufa){this.Ufa=!0;for(var q=0;q < this.jJ.length;q++){this.S.log("PlayPredictionModel replay: ",JSON.stringify(this.jJ[q]));v=this.LSa(this.jJ[q]);t=this.JWa(v);this.XI.update(v,t);this.Nea=!1;}this.jJ=[];}};l.prototype.update=function(q){var v,t,w;this.S.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Eb && q.Eb[0]){!1 === this.Ufa && this.jJ.length < m.ROb && this.jJ.push(q);v=this.LSa(q);t=this.JWa(v);this.S.log("actionType",t);v="mlmodel" == m.QU?this.XI.update(q,t):this.XI.update(v,t);v=this.PEb(v,m.rMb || 1);this.S.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.VP && (this.VP=h(),this.ya && this.ya.bW && this.ya.bW({Wzb:this.VP}));if(this.ya && this.ya.oXb){this.NFb();w=[];v.forEach(function(u){w.push({Ffc:u.K});});JSON.stringify(q);JSON.stringify(v);}this.Sob.vG(v);this.Iob.vG(v);this.Nea=!1;}};l.prototype.NFb=function(){h();};l.prototype.bW=function(){this.VP=h();this.ya && this.ya.bW && this.ya.bW({Wzb:this.VP});};l.prototype.LSa=function(q){var v,t,w,u,y;v={};w=q.Eb || [];u=(function(x){var z,A;z={};y=d.OO.name.indexOf(x.context);z.context=0 <= y?y:d.OO.Bw;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={K:B.K,hf:B.hf,index:B.index,kM:B.kM,b8:B.b8,list:B.list,qb:B.qb};void 0 !== B.property && (y=d.aI.name.indexOf(B.property),A.property=0 <= y?y:d.aI.Bw);z.list.push(A);}).bind(this));v.Eb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.Ut.name.indexOf(q.direction);v.direction=0 <= y?y:d.Ut.Bw;}void 0 !== q.JS && (v.dcc=q.JS.rowIndex,v.ccc=q.JS.Yub);v.JS=q.JS;v.Eb=[];w.forEach(u);return v;};l.prototype.JWa=function(q){var v,t,w;v=q.direction || d.Ut.Bw;t=q.JS;w=q.Eb || [];!0 === this.Nea?q=d.cw.JBa:!0 === w.some(this.vJb)?(q=d.cw.kP,this.B8(w,v,t)):q=w[0].context === d.OO.u_?d.cw.u_:v === d.Ut.yJa || v === d.Ut.XDa?d.cw.SJa:d.cw.Bw;return q;};l.prototype.vJb=function(q){return (q.list || []).some(function(v){return v.property === d.aI.kP || v.property === d.aI.aAa;});};l.prototype.B8=function(q,v,t){var w,u;this.S.log("reportPlayFocusEvent: ",v,t);w={};u=n(q);this.ya && this.ya.B8 && (w.Tbc=h(),w.direction=d.Ut.name[v],t && (w.rowIndex=t.rowIndex,w.dSa=t.Yub),void 0 !== u.yj && (w.requestId=q[u.yj].requestId),this.ya.B8 && this.ya.B8(w));};l.prototype.PEb=function(q,v){for(var t=q.length,w=[],u,y,x,z,A=0;A < t;A++){y=q[A];u=Math.floor(A / v) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(m.Uub,z) && !(x[B].Ck=y.Ck,this.hPa(x[B],u,w),w.length >= m.C2a);B++){;}}else this.hPa(y,u,w);if(w.length >= m.C2a)break;}return w;};l.prototype.hPa=function(q,v,t){var u,y;function w(x){x.od && (x.qb || (x.qb={}),x.qb.od=x.od);return x.qb;}u=q.b8;if(void 0 !== u && u instanceof Array)u.forEach(function(x){void 0 !== x.K && (y=w(x),t.push(new c(x.K,v,x.hf,x.kM,q.Ck,y)));});else if(void 0 !== u && void 0 !== u.K){u=q.b8;y=w(u);t.push(new c(u.K,v,u.hf,u.kM,q.Ck,y));}void 0 !== q.K && (y=w(q),t.push(new c(q.K,v,q.hf,q.kM,q.Ck,y)));};l.prototype.jF=function(q){var v;v=this.UNa;return q?v[q]:v;};r.exports=l;},function(r,b,a){var g,h,d,f,n,k,m,p,q,v;function c(t,w){this.yj=t;this.wl=w;}function l(t){this.S=t;this.reset();}g=a(296);h=a(297);b=a(569);d=a(570).config;f=b.EFb;n=b.oFb;k=b.Yzb;m=b.lRb;p=b.kRb;q=b.jRb;v=b.YVa;l.prototype.constructor=l;l.prototype.reset=function(){this.VNa=void 0;this.Pj=[];this.MNa=this.NNa=!1;};l.prototype.update=function(t,w){var u;this.Pj && (this.Pj=this.Pj.filter(this.A_b,this));if(!1 === this.NNa){u=f(t.Eb).slice(0,d.ATa);0 < u.length && (this.cG(u,h.fw.sk),this.NNa=!0,this.Pj=this.zH(u.concat(this.Pj)));}!1 === this.MNa && (u=n(t.Eb).slice(0,d.ATa),0 < u.length && (this.cG(u,h.fw.sk),this.MNa=!0,this.Pj=this.zH(u.concat(this.Pj))));switch(w){case h.cw.JBa:w=this.VIb(t);break;case h.cw.SJa:w=this.dJb(t);break;case h.cw.u_:w=this.eJb(t);break;case h.cw.kP:w=this.$Ib(t);break;default:w=this.SIb(t);}this.VNa=t;return w;};l.prototype.VIb=function(t){t=m(t.Eb,d.l8a,d.cSa);this.cG(t,h.fw.sk);return this.Pj=this.zH(this.Pj.concat(t));};l.prototype.dJb=function(t){var w,u;this.S.log("handleScrollHorizontal");w=t.Eb;t=m(w,d.m8a,d.eSa);u=k(w,this.VNa.Eb);w=w[u].list.slice(0,d.iYb);w.concat(t);this.cG(w,h.fw.Pda);return this.zH(w.concat(this.Pj));};l.prototype.cG=function(t,w){t.forEach(function(u){if(void 0 === u.sA || u.sA < w)u.sA=w;void 0 === u.tN && (u.tN=g());void 0 === u.Ck && (u.Ck=g());});};l.prototype.eJb=function(t){this.S.log("handleSearch");t=p(t.Eb,d.FYb);this.cG(t,h.fw.TJa);this.Pj=t.concat(this.Pj);return this.Pj=this.zH(this.Pj);};l.prototype.$Ib=function(t){var w,u,y,x,z;this.S.log("handlePlayFocus: ",d.AT);w=t.direction;u=t.Eb;t=[];y=v(u);if(void 0 !== y.yj)switch((t.push(y),w)){case h.Ut.yJa:for(w=1;w < d.AT;w++){t.push(new c(y.yj,y.wl + w));}t.push(new c(y.yj - 1,y.wl));t.push(new c(y.yj + 1,y.wl));break;case h.Ut.XDa:for(w=1;w < d.AT;w++){t.push(new c(y.yj,y.wl - w));}t.push(new c(y.yj - 1,y.wl));t.push(new c(y.yj + 1,y.wl));break;case h.Ut.Okb:t.push(new c(y.yj - 1,y.wl));for(w=1;w <= d.AT / 2;w++){t.push(new c(y.yj,y.wl + w));t.push(new c(y.yj,y.wl - w));}break;case h.Ut.Jfb:for((t.push(new c(y.yj + 1,y.wl)),w=1);w <= d.AT / 2;w++){t.push(new c(y.yj,y.wl + w));t.push(new c(y.yj,y.wl - w));}}x=[];t.forEach(function(A){z=q(u,A.yj,A.wl);void 0 !== z && x.push(z);});this.cG(x,h.fw.Pda);return this.zH(x.concat(this.Pj));};l.prototype.SIb=function(t){this.S.log("ModelOne: handleDefaultCase");t=m(t.Eb,d.m8a,d.eSa);this.cG(t,h.fw.Pda);return this.zH(t.concat(this.Pj));};l.prototype.A_b=function(t){return t.sA == h.fw.sk | t.sA == h.fw.TJa & g() - t.tN < d.KJb;};l.prototype.zH=function(t){var w,u,y,x,z,A,B;w=[];u={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].K;B=t[y];!1 === (A in u)?(w.push(B),u[A]=x,x++):(A=w[u[A]],B.Ck < A.Ck && (A.Ck=B.Ck),B.sA > A.sA && (A.sA=B.sA),B.tN > A.tN && (A.tN=B.tN));}return w;};r.exports=l;},function(r,b,a){r.exports={EventEmitter:a(1416),Af:a(1417)};},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.jg)return (this.jg={},this.jg[c]=[l],!0);g=this.jg[c];return void 0 === g?(this.jg[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.jg?this.jg[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.jg)return !1;g=this.jg[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.jg[c],!0);g.splice(l,1);return !0;},$o:a,emit:a,removeAllListeners:function(c){this.jg && (void 0 === c?delete this.jg:delete this.jg[c]);return this;}};},function(r){function b(c,l,g,h){c.trace(":",g,":",h);l(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,h){g=h?g.bind(h):g;h=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)h=c.addEventListener(l,g);else if("function" === typeof c.addListener)h=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,h;g=l[0];h=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(h,l):"function" === typeof g.removeListener && g.removeListener(h,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(mb);})(window);}).call(window);